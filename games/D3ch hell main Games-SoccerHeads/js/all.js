this.createjs=this.createjs||{},function(){var e=createjs.SoundJS=createjs.SoundJS||{};e.version="0.6.0",e.buildDate="Thu, 11 Dec 2014 23:32:09 GMT"}(),this.createjs=this.createjs||{},createjs.extend=function(e,t){"use strict";function s(){this.constructor=e}return s.prototype=t.prototype,e.prototype=new s},this.createjs=this.createjs||{},createjs.promote=function(e,t){"use strict";var s=e.prototype,i=Object.getPrototypeOf&&Object.getPrototypeOf(s)||s.__proto__;if(i){s[(t+="_")+"constructor"]=i.constructor;for(var n in i)s.hasOwnProperty(n)&&"function"==typeof i[n]&&(s[t+n]=i[n])}return e},this.createjs=this.createjs||{},createjs.indexOf=function(e,t){"use strict";for(var s=0,i=e.length;i>s;s++)if(t===e[s])return s;return-1},this.createjs=this.createjs||{},function(){"use strict";createjs.proxy=function(e,t){var s=Array.prototype.slice.call(arguments,2);return function(){return e.apply(t,Array.prototype.slice.call(arguments,0).concat(s))}}}(),this.createjs=this.createjs||{},function(){"use strict";var e=!!Object.defineProperty,t={};try{Object.defineProperty(t,"bar",{get:function(){return this._bar},set:function(e){this._bar=e}})}catch(s){e=!1}createjs.definePropertySupported=e}(),this.createjs=this.createjs||{},function(){"use strict";function e(){throw"BrowserDetect cannot be instantiated"}var t=e.agent=window.navigator.userAgent;e.isWindowPhone=t.indexOf("IEMobile")>-1||t.indexOf("Windows Phone")>-1,e.isFirefox=t.indexOf("Firefox")>-1,e.isOpera=null!=window.opera,e.isChrome=t.indexOf("Chrome")>-1,e.isIOS=(t.indexOf("iPod")>-1||t.indexOf("iPhone")>-1||t.indexOf("iPad")>-1)&&!e.isWindowPhone,e.isAndroid=t.indexOf("Android")>-1&&!e.isWindowPhone,e.isBlackberry=t.indexOf("Blackberry")>-1,createjs.BrowserDetect=e}(),this.createjs=this.createjs||{},function(){"use strict";function e(){this._listeners=null,this._captureListeners=null}var t=e.prototype;e.initialize=function(e){e.addEventListener=t.addEventListener,e.on=t.on,e.removeEventListener=e.off=t.removeEventListener,e.removeAllEventListeners=t.removeAllEventListeners,e.hasEventListener=t.hasEventListener,e.dispatchEvent=t.dispatchEvent,e._dispatchEvent=t._dispatchEvent,e.willTrigger=t.willTrigger},t.addEventListener=function(e,t,s){var i;i=s?this._captureListeners=this._captureListeners||{}:this._listeners=this._listeners||{};var n=i[e];return n&&this.removeEventListener(e,t,s),n=i[e],n?n.push(t):i[e]=[t],t},t.on=function(e,t,s,i,n,r){return t.handleEvent&&(s=s||t,t=t.handleEvent),s=s||this,this.addEventListener(e,function(e){t.call(s,e,n),i&&e.remove()},r)},t.removeEventListener=function(e,t,s){var i=s?this._captureListeners:this._listeners;if(i){var n=i[e];if(n)for(var r=0,a=n.length;a>r;r++)if(n[r]==t){1==a?delete i[e]:n.splice(r,1);break}}},t.off=t.removeEventListener,t.removeAllEventListeners=function(e){e?(this._listeners&&delete this._listeners[e],this._captureListeners&&delete this._captureListeners[e]):this._listeners=this._captureListeners=null},t.dispatchEvent=function(e){if("string"==typeof e){var t=this._listeners;if(!t||!t[e])return!1;e=new createjs.Event(e)}else e.target&&e.clone&&(e=e.clone());try{e.target=this}catch(s){}if(e.bubbles&&this.parent){for(var i=this,n=[i];i.parent;)n.push(i=i.parent);var r,a=n.length;for(r=a-1;r>=0&&!e.propagationStopped;r--)n[r]._dispatchEvent(e,1+(0==r));for(r=1;a>r&&!e.propagationStopped;r++)n[r]._dispatchEvent(e,3)}else this._dispatchEvent(e,2);return e.defaultPrevented},t.hasEventListener=function(e){var t=this._listeners,s=this._captureListeners;return!!(t&&t[e]||s&&s[e])},t.willTrigger=function(e){for(var t=this;t;){if(t.hasEventListener(e))return!0;t=t.parent}return!1},t.toString=function(){return"[EventDispatcher]"},t._dispatchEvent=function(e,t){var s,i=1==t?this._captureListeners:this._listeners;if(e&&i){var n=i[e.type];if(!n||!(s=n.length))return;try{e.currentTarget=this}catch(r){}try{e.eventPhase=t}catch(r){}e.removed=!1,n=n.slice();for(var a=0;s>a&&!e.immediatePropagationStopped;a++){var o=n[a];o.handleEvent?o.handleEvent(e):o(e),e.removed&&(this.off(e.type,o,1==t),e.removed=!1)}}},createjs.EventDispatcher=e}(),this.createjs=this.createjs||{},function(){"use strict";function e(e,t,s){this.type=e,this.target=null,this.currentTarget=null,this.eventPhase=0,this.bubbles=!!t,this.cancelable=!!s,this.timeStamp=(new Date).getTime(),this.defaultPrevented=!1,this.propagationStopped=!1,this.immediatePropagationStopped=!1,this.removed=!1}var t=e.prototype;t.preventDefault=function(){this.defaultPrevented=this.cancelable&&!0},t.stopPropagation=function(){this.propagationStopped=!0},t.stopImmediatePropagation=function(){this.immediatePropagationStopped=this.propagationStopped=!0},t.remove=function(){this.removed=!0},t.clone=function(){return new e(this.type,this.bubbles,this.cancelable)},t.set=function(e){for(var t in e)this[t]=e[t];return this},t.toString=function(){return"[Event (type="+this.type+")]"},createjs.Event=e}(),this.createjs=this.createjs||{},function(){"use strict";function e(e,t,s){this.Event_constructor("error"),this.title=e,this.message=t,this.data=s}var t=createjs.extend(e,createjs.Event);t.clone=function(){return new createjs.ErrorEvent(this.title,this.message,this.data)},createjs.ErrorEvent=createjs.promote(e,"Event")}(),this.createjs=this.createjs||{},function(){"use strict";function e(e,t){this.Event_constructor("progress"),this.loaded=e,this.total=null==t?1:t,this.progress=0==t?0:this.loaded/this.total}var t=createjs.extend(e,createjs.Event);t.clone=function(){return new createjs.ProgressEvent(this.loaded,this.total)},createjs.ProgressEvent=createjs.promote(e,"Event")}(window),this.createjs=this.createjs||{},function(){"use strict";function e(){this.src=null,this.type=null,this.id=null,this.maintainOrder=!1,this.callback=null,this.data=null,this.method=createjs.LoadItem.GET,this.values=null,this.headers=null,this.withCredentials=!1,this.mimeType=null,this.crossOrigin="Anonymous",this.loadTimeout=8e3}var t=e.prototype={},s=e;s.create=function(t){if("string"==typeof t){var i=new e;return i.src=t,i}if(t instanceof s)return t;if(t instanceof Object)return t;throw new Error("Type not recognized.")},t.set=function(e){for(var t in e)this[t]=e[t];return this},createjs.LoadItem=s}(),function(){var e={};e.ABSOLUTE_PATT=/^(?:\w+:)?\/{2}/i,e.RELATIVE_PATT=/^[.\/]*?\//i,e.EXTENSION_PATT=/\/?[^\/]+\.(\w{1,5})$/i,e.parseURI=function(t){var s={absolute:!1,relative:!1};if(null==t)return s;var i=t.indexOf("?");i>-1&&(t=t.substr(0,i));var n;return e.ABSOLUTE_PATT.test(t)?s.absolute=!0:e.RELATIVE_PATT.test(t)&&(s.relative=!0),(n=t.match(e.EXTENSION_PATT))&&(s.extension=n[1].toLowerCase()),s},e.formatQueryString=function(e,t){if(null==e)throw new Error("You must specify data.");var s=[];for(var i in e)s.push(i+"="+escape(e[i]));return t&&(s=s.concat(t)),s.join("&")},e.buildPath=function(e,t){if(null==t)return e;var s=[],i=e.indexOf("?");if(-1!=i){var n=e.slice(i+1);s=s.concat(n.split("&"))}return-1!=i?e.slice(0,i)+"?"+this._formatQueryString(t,s):e+"?"+this._formatQueryString(t,s)},e.isCrossDomain=function(e){var t=document.createElement("a");t.href=e.src;var s=document.createElement("a");s.href=location.href;var i=""!=t.hostname&&(t.port!=s.port||t.protocol!=s.protocol||t.hostname!=s.hostname);return i},e.isLocal=function(e){var t=document.createElement("a");return t.href=e.src,""==t.hostname&&"file:"==t.protocol},e.isBinary=function(e){switch(e){case createjs.AbstractLoader.IMAGE:case createjs.AbstractLoader.BINARY:return!0;default:return!1}},e.isImageTag=function(e){return e instanceof HTMLImageElement},e.isAudioTag=function(e){return!!window.HTMLAudioElement&&e instanceof HTMLAudioElement},e.isVideoTag=function(e){return window.HTMLVideoElement?e instanceof HTMLVideoElement:void 0},e.isText=function(e){switch(e){case createjs.AbstractLoader.TEXT:case createjs.AbstractLoader.JSON:case createjs.AbstractLoader.MANIFEST:case createjs.AbstractLoader.XML:case createjs.AbstractLoader.CSS:case createjs.AbstractLoader.SVG:case createjs.AbstractLoader.JAVASCRIPT:return!0;default:return!1}},e.getTypeByExtension=function(e){if(null==e)return createjs.AbstractLoader.TEXT;switch(e.toLowerCase()){case"jpeg":case"jpg":case"gif":case"png":case"webp":case"bmp":return createjs.AbstractLoader.IMAGE;case"ogg":case"mp3":case"webm":return createjs.AbstractLoader.SOUND;case"mp4":case"webm":case"ts":return createjs.AbstractLoader.VIDEO;case"json":return createjs.AbstractLoader.JSON;case"xml":return createjs.AbstractLoader.XML;case"css":return createjs.AbstractLoader.CSS;case"js":return createjs.AbstractLoader.JAVASCRIPT;case"svg":return createjs.AbstractLoader.SVG;default:return createjs.AbstractLoader.TEXT}},createjs.RequestUtils=e}(),this.createjs=this.createjs||{},function(){"use strict";function e(e,t,s){this.EventDispatcher_constructor(),this.loaded=!1,this.canceled=!1,this.progress=0,this.type=s,this.resultFormatter=null,this._item=e?createjs.LoadItem.create(e):null,this._preferXHR=t,this._result=null,this._rawResult=null,this._loadedItems=null,this._tagSrcAttribute=null,this._tag=null}var t=createjs.extend(e,createjs.EventDispatcher),s=e;s.POST="POST",s.GET="GET",s.BINARY="binary",s.CSS="css",s.IMAGE="image",s.JAVASCRIPT="javascript",s.JSON="json",s.JSONP="jsonp",s.MANIFEST="manifest",s.SOUND="sound",s.VIDEO="video",s.SPRITESHEET="spritesheet",s.SVG="svg",s.TEXT="text",s.XML="xml",t.getItem=function(){return this._item},t.getResult=function(e){return e?this._rawResult:this._result},t.getTag=function(){return this._tag},t.setTag=function(e){this._tag=e},t.load=function(){this._createRequest(),this._request.on("complete",this,this),this._request.on("progress",this,this),this._request.on("loadStart",this,this),this._request.on("abort",this,this),this._request.on("timeout",this,this),this._request.on("error",this,this);var e=new createjs.Event("initialize");e.loader=this._request,this.dispatchEvent(e),this._request.load()},t.cancel=function(){this.canceled=!0,this.destroy()},t.destroy=function(){this._request&&(this._request.removeAllEventListeners(),this._request.destroy()),this._request=null,this._item=null,this._rawResult=null,this._result=null,this._loadItems=null,this.removeAllEventListeners()},t.getLoadedItems=function(){return this._loadedItems},t._createRequest=function(){this._request=this._preferXHR?new createjs.XHRRequest(this._item):new createjs.TagRequest(this._item,this._tag||this._createTag(),this._tagSrcAttribute)},t._createTag=function(){return null},t._sendLoadStart=function(){this._isCanceled()||this.dispatchEvent("loadstart")},t._sendProgress=function(e){if(!this._isCanceled()){var t=null;"number"==typeof e?(this.progress=e,t=new createjs.ProgressEvent(this.progress)):(t=e,this.progress=e.loaded/e.total,t.progress=this.progress,(isNaN(this.progress)||1/0==this.progress)&&(this.progress=0)),this.hasEventListener("progress")&&this.dispatchEvent(t)}},t._sendComplete=function(){if(!this._isCanceled()){this.loaded=!0;var e=new createjs.Event("complete");e.rawResult=this._rawResult,null!=this._result&&(e.result=this._result),this.dispatchEvent(e)}},t._sendError=function(e){!this._isCanceled()&&this.hasEventListener("error")&&(null==e&&(e=new createjs.ErrorEvent("PRELOAD_ERROR_EMPTY")),this.dispatchEvent(e))},t._isCanceled=function(){return!(null!=window.createjs&&!this.canceled)},t.resultFormatter=null,t.handleEvent=function(e){switch(e.type){case"complete":this._rawResult=e.target._response;var t=this.resultFormatter&&this.resultFormatter(this),s=this;t instanceof Function?t(function(e){s._result=e,s._sendComplete()}):(this._result=t||this._rawResult,this._sendComplete());break;case"progress":this._sendProgress(e);break;case"error":this._sendError(e);break;case"loadstart":this._sendLoadStart();break;case"abort":case"timeout":this._isCanceled()||this.dispatchEvent(e.type)}},t.buildPath=function(e,t){return createjs.RequestUtils.buildPath(e,t)},t.toString=function(){return"[PreloadJS AbstractLoader]"},createjs.AbstractLoader=createjs.promote(e,"EventDispatcher")}(),this.createjs=this.createjs||{},function(){"use strict";function e(e,t,s){this.AbstractLoader_constructor(e,t,s),this.resultFormatter=this._formatResult,this._tagSrcAttribute="src"}var t=createjs.extend(e,createjs.AbstractLoader);t.load=function(){this._tag||(this._tag=this._createTag(this._item.src)),this._tag.preload="auto",this._tag.load(),this.AbstractLoader_load()},t._createTag=function(){},t._createRequest=function(){this._request=this._preferXHR?new createjs.XHRRequest(this._item):new createjs.MediaTagRequest(this._item,this._tag||this._createTag(),this._tagSrcAttribute)},t._formatResult=function(e){return this._tag.removeEventListener&&this._tag.removeEventListener("canplaythrough",this._loadedHandler),this._tag.onstalled=null,this._preferXHR&&(e.getTag().src=e.getResult(!0)),e.getTag()},createjs.AbstractMediaLoader=createjs.promote(e,"AbstractLoader")}(),this.createjs=this.createjs||{},function(){"use strict";var e=function(e){this._item=e},t=createjs.extend(e,createjs.EventDispatcher);t.load=function(){},t.destroy=function(){},t.cancel=function(){},createjs.AbstractRequest=createjs.promote(e,"EventDispatcher")}(),this.createjs=this.createjs||{},function(){"use strict";function e(e,t,s){this.AbstractRequest_constructor(e),this._tag=t,this._tagSrcAttribute=s,this._loadedHandler=createjs.proxy(this._handleTagComplete,this),this._addedToDOM=!1,this._startTagVisibility=null}var t=createjs.extend(e,createjs.AbstractRequest);t.load=function(){null==this._tag.parentNode&&(window.document.body.appendChild(this._tag),this._addedToDOM=!0),this._tag.onload=createjs.proxy(this._handleTagComplete,this),this._tag.onreadystatechange=createjs.proxy(this._handleReadyStateChange,this);var e=new createjs.Event("initialize");e.loader=this._tag,this.dispatchEvent(e),this._hideTag(),this._tag[this._tagSrcAttribute]=this._item.src},t.destroy=function(){this._clean(),this._tag=null,this.AbstractRequest_destroy()},t._handleReadyStateChange=function(){clearTimeout(this._loadTimeout);var e=this._tag;("loaded"==e.readyState||"complete"==e.readyState)&&this._handleTagComplete()},t._handleTagComplete=function(){this._rawResult=this._tag,this._result=this.resultFormatter&&this.resultFormatter(this)||this._rawResult,this._clean(),this._showTag(),this.dispatchEvent("complete")},t._clean=function(){this._tag.onload=null,this._tag.onreadystatechange=null,this._addedToDOM&&null!=this._tag.parentNode&&this._tag.parentNode.removeChild(this._tag)},t._hideTag=function(){this._startTagVisibility=this._tag.style.visibility,this._tag.style.visibility="hidden"},t._showTag=function(){this._tag.style.visibility=this._startTagVisibility},t._handleStalled=function(){},createjs.TagRequest=createjs.promote(e,"AbstractRequest")}(),this.createjs=this.createjs||{},function(){"use strict";function e(e,t,s){this.AbstractRequest_constructor(e),this._tag=t,this._tagSrcAttribute=s,this._loadedHandler=createjs.proxy(this._handleTagComplete,this)}var t=createjs.extend(e,createjs.TagRequest);t.load=function(){this._tag.onstalled=createjs.proxy(this._handleStalled,this),this._tag.onprogress=createjs.proxy(this._handleProgress,this),this._tag.addEventListener&&this._tag.addEventListener("canplaythrough",this._loadedHandler,!1),this.TagRequest_load()},t._handleReadyStateChange=function(){clearTimeout(this._loadTimeout);var e=this._tag;("loaded"==e.readyState||"complete"==e.readyState)&&this._handleTagComplete()},t._handleStalled=function(){},t._handleProgress=function(e){if(e&&!(e.loaded>0&&0==e.total)){var t=new createjs.ProgressEvent(e.loaded,e.total);this.dispatchEvent(t)}},t._clean=function(){this._tag.removeEventListener&&this._tag.removeEventListener("canplaythrough",this._loadedHandler),this._tag.onstalled=null,this._tag.onprogress=null,this.TagRequest__clean()},createjs.MediaTagRequest=createjs.promote(e,"TagRequest")}(),this.createjs=this.createjs||{},function(){"use strict";function e(e){this.AbstractRequest_constructor(e),this._request=null,this._loadTimeout=null,this._xhrLevel=1,this._response=null,this._rawResponse=null,this._canceled=!1,this._handleLoadStartProxy=createjs.proxy(this._handleLoadStart,this),this._handleProgressProxy=createjs.proxy(this._handleProgress,this),this._handleAbortProxy=createjs.proxy(this._handleAbort,this),this._handleErrorProxy=createjs.proxy(this._handleError,this),this._handleTimeoutProxy=createjs.proxy(this._handleTimeout,this),this._handleLoadProxy=createjs.proxy(this._handleLoad,this),this._handleReadyStateChangeProxy=createjs.proxy(this._handleReadyStateChange,this),!this._createXHR(e)}var t=createjs.extend(e,createjs.AbstractRequest);e.ACTIVEX_VERSIONS=["Msxml2.XMLHTTP.6.0","Msxml2.XMLHTTP.5.0","Msxml2.XMLHTTP.4.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],t.getResult=function(e){return e&&this._rawResponse?this._rawResponse:this._response},t.cancel=function(){this.canceled=!0,this._clean(),this._request.abort()},t.load=function(){if(null==this._request)return void this._handleError();this._request.addEventListener("loadstart",this._handleLoadStartProxy,!1),this._request.addEventListener("progress",this._handleProgressProxy,!1),this._request.addEventListener("abort",this._handleAbortProxy,!1),this._request.addEventListener("error",this._handleErrorProxy,!1),this._request.addEventListener("timeout",this._handleTimeoutProxy,!1),this._request.addEventListener("load",this._handleLoadProxy,!1),this._request.addEventListener("readystatechange",this._handleReadyStateChangeProxy,!1),1==this._xhrLevel&&(this._loadTimeout=setTimeout(createjs.proxy(this._handleTimeout,this),this._item.loadTimeout));try{this._item.values&&this._item.method!=createjs.AbstractLoader.GET?this._item.method==createjs.AbstractLoader.POST&&this._request.send(createjs.RequestUtils.formatQueryString(this._item.values)):this._request.send()}catch(e){this.dispatchEvent(new createjs.ErrorEvent("XHR_SEND",null,e))}},t.setResponseType=function(e){this._request.responseType=e},t.getAllResponseHeaders=function(){return this._request.getAllResponseHeaders instanceof Function?this._request.getAllResponseHeaders():null},t.getResponseHeader=function(e){return this._request.getResponseHeader instanceof Function?this._request.getResponseHeader(e):null},t._handleProgress=function(e){if(e&&!(e.loaded>0&&0==e.total)){var t=new createjs.ProgressEvent(e.loaded,e.total);this.dispatchEvent(t)}},t._handleLoadStart=function(){clearTimeout(this._loadTimeout),this.dispatchEvent("loadstart")},t._handleAbort=function(e){this._clean(),this.dispatchEvent(new createjs.ErrorEvent("XHR_ABORTED",null,e))},t._handleError=function(e){this._clean(),this.dispatchEvent(new createjs.ErrorEvent(e.message))},t._handleReadyStateChange=function(){4==this._request.readyState&&this._handleLoad()},t._handleLoad=function(){if(!this.loaded){this.loaded=!0;var e=this._checkError();if(e)return void this._handleError(e);this._response=this._getResponse(),this._clean(),this.dispatchEvent(new createjs.Event("complete"))}},t._handleTimeout=function(e){this._clean(),this.dispatchEvent(new createjs.ErrorEvent("PRELOAD_TIMEOUT",null,e))},t._checkError=function(){var e=parseInt(this._request.status);switch(e){case 404:case 0:return new Error(e)}return null},t._getResponse=function(){if(null!=this._response)return this._response;if(null!=this._request.response)return this._request.response;try{if(null!=this._request.responseText)return this._request.responseText}catch(e){}try{if(null!=this._request.responseXML)return this._request.responseXML}catch(e){}return null},t._createXHR=function(e){var t=createjs.RequestUtils.isCrossDomain(e),i={},n=null;if(window.XMLHttpRequest)n=new XMLHttpRequest,t&&void 0===n.withCredentials&&window.XDomainRequest&&(n=new XDomainRequest);else{for(var r=0,a=s.ACTIVEX_VERSIONS.length;a>r;r++){s.ACTIVEX_VERSIONS[r];try{n=new ActiveXObject(axVersions);break}catch(o){}}if(null==n)return!1}e.mimeType&&n.overrideMimeType&&n.overrideMimeType(e.mimeType),this._xhrLevel="string"==typeof n.responseType?2:1;var u=null;if(u=e.method==createjs.AbstractLoader.GET?createjs.RequestUtils.buildPath(e.src,e.values):e.src,n.open(e.method||createjs.AbstractLoader.GET,u,!0),t&&n instanceof XMLHttpRequest&&1==this._xhrLevel&&(i.Origin=location.origin),e.values&&e.method==createjs.AbstractLoader.POST&&(i["Content-Type"]="application/x-www-form-urlencoded"),t||i["X-Requested-With"]||(i["X-Requested-With"]="XMLHttpRequest"),e.headers)for(var c in e.headers)i[c]=e.headers[c];for(c in i)n.setRequestHeader(c,i[c]);return n instanceof XMLHttpRequest&&void 0!==e.withCredentials&&(n.withCredentials=e.withCredentials),this._request=n,!0},t._clean=function(){clearTimeout(this._loadTimeout),this._request.removeEventListener("loadstart",this._handleLoadStartProxy),this._request.removeEventListener("progress",this._handleProgressProxy),this._request.removeEventListener("abort",this._handleAbortProxy),this._request.removeEventListener("error",this._handleErrorProxy),this._request.removeEventListener("timeout",this._handleTimeoutProxy),this._request.removeEventListener("load",this._handleLoadProxy),this._request.removeEventListener("readystatechange",this._handleReadyStateChangeProxy)},t.toString=function(){return"[PreloadJS XHRRequest]"},createjs.XHRRequest=createjs.promote(e,"AbstractRequest")}(),this.createjs=this.createjs||{},function(){"use strict";function e(e,t){this.AbstractMediaLoader_constructor(e,t,createjs.AbstractLoader.SOUND),createjs.RequestUtils.isAudioTag(e)?this._tag=e:createjs.RequestUtils.isAudioTag(e.src)?this._tag=e:createjs.RequestUtils.isAudioTag(e.tag)&&(this._tag=createjs.RequestUtils.isAudioTag(e)?e:e.src),null!=this._tag&&(this._preferXHR=!1)}var t=createjs.extend(e,createjs.AbstractMediaLoader),s=e;s.canLoadItem=function(e){return e.type==createjs.AbstractLoader.SOUND},t._createTag=function(e){var t=document.createElement("audio");return t.autoplay=!1,t.preload="none",t.src=e,t},createjs.SoundLoader=createjs.promote(e,"AbstractMediaLoader")}(),this.createjs=this.createjs||{},function(){"use strict";function e(){throw"Sound cannot be instantiated"}function t(e,t){this.init(e,t)}var s=e;s.INTERRUPT_ANY="any",s.INTERRUPT_EARLY="early",s.INTERRUPT_LATE="late",s.INTERRUPT_NONE="none",s.PLAY_INITED="playInited",s.PLAY_SUCCEEDED="playSucceeded",s.PLAY_INTERRUPTED="playInterrupted",s.PLAY_FINISHED="playFinished",s.PLAY_FAILED="playFailed",s.SUPPORTED_EXTENSIONS=["mp3","ogg","mpeg","wav","m4a","mp4","aiff","wma","mid"],s.EXTENSION_MAP={m4a:"mp4"},s.FILE_PATTERN=/^(?:(\w+:)\/{2}(\w+(?:\.\w+)*\/?))?([\/.]*?(?:[^?]+)?\/)?((?:[^\/?]+)\.(\w+))(?:\?(\S+)?)?$/,s.defaultInterruptBehavior=s.INTERRUPT_NONE,s.alternateExtensions=[],s.activePlugin=null,s._pluginsRegistered=!1,s._lastID=0,s._masterVolume=1,s._masterMute=!1,s._instances=[],s._idHash={},s._preloadHash={},s.addEventListener=null,s.removeEventListener=null,s.removeAllEventListeners=null,s.dispatchEvent=null,s.hasEventListener=null,s._listeners=null,createjs.EventDispatcher.initialize(s),s.getPreloadHandlers=function(){return{callback:createjs.proxy(s.initLoad,s),types:["sound"],extensions:s.SUPPORTED_EXTENSIONS}},s._handleLoadComplete=function(e){var t=e.target.getItem().src;if(s._preloadHash[t])for(var i=0,n=s._preloadHash[t].length;n>i;i++){var r=s._preloadHash[t][i];if(s._preloadHash[t][i]=!0,s.hasEventListener("fileload")){var e=new createjs.Event("fileload");e.src=r.src,e.id=r.id,e.data=r.data,e.sprite=r.sprite,s.dispatchEvent(e)}}},s._handleLoadError=function(e){var t=e.target.getItem().src;if(s._preloadHash[t])for(var i=0,n=s._preloadHash[t].length;n>i;i++){var r=s._preloadHash[t][i];if(s._preloadHash[t][i]=!1,s.hasEventListener("fileerror")){var e=new createjs.Event("fileerror");e.src=r.src,e.id=r.id,e.data=r.data,e.sprite=r.sprite,s.dispatchEvent(e)}}},s._registerPlugin=function(e){return!!e.isSupported()&&(s.activePlugin=new e,!0)},s.registerPlugins=function(e){s._pluginsRegistered=!0;for(var t=0,i=e.length;i>t;t++)if(s._registerPlugin(e[t]))return!0;return!1},s.initializeDefaultPlugins=function(){return null!=s.activePlugin||!s._pluginsRegistered&&!!s.registerPlugins([createjs.WebAudioPlugin,createjs.HTMLAudioPlugin])},s.isReady=function(){return null!=s.activePlugin},s.getCapabilities=function(){return null==s.activePlugin?null:s.activePlugin._capabilities},s.getCapability=function(e){return null==s.activePlugin?null:s.activePlugin._capabilities[e]},s.initLoad=function(e){return s._registerSound(e)},s._registerSound=function(e){if(!s.initializeDefaultPlugins())return!1;var i=s._parsePath(e.src);if(null==i)return!1;e.src=i.src,e.type="sound";var n=e.data,r=s.activePlugin.defaultNumChannels||null;if(null!=n&&(isNaN(n.channels)?isNaN(n)||(r=parseInt(n)):r=parseInt(n.channels),n.audioSprite))for(var a,o=n.audioSprite.length;o--;)a=n.audioSprite[o],s._idHash[a.id]={src:e.src,startTime:parseInt(a.startTime),duration:parseInt(a.duration)};null!=e.id&&(s._idHash[e.id]={src:e.src});var u=s.activePlugin.register(e,r);return t.create(e.src,r),null!=n&&isNaN(n)?e.data.channels=r||t.maxPerChannel():e.data=r||t.maxPerChannel(),u.type&&(e.type=u.type),u},s.registerSound=function(e,t,i,n){var r={src:e,id:t,data:i};e instanceof Object&&(n=t,r=e),r=createjs.LoadItem.create(r),null!=n&&(r.src=n+e);var a=s._registerSound(r);if(!a)return!1;if(s._preloadHash[r.src]||(s._preloadHash[r.src]=[]),s._preloadHash[r.src].push(r),1==s._preloadHash[r.src].length)a.on("complete",createjs.proxy(this._handleLoadComplete,this)),a.on("error",createjs.proxy(this._handleLoadError,this)),s.activePlugin.preload(a);else if(1==s._preloadHash[r.src][0])return!0;return r},s.registerSounds=function(e,t){var s=[];e.path&&(t?t+=e.path:t=e.path);for(var i=0,n=e.length;n>i;i++)s[i]=createjs.Sound.registerSound(e[i].src,e[i].id,e[i].data,t);return s},s.registerManifest=function(e,t){try{console.log("createjs.Sound.registerManifest is deprecated, please use createjs.Sound.registerSounds.")}catch(s){}return this.registerSounds(e,t)},s.removeSound=function(e,i){if(null==s.activePlugin)return!1;e instanceof Object&&(e=e.src),e=s._getSrcById(e).src,null!=i&&(e=i+e);var n=s._parsePath(e);if(null==n)return!1;e=n.src;for(var r in s._idHash)s._idHash[r].src==e&&delete s._idHash[r];return t.removeSrc(e),delete s._preloadHash[e],s.activePlugin.removeSound(e),!0},s.removeSounds=function(e,t){var s=[];e.path&&(t?t+=e.path:t=e.path);for(var i=0,n=e.length;n>i;i++)s[i]=createjs.Sound.removeSound(e[i].src,t);return s},s.removeManifest=function(e,t){try{console.log("createjs.Sound.removeManifest is deprecated, please use createjs.Sound.removeSounds.")}catch(i){}return s.removeSounds(e,t)},s.removeAllSounds=function(){s._idHash={},s._preloadHash={},t.removeAll(),s.activePlugin&&s.activePlugin.removeAllSounds()},s.loadComplete=function(e){if(!s.isReady())return!1;var t=s._parsePath(e);return e=t?s._getSrcById(t.src).src:s._getSrcById(e).src,1==s._preloadHash[e][0]},s._parsePath=function(e){"string"!=typeof e&&(e=e.toString());var t=e.match(s.FILE_PATTERN);if(null==t)return!1;for(var i=t[4],n=t[5],r=s.getCapabilities(),a=0;!r[n];)if(n=s.alternateExtensions[a++],a>s.alternateExtensions.length)return null;e=e.replace("."+t[5],"."+n);var o={name:i,src:e,extension:n};return o},s.play=function(e,t,i,n,r,a,o,u,c){t instanceof Object&&(i=t.delay,n=t.offset,r=t.loop,a=t.volume,o=t.pan,u=t.startTime,c=t.duration,t=t.interrupt);var l=s.createInstance(e,u,c),h=s._playInstance(l,t,i,n,r,a,o);return h||l._playFailed(),l},s.createInstance=function(e,i,n){if(!s.initializeDefaultPlugins())return new createjs.DefaultSoundInstance(e,i,n);e=s._getSrcById(e);var r=s._parsePath(e.src),a=null;return null!=r&&null!=r.src?(t.create(r.src),null==i&&(i=e.startTime),a=s.activePlugin.create(r.src,i,n||e.duration)):a=new createjs.DefaultSoundInstance(e,i,n),a.uniqueId=s._lastID++,a},s.setVolume=function(e){if(null==Number(e))return!1;if(e=Math.max(0,Math.min(1,e)),s._masterVolume=e,!this.activePlugin||!this.activePlugin.setVolume||!this.activePlugin.setVolume(e))for(var t=this._instances,i=0,n=t.length;n>i;i++)t[i].setMasterVolume(e)},s.getVolume=function(){return s._masterVolume},s.setMute=function(e){if(null==e)return!1;if(this._masterMute=e,!this.activePlugin||!this.activePlugin.setMute||!this.activePlugin.setMute(e))for(var t=this._instances,s=0,i=t.length;i>s;s++)t[s].setMasterMute(e);return!0},s.getMute=function(){return this._masterMute},s.stop=function(){for(var e=this._instances,t=e.length;t--;)e[t].stop()},s._playInstance=function(e,t,i,n,r,a,o){if(t instanceof Object&&(i=t.delay,n=t.offset,r=t.loop,a=t.volume,o=t.pan,t=t.interrupt),t=t||s.defaultInterruptBehavior,null==i&&(i=0),null==n&&(n=e.getPosition()),null==r&&(r=e.loop),null==a&&(a=e.volume),null==o&&(o=e.pan),0==i){var u=s._beginPlaying(e,t,n,r,a,o);if(!u)return!1}else{var c=setTimeout(function(){s._beginPlaying(e,t,n,r,a,o)},i);e.delayTimeoutId=c}return this._instances.push(e),!0},s._beginPlaying=function(e,s,i,n,r,a){if(!t.add(e,s))return!1;var o=e._beginPlaying(i,n,r,a);if(!o){var u=createjs.indexOf(this._instances,e);return u>-1&&this._instances.splice(u,1),!1}return!0},s._getSrcById=function(e){return s._idHash[e]||{src:e}},s._playFinished=function(e){t.remove(e);var s=createjs.indexOf(this._instances,e);s>-1&&this._instances.splice(s,1)},createjs.Sound=e,t.channels={},t.create=function(e,s){var i=t.get(e);return null==i&&(t.channels[e]=new t(e,s),!0)},t.removeSrc=function(e){var s=t.get(e);return null!=s&&(s._removeAll(),delete t.channels[e],!0)},t.removeAll=function(){for(var e in t.channels)t.channels[e]._removeAll();t.channels={}},t.add=function(e,s){var i=t.get(e.src);return null!=i&&i._add(e,s)},t.remove=function(e){var s=t.get(e.src);return null!=s&&(s._remove(e),!0)},t.maxPerChannel=function(){return i.maxDefault},t.get=function(e){return t.channels[e]};var i=t.prototype;i.constructor=t,i.src=null,i.max=null,i.maxDefault=100,i.length=0,i.init=function(e,t){this.src=e,this.max=t||this.maxDefault,-1==this.max&&(this.max=this.maxDefault),this._instances=[]},i._get=function(e){return this._instances[e]},i._add=function(e,t){return!!this._getSlot(t,e)&&(this._instances.push(e),this.length++,!0)},i._remove=function(e){var t=createjs.indexOf(this._instances,e);return-1!=t&&(this._instances.splice(t,1),this.length--,!0)},i._removeAll=function(){for(var e=this.length-1;e>=0;e--)this._instances[e].stop()},i._getSlot=function(t){var s,i;if(t!=e.INTERRUPT_NONE&&(i=this._get(0),null==i))return!0;for(var n=0,r=this.max;r>n;n++){if(s=this._get(n),null==s)return!0;if(s.playState==e.PLAY_FINISHED||s.playState==e.PLAY_INTERRUPTED||s.playState==e.PLAY_FAILED){i=s;break}t!=e.INTERRUPT_NONE&&(t==e.INTERRUPT_EARLY&&s.getPosition()<i.getPosition()||t==e.INTERRUPT_LATE&&s.getPosition()>i.getPosition())&&(i=s)}return null!=i&&(i._interrupt(),this._remove(i),!0)},i.toString=function(){return"[Sound SoundChannel]"}}(),this.createjs=this.createjs||{},function(){"use strict";var e=function(e,t,s,i){this.EventDispatcher_constructor(),this.src=e,this.uniqueId=-1,this.playState=null,this.delayTimeoutId=null,this._startTime=Math.max(0,t||0),this._volume=1,createjs.definePropertySupported&&Object.defineProperty(this,"volume",{get:this.getVolume,set:this.setVolume}),this._pan=0,createjs.definePropertySupported&&Object.defineProperty(this,"pan",{get:this.getPan,set:this.setPan}),this._duration=Math.max(0,s||0),createjs.definePropertySupported&&Object.defineProperty(this,"duration",{get:this.getDuration,set:this.setDuration}),this._playbackResource=null,createjs.definePropertySupported&&Object.defineProperty(this,"playbackResource",{get:this.getPlaybackResource,set:this.setPlaybackResource}),i!==!1&&i!==!0&&this.setPlaybackResource(i),this._position=0,createjs.definePropertySupported&&Object.defineProperty(this,"position",{get:this.getPosition,set:this.setPosition}),this._loop=0,createjs.definePropertySupported&&Object.defineProperty(this,"loop",{get:this.getLoop,set:this.setLoop}),this._muted=!1,createjs.definePropertySupported&&Object.defineProperty(this,"muted",{get:this.getMuted,set:this.setMuted
}),this._paused=!1,createjs.definePropertySupported&&Object.defineProperty(this,"paused",{get:this.getPaused,set:this.setPaused})},t=createjs.extend(e,createjs.EventDispatcher);t.play=function(e,t,s,i,n,r){return this.playState==createjs.Sound.PLAY_SUCCEEDED?(e instanceof Object&&(s=e.offset,i=e.loop,n=e.volume,r=e.pan),null!=s&&this.setPosition(s),null!=i&&this.setLoop(i),null!=n&&this.setVolume(n),null!=r&&this.setPan(r),void(this._paused&&this.setPaused(!1))):(this._cleanUp(),createjs.Sound._playInstance(this,e,t,s,i,n,r),this)},t.pause=function(){return!this._paused&&this.playState==createjs.Sound.PLAY_SUCCEEDED&&(this.setPaused(!0),!0)},t.resume=function(){return!!this._paused&&(this.setPaused(!1),!0)},t.stop=function(){return this._position=0,this._paused=!1,this._handleStop(),this._cleanUp(),this.playState=createjs.Sound.PLAY_FINISHED,this},t.destroy=function(){this._cleanUp(),this.src=null,this.playbackResource=null,this.removeAllEventListeners()},t.toString=function(){return"[AbstractSoundInstance]"},t.getPaused=function(){return this._paused},t.setPaused=function(e){return e!==!0&&e!==!1||this._paused==e||1==e&&this.playState!=createjs.Sound.PLAY_SUCCEEDED?void 0:(this._paused=e,e?this._pause():this._resume(),clearTimeout(this.delayTimeoutId),this)},t.setVolume=function(e){return e==this._volume?this:(this._volume=Math.max(0,Math.min(1,e)),this._muted||this._updateVolume(),this)},t.getVolume=function(){return this._volume},t.setMute=function(e){this.setMuted(e)},t.getMute=function(){return this._muted},t.setMuted=function(e){return e===!0||e===!1?(this._muted=e,this._updateVolume(),this):void 0},t.getMuted=function(){return this._muted},t.setPan=function(e){return e==this._pan?this:(this._pan=Math.max(-1,Math.min(1,e)),this._updatePan(),this)},t.getPan=function(){return this._pan},t.getPosition=function(){return this._paused||this.playState!=createjs.Sound.PLAY_SUCCEEDED?this._position:this._calculateCurrentPosition()},t.setPosition=function(e){return this._position=Math.max(0,e),this.playState==createjs.Sound.PLAY_SUCCEEDED&&this._updatePosition(),this},t.getDuration=function(){return this._duration},t.setDuration=function(e){return e==this._duration?this:(this._duration=Math.max(0,e||0),this._updateDuration(),this)},t.setPlaybackResource=function(e){return this._playbackResource=e,0==this._duration&&this._setDurationFromSource(),this},t.getPlaybackResource=function(){return this._playbackResource},t.getLoop=function(){return this._loop},t.setLoop=function(e){null!=this._playbackResource&&(0!=this._loop&&0==e&&this._removeLooping(e),0==this._loop&&0!=e&&this._addLooping(e)),this._loop=e},t._sendEvent=function(e){var t=new createjs.Event(e);this.dispatchEvent(t)},t._cleanUp=function(){clearTimeout(this.delayTimeoutId),this._handleCleanUp(),this._paused=!1,createjs.Sound._playFinished(this)},t._interrupt=function(){this._cleanUp(),this.playState=createjs.Sound.PLAY_INTERRUPTED,this._sendEvent("interrupted")},t._beginPlaying=function(e,t,s,i){return this.setPosition(e),this.setLoop(t),this.setVolume(s),this.setPan(i),null!=this._playbackResource&&this._position<this._duration?(this._paused=!1,this._handleSoundReady(),this.playState=createjs.Sound.PLAY_SUCCEEDED,this._sendEvent("succeeded"),!0):(this._playFailed(),!1)},t._playFailed=function(){this._cleanUp(),this.playState=createjs.Sound.PLAY_FAILED,this._sendEvent("failed")},t._handleSoundComplete=function(){return this._position=0,0!=this._loop?(this._loop--,this._handleLoop(),void this._sendEvent("loop")):(this._cleanUp(),this.playState=createjs.Sound.PLAY_FINISHED,void this._sendEvent("complete"))},t._handleSoundReady=function(){},t._updateVolume=function(){},t._updatePan=function(){},t._updateDuration=function(){},t._setDurationFromSource=function(){},t._calculateCurrentPosition=function(){},t._updatePosition=function(){},t._removeLooping=function(){},t._addLooping=function(){},t._pause=function(){},t._resume=function(){},t._handleStop=function(){},t._handleCleanUp=function(){},t._handleLoop=function(){},createjs.AbstractSoundInstance=createjs.promote(e,"EventDispatcher"),createjs.DefaultSoundInstance=createjs.AbstractSoundInstance}(),this.createjs=this.createjs||{},function(){"use strict";var e=function(){this._capabilities=null,this._loaders={},this._audioSources={},this._soundInstances={},this._loaderClass,this._soundInstanceClass},t=e.prototype;e._capabilities=null,e.isSupported=function(){return!0},t.register=function(e){if(this._audioSources[e.src]=!0,this._soundInstances[e.src]=[],this._loaders[e.src])return this._loaders[e.src];var t=new this._loaderClass(e);return t.on("complete",createjs.proxy(this._handlePreloadComplete,this)),this._loaders[e.src]=t,t},t.preload=function(e){e.on("error",createjs.proxy(this._handlePreloadError,this)),e.load()},t.isPreloadStarted=function(e){return null!=this._audioSources[e]},t.isPreloadComplete=function(e){return!(null==this._audioSources[e]||1==this._audioSources[e])},t.removeSound=function(e){if(this._soundInstances[e]){for(var t=this._soundInstances[e].length;t--;){var s=this._soundInstances[e][t];s.destroy()}delete this._soundInstances[e],delete this._audioSources[e],this._loaders[e]&&this._loaders[e].destroy(),delete this._loaders[e]}},t.removeAllSounds=function(){for(var e in this._audioSources)this.removeSound(e)},t.create=function(e,t,s){this.isPreloadStarted(e)||this.preload(this.register(e));var i=new this._soundInstanceClass(e,t,s,this._audioSources[e]);return this._soundInstances[e].push(i),i},t.setVolume=function(e){return this._volume=e,this._updateVolume(),!0},t.getVolume=function(){return this._volume},t.setMute=function(){return this._updateVolume(),!0},t.toString=function(){return"[AbstractPlugin]"},t._handlePreloadComplete=function(e){var t=e.target.getItem().src;this._audioSources[t]=e.result;for(var s=0,i=this._soundInstances[t].length;i>s;s++){var n=this._soundInstances[t][s];n.setPlaybackResource(this._audioSources[t])}},t._handlePreloadError=function(){},t._updateVolume=function(){},createjs.AbstractPlugin=e}(),this.createjs=this.createjs||{},function(){"use strict";function e(e){this.AbstractLoader_constructor(e,!0,createjs.AbstractLoader.SOUND)}var t=createjs.extend(e,createjs.AbstractLoader);e.context=null,t.toString=function(){return"[WebAudioLoader]"},t._createRequest=function(){this._request=new createjs.XHRRequest(this._item,(!1)),this._request.setResponseType("arraybuffer")},t._sendComplete=function(){e.context.decodeAudioData(this._rawResult,createjs.proxy(this._handleAudioDecoded,this),createjs.proxy(this._handleError,this))},t._handleAudioDecoded=function(e){this._result=e,this.AbstractLoader__sendComplete()},createjs.WebAudioLoader=createjs.promote(e,"AbstractLoader")}(),this.createjs=this.createjs||{},function(){"use strict";function e(e,t,i,n){this.AbstractSoundInstance_constructor(e,t,i,n),this.gainNode=s.context.createGain(),this.panNode=s.context.createPanner(),this.panNode.panningModel=s._panningModel,this.panNode.connect(this.gainNode),this.sourceNode=null,this._soundCompleteTimeout=null,this._sourceNodeNext=null,this._playbackStartTime=0,this._endedHandler=createjs.proxy(this._handleSoundComplete,this)}var t=createjs.extend(e,createjs.AbstractSoundInstance),s=e;s.context=null,s.destinationNode=null,s._panningModel="equalpower",t.destroy=function(){this.AbstractSoundInstance_destroy(),this.panNode.disconnect(0),this.panNode=null,this.gainNode.disconnect(0),this.gainNode=null},t.toString=function(){return"[WebAudioSoundInstance]"},t._updatePan=function(){this.panNode.setPosition(this._pan,0,-.5)},t._removeLooping=function(){this._sourceNodeNext=this._cleanUpAudioNode(this._sourceNodeNext)},t._addLooping=function(){this.playState==createjs.Sound.PLAY_SUCCEEDED&&(this._sourceNodeNext=this._createAndPlayAudioNode(this._playbackStartTime,0))},t._setDurationFromSource=function(){this._duration=1e3*this.playbackResource.duration},t._handleCleanUp=function(){this.sourceNode&&this.playState==createjs.Sound.PLAY_SUCCEEDED&&(this.sourceNode=this._cleanUpAudioNode(this.sourceNode),this._sourceNodeNext=this._cleanUpAudioNode(this._sourceNodeNext)),0!=this.gainNode.numberOfOutputs&&this.gainNode.disconnect(0),clearTimeout(this._soundCompleteTimeout),this._playbackStartTime=0},t._cleanUpAudioNode=function(e){return e&&(e.stop(0),e.disconnect(0),e=null),e},t._handleSoundReady=function(){this.gainNode.connect(s.destinationNode);var e=.001*this._duration,t=.001*this._position;this.sourceNode=this._createAndPlayAudioNode(s.context.currentTime-e,t),this._playbackStartTime=this.sourceNode.startTime-t,this._soundCompleteTimeout=setTimeout(this._endedHandler,1e3*(e-t)),0!=this._loop&&(this._sourceNodeNext=this._createAndPlayAudioNode(this._playbackStartTime,0))},t._createAndPlayAudioNode=function(e,t){var i=s.context.createBufferSource();i.buffer=this.playbackResource,i.connect(this.panNode);var n=.001*this._duration;return i.startTime=e+n,i.start(i.startTime,t+.001*this._startTime,n-t),i},t._pause=function(){this._position=1e3*(s.context.currentTime-this._playbackStartTime),this.sourceNode=this._cleanUpAudioNode(this.sourceNode),this._sourceNodeNext=this._cleanUpAudioNode(this._sourceNodeNext),0!=this.gainNode.numberOfOutputs&&this.gainNode.disconnect(0),clearTimeout(this._soundCompleteTimeout)},t._resume=function(){this._handleSoundReady()},t._updateVolume=function(){var e=this._muted?0:this._volume;e!=this.gainNode.gain.value&&(this.gainNode.gain.value=e)},t._calculateCurrentPosition=function(){return 1e3*(s.context.currentTime-this._playbackStartTime)},t._updatePosition=function(){this.sourceNode=this._cleanUpAudioNode(this.sourceNode),this._sourceNodeNext=this._cleanUpAudioNode(this._sourceNodeNext),clearTimeout(this._soundCompleteTimeout),this._paused||this._handleSoundReady()},t._handleLoop=function(){this._cleanUpAudioNode(this.sourceNode),this.sourceNode=this._sourceNodeNext,this._playbackStartTime=this.sourceNode.startTime,this._sourceNodeNext=this._createAndPlayAudioNode(this._playbackStartTime,0),this._soundCompleteTimeout=setTimeout(this._endedHandler,this._duration)},t._updateDuration=function(){this._pause(),this._resume()},createjs.WebAudioSoundInstance=createjs.promote(e,"AbstractSoundInstance")}(),this.createjs=this.createjs||{},function(){"use strict";function e(){this.AbstractPlugin_constructor(),this._panningModel=s._panningModel,this._volume=1,this.context=s.context,this.dynamicsCompressorNode=this.context.createDynamicsCompressor(),this.dynamicsCompressorNode.connect(this.context.destination),this.gainNode=this.context.createGain(),this.gainNode.connect(this.dynamicsCompressorNode),createjs.WebAudioSoundInstance.destinationNode=this.gainNode,this._capabilities=s._capabilities,this._loaderClass=createjs.WebAudioLoader,this._soundInstanceClass=createjs.WebAudioSoundInstance,this._addPropsToClasses()}var t=createjs.extend(e,createjs.AbstractPlugin),s=e;s._capabilities=null,s._panningModel="equalpower",s.context=null,s.isSupported=function(){var e=createjs.BrowserDetect.isIOS||createjs.BrowserDetect.isAndroid||createjs.BrowserDetect.isBlackberry;return!("file:"==location.protocol&&!e&&!this._isFileXHRSupported())&&(s._generateCapabilities(),null!=s.context)},s.playEmptySound=function(){var e=s.context.createBufferSource();e.buffer=s.context.createBuffer(1,1,22050),e.connect(s.context.destination),e.start(0,0,0)},s._isFileXHRSupported=function(){var e=!0,t=new XMLHttpRequest;try{t.open("GET","WebAudioPluginTest.fail",!1)}catch(s){return e=!1}t.onerror=function(){e=!1},t.onload=function(){e=404==this.status||200==this.status||0==this.status&&""!=this.response};try{t.send()}catch(s){e=!1}return e},s._generateCapabilities=function(){if(null==s._capabilities){var e=document.createElement("audio");if(null==e.canPlayType)return null;if(null==s.context)if(window.AudioContext)s.context=new AudioContext;else{if(!window.webkitAudioContext)return null;s.context=new webkitAudioContext}s._compatibilitySetUp(),s.playEmptySound(),s._capabilities={panning:!0,volume:!0,tracks:-1};for(var t=createjs.Sound.SUPPORTED_EXTENSIONS,i=createjs.Sound.EXTENSION_MAP,n=0,r=t.length;r>n;n++){var a=t[n],o=i[a]||a;s._capabilities[a]="no"!=e.canPlayType("audio/"+a)&&""!=e.canPlayType("audio/"+a)||"no"!=e.canPlayType("audio/"+o)&&""!=e.canPlayType("audio/"+o)}s.context.destination.numberOfChannels<2&&(s._capabilities.panning=!1)}},s._compatibilitySetUp=function(){if(s._panningModel="equalpower",!s.context.createGain){s.context.createGain=s.context.createGainNode;var e=s.context.createBufferSource();e.__proto__.start=e.__proto__.noteGrainOn,e.__proto__.stop=e.__proto__.noteOff,s._panningModel=0}},t.toString=function(){return"[WebAudioPlugin]"},t._addPropsToClasses=function(){var e=this._soundInstanceClass;e.context=this.context,e.destinationNode=this.gainNode,e._panningModel=this._panningModel,this._loaderClass.context=this.context},t._updateVolume=function(){var e=createjs.Sound._masterMute?0:this._volume;e!=this.gainNode.gain.value&&(this.gainNode.gain.value=e)},createjs.WebAudioPlugin=createjs.promote(e,"AbstractPlugin")}(),this.createjs=this.createjs||{},function(){"use strict";function e(e){this.src=e,this.length=0,this.available=0,this.tags=[],this.duration=0}var t=e.prototype;t.constructor=e;var s=e;s.tags={},s.get=function(t){var i=s.tags[t];return null==i&&(i=s.tags[t]=new e(t)),i},s.remove=function(e){var t=s.tags[e];return null!=t&&(t.removeAll(),delete s.tags[e],!0)},s.getInstance=function(e){var t=s.tags[e];return null==t?null:t.get()},s.setInstance=function(e,t){var i=s.tags[e];return null==i?null:i.set(t)},s.getDuration=function(e){var t=s.tags[e];return null==t?0:t.getDuration()},t.add=function(e){this.tags.push(e),this.length++,this.available++},t.removeAll=function(){for(var e;this.length--;)e=this.tags[this.length],e.parentNode&&e.parentNode.removeChild(e),delete this.tags[this.length];this.src=null,this.tags.length=0},t.get=function(){if(0==this.tags.length)return null;this.available=this.tags.length;var e=this.tags.pop();return null==e.parentNode&&document.body.appendChild(e),e},t.set=function(e){var t=createjs.indexOf(this.tags,e);-1==t&&this.tags.push(e),this.available=this.tags.length},t.getDuration=function(){return this.duration||(this.duration=1e3*this.tags[this.tags.length-1].duration),this.duration},t.toString=function(){return"[HTMLAudioTagPool]"},createjs.HTMLAudioTagPool=e}(),this.createjs=this.createjs||{},function(){"use strict";function e(e,t,s,i){this.AbstractSoundInstance_constructor(e,t,s,i),this._audioSpriteStopTime=null,this._delayTimeoutId=null,this._endedHandler=createjs.proxy(this._handleSoundComplete,this),this._readyHandler=createjs.proxy(this._handleTagReady,this),this._stalledHandler=createjs.proxy(this.playFailed,this),this._audioSpriteEndHandler=createjs.proxy(this._handleAudioSpriteLoop,this),this._loopHandler=createjs.proxy(this._handleSoundComplete,this),s?this._audioSpriteStopTime=.001*(t+s):this._duration=createjs.HTMLAudioTagPool.getDuration(this.src)}var t=createjs.extend(e,createjs.AbstractSoundInstance);t.setMasterVolume=function(){this._updateVolume()},t.setMasterMute=function(){this._updateVolume()},t.toString=function(){return"[HTMLAudioSoundInstance]"},t._removeLooping=function(){null!=this._playbackResource&&(this._playbackResource.loop=!1,this._playbackResource.removeEventListener(createjs.HTMLAudioPlugin._AUDIO_SEEKED,this._loopHandler,!1))},t._addLooping=function(){null==this._playbackResource||this._audioSpriteStopTime||(this._playbackResource.addEventListener(createjs.HTMLAudioPlugin._AUDIO_SEEKED,this._loopHandler,!1),this._playbackResource.loop=!0)},t._handleCleanUp=function(){var e=this._playbackResource;if(null!=e){e.pause(),e.loop=!1,e.removeEventListener(createjs.HTMLAudioPlugin._AUDIO_ENDED,this._endedHandler,!1),e.removeEventListener(createjs.HTMLAudioPlugin._AUDIO_READY,this._readyHandler,!1),e.removeEventListener(createjs.HTMLAudioPlugin._AUDIO_STALLED,this._stalledHandler,!1),e.removeEventListener(createjs.HTMLAudioPlugin._AUDIO_SEEKED,this._loopHandler,!1),e.removeEventListener(createjs.HTMLAudioPlugin._TIME_UPDATE,this._audioSpriteEndHandler,!1);try{e.currentTime=this._startTime}catch(t){}createjs.HTMLAudioTagPool.setInstance(this.src,e),this._playbackResource=null}},t._beginPlaying=function(e,t,s,i){return this._playbackResource=createjs.HTMLAudioTagPool.getInstance(this.src),this.AbstractSoundInstance__beginPlaying(e,t,s,i)},t._handleSoundReady=function(){if(4!==this._playbackResource.readyState){var e=this._playbackResource;return e.addEventListener(createjs.HTMLAudioPlugin._AUDIO_READY,this._readyHandler,!1),e.addEventListener(createjs.HTMLAudioPlugin._AUDIO_STALLED,this._stalledHandler,!1),e.preload="auto",void e.load()}this._updateVolume(),this._playbackResource.currentTime=.001*(this._startTime+this._position),this._audioSpriteStopTime?this._playbackResource.addEventListener(createjs.HTMLAudioPlugin._TIME_UPDATE,this._audioSpriteEndHandler,!1):(this._playbackResource.addEventListener(createjs.HTMLAudioPlugin._AUDIO_ENDED,this._endedHandler,!1),0!=this._loop&&(this._playbackResource.addEventListener(createjs.HTMLAudioPlugin._AUDIO_SEEKED,this._loopHandler,!1),this._playbackResource.loop=!0)),this._playbackResource.play()},t._handleTagReady=function(){this._playbackResource.removeEventListener(createjs.HTMLAudioPlugin._AUDIO_READY,this._readyHandler,!1),this._playbackResource.removeEventListener(createjs.HTMLAudioPlugin._AUDIO_STALLED,this._stalledHandler,!1),this._handleSoundReady()},t._pause=function(){this._playbackResource.pause()},t._resume=function(){this._playbackResource.play()},t._updateVolume=function(){if(null!=this._playbackResource){var e=this._muted||createjs.Sound._masterMute?0:this._volume*createjs.Sound._masterVolume;e!=this._playbackResource.volume&&(this._playbackResource.volume=e)}},t._calculateCurrentPosition=function(){return 1e3*this._playbackResource.currentTime-this._startTime},t._updatePosition=function(){this._playbackResource.removeEventListener(createjs.HTMLAudioPlugin._AUDIO_SEEKED,this._loopHandler,!1),this._playbackResource.addEventListener(createjs.HTMLAudioPlugin._AUDIO_SEEKED,this._handleSetPositionSeek,!1);try{this._playbackResource.currentTime=.001*(this._position+this._startTime)}catch(e){this._handleSetPositionSeek(null)}},t._handleSetPositionSeek=function(){null!=this._playbackResource&&(this._playbackResource.removeEventListener(createjs.HTMLAudioPlugin._AUDIO_SEEKED,this._handleSetPositionSeek,!1),this._playbackResource.addEventListener(createjs.HTMLAudioPlugin._AUDIO_SEEKED,this._loopHandler,!1))},t._handleAudioSpriteLoop=function(){this._playbackResource.currentTime<=this._audioSpriteStopTime||(this._playbackResource.pause(),0==this._loop?this._handleSoundComplete(null):(this._position=0,this._loop--,this._playbackResource.currentTime=.001*this._startTime,this._paused||this._playbackResource.play(),this._sendEvent("loop")))},t._handleLoop=function(){0==this._loop&&(this._playbackResource.loop=!1,this._playbackResource.removeEventListener(createjs.HTMLAudioPlugin._AUDIO_SEEKED,this._loopHandler,!1))},t._updateDuration=function(){this._audioSpriteStopTime=.001*(startTime+duration),this.playState==createjs.Sound.PLAY_SUCCEEDED&&(this._playbackResource.removeEventListener(createjs.HTMLAudioPlugin._AUDIO_ENDED,this._endedHandler,!1),this._playbackResource.addEventListener(createjs.HTMLAudioPlugin._TIME_UPDATE,this._audioSpriteEndHandler,!1))},createjs.HTMLAudioSoundInstance=createjs.promote(e,"AbstractSoundInstance")}(),this.createjs=this.createjs||{},function(){"use strict";function e(){this.AbstractPlugin_constructor(),this.defaultNumChannels=2,this._capabilities=s._capabilities,this._loaderClass=createjs.SoundLoader,this._soundInstanceClass=createjs.HTMLAudioSoundInstance}var t=createjs.extend(e,createjs.AbstractPlugin),s=e;s.MAX_INSTANCES=30,s._AUDIO_READY="canplaythrough",s._AUDIO_ENDED="ended",s._AUDIO_SEEKED="seeked",s._AUDIO_STALLED="stalled",s._TIME_UPDATE="timeupdate",s._capabilities=null,s.enableIOS=!1,s.isSupported=function(){return s._generateCapabilities(),null!=s._capabilities},s._generateCapabilities=function(){if(null==s._capabilities){var e=document.createElement("audio");if(null==e.canPlayType)return null;s._capabilities={panning:!0,volume:!0,tracks:-1};for(var t=createjs.Sound.SUPPORTED_EXTENSIONS,i=createjs.Sound.EXTENSION_MAP,n=0,r=t.length;r>n;n++){var a=t[n],o=i[a]||a;s._capabilities[a]="no"!=e.canPlayType("audio/"+a)&&""!=e.canPlayType("audio/"+a)||"no"!=e.canPlayType("audio/"+o)&&""!=e.canPlayType("audio/"+o)}}},t.register=function(e,t){for(var s=createjs.HTMLAudioTagPool.get(e.src),i=null,n=0;t>n;n++)i=this._createTag(e.src),s.add(i);var r=this.AbstractPlugin_register(e,t);return r.setTag(i),r},t.removeSound=function(e){this.AbstractPlugin_removeSound(e),createjs.HTMLAudioTagPool.remove(e)},t.create=function(e,t,s){var i=this.AbstractPlugin_create(e,t,s);return i.setPlaybackResource(null),i},t.toString=function(){return"[HTMLAudioPlugin]"},t.setVolume=t.getVolume=t.setMute=null,t._createTag=function(e){var t=document.createElement("audio");return t.autoplay=!1,t.preload="none",t.src=e,t},createjs.HTMLAudioPlugin=createjs.promote(e,"AbstractPlugin")}();
!function(t,e,i){"use strict";function n(t,e){function i(){}i.prototype=t;var n=new i;for(var a in e)n[a]=e[a];return e.toString!==Object.prototype.toString&&(n.toString=e.toString),n}function a(t,e){if(null==e)return null;null==e.__id__&&(e.__id__=Wl++);var i;return null==t.hx__closures__?t.hx__closures__={}:i=t.hx__closures__[e.__id__],null==i&&(i=function(){return i.method.apply(i.scope,arguments)},i.scope=t,i.method=e,t.hx__closures__[e.__id__]=i),i}e.openfl=e.openfl||{},e.lime=e.lime||{};var s={},r=function(){return oi.__string_rec(this,"")},o=function(){};s.ApplicationMain=o,o.__name__=["ApplicationMain"],o.config=null,o.preloader=null,o.create=function(){var t=new pr;t.create(o.config);var e=new O;o.preloader=new Yr(e),t.setPreloader(o.preloader),o.preloader.onComplete.add(o.init),o.preloader.create(o.config);var i=[],n=[];if(i.push("img/bg.png"),n.push("IMAGE"),i.push("img/mbSplash.png"),n.push("IMAGE"),i.push("img/testSheet.plist"),n.push("TEXT"),i.push("img/testSheet3.png"),n.push("IMAGE"),i.push("data/testSheet3.xml"),n.push("TEXT"),null!=o.config.assetsPrefix)for(var a=0,s=i.length;a<s;){var r=a++;"FONT"!=n[r]&&(i[r]=o.config.assetsPrefix+i[r])}o.preloader.load(i,n);t.exec()},o.init=function(){var t=0;o.preloader=null,0==t&&o.start()},o.main=function(){o.config={build:"611",company:"DcTurner",file:"sphHaxe",fps:60,name:"sphHaxe",orientation:"",packageName:"sphHaxe",version:"1.0.0",windows:[{antialiasing:0,background:0,borderless:!1,depthBuffer:!1,display:0,fullscreen:!1,hardware:!0,height:500,parameters:"{}",resizable:!0,stencilBuffer:!0,title:"sphHaxe",vsync:!1,width:800,x:null,y:null}]}},o.start=function(){for(var t=!1,e=J.resolveClass("Main"),i=0,n=J.getClassFields(e);i<n.length;){var a=n[i];if(++i,"main"==a){t=!0;break}}if(fi.initialize(),t)U.callMethod(e,U.field(e,"main"),[]);else{J.createInstance(p,[])}Va.current.stage.window.__fullscreen&&Va.current.stage.dispatchEvent(new Oo("fullScreen",(!1),(!1),(!0),(!0))),Va.current.stage.dispatchEvent(new Ro("resize",(!1),(!1)))};var l=function(){};s["openfl.events.IEventDispatcher"]=l,l.__name__=["openfl","events","IEventDispatcher"],l.prototype={__class__:l};var _=function(t){null!=t&&(this.__targetDispatcher=t)};s["openfl.events.EventDispatcher"]=_,_.__name__=["openfl","events","EventDispatcher"],_.__interfaces__=[l],_.__sortByPriority=function(t,e){return t.priority==e.priority?0:t.priority>e.priority?-1:1},_.prototype={addEventListener:function(t,e,i,n,a){if(null==a&&(a=!1),null==n&&(n=0),null==i&&(i=!1),null==this.__eventMap&&(this.__dispatching=new Qe,this.__eventMap=new Qe,this.__newEventMap=new Qe),this.__eventMap.exists(t)){var s;if(1==this.__dispatching.get(t))if(this.__newEventMap.exists(t))s=this.__newEventMap.get(t);else{var r=this.__eventMap.get(t);s=r.slice(),this.__newEventMap.set(t,s)}else s=this.__eventMap.get(t);for(var o=0,l=s.length;o<l;){var h=o++;if(U.compareMethods(s[h].callback,e))return}s.push(new Fo(e,i,n)),s.sort(_.__sortByPriority)}else{var c=[];c.push(new Fo(e,i,n)),this.__eventMap.set(t,c)}},dispatchEvent:function(t){return null!=this.__targetDispatcher?t.target=this.__targetDispatcher:t.target=this,this.__dispatchEvent(t)},hasEventListener:function(t){return null!=this.__eventMap&&(1==this.__dispatching.get(t)&&this.__newEventMap.exists(t)?this.__newEventMap.get(t).length>0:this.__eventMap.exists(t))},removeEventListener:function(t,e,i){if(null==i&&(i=!1),null!=this.__eventMap){var n=this.__eventMap.get(t);if(null!=n){var a=1==this.__dispatching.get(t);if(a)if(this.__newEventMap.exists(t))n=this.__newEventMap.get(t);else{var s=this.__eventMap.get(t);n=s.slice(),this.__newEventMap.set(t,n)}for(var r=0,o=n.length;r<o;){var l=r++;if(n[l].match(e,i)){n.splice(l,1);break}}a||(0==n.length&&this.__eventMap.remove(t),this.__eventMap.iterator().hasNext()||(this.__eventMap=null,this.__newEventMap=null))}}},toString:function(){var t=J.getClassName(oi.getClass(this)),e=t.split(".").pop();return"[object "+e+"]"},willTrigger:function(t){return this.hasEventListener(t)},__dispatchEvent:function(t){if(null==this.__eventMap||null==t)return!1;var e,i=t.type;if(1==this.__dispatching.get(i)){if(e=this.__newEventMap.get(i),null==e)return!1;e=e.slice()}else{if(e=this.__eventMap.get(i),null==e)return!1;this.__dispatching.set(i,!0)}null==t.target&&(null!=this.__targetDispatcher?t.target=this.__targetDispatcher:t.target=this),t.currentTarget=this;for(var n,a=1==t.eventPhase,s=0;s<e.length&&(n=e[s],n.useCapture!=a||(n.callback(t),!t.__isCanceledNow));)n==e[s]&&s++;if(null!=this.__newEventMap&&this.__newEventMap.exists(i)){var r=this.__newEventMap.get(i);r.length>0?this.__eventMap.set(i,r):this.__eventMap.remove(i),this.__eventMap.iterator().hasNext()?this.__newEventMap.remove(i):(this.__eventMap=null,this.__newEventMap=null)}return this.__dispatching.set(t.type,!1),!0},__class__:_};var h=function(){};s["openfl.display.IBitmapDrawable"]=h,h.__name__=["openfl","display","IBitmapDrawable"],h.prototype={__class__:h};var c=function(){this.__cacheAsBitmapSmooth=!0,this.__cacheAsBitmap=!1,this.__maskCached=!1,_.call(this),this.__alpha=1,this.__transform=new ka,this.__visible=!0,this.__rotation=0,this.__rotationSine=0,this.__rotationCosine=1,this.__renderTransform=new ka,this.__offset=new Oa,this.__worldOffset=new Oa,this.__worldAlpha=1,this.__worldTransform=new ka,this.__worldColorTransform=new Ua,this.set_name("instance"+ ++c.__instanceCount)};s["openfl.display.DisplayObject"]=c,c.__name__=["openfl","display","DisplayObject"],c.__interfaces__=[h],c.__super__=_,c.prototype=n(_.prototype,{getBounds:function(t){var e;null!=t?(e=this.__getWorldTransform().clone(),e.concat(t.__getWorldTransform().clone().invert())):(e=ka.__temp,e.identity());var i=new Zs;return this.__getBounds(i,e),i},getRect:function(t){return this.getBounds(t)},globalToLocal:function(t){return t=t.clone(),this.__getWorldTransform().__transformInversePoint(t),t},hitTestObject:function(t){if(null!=t&&null!=t.parent&&null!=this.parent){var e=this.getBounds(this),i=t.getBounds(this);return e.intersects(i)}return!1},hitTestPoint:function(t,e,i){if(null==i&&(i=!1),null!=this.parent){var n=new Zs;return this.__getBounds(n,this.__getWorldTransform()),n.containsPoint(new Oa(t,e))}return!1},localToGlobal:function(t){return this.__getWorldTransform().transformPoint(t)},__broadcast:function(t,e){if(null!=this.__eventMap&&this.hasEventListener(t.type)){var i=_.prototype.__dispatchEvent.call(this,t);return!!t.__isCanceled||i}return!1},__dispatchEvent:function(t){var e=_.prototype.__dispatchEvent.call(this,t);return!!t.__isCanceled||(t.bubbles&&null!=this.parent&&this.parent!=this&&(t.eventPhase=3,null==t.target&&(t.target=this),this.parent.__dispatchEvent(t)),e)},__enterFrame:function(t){},__getBounds:function(t,e){null!=this.__graphics&&this.__graphics.__getBounds(t,e)},__getCursor:function(){return null},__getInteractive:function(t){return!1},__getLocalBounds:function(t){this.__getBounds(t,this.__transform)},__getRenderBounds:function(t,e){if(null==this.__scrollRect)this.__getBounds(t,e);else{var i=Zs.__temp;i.copyFrom(this.__scrollRect),i.__transform(i,e),t.__expand(e.tx,e.ty,i.width,i.height)}},__getWorldTransform:function(){if(this.__transformDirty||c.__worldTransformDirty>0){var t=[],e=this,i=this.__transformDirty;if(null==this.parent)i&&this.__update(!0,!1);else for(;null!=e.parent;)t.push(e),e=e.parent,e.__transformDirty&&(i=!0);if(i)for(var n=t.length;--n>=0;)t[n].__update(!0,!1)}return this.__worldTransform},__hitTest:function(t,e,i,n,a,s){if(null!=this.__graphics){if(!s.get_visible()||this.__isMask)return!1;if(null!=this.get_mask()&&!this.get_mask().__hitTestMask(t,e))return!1;if(this.__graphics.__hitTest(t,e,i,this.__getWorldTransform()))return null==n||a||n.push(s),!0}return!1},__hitTestMask:function(t,e){return!(null==this.__graphics||!this.__graphics.__hitTest(t,e,!0,this.__getWorldTransform()))},__renderCairo:function(t){null!=this.__graphics&&bs.render(this,t)},__renderCairoMask:function(t){null!=this.__graphics&&vs.renderMask(this.__graphics,t)},__renderCanvas:function(t){null!=this.__graphics&&Cs.render(this,t)},__renderCanvasMask:function(t){null!=this.__graphics&&As.renderMask(this.__graphics,t)},__renderDOM:function(t){null!=this.__graphics&&Ds.render(this,t)},__renderGL:function(t){if(this.__renderable&&!(this.__worldAlpha<=0)){if(this.__cacheAsBitmap)return void this.__cacheGL(t);null!=this.__scrollRect&&t.maskManager.pushRect(this.__scrollRect,this.__renderTransform),null!=this.__mask&&null!=this.__maskGraphics&&this.__maskGraphics.__commands.get_length()>0&&t.maskManager.pushMask(this),null!=this.__graphics&&(this.__graphics.__hardware?Qs.render(this,t):(As.render(this.__graphics,t),Fs.renderBitmap(this,t))),null!=this.__mask&&null!=this.__maskGraphics&&this.__maskGraphics.__commands.get_length()>0&&t.maskManager.popMask(),null!=this.__scrollRect&&t.maskManager.popRect()}},__drawGraphicsGL:function(t){null!=this.__graphics&&(this.__graphics.__hardware?Qs.render(this,t):(As.render(this.__graphics,t),Fs.renderBitmap(this,t)))},__preRenderGL:function(t){null!=this.__scrollRect&&t.maskManager.pushRect(this.__scrollRect,this.__renderTransform),null!=this.__mask&&null!=this.__maskGraphics&&this.__maskGraphics.__commands.get_length()>0&&t.maskManager.pushMask(this)},__postRenderGL:function(t){null!=this.__mask&&null!=this.__maskGraphics&&this.__maskGraphics.__commands.get_length()>0&&t.maskManager.popMask(),null!=this.__scrollRect&&t.maskManager.popRect()},__cacheGL:function(t){var e=null!=this.__cacheAsBitmapMatrix,i=this.__cachedBitmapBounds.x,n=this.__cachedBitmapBounds.y,a=this.__cachedBitmapBounds.width,s=this.__cachedBitmapBounds.height;if(null==this.__cacheGLMatrix&&(this.__cacheGLMatrix=new ka),e){var r=Zs.__temp;this.__cachedBitmapBounds.__transform(r,this.__cacheAsBitmapMatrix),i=r.x,n=r.y,a=r.width,s=r.height,this.__cacheGLMatrix=this.__cacheAsBitmapMatrix.clone()}else this.__cacheGLMatrix.identity();if(!(a<=0&&s<=0)){if(this.__updateCachedBitmap||this.__updateFilters){null!=this.__cachedFilterBounds&&(a+=Math.abs(this.__cachedFilterBounds.x)+Math.abs(this.__cachedFilterBounds.width),s+=Math.abs(this.__cachedFilterBounds.y)+Math.abs(this.__cachedFilterBounds.height)),null==this.__cachedBitmap&&(this.__cachedBitmap=vr.__asRenderTexture()),this.__cachedBitmap.__resize(Math.ceil(a),Math.ceil(s));var o=this.__cacheGLMatrix.clone();o.translate(-i,-n);var l=this.__shader;this.__shader=null,this.__cachedBitmap.__drawGL(t,this,o,null,null,null,!0,!1,!0),this.__shader=l,this.__updateCachedBitmap=!1}this.__updateFilters&&(jo.__applyFilters(this.__filters,t,this.__cachedBitmap,this.__cachedBitmap,null,null),this.__updateFilters=!1),this.__cacheGLMatrix.invert(),this.__cacheGLMatrix.__translateTransformed(i,n),this.__cacheGLMatrix.concat(this.__renderTransform),this.__cacheGLMatrix.translate(this.__offset.x,this.__offset.y),t.spriteBatch.renderBitmapData(this.__cachedBitmap,this.__cacheAsBitmapSmooth,this.__cacheGLMatrix,this.__worldColorTransform,this.__worldAlpha,this.blendMode,this.__shader,0)}},__setStageReference:function(t){this.stage!=t&&(null!=this.stage&&(this.stage.get_focus()==this&&this.stage.set_focus(null),this.dispatchEvent(new Ro("removedFromStage",(!1),(!1)))),this.stage=t,null!=t&&this.dispatchEvent(new Ro("addedToStage",(!1),(!1))))},__setRenderDirty:function(){this.__renderDirty||(this.__updateCachedBitmap=!0,this.__updateFilters=null!=this.get_filters()&&this.get_filters().length>0,this.__renderDirty=!0,c.__worldRenderDirty++)},__setTransformDirty:function(){this.__transformDirty||(this.__transformDirty=!0,c.__worldTransformDirty++)},__update:function(t,e,i){this.__renderable=this.get_visible()&&0!=this.get_scaleX()&&0!=this.get_scaleY()&&!this.__isMask,this.__updateTransforms(),null!=this.parent&&this.__isMask&&(this.__maskCached=!1),e&&this.__transformDirty&&(this.__transformDirty=!1,c.__worldTransformDirty--),t||null==this.__mask||this.__mask.__maskCached||(null==this.__maskGraphics&&(this.__maskGraphics=new Er),this.__maskGraphics.clear(),this.__mask.__update(!0,!0,this.__maskGraphics),this.__mask.__maskCached=!0),null!=i&&this.__updateMask(i),!t&&this.__cacheAsBitmap&&(this.__updateCachedBitmap||this.__updateFilters)&&(null==this.__cachedBitmapBounds&&(this.__cachedBitmapBounds=new Zs),null!=this.cacheAsBitmapBounds?this.__cachedBitmapBounds.copyFrom(this.cacheAsBitmapBounds):(this.__cachedBitmapBounds.setEmpty(),this.__getRenderBounds(this.__cachedBitmapBounds,ka.__identity)),null!=this.__filters&&(null==this.__cachedFilterBounds&&(this.__cachedFilterBounds=new Zs),this.__cachedFilterBounds.setEmpty(),jo.__expandBounds(this.__filters,this.__cachedFilterBounds,ka.__identity),this.__cachedBitmapBounds.x+=this.__cachedFilterBounds.x,this.__cachedBitmapBounds.y+=this.__cachedFilterBounds.y)),t||(this.__worldColorTransform.__equals(this.get_transform().get_colorTransform())||(this.__worldColorTransform=this.get_transform().get_colorTransform().__clone()),null!=this.parent?(this.__worldAlpha=this.get_alpha()*this.parent.__worldAlpha,this.__worldColorTransform.__combine(this.parent.__worldColorTransform),null!=this.blendMode&&10!=this.blendMode||(this.__blendMode=this.parent.__blendMode),null==this.shader&&(this.__shader=this.parent.__shader)):this.__worldAlpha=this.get_alpha(),e&&this.__renderDirty&&(this.__renderDirty=!1))},__updateChildren:function(t){this.__renderable=this.get_visible()&&0!=this.get_scaleX()&&0!=this.get_scaleY()&&!this.__isMask,(this.__renderable||this.__isMask)&&(this.__worldAlpha=this.get_alpha(),this.__transformDirty&&(this.__transformDirty=!1,c.__worldTransformDirty--))},__updateMask:function(t){null!=this.__graphics&&(t.__commands.overrideMatrix(this.__worldTransform),t.__commands.append(this.__graphics.__commands),t.set___dirty(!0),t.__visible=!0,null==t.__bounds&&(t.__bounds=new Zs),this.__graphics.__getBounds(t.__bounds,ka.__identity))},__updateTransforms:function(t){var e,i=null!=t;if(e=i?t.clone():this.__transform,null==this.__worldTransform&&(this.__worldTransform=new ka),i||null==this.parent)this.__worldTransform.copyFrom(e),this.__worldOffset.setTo(0,0);else{var n=this.parent.__worldTransform;this.__worldTransform.a=e.a*n.a+e.b*n.c,this.__worldTransform.b=e.a*n.b+e.b*n.d,this.__worldTransform.c=e.c*n.a+e.d*n.c,this.__worldTransform.d=e.c*n.b+e.d*n.d,this.__worldTransform.tx=e.tx*n.a+e.ty*n.c+n.tx,this.__worldTransform.ty=e.tx*n.b+e.ty*n.d+n.ty,this.__worldOffset.copyFrom(this.parent.__worldOffset)}null!=this.__scrollRect?(this.__offset=this.__worldTransform.deltaTransformPoint(this.__scrollRect.get_topLeft()),this.__worldOffset.offset(this.__offset.x,this.__offset.y)):this.__offset.setTo(0,0),this.__renderTransform.copyFrom(this.__worldTransform),this.__renderTransform.translate(-this.__worldOffset.x,-this.__worldOffset.y)},get_alpha:function(){return this.__alpha},set_alpha:function(t){return t>1&&(t=1),t!=this.__alpha&&(this.__renderDirty||(this.__updateCachedBitmap=!0,this.__updateFilters=null!=this.get_filters()&&this.get_filters().length>0,this.__renderDirty=!0,c.__worldRenderDirty++)),this.__alpha=t},set_blendMode:function(t){return this.__blendMode=t,this.blendMode=t},set_shader:function(t){return this.__shader=t,this.shader=t},get_cacheAsBitmap:function(){return this.__cacheAsBitmap},set_cacheAsBitmap:function(t){return this.__renderDirty||(this.__updateCachedBitmap=!0,this.__updateFilters=null!=this.get_filters()&&this.get_filters().length>0,this.__renderDirty=!0,c.__worldRenderDirty++),this.__forceCacheAsBitmap?this.__cacheAsBitmap=!0:this.__cacheAsBitmap=t},get_cacheAsBitmapMatrix:function(){return this.__cacheAsBitmapMatrix},set_cacheAsBitmapMatrix:function(t){return this.__renderDirty||(this.__updateCachedBitmap=!0,this.__updateFilters=null!=this.get_filters()&&this.get_filters().length>0,this.__renderDirty=!0,c.__worldRenderDirty++),this.__cacheAsBitmapMatrix=t.clone()},get_cacheAsBitmapSmooth:function(){return this.__cacheAsBitmapSmooth},set_cacheAsBitmapSmooth:function(t){return this.__cacheAsBitmapSmooth=t},get_filters:function(){return null==this.__filters?[]:this.__filters.slice()},set_filters:function(t){return null!=t&&t.length>0?(this.__filters=t,this.__forceCacheAsBitmap=!0,this.__cacheAsBitmap=!0,this.__updateFilters=!0):(this.__filters=null,this.__forceCacheAsBitmap=!1,this.__cacheAsBitmap=!1,this.__updateFilters=!1),this.__renderDirty||(this.__updateCachedBitmap=!0,this.__updateFilters=null!=this.get_filters()&&this.get_filters().length>0,this.__renderDirty=!0,c.__worldRenderDirty++),t},get_height:function(){var t=new Zs;return this.__getBounds(t,this.__transform),t.height},set_height:function(t){var e=new Zs,i=ka.__temp;return i.identity(),this.__getBounds(e,i),t!=e.height?this.set_scaleY(t/e.height):this.set_scaleY(1),t},get_mask:function(){return this.__mask},set_mask:function(t){return t!=this.__mask&&(this.__transformDirty||(this.__transformDirty=!0,c.__worldTransformDirty++),this.__renderDirty||(this.__updateCachedBitmap=!0,this.__updateFilters=null!=this.get_filters()&&this.get_filters().length>0,this.__renderDirty=!0,c.__worldRenderDirty++)),null!=this.__mask&&(this.__mask.__isMask=!1,this.__mask.__maskCached=!1,this.__mask.__setTransformDirty(),this.__mask.__setRenderDirty(),this.__maskGraphics=null),null!=t&&(t.__isMask=!0),this.__mask=t},get_mouseX:function(){var t;t=null!=this.stage?this.stage.__mouseX:Va.current.stage.__mouseX;var e;return e=null!=this.stage?this.stage.__mouseY:Va.current.stage.__mouseY,this.__getWorldTransform().__transformInverseX(t,e)},get_mouseY:function(){var t;t=null!=this.stage?this.stage.__mouseX:Va.current.stage.__mouseX;var e;return e=null!=this.stage?this.stage.__mouseY:Va.current.stage.__mouseY,this.__getWorldTransform().__transformInverseY(t,e)},get_name:function(){return this.__name},set_name:function(t){return this.__name=t},get_root:function(){return null!=this.stage?Va.current:null},get_rotation:function(){return this.__rotation},set_rotation:function(t){if(t!=this.__rotation){this.__rotation=t;var e=this.__rotation*(Math.PI/180);this.__rotationSine=Math.sin(e),this.__rotationCosine=Math.cos(e);var i=this.get_scaleX(),n=this.get_scaleY();this.__transform.a=this.__rotationCosine*i,this.__transform.b=this.__rotationSine*i,this.__transform.c=-this.__rotationSine*n,this.__transform.d=this.__rotationCosine*n,this.__transformDirty||(this.__transformDirty=!0,c.__worldTransformDirty++)}return t},get_scaleX:function(){return 0==this.__transform.b?this.__transform.a:Math.sqrt(this.__transform.a*this.__transform.a+this.__transform.b*this.__transform.b)},set_scaleX:function(t){if(0==this.__transform.c)t!=this.__transform.a&&(this.__transformDirty||(this.__transformDirty=!0,c.__worldTransformDirty++)),this.__transform.a=t;else{var e=this.__rotationCosine*t,i=this.__rotationSine*t;this.__transform.a==e&&this.__transform.b==i||this.__transformDirty||(this.__transformDirty=!0,c.__worldTransformDirty++),this.__transform.a=e,this.__transform.b=i}return t},get_scaleY:function(){return 0==this.__transform.c?this.__transform.d:Math.sqrt(this.__transform.c*this.__transform.c+this.__transform.d*this.__transform.d)},set_scaleY:function(t){if(0==this.__transform.c)t!=this.__transform.d&&(this.__transformDirty||(this.__transformDirty=!0,c.__worldTransformDirty++)),this.__transform.d=t;else{var e=-this.__rotationSine*t,i=this.__rotationCosine*t;this.__transform.d==i&&this.__transform.c==e||this.__transformDirty||(this.__transformDirty=!0,c.__worldTransformDirty++),this.__transform.c=e,this.__transform.d=i}return t},get_scrollRect:function(){return null==this.__scrollRect?null:this.__scrollRect.clone()},set_scrollRect:function(t){return t!=this.__scrollRect&&(this.__transformDirty||(this.__transformDirty=!0,c.__worldTransformDirty++)),this.__scrollRect=t},get_transform:function(){return null==this.__objectTransform&&(this.__objectTransform=new Zo(this)),this.__objectTransform},set_transform:function(t){if(null==t)throw new ri(new Bo("Parameter transform must be non-null."));return null==this.__objectTransform&&(this.__objectTransform=new Zo(this)),this.__transformDirty||(this.__transformDirty=!0,c.__worldTransformDirty++),this.__objectTransform.set_matrix(t.get_matrix()),this.__objectTransform.set_colorTransform(t.get_colorTransform().__clone()),this.__objectTransform},get_visible:function(){return this.__visible},set_visible:function(t){return t!=this.__visible&&(this.__renderDirty||(this.__updateCachedBitmap=!0,this.__updateFilters=null!=this.get_filters()&&this.get_filters().length>0,this.__renderDirty=!0,c.__worldRenderDirty++)),this.__visible=t},get_width:function(){var t=new Zs;return this.__getBounds(t,this.__transform),t.width},set_width:function(t){var e=new Zs,i=ka.__temp;return i.identity(),this.__getBounds(e,i),t!=e.width?this.set_scaleX(t/e.width):this.set_scaleX(1),t},get_x:function(){return this.__transform.tx},set_x:function(t){return t!=this.__transform.tx&&(this.__transformDirty||(this.__transformDirty=!0,c.__worldTransformDirty++)),this.__transform.tx=t},get_y:function(){return this.__transform.ty},set_y:function(t){return t!=this.__transform.ty&&(this.__transformDirty||(this.__transformDirty=!0,c.__worldTransformDirty++)),this.__transform.ty=t},__class__:c,__properties__:{set_y:"set_y",get_y:"get_y",set_x:"set_x",get_x:"get_x",set_width:"set_width",get_width:"get_width",set_visible:"set_visible",get_visible:"get_visible",set_transform:"set_transform",get_transform:"get_transform",set_shader:"set_shader",set_scrollRect:"set_scrollRect",get_scrollRect:"get_scrollRect",set_scaleY:"set_scaleY",get_scaleY:"get_scaleY",set_scaleX:"set_scaleX",get_scaleX:"get_scaleX",set_rotation:"set_rotation",get_rotation:"get_rotation",get_root:"get_root",set_name:"set_name",get_name:"get_name",get_mouseY:"get_mouseY",get_mouseX:"get_mouseX",set_mask:"set_mask",get_mask:"get_mask",set_height:"set_height",get_height:"get_height",set_filters:"set_filters",get_filters:"get_filters",set_cacheAsBitmapSmooth:"set_cacheAsBitmapSmooth",get_cacheAsBitmapSmooth:"get_cacheAsBitmapSmooth",set_cacheAsBitmapMatrix:"set_cacheAsBitmapMatrix",get_cacheAsBitmapMatrix:"get_cacheAsBitmapMatrix",set_cacheAsBitmap:"set_cacheAsBitmap",get_cacheAsBitmap:"get_cacheAsBitmap",set_blendMode:"set_blendMode",set_alpha:"set_alpha",get_alpha:"get_alpha"}});var u=function(){c.call(this),this.doubleClickEnabled=!1,this.mouseEnabled=!0,this.needsSoftKeyboard=!1,this.__tabEnabled=!1,this.tabIndex=-1};s["openfl.display.InteractiveObject"]=u,u.__name__=["openfl","display","InteractiveObject"],u.__super__=c,u.prototype=n(c.prototype,{requestSoftKeyboard:function(){return Va.notImplemented("InteractiveObject.requestSoftKeyboard"),!1},__getInteractive:function(t){return null!=t&&(t.push(this),null!=this.parent&&this.parent.__getInteractive(t)),!0},__hitTest:function(t,e,i,n,a,s){return!(!s.get_visible()||this.__isMask||a&&!this.mouseEnabled)&&c.prototype.__hitTest.call(this,t,e,i,n,a,s)},get_tabEnabled:function(){return this.__tabEnabled},set_tabEnabled:function(t){return this.__tabEnabled=t},__class__:u,__properties__:n(c.prototype.__properties__,{set_tabEnabled:"set_tabEnabled",get_tabEnabled:"get_tabEnabled"})});var d=function(){u.call(this),this.mouseChildren=!0,this.__children=[],this.__removedChildren=[]};s["openfl.display.DisplayObjectContainer"]=d,d.__name__=["openfl","display","DisplayObjectContainer"],d.__super__=u,d.prototype=n(u.prototype,{addChild:function(t){if(null!=t){null!=t.parent&&t.parent.removeChild(t),this.__children.push(t),t.parent=this,null!=this.stage&&t.__setStageReference(this.stage),t.__transformDirty||(t.__transformDirty=!0,c.__worldTransformDirty++),t.__renderDirty||(t.__updateCachedBitmap=!0,t.__updateFilters=null!=t.get_filters()&&t.get_filters().length>0,t.__renderDirty=!0,c.__worldRenderDirty++),this.__renderDirty||(this.__updateCachedBitmap=!0,this.__updateFilters=null!=this.get_filters()&&this.get_filters().length>0,this.__renderDirty=!0,c.__worldRenderDirty++);var e=new Ro("added",(!0));e.target=t,t.__dispatchEvent(e)}return t},addChildAt:function(t,e){if(e>this.__children.length||e<0)throw new ri("Invalid index position "+e);if(t.parent==this)T.remove(this.__children,t);else{null!=t.parent&&t.parent.removeChild(t),t.parent=this,null!=this.stage&&t.__setStageReference(this.stage),t.__transformDirty||(t.__transformDirty=!0,c.__worldTransformDirty++),t.__renderDirty||(t.__updateCachedBitmap=!0,t.__updateFilters=null!=t.get_filters()&&t.get_filters().length>0,t.__renderDirty=!0,c.__worldRenderDirty++),this.__renderDirty||(this.__updateCachedBitmap=!0,this.__updateFilters=null!=this.get_filters()&&this.get_filters().length>0,this.__renderDirty=!0,c.__worldRenderDirty++);var i=new Ro("added",(!0));i.target=t,t.__dispatchEvent(i)}return this.__children.splice(e,0,t),t},areInaccessibleObjectsUnderPoint:function(t){return!1},contains:function(t){for(;t!=this&&null!=t;)t=t.parent;return t==this},getChildAt:function(t){return t>=0&&t<this.__children.length?this.__children[t]:null},getChildByName:function(t){for(var e=0,i=this.__children;e<i.length;){var n=i[e];if(++e,n.get_name()==t)return n}return null},getChildIndex:function(t){for(var e=0,i=this.__children.length;e<i;){var n=e++;if(this.__children[n]==t)return n}return-1},getObjectsUnderPoint:function(t){var e=[];return this.__hitTest(t.x,t.y,!1,e,!1,this),e.reverse(),e},removeChild:function(t){return null!=t&&t.parent==this&&(t.__dispatchEvent(new Ro("removed",(!0))),null!=this.stage&&t.__setStageReference(null),t.parent=null,T.remove(this.__children,t),this.__removedChildren.push(t),t.__transformDirty||(t.__transformDirty=!0,c.__worldTransformDirty++),t.__renderDirty||(t.__updateCachedBitmap=!0,t.__updateFilters=null!=t.get_filters()&&t.get_filters().length>0,t.__renderDirty=!0,c.__worldRenderDirty++),this.__renderDirty||(this.__updateCachedBitmap=!0,this.__updateFilters=null!=this.get_filters()&&this.get_filters().length>0,this.__renderDirty=!0,c.__worldRenderDirty++)),t},removeChildAt:function(t){return t>=0&&t<this.__children.length?this.removeChild(this.__children[t]):null},removeChildren:function(t,e){if(null==e&&(e=2147483647),null==t&&(t=0),!(2147483647==e&&(e=this.__children.length-1,e<0)||t>this.__children.length-1)){if(e<t||t<0||e>this.__children.length)throw new ri(new Mo("The supplied index is out of bounds."));for(var i=e-t;i>=0;)this.removeChildAt(t),i--}},resolve:function(t){if(null==this.__children)return null;for(var e=0,i=this.__children;e<i.length;){var n=i[e];if(++e,n.get_name()==t)return n}return null},setChildIndex:function(t,e){e>=0&&e<=this.__children.length&&t.parent==this&&(T.remove(this.__children,t),this.__children.splice(e,0,t))},swapChildren:function(t,e){if(t.parent==this&&e.parent==this){var i=T.indexOf(this.__children,t,0),n=T.indexOf(this.__children,e,0);this.__children[i]=e,this.__children[n]=t}},swapChildrenAt:function(t,e){var i=this.__children[t];this.__children[t]=this.__children[e],this.__children[e]=i,i=null},__broadcast:function(t,e){null==t.target&&(t.target=this);var i=u.prototype.__broadcast.call(this,t,e);if(!t.__isCanceled&&e)for(var n=0,a=this.__children;n<a.length;){var s=a[n];if(++n,s.__broadcast(t,!0),t.__isCanceled)return!0}return i},__enterFrame:function(t){for(var e=0,i=this.__children;e<i.length;){var n=i[e];++e,n.__enterFrame(t)}},__getBounds:function(t,e){if(u.prototype.__getBounds.call(this,t,e),0!=this.__children.length){null!=e&&(this.__updateTransforms(e),this.__updateChildren(!0));for(var i=0,n=this.__children;i<n.length;){var a=n[i];++i,0!=a.get_scaleX()&&0!=a.get_scaleY()&&a.__getBounds(t,a.__worldTransform)}null!=e&&(this.__updateTransforms(),this.__updateChildren(!0))}},__getRenderBounds:function(t,e){if(null!=this.__scrollRect)return void u.prototype.__getRenderBounds.call(this,t,e);if(u.prototype.__getBounds.call(this,t,e),0!=this.__children.length){null!=e&&(this.__updateTransforms(e),this.__updateChildren(!0));for(var i=0,n=this.__children;i<n.length;){var a=n[i];++i,0==a.get_scaleX()||0==a.get_scaleY()||a.__isMask||a.__getRenderBounds(t,a.__worldTransform)}null!=e&&(this.__updateTransforms(),this.__updateChildren(!0))}},__hitTest:function(t,e,i,n,a,s){if(!s.get_visible()||this.__isMask||a&&!this.mouseEnabled&&!this.mouseChildren)return!1;if(null!=this.get_mask()&&!this.get_mask().__hitTestMask(t,e))return!1;if(null!=this.get_scrollRect()&&!this.get_scrollRect().containsPoint(this.globalToLocal(new Oa(t,e))))return!1;var r=this.__children.length;if(a){if(null!=n&&this.mouseChildren){if(null!=n){for(var o=n.length,l=!1,_=!1;--r>=0&&(l=this.__children[r].__getInteractive(null),!((l||this.mouseEnabled&&!_)&&this.__children[r].__hitTest(t,e,i,n,!0,this.__children[r])&&(_=!0,l))););if(_)return n.splice(o,0,s),!0}}else for(;--r>=0;)if(this.__children[r].__hitTest(t,e,i,null,!0,this.__children[r]))return null!=n&&n.push(s),!0}else for(;--r>=0;)this.__children[r].__hitTest(t,e,i,n,!1,this.__children[r]);return!1},__hitTestMask:function(t,e){for(var i=this.__children.length;--i>=0;)if(this.__children[i].__hitTestMask(t,e))return!0;return!1},__renderCairo:function(t){if(this.__renderable&&!(this.__worldAlpha<=0)){u.prototype.__renderCairo.call(this,t),null!=this.get_scrollRect()&&t.maskManager.pushRect(this.get_scrollRect(),this.__worldTransform),null!=this.__mask&&t.maskManager.pushMask(this.__mask);for(var e=0,i=this.__children;e<i.length;){var n=i[e];++e,n.__renderCairo(t)}this.__removedChildren.length>0&&this.__removedChildren.splice(0,this.__removedChildren.length),null!=this.__mask&&t.maskManager.popMask(),null!=this.get_scrollRect()&&t.maskManager.popRect()}},__renderCairoMask:function(t){null!=this.__graphics&&vs.renderMask(this.__graphics,t);for(var e=0,i=this.__children;e<i.length;){var n=i[e];++e,n.__renderCairoMask(t)}},__renderCanvas:function(t){if(this.__renderable&&!(this.__worldAlpha<=0)){u.prototype.__renderCanvas.call(this,t),null!=this.get_scrollRect()&&t.maskManager.pushRect(this.get_scrollRect(),this.__worldTransform),null!=this.__mask&&t.maskManager.pushMask(this.__mask);for(var e=0,i=this.__children;e<i.length;){var n=i[e];++e,n.__renderCanvas(t)}this.__removedChildren.length>0&&this.__removedChildren.splice(0,this.__removedChildren.length),null!=this.__mask&&t.maskManager.popMask(),null!=this.get_scrollRect()&&t.maskManager.popRect()}},__renderCanvasMask:function(t){null!=this.__graphics&&As.renderMask(this.__graphics,t);var e=new Zs;this.__getBounds(e,this.__transform),t.context.rect(0,0,e.width,e.height)},__renderDOM:function(t){u.prototype.__renderDOM.call(this,t),null!=this.__mask&&t.maskManager.pushMask(this.__mask);for(var e=0,i=this.__children;e<i.length;){var n=i[e];++e,n.__renderDOM(t)}for(var a=0,s=this.__removedChildren;a<s.length;){var r=s[a];++a,null==r.stage&&r.__renderDOM(t)}this.__removedChildren.length>0&&this.__removedChildren.splice(0,this.__removedChildren.length),null!=this.__mask&&t.maskManager.popMask()},__renderGL:function(t){if(this.__renderable&&!(this.__worldAlpha<=0)){if(this.__cacheAsBitmap)return void this.__cacheGL(t);null!=this.__scrollRect&&t.maskManager.pushRect(this.__scrollRect,this.__renderTransform),null!=this.__mask&&null!=this.__maskGraphics&&this.__maskGraphics.__commands.get_length()>0&&t.maskManager.pushMask(this),null!=this.__graphics&&(this.__graphics.__hardware?Qs.render(this,t):(As.render(this.__graphics,t),Fs.renderBitmap(this,t)));for(var e=0,i=this.__children;e<i.length;){var n=i[e];++e,n.__renderGL(t)}null!=this.__mask&&null!=this.__maskGraphics&&this.__maskGraphics.__commands.get_length()>0&&t.maskManager.popMask(),null!=this.__scrollRect&&t.maskManager.popRect(),this.__removedChildren.length>0&&this.__removedChildren.splice(0,this.__removedChildren.length)}},__setStageReference:function(t){if(this.stage!=t&&(null!=this.stage&&this.__dispatchEvent(new Ro("removedFromStage",(!1),(!1))),this.stage=t,null!=t&&this.__dispatchEvent(new Ro("addedToStage",(!1),(!1))),null!=this.__children))for(var e=0,i=this.__children;e<i.length;){var n=i[e];++e,n.__setStageReference(t)}},__update:function(t,e,i){
if(u.prototype.__update.call(this,t,e,i),(this.__renderable||this.__isMask)&&e)for(var n=0,a=this.__children;n<a.length;){var s=a[n];++n,s.__update(t,!0,i)}},__updateChildren:function(t){u.prototype.__updateChildren.call(this,t);for(var e=0,i=this.__children;e<i.length;){var n=i[e];++e,n.__update(t,!0)}},get_numChildren:function(){return this.__children.length},__class__:d,__properties__:n(u.prototype.__properties__,{get_numChildren:"get_numChildren"})});var m=function(){d.call(this),this.buttonMode=!1,this.useHandCursor=!0,this.loaderInfo=Pa.create(null)};s["openfl.display.Sprite"]=m,m.__name__=["openfl","display","Sprite"],m.__super__=d,m.prototype=n(d.prototype,{startDrag:function(t,e){null==t&&(t=!1),null!=this.stage&&this.stage.__startDrag(this,t,e)},stopDrag:function(){null!=this.stage&&this.stage.__stopDrag(this)},__getCursor:function(){return this.buttonMode&&this.useHandCursor?pa.POINTER:null},__hitTest:function(t,e,i,n,a,s){if(null!=this.hitArea){if(!this.hitArea.mouseEnabled){this.hitArea.mouseEnabled=!0;var r=this.hitArea.__hitTest(t,e,i,null,!0,s);return this.hitArea.mouseEnabled=!1,r&&(n[n.length]=s),r}}else{if(!s.get_visible()||this.__isMask||a&&!this.mouseEnabled&&!this.mouseChildren)return!1;if(null!=this.get_mask()&&!this.get_mask().__hitTestMask(t,e))return!1;if(d.prototype.__hitTest.call(this,t,e,i,n,a,s))return a;if((!a||this.mouseEnabled)&&null!=this.__graphics&&this.__graphics.__hitTest(t,e,i,this.__getWorldTransform()))return null!=n&&n.push(s),!0}return!1},__hitTestMask:function(t,e){return!!d.prototype.__hitTestMask.call(this,t,e)||!(null==this.__graphics||!this.__graphics.__hitTest(t,e,!0,this.__getWorldTransform()))},get_graphics:function(){return null==this.__graphics&&(this.__graphics=new Er,this.__graphics.__owner=this),this.__graphics},get_tabEnabled:function(){return this.__tabEnabled||this.buttonMode},__class__:m,__properties__:n(d.prototype.__properties__,{get_graphics:"get_graphics"})});var f=function(){this.totalScore=0,this.cookString="fizz3",this.AD_CALLED=!1,this.adString="NULL",this.ANDROID=!0,this.SOUND_ON=!0,this.IS_DESKTOP=!0,this.masterGameTime=60,this.touchesList=[],this.teamList=[10,10,10,10],this.gameTime=12e5,this.TIME_CHEAT=!1,this.PLAYER_TWO_CHOSEN=!1,this.PLAYER_ONE_CHOSEN=!1,this.TWO_PLAYER=!1,this.level=0,this.lastScored=0,this.player1Score=0,this.player0Score=0,this.round=0,this.player1=-1,this.player0=-1,this.clicked=0,We.trace("new in main",{fileName:"Main.hx",lineNumber:452,className:"Main",methodName:"new"}),m.call(this),f.instance=this,this.addEventListener("addedToStage",a(this,this.added))};s.Main=f,f.__name__=["Main"],f.instance=null,f.getBrowserType=function(){var t="Undefined",e=window.navigator.userAgent;return null!=e&&(t=e.indexOf("Android")>=0||e.indexOf("BlackBerry")>=0||e.indexOf("iPhone")>=0||e.indexOf("iPad")>=0||e.indexOf("iPod")>=0||e.indexOf("Opera Mini")>=0||e.indexOf("Opera Mini")>=0||e.indexOf("Touch")>=0?"MOBILE":"DESKTOP"),t},f.main=function(){Va.current.stage.align=6,Va.current.stage.scaleMode=2,Va.current.addChild(new f)},f.__super__=m,f.prototype=n(m.prototype,{resize:function(t){this.inited||this.init()},init:function(){this.inited||(this.inited=!0,We.trace("hello dave",{fileName:"Main.hx",lineNumber:104,className:"Main",methodName:"init"}),this.stage.addEventListener("keyDown",a(this,this.keyDown)),this.stage.addEventListener("keyUp",a(this,this.keyUp)),this.stage.addEventListener("mouseDown",a(this,this.MouseDownFunction)),this.stage.addEventListener("mouseUp",a(this,this.MouseUpFunction)),V.init(),this.levelCookie(),this.myLeague=new L,this.addTouch(),this.addDisplayWorld(),this.addMbSplash(),"DESKTOP"!=f.getBrowserType()&&(this.IS_DESKTOP=!1))},addTouch:function(){this.touch=new j,this.addChild(this.touch)},addDisplayWorld:function(){this.displayWorld=new C,this.addChild(this.displayWorld)},addMbSplash:function(){var t=new k;this.addChild(t)},addTitleScreen:function(){this.myTitleScreen=new K,this.addChild(this.myTitleScreen),this.myTitleScreen.addLogo(),this.resetTeam()},showAd:function(){this.AD_CALLED=!0},tellFamSomething:function(){},tellFamScore:function(t,e,i){var n;n="Level"+(null==t?"null":""+t),i&&window.famobi_analytics.trackEvent(famobi_analytics.EVENT_LEVELFAIL,{levelName:n,reason:"quit"})},addLevelSelect:function(){this.myTileWorld=null,this.TWO_PLAYER&&!this.PLAYER_ONE_CHOSEN&&(this.player0=-1,this.player1=-1),We.trace("---------------Add Level Select",{fileName:"Main.hx",lineNumber:289,className:"Main",methodName:"addLevelSelect"});var t=new D;this.addChild(t)},resetTeam:function(){this.teamList=[10,10,10,10]},startGame:function(){null!=this.myTileWorld&&(this.removeChild(this.myTileWorld),this.myTileWorld=null),this.myTileWorld=new Y(this.level),this.addChild(this.myTileWorld)},levelCookie:function(){var t=sl.getLocal(this.cookString);this.totalScore=t.data.totalScore,this.totalScore<1&&(this.totalScore=0),We.trace("totalScore on init "+this.totalScore,{fileName:"Main.hx",lineNumber:336,className:"Main",methodName:"levelCookie"})},writeCookie:function(){var t=sl.getLocal(this.cookString);t.data.totalScore=this.totalScore,t.flush()},keyDown:function(t){77==t.keyCode&&(this.key_spacebar=!0,We.trace("SPACE BAR",{fileName:"Main.hx",lineNumber:354,className:"Main",methodName:"keyDown"})),65==t.keyCode?this.key_a=!0:68==t.keyCode&&(this.key_d=!0),87==t.keyCode&&(this.key_w=!0),71==t.keyCode&&(this.key_g=!0),37==t.keyCode?this.key_leftArrow=!0:39==t.keyCode&&(this.key_rightArrow=!0),38==t.keyCode?this.key_upArrow=!0:40==t.keyCode&&(this.key_downArrow=!0),We.trace("key code = "+t.keyCode,{fileName:"Main.hx",lineNumber:380,className:"Main",methodName:"keyDown"})},keyUp:function(t){65==t.keyCode?this.key_a=!1:68==t.keyCode&&(this.key_d=!1),87==t.keyCode&&(this.key_w=!1),71==t.keyCode&&(this.key_g=!1),37==t.keyCode?this.key_leftArrow=!1:39==t.keyCode&&(this.key_rightArrow=!1),38==t.keyCode?this.key_upArrow=!1:40==t.keyCode&&(this.key_downArrow=!1),77==t.keyCode&&(this.key_spacebar=!1)},MouseDownFunction:function(t){this.clicked=1},MouseUpFunction:function(t){this.clicked=0},added:function(t){this.removeEventListener("addedToStage",a(this,this.added)),this.stage.addEventListener("resize",a(this,this.resize)),this.init()},__class__:f});var p=function(){Va.current.addChild(this),f.call(this),this.dispatchEvent(new Ro("addedToStage",(!1),(!1)))};s.DocumentClass=p,p.__name__=["DocumentClass"],p.__super__=f,p.prototype=n(f.prototype,{__class__:p});var g=function(){this.testMap=[[1,1,1,1],[1,1,1,1],[1,1,1,1]]};s.Arrays=g,g.__name__=["Arrays"],g.prototype={__class__:g};var v=function(t,e,i,n,a,s,r,o,l,_){null==l&&(l=1),null==o&&(o=1),null==r&&(r=0),null==s&&(s=0),this.depth=0,this.mySon=null,this.myDad=null,this.ROTATE_FLAG=!0,this.ACTIVE=!0,this.xspeed=0,this.BLOCKING=!1,this.jumpTimer=0,this.limbTimer=0,this.limbUsed=0,this.tweenType=g.TWEEN_POP_APPEAR,this.tweenTimer=0,this.myName="",this.myType=0,this.myScaleY=1,this.myScaleX=1,this.myForm=0,this.myAngle=0,this.animFrame=0,this.baseFrame=0,this.specPosition=new Oa(0,0),this.position=new Oa(0,0),this.offY=0,this.offX=0,this.position.x=t,this.position.y=e,this.offX=i,this.offY=n,this.baseFrame=a,this.myType=s,this.myDad=_,null!=this.myDad&&(this.specPosition.x=t,this.specPosition.y=e,this.myDad.mySon=this),this.depth=r,this.myScaleX=o,this.myScaleY=l};s.TO_Object=v,v.__name__=["TO_Object"],v.prototype={update:function(){null!=this.myDad&&(this.position.x=this.myDad.position.x+this.specPosition.x,this.position.y=this.myDad.position.y+this.specPosition.y,this.myScaleX=this.myDad.myScaleX,this.myScaleY=this.myDad.myScaleY,this.depth=this.myDad.depth-10)},testProx:function(t,e,i){return R.getHyp(t,e,this.position.x,this.position.y)<i},testHit:function(t,e){return t>this.position.x-this.offX&&t<this.position.x+this.offX&&e>this.position.y-this.offY&&e<this.position.y+this.offY},__class__:v};var y=function(t,e,i,n,a,s,r,o,l,_){this.myAnimArray=g.playerAnimDATA,this.animType=g.PART_ANIM_STILL,this.animIndex=0,this.tileSheetCols=4,this.animCount=0,v.call(this,t,e,i,n,a,s,r,o,l,_)};s.BlitMan=y,y.__name__=["BlitMan"],y.__super__=v,y.prototype=n(v.prototype,{update:function(){},animateMe:function(){var t=this.myAnimArray[this.animType][1],e=this.myAnimArray[this.animType].length-3;this.animCount>t&&(this.myAnimArray[this.animType][0]?this.animIndex=R.increaseWithLimit(this.animIndex,1,e):this.animIndex=R.increaseWithLimitAndStick(this.animIndex,1,e),this.animCount=0),this.animFrame=this.myAnimArray[this.animType][2+this.animIndex]},__class__:y});var x=function(t,e,i,n,a,s,r,o,l,_){this.tileMaster=f.instance.displayWorld.tileMaster,this.TWEEN_SCALE=!1,this.myAnimArray=g.partAnimDATA,this.animType=g.P_ANIM_STILL,this.animIndex=0,this.tileSheetCols=4,this.animCount=0,this.hitTimer=0,this.grav=.4,this.dy=0,this.dx=0,this.ay=0,this.ax=0,v.call(this,t,e,i,n,a,s,r,o,l,_)};s.BlitParticle=x,x.__name__=["BlitParticle"],x.__super__=v,x.prototype=n(v.prototype,{init:function(t,e){this.myWorld=e;var i=this.myType;switch(i){case 1:this.offX=Math.floor(40),this.offY=Math.floor(40),this.baseFrame=F.getBase("PartBangSheet"),this.animType=g.PART_ANIM_EXPLODE,this.hitTimer=100,this.myScaleY=this.myScaleX=1,this.depth=8e3,We.trace("add bang",{fileName:"BlitParticle.hx",lineNumber:61,className:"BlitParticle",methodName:"init"});break;case 5:this.offX=Math.floor(40),this.offY=Math.floor(40),this.baseFrame=F.getBase("smokeSheet"),this.animType=g.PART_ANIM_SMOKE,this.hitTimer=50,this.myScaleY=this.myScaleX=.5,this.myName="smoke",this.depth=10;break;case 3:this.offX=Math.floor(28),this.offY=Math.floor(28),this.baseFrame=F.getBase("guiNumsBig"),this.animType=g.P_ANIM_STILL,this.animFrame=t,this.hitTimer=50,this.myScaleY=this.myScaleX=1,this.depth=9e3,this.TWEEN_SCALE=!0;break;case 4:this.offX=Math.floor(33),this.offY=Math.floor(33),this.myWorld.forceBallTimer>0?(this.baseFrame=F.getBase("joyStickFrontYellow"),this.myScaleY=this.myScaleX=.5,this.animFrame=0):(this.baseFrame=F.getBase("colCircSheet"),this.animFrame=this.myWorld.headerPower,this.myScaleY=this.myScaleX=.3+.1*this.myWorld.headerPower),this.animType=g.P_ANIM_STILL,this.hitTimer=60,this.depth=1e3;break;case 2:this.offX=62,this.offY=43,this.baseFrame=F.getBase("daveFxSheet0"),this.animType=g.PART_ANIM_EXPLODE,this.hitTimer=300,this.animFrame=t;break;case 6:this.offX=16,this.offY=16,this.baseFrame=F.getBase("coinSheet"),this.animType=g.PART_ANIM_EXPLODE,this.hitTimer=15;break;case 7:this.offX=83,this.offY=83,this.baseFrame=F.getBase("flashParticle"),this.animType=g.P_ANIM_STILL,this.hitTimer=15,this.depth=1e4,this.myScaleY=this.myScaleX=.1}},update:function(){this.tweenTimer<g.tweenDATA[this.tweenType].length&&this.TWEEN_SCALE&&(this.myScaleX=g.tweenDATA[this.tweenType][Math.floor(this.tweenTimer)],this.myScaleY=this.myScaleX),this.hitTimer--,this.tweenTimer++,this.position.x+=this.dx,this.position.y+=this.dy;var t=this.myType;switch(t){case 3:break;case 7:this.myScaleX+=(1-this.myScaleX)/5,this.myScaleY=this.myScaleX;break;case 4:this.myScaleX*=.95,this.myScaleY=this.myScaleX;break;case 5:this.animCount++,this.animateMe();break;case 6:this.animCount++,this.animateMe();break;case 1:this.animCount++,this.animateMe();break;case 2:this.animCount++,this.animateMe()}0==this.hitTimer&&f.instance.displayWorld.safeRemoveActor(this)},animateMe:function(){var t=this.myAnimArray[this.animType][1],e=this.myAnimArray[this.animType].length-3;this.animCount>t&&(this.myAnimArray[this.animType][0]?this.animIndex=R.increaseWithLimit(this.animIndex,1,e):this.animIndex=R.increaseWithLimitAndStick(this.animIndex,1,e),this.animCount=0),this.animFrame=this.myAnimArray[this.animType][2+this.animIndex]},__class__:x});var b=function(){};s["box2D.dynamics.B2ContactListener"]=b,b.__name__=["box2D","dynamics","B2ContactListener"],b.prototype={beginContact:function(t){},endContact:function(t){},preSolve:function(t,e){},postSolve:function(t,e){},__class__:b};var w=function(t){b.call(this),this.myWorld=t};s.ContactListenerOneSidePlatform=w,w.__name__=["ContactListenerOneSidePlatform"],w.__super__=b,w.prototype=n(b.prototype,{beginContact:function(t){var e=t.getFixtureA().getBody().getUserData(),i=t.getFixtureB().getBody().getUserData();"PLAY"==e.substr(0,4)&&"GROU"==i.substr(0,4)?this.myWorld.playerHitting(e.charAt(6)):"PLAY"==i.substr(0,4)&&"GROU"==e.substr(0,4)&&this.myWorld.playerHitting(i.charAt(6)),"BALL"==e.substr(0,4)?this.myWorld.ballHitSomething(i.substr(0,4),i.charAt(6)):"BALL"==i.substr(0,4)&&this.myWorld.ballHitSomething(e.substr(0,4),e.charAt(6))},postSolve:function(t,e){t.getFixtureA().getBody().getUserData(),t.getFixtureB().getBody().getUserData()},__class__:w});var T=function(){};s.HxOverrides=T,T.__name__=["HxOverrides"],T.strDate=function(t){var e=t.length;switch(e){case 8:var i=t.split(":"),n=new Date;return n.setTime(0),n.setUTCHours(i[0]),n.setUTCMinutes(i[1]),n.setUTCSeconds(i[2]),n;case 10:var a=t.split("-");return new Date(a[0],a[1]-1,a[2],0,0,0);case 19:var s=t.split(" "),r=s[0].split("-"),o=s[1].split(":");return new Date(r[0],r[1]-1,r[2],o[0],o[1],o[2]);default:throw new ri("Invalid date format : "+t)}},T.cca=function(t,e){var i=t.charCodeAt(e);if(i==i)return i},T.substr=function(t,e,i){return null!=e&&0!=e&&null!=i&&i<0?"":(null==i&&(i=t.length),e<0?(e=t.length+e,e<0&&(e=0)):i<0&&(i=t.length+i-e),t.substr(e,i))},T.indexOf=function(t,e,i){var n=t.length;for(i<0&&(i+=n,i<0&&(i=0));i<n;){if(t[i]===e)return i;i++}return-1},T.remove=function(t,e){var i=T.indexOf(t,e,0);return i!=-1&&(t.splice(i,1),!0)},T.iter=function(t){return{cur:0,arr:t,hasNext:function(){return this.cur<this.arr.length},next:function(){return this.arr[this.cur++]}}};var A=function(t,e,i,n,a,s,r,o,l,_){this.myExtraY=0,this.textList=[],this.tileMaster=f.instance.displayWorld.tileMaster,v.call(this,t,e,i,n,a,s,r,o,l,_)};s.DText=A,A.__name__=["DText"],A.__super__=v,A.prototype=n(v.prototype,{getText:function(t){this.draw(t)},update:function(){},deleteLets:function(){We.trace("DELETE LETS"+this.textList.length,{fileName:"DText.hx",lineNumber:58,className:"DText",methodName:"deleteLets"});for(var t=0,e=this.textList;t<e.length;){var i=e[t];++t,f.instance.displayWorld.safeRemoveActor(i)}},draw:function(t,e,i,n){null==n&&(n=2),null==i&&(i=0),null==e&&(e=0);for(var a=t.split("\n"),s=0,r=a.length;s<r;){var o=s++,l=a[o];0==n?this.drawLine(l,e,i):1==n?this.drawLine(l,e-l.length*Math.floor(8*this.myDad.myScaleX),i):this.drawLine(l,e-Math.floor(l.length*Math.floor(8*this.myDad.myScaleX)/2),i),i+=13*Math.floor(this.myDad.myScaleX)}},drawLine:function(t,e,i){for(var n=new Oa(e,i),a=t.length,s=0;s<a;){var r=s++,o=T.cca(t,r);(o>160||o<32)&&(o=A.DEFAULT_CHAR);var l=new v(n.x,n.y,0,0,F.getBase("bitmapFont"),0,5e3,1,1,this.myDad);l.animFrame=Math.floor(o)-32,this.textList.push(l),f.instance.displayWorld.castList.push(l),n.x+=8*this.myDad.myScaleX}},__class__:A});var E=function(){this.onChange=new mi};s["lime.AssetLibrary"]=E,E.__name__=["lime","AssetLibrary"],E.prototype={exists:function(t,e){return!1},getAudioBuffer:function(t){return null},getBytes:function(t){return null},getFont:function(t){return null},getImage:function(t){return null},getPath:function(t){return null},getText:function(t){var e=this.getBytes(t);return null==e?null:e.getString(0,e.length)},isLocal:function(t,e){return!0},list:function(t){return null},load:function(){var t=this;return new Gi(function(){return t})},loadAudioBuffer:function(t){var e=this;return new Gi(function(){return e.getAudioBuffer(t)})},loadBytes:function(t){var e=this;return new Gi(function(){return e.getBytes(t)})},loadFont:function(t){var e=this;return new Gi(function(){return e.getFont(t)})},loadImage:function(t){var e=this;return new Gi(function(){return e.getImage(t)})},loadText:function(t){return this.loadBytes(t).then(function(t){return new Gi(function(){return null==t?null:t.getString(0,t.length)})})},unload:function(){},__class__:E};var S=function(){this.type=new Qe,this.path=new Qe,this.className=new Qe,E.call(this);var t;t="img/bg.png",this.path.set(t,t),this.type.set(t,"IMAGE"),t="img/mbSplash.png",this.path.set(t,t),this.type.set(t,"IMAGE"),t="img/testSheet.plist",this.path.set(t,t),this.type.set(t,"TEXT"),t="img/testSheet3.png",this.path.set(t,t),this.type.set(t,"IMAGE"),t="data/testSheet3.xml",this.path.set(t,t),this.type.set(t,"TEXT");var e=null;if(null!=o.config&&Object.prototype.hasOwnProperty.call(o.config,"assetsPrefix")&&(e=o.config.assetsPrefix),null!=e)for(var i=this.path.keys();i.hasNext();){var n=i.next(),a=e+this.path.get(n);this.path.set(n,a)}};s.DefaultAssetLibrary=S,S.__name__=["DefaultAssetLibrary"],S.__super__=E,S.prototype=n(E.prototype,{exists:function(t,e){var i;i=null!=e?oi.__cast(e,String):null;var n=this.type.get(t);if(null!=n){if(n==i||("SOUND"==i||"MUSIC"==i)&&("MUSIC"==n||"SOUND"==n))return!0;if("BINARY"==i||null==i||"BINARY"==n&&"TEXT"==i)return!0}return!1},getAudioBuffer:function(t){return null},getBytes:function(t){var e,i=this.path.get(t);if(e=Wi.loaders.get(i),null==e)return null;var n=e.bytes;return null!=n?n:null},getFont:function(t){return oi.__cast(J.createInstance(this.className.get(t),[]),ea)},getImage:function(t){return sn.fromImageElement(function(e){var i,n=e.path.get(t);return i=Wi.images.get(n)}(this))},getPath:function(t){return this.path.get(t)},getText:function(t){var e,i=this.path.get(t);if(e=Wi.loaders.get(i),null==e)return null;var n=e.bytes;return null!=n?n.getString(0,n.length):null},isLocal:function(t,e){var i;return i=null!=e?oi.__cast(e,String):null,!0},list:function(t){var e;e=null!=t?oi.__cast(t,String):null;for(var i=[],n=this.type.keys();n.hasNext();){var a=n.next();(null==e||this.exists(a,t))&&i.push(a)}return i},loadAudioBuffer:function(t){var e=this,i=new Xi;return i.completeWith(new Gi(function(){return e.getAudioBuffer(t)})),i.future},loadBytes:function(t){var e=new Xi;if(this.path.exists(t)){var i=new Gn;e.completeWith(i.load(this.path.get(t)+"?"+fi.cache.version))}else e.complete(this.getBytes(t));return e.future},loadImage:function(t){var e=new Xi;if(this.path.exists(t)){var i=new Image;i.onload=function(t){e.complete(sn.fromImageElement(i))},i.onerror=a(e,e.error),i.src=this.path.get(t)+"?"+fi.cache.version}else e.complete(this.getImage(t));return e.future},loadText:function(t){var e=new Xi;if(this.path.exists(t)){var i=new Gn,n=i.load(this.path.get(t)+"?"+fi.cache.version);n.onProgress(function(t){e.progress(t)}),n.onError(function(t){e.error(t)}),n.onComplete(function(t){e.complete(t.getString(0,t.length))})}else e.complete(this.getText(t));return e.future},__class__:S});var C=function(){this.actorsToRemove=[],this.SMOOTH=!0,this.castList=[],this.tileData=[],m.call(this),We.trace("----add Display World----",{fileName:"DisplayWorld.hx",lineNumber:45,className:"DisplayWorld",methodName:"new"}),this.tilesBitmapData=Ba.getBitmapData("img/testSheet3.png"),this.tilesheet=new no(this.tilesBitmapData),this.tilesheetCanvas=new m,this.addChild(this.tilesheetCanvas),this.tileMaster=new F(this,this.tilesheet),this.castList=[]};s.DisplayWorld=C,C.__name__=["DisplayWorld"],C.__super__=m,C.prototype=n(m.prototype,{safeRemoveActor:function(t){T.indexOf(this.actorsToRemove,t,0)<0&&this.actorsToRemove.push(t)},removeAllActors:function(){We.trace("removieng alll actoros >"+this.castList.length,{fileName:"DisplayWorld.hx",lineNumber:77,className:"DisplayWorld",methodName:"removeAllActors"});for(var t=0,e=this.castList;t<e.length;){var i=e[t];++t,this.actorsToRemove.push(i)}},reallyRemoveActors:function(){for(var t=0,e=this.actorsToRemove;t<e.length;){var i=e[t];++t;var n,a=i;n=T.indexOf(this.castList,a,0),n>-1&&this.castList.splice(n,1)}this.actorsToRemove=[]},update1:function(){this.tilesheetCanvas.get_graphics().clear(),this.tileData=[]},superSort:function(){je.sort(this.castList,function(t,e){return t.depth>e.depth?1:t.depth<e.depth?-1:0})},update2:function(){this.superSort();for(var t=this.tileData.length,e=0,i=this.castList.length;e<i;){var n=e++,a=this.castList[n];if(a.ACTIVE&&(a.update(),a.ROTATE_FLAG)){var s=new ka;s.translate(-a.offX,-a.offY),s.scale(a.myScaleX,a.myScaleY),s.rotate(a.myAngle),s.translate(a.position.x+a.offX,a.position.y+a.offY),this.tileData[t]=Math.round(s.tx-a.offX),this.tileData[t+1]=Math.round(s.ty-a.offY),this.tileData[t+2]=a.baseFrame+a.animFrame,this.tileData[t+3]=s.a,this.tileData[t+4]=s.b,this.tileData[t+5]=s.c,this.tileData[t+6]=s.d,t+=7}}},update3:function(){this.tilesheet.drawTiles(this.tilesheetCanvas.get_graphics(),this.tileData,this.SMOOTH,16),this.reallyRemoveActors()},__class__:C});var I=function(t,e){e=e.split("u").join(""),this.r=new RegExp(t,e)};s.EReg=I,I.__name__=["EReg"],I.prototype={match:function(t){return this.r.global&&(this.r.lastIndex=0),this.r.m=this.r.exec(t),this.r.s=t,null!=this.r.m},matched:function(t){if(null!=this.r.m&&t>=0&&t<this.r.m.length)return this.r.m[t];throw new ri("EReg::matched")},replace:function(t,e){return t.replace(this.r,e)},__class__:I};var L=function(){this.round=1,this.teamColList=[],this.teamList=[],this.team_id_count=0,this.tpGameTypeList=[],this.leagueList=[],this.finalScore=0,this.homeADV=!0,this.yourNextMatchText="",this.nextFixtureString="",this.leaguePos=0,this.SAVED_GAME=!0,this.nextOpponent=2,this.nextArcadeOpponent=5,this.myArcadeTeam=4,this.teamChosen=!0,this.RESULTS_TO_READ=!1,this.defineFixtureList(),this.loadTeam(),We.trace("myTeam"+this.myTeam,{fileName:"FootyLeague.hx",lineNumber:31,className:"FootyLeague",methodName:"new"}),this.SAVED_GAME?(this.teamChosen=!0,We.trace("league INIT - found saved game ",{fileName:"FootyLeague.hx",lineNumber:38,className:"FootyLeague",methodName:"new"})):(this.teamChosen=!1,this.resetLeagueData(),We.trace("league INIT - no save game ",{fileName:"FootyLeague.hx",lineNumber:44,className:"FootyLeague",methodName:"new"}))};s.FootyLeague=L,L.__name__=["FootyLeague"],L.prototype={startNewLeague:function(){this.teamChosen=!1,this.resetLeagueData()},loadTeam:function(){We.trace("------------------loading team",{fileName:"FootyLeague.hx",lineNumber:58,className:"FootyLeague",methodName:"loadTeam"});var t=sl.getLocal(f.instance.cookString),e=this;e.teamList=t.data.teamList,e.myTeam=t.data.myTeam,e.round=t.data.round,this.round>L.fixture_list.length-1,t.data.myTeam||(this.SAVED_GAME=!1),We.trace("--------------team loaded , my team is "+G.string(t.data.myTeam)+" my Team is "+this.myTeam,{fileName:"FootyLeague.hx",lineNumber:77,className:"FootyLeague",methodName:"loadTeam"}),We.trace("SAVED_GAME = "+G.string(this.SAVED_GAME),{fileName:"FootyLeague.hx",lineNumber:78,className:"FootyLeague",methodName:"loadTeam"})},saveTeam:function(){this.SAVED_GAME=!0,We.trace("------------------saving team "+this.round,{fileName:"FootyLeague.hx",lineNumber:85,className:"FootyLeague",methodName:"saveTeam"});var t=sl.getLocal(f.instance.cookString),e=this;t.data.teamList=e.teamList,t.data.myTeam=e.myTeam,t.data.round=e.round,t.flush()},getTeamName:function(t){return 0==t?this.teamList[f.instance.player0][0]:this.teamList[f.instance.player1][0]},okToGo:function(){return this.finalScore=Math.ceil(this.teamList[this.myTeam-1][2]+(this.teamList[this.myTeam-1][7]-this.teamList[this.myTeam-1][8])),this.finalScore<0&&(this.finalScore=0),this.round<L.fixture_list.length-1},findNextOpponent:function(){We.trace("----------------findNextOpponent",{fileName:"FootyLeague.hx",lineNumber:134,className:"FootyLeague",methodName:"findNextOpponent"});var t=1,e=!1,i=!1,n=L.fixture_list[this.round];for(this.nextFixtureString="",We.trace(n+"<fixString : this far"+this.myTeam,{fileName:"FootyLeague.hx",lineNumber:144,className:"FootyLeague",methodName:"findNextOpponent"});!e;){var a=G.parseInt(T.substr(n,5*t-5+12,2)),s=G.parseInt(T.substr(n,5*t-2+12,2));if(a==this.myTeam||s==this.myTeam){We.trace("FOUND YOUR NEXT MATCH",{fileName:"FootyLeague.hx",lineNumber:155,className:"FootyLeague",methodName:"findNextOpponent"});var r=T.substr(n,0,12);this.yourNextMatchText="Next: "+r+"\n"+G.string(this.teamList[a-1][0])+" vs "+G.string(this.teamList[s-1][0]),e=!0,a==this.myTeam?(this.nextOpponent=s,f.instance.player1=s-1,this.homeADV=!0):(this.nextOpponent=a,f.instance.player1=a-1,this.homeADV=!1)}t++,We.trace("game = "+t,{fileName:"FootyLeague.hx",lineNumber:175,className:"FootyLeague",methodName:"findNextOpponent"}),t>10&&(We.trace("**** OH SHIT NO GAME SCHEDULED FOR YOU SOUP NAZI ***",{fileName:"FootyLeague.hx",lineNumber:179,className:"FootyLeague",methodName:"findNextOpponent"}),e=!0,this.doResults(!1,-1,-1),this.round<L.fixture_list.length&&(i=!0))}i?(We.trace("YOUR TEAM NOT IN THAT ROUND ",{fileName:"FootyLeague.hx",lineNumber:197,className:"FootyLeague",methodName:"findNextOpponent"}),this.findNextOpponent()):We.trace("drawLeague from findnext opp",{fileName:"FootyLeague.hx",lineNumber:200,className:"FootyLeague",methodName:"findNextOpponent"})},doResults:function(t,e,i){We.trace("WE BE DOING RESULTS",{fileName:"FootyLeague.hx",lineNumber:210,className:"FootyLeague",methodName:"doResults"});for(var n=1,a=L.fixture_list[this.round],s=!1;!s;){var r=G.parseInt(a.substr(5*n-5+12,2)),o=G.parseInt(a.substr(5*n-2+12,2));if(r>0&&r<50)if(r==this.myTeam||o==this.myTeam){this.teamList[r-1][3]+=1,this.teamList[o-1][3]+=1;var l=1,_=1;e>i?(_=3,l=0):i>e&&(_=0,l=3),r==this.myTeam?(this.teamList[r-1][2]+=l,this.teamList[o-1][2]+=_,this.teamList[r-1][7]+=i,this.teamList[r-1][8]+=e,this.teamList[o-1][7]+=e,this.teamList[o-1][8]+=i,l>_?(this.teamList[r-1][4]+=1,this.teamList[o-1][6]+=1):l<_?(this.teamList[r-1][6]+=1,this.teamList[o-1][4]+=1):(this.teamList[r-1][5]+=1,this.teamList[o-1][5]+=1)):(this.teamList[o-1][2]+=l,this.teamList[r-1][2]+=_,this.teamList[r-1][8]+=i,this.teamList[r-1][7]+=e,this.teamList[o-1][8]+=e,this.teamList[o-1][7]+=i,l>_?(this.teamList[r-1][6]+=1,this.teamList[o-1][4]+=1):l<_?(this.teamList[r-1][4]+=1,this.teamList[o-1][6]+=1):(this.teamList[r-1][5]+=1,this.teamList[o-1][5]+=1))}else{this.teamList[r-1][3]+=1,this.teamList[o-1][3]+=1;var h=R.getRand(2)+R.getRand(Math.ceil(this.teamList[r-1][1]/2)),c=R.getRand(2)+R.getRand(Math.ceil(this.teamList[o-1][1]/2));this.teamList[r-1][7]+=h,this.teamList[r-1][8]+=c,this.teamList[o-1][7]+=c,this.teamList[o-1][8]+=h,We.trace(G.string(this.teamList[r-1][1])+" : "+h+" ;;;;;;; vs "+G.string(this.teamList[o-1][1])+" : "+c,{fileName:"FootyLeague.hx",lineNumber:302,className:"FootyLeague",methodName:"doResults"}),h>c?(this.teamList[r-1][2]+=3,this.teamList[r-1][4]+=1,this.teamList[o-1][6]+=1):c>h?(this.teamList[o-1][2]+=3,this.teamList[o-1][4]+=1,this.teamList[r-1][6]+=1):(this.teamList[r-1][2]+=1,this.teamList[o-1][2]+=1,this.teamList[r-1][5]+=1,this.teamList[o-1][5]+=1)}else s=!0,this.round++,We.trace("** NO MORE GAMES TO PARSE ** round is now "+this.round+" game SAVED HERE",{fileName:"FootyLeague.hx",lineNumber:360,className:"FootyLeague",methodName:"doResults"}),this.saveTeam(),this.round>L.fixture_list.length-1&&We.trace("OHHHHHHHHHHHH SHIT",{fileName:"FootyLeague.hx",lineNumber:362,className:"FootyLeague",methodName:"doResults"});n++}},drawLeague:function(){window.famobi_analytics.trackScreen(famobi_analytics.SCREEN_LEVELRESULT),this.leagueList=[];for(var t=[],e=0,i=this.teamList.length;e<i;){var n=e++;this.leagueList[n]=this.teamList[n],t[n]={name:this.teamList[n][0],points:this.teamList[n][2],played:this.teamList[n][3],won:this.teamList[n][4],myId:n}}t.sort(function(t,e){return Math.floor(e.points)-Math.floor(t.points)});for(var a=0,s=t.length;a<s;){var r=a++;this.myTeam-1==t[r].myId&&(this.leaguePos=r,We.trace("I AM CURRENTLY At "+this.leaguePos,{fileName:"FootyLeague.hx",lineNumber:399,className:"FootyLeague",methodName:"drawLeague"}))}return We.trace("----order list",{fileName:"FootyLeague.hx",lineNumber:403,className:"FootyLeague",methodName:"drawLeague"}),We.trace(t,{fileName:"FootyLeague.hx",lineNumber:404,className:"FootyLeague",methodName:"drawLeague"}),We.trace("--------------",{fileName:"FootyLeague.hx",lineNumber:405,className:"FootyLeague",methodName:"drawLeague"}),t},add_new_team:function(t,e,i,n,a,s,r,o,l,_,h){var c=this.team_id_count;i=L.newTeamList[c][0],t=L.newTeamList[c][1],this.teamList[this.team_id_count]=[i,t,0,0,0,0,0,0,0,this.team_id_count+1],this.teamColList[this.team_id_count]=[n,a,s,o,l],this.team_id_count++},resetLeagueData:function(){this.teamChosen=!1,this.round=1,this.teamList=[],this.teamColList=[],this.team_id_count=0,this.add_new_team(9,"sleeves","Arsenal","red","white","white","red","red","white","white","We won the league at White Hart Lane!"),this.add_new_team(5,"sleeves","Aston Villa","claret","white","claret","claret","claret","skyblue","claret","O'Leary !"),this.add_new_team(4,"halves","Blackburn","white","blue","blue","white","blue","blue","blue","Souness' Blue and White Army !"),this.add_new_team(4,"plain","Bolton","white","white","white","blue","white","white","white","We are the 1 and only Wanderers!"),this.add_new_team(10,"plain","Chelsea","blue","blue","white","white","blue","blue","white","There's only 1 Kezman!"),this.add_new_team(6,"plain","Everton","blue","white","blue","white","blue","blue","blue","ROONEY ! ROONEY !"),this.add_new_team(6,"plain","Fulham","white","black","white","black","white","white","black","Al Fayed's Black and White Army!"),this.add_new_team(8,"plain","Liverpool","red","red","red","white","red","red","red","1 Michael Owen?"),this.add_new_team(10,"plain","Man City","skyblue","white","skyblue","white","skyblue","skyblue","skyblue","Blue Moon - I saw you standing alone"),this.add_new_team(10,"plain","Man Utd","red","white","black","white","red","red","red","There's only 1 Ronaldo!"),this.add_new_team(6,"stripe","Newcastle","black","black","black","white","white","black","black","there's only 1 James Milner..."),this.add_new_team(6,"plain","Norwich","yellow","green","yellow","green","yellow","yellow","yellow","POOPOO"),this.add_new_team(7,"hoops","QPR","blue","white","white","blue","white","white","white","POOPOO"),this.add_new_team(4,"stripe","Stoke City","white","red","white","white","red","white","white","THE LORDS MY SHEPHERD !"),this.add_new_team(5,"stripe","Sunderland","white","black","red","black","red","white","white","THE LORDS MY SHEPHERD !"),this.add_new_team(7,"plain","Swansea","white","black","white","black","white","white","white","POOPOO"),this.add_new_team(7,"plain","Tottenham","white","darkblue","white","darkblue","white","white","white","Keano ! there's only 1 Keano"),this.add_new_team(3,"stripe","West Brom","white","blue","blue","red","blue","blue","blue","THE LORDS MY SHEPHERD !"),this.add_new_team(3,"stripe","Wigan","blue","blue","white","blue","white","blue","blue","1 Darren Huckerby!"),this.add_new_team(3,"plain","Wolves","orange","black","orange","black","orange","orange","orange","POOPOO")},defineFixtureList:function(){L.fixture_list=["blag","08 Aug 2015 10v1702v0306v1807v1505v1204v16","09 Aug 2015 01v2011v1308v14","10 Aug 2015 09v19","14 Aug 2015 02v10","15 Aug 2015 06v1312v1511v1614v1718v1907v20","16 Aug 2015 01v0504v09","17 Aug 2015 03v08","22 Aug 2015 10v1102v0507v1712v1415v1603v20","23 Aug 2015 04v1906v0913v18","24 Aug 2015 01v08","29 Aug 2015 01v1102v1503v0704v0508v2009v1814v1906v17","30 Aug 2015 12v1310v16","12 Sep 2015 04v0601v1405v0903v1216v1813v1908v10","13 Sep 2015 15v1702v07","14 Sep 2015 11v20","19 Sep 2015 01v0402v1903v1511v1807v1406v1609v20","20 Sep 2015 05v1708v1210v13","26 Sep 2015 09v1701v0702v0810v1513v1603v1412v2004v11","27 Sep 2015 05v18","28 Sep 2015 06v19","03 Oct 2015 01v1002v1403v1804v1305v1906v0809v1107v1215v2016v17","17 Oct 2015 02v0405v2006v1003v0911v1207v1314v1608v1701v1815v19","24 Oct 2015 01v0602v1603v1705v0708v1309v1012v1914v1811v1504v20","31 Oct 2015 04v0805v1006v1509v1211v1403v1301v1602v1718v2007v19","07 Nov 2015 01v1702v0903v1107v1805v0810v1912v1604v1413v1506v20","21 Nov 2015 04v1205v1502v0608v0907v1113v1403v1617v2010v1801v19","28 Nov 2015 02v1803v0605v1107v1008v1609v1301v1214v1504v1719v20","05 Dec 2015 01v1503v0405v0610v2008v1102v1309v1407v1612v1817v19","12 Dec 2015 01v0203v1005v1304v0708v1909v1606v1215v1811v1714v20","19 Dec 2015 01v0904v1506v0710v1202v1113v1705v1416v2008v1803v19","26 Dec 2015 02v2003v0504v1807v0809v1506v1101v1310v1416v1912v17","28 Dec 2015 01v0305v1606v1407v0904v1002v1208v1517v1811v1913v20","02 Jan 2016 01v1104v0506v1703v0710v1612v1302v1509v1814v1908v20","12 Jan 2016 02v0503v2015v1601v08","13 Jan 2016 04v1906v0910v1113v1812v1407v17","16 Jan 2016 02v0703v1204v0608v1005v0911v2013v1901v1416v1815v17","23 Jan 2016 01v0405v1706v1607v1410v1308v1203v1511v1802v1909v20","02 Feb 2016 01v1307v0812v1709v1504v1802v2003v0510v1416v19","03 Feb 2016 06v11","06 Feb 2016 02v1201v0304v1008v1507v0911v1913v2006v1405v1617v18","13 Feb 2016 01v0702v0803v1404v1105v1806v1909v1712v2010v1513v16","27 Feb 2016 07v1206v0801v1009v1104v1302v1416v1703v1805v1915v20","01 Mar 2016 01v1602v0603v1307v1904v1205v1517v2008v0910v18","02 Mar 2016 11v14","05 Mar 2016 04v1405v0806v2002v0903v1113v1512v1601v1707v1810v19","12 Mar 2016 01v1902v1703v1607v1104v0805v1009v1213v1406v1518v20","19 Mar 2016 04v2005v0701v0609v1011v1508v1302v1603v1714v1812v19","02 Apr 2016 01v1802v0403v0907v1308v1706v1011v1214v1615v1905v20","09 Apr 2016 02v0305v1208v1409v1911v1307v1504v1610v1706v1801v20","16 Apr 2016 01v0503v0804v0906v1307v2002v1011v1612v1514v1718v19","23 Apr 2016 02v1303v0405v0607v1608v1109v1412v1801v1517v1910v20","30 Apr 2016 01v1204v1703v0607v1005v1109v1314v1508v1602v1819v20","07 May 2016 02v1103v1905v1406v0708v1801v0910v1204v1513v1716v20","15 May 2016 01v0204v0706v1203v1011v1705v1314v2009v1615v1808v19"];
},__class__:L};var M=function(t){this.CLICK_LOCK=!0,this.BEAT_SCORE=!1,this.SHRINK_BUT=!1,this.myWorld=t,We.trace("HELLO GAMEOVER",{fileName:"GameOverScreen.hx",lineNumber:44,className:"GameOverScreen",methodName:"new"}),this.Logo=new v(160,50,Math.floor(167),Math.floor(81.5),F.getBase("titleLogo"),0,5e3),this.StartBut=new v(160,200,Math.floor(90),39,F.getBase("titleStartBut"),0,5e3),this.SubmitBut=new v(160,(-200),Math.floor(90),39,F.getBase("titleStartBut"),0,5e3),this.myWorld.castList.push(this.Logo),this.myWorld.castList.push(this.StartBut),this.myWorld.castList.push(this.SubmitBut);var e=0;e>f.instance.totalScore&&(f.instance.totalScore=e,f.instance.writeCookie(),this.BestClip=new v(100,70,Math.floor(59),Math.floor(67),F.getBase("titleStartBut")),this.myWorld.castList.push(this.BestClip));var i;i=null==e?"null":""+e;for(var n=i.length,a=0;a<n;){var s,r=a++,o=i.charAt(r);s=T.indexOf(M.numData,o,0);var l=new v(230+18*r,526,Math.floor(18),Math.floor(18),F.BASE_FRAME_GUI_TEXT_NUMS+s);this.myWorld.castList.push(l)}i=G.string(f.instance.totalScore),null==f.instance.totalScore&&(i=""),n=i.length;for(var _=0;_<n;){var h,c=_++,u=i.charAt(c);h=T.indexOf(M.numData,u,0);var d=new v(320+18*c,526,Math.floor(18),Math.floor(18),F.BASE_FRAME_GUI_TEXT_NUMS+h);this.myWorld.castList.push(d)}var m=new Tl("Verdana",14,12303291,(!0));m.align=0,this.messageField=new xl,f.instance.myTileWorld.addChild(this.messageField),this.messageField.set_width(180),this.messageField.set_height(20),this.messageField.set_y(570),this.messageField.set_x(180),this.messageField.set_defaultTextFormat(m),this.messageField.set_selectable(!0),this.messageField.set_type(1),this.messageField.set_background(!0),this.messageField.set_text("type name"),We.trace("HELLO GAMEOVER end",{fileName:"GameOverScreen.hx",lineNumber:113,className:"GameOverScreen",methodName:"new"})};s.GameOverScreen=M,M.__name__=["GameOverScreen"],M.handleLoadSuccessful=function(t){We.trace("Message sent.",{fileName:"GameOverScreen.hx",lineNumber:144,className:"GameOverScreen",methodName:"handleLoadSuccessful"})},M.handleLoadError=function(t){We.trace("Message failed.",{fileName:"GameOverScreen.hx",lineNumber:149,className:"GameOverScreen",methodName:"handleLoadError"})},M.prototype={sendScore:function(){},update:function(){null!=this.BestClip&&this.BestClip.tweenTimer<g.tweenDATA[1].length&&(this.BestClip.tweenTimer+=.2,this.BestClip.tweenTimer==g.tweenDATA[1].length-2&&V.playSound("sndBonus")),!this.StartBut.testProx(this.myWorld.tx,this.myWorld.ty,37)||1!=f.instance.clicked||this.SHRINK_BUT||this.CLICK_LOCK||(this.SHRINK_BUT=!0,this.CLICK_LOCK=!0,We.trace("BONGGG",{fileName:"GameOverScreen.hx",lineNumber:173,className:"GameOverScreen",methodName:"update"})),this.SubmitBut.testProx(this.myWorld.tx,this.myWorld.ty,37)&&1==f.instance.clicked&&this.SubmitBut.myScaleX>0&&!this.CLICK_LOCK&&(this.sendScore(),this.CLICK_LOCK=!0,this.SubmitBut.myScaleX=0,this.SubmitBut.myScaleY=0),this.StartBut.testProx(this.myWorld.tx,this.myWorld.ty,37)&&!this.SHRINK_BUT?this.StartBut.myScaleX+=(1.3-this.StartBut.myScaleX)/5:this.SHRINK_BUT||(this.StartBut.myScaleX+=(1-this.StartBut.myScaleX)/5),this.SHRINK_BUT?(this.StartBut.myAngle+=.1,this.StartBut.myScaleX-=.1,this.StartBut.myScaleX<.1&&(null!=this.BestClip,f.instance.myTileWorld.removeChild(this.messageField),this.myWorld.resetGame())):this.StartBut.myScaleX+=(1-this.StartBut.myScaleX)/10,0==f.instance.clicked&&(this.CLICK_LOCK=!1),this.StartBut.myScaleY=this.StartBut.myScaleX},__class__:M};var B=function(t){this.displayWorld=f.instance.displayWorld,this.SHRINK_BUT=!1,this.myWorld=t};s.Gui=B,B.__name__=["Gui"],B.prototype={updateTime:function(){var t=this.myWorld.getClock();t<0&&(t=0);var e;e=null==t?"null":""+t;for(var i=e.length,n=0;n<i;){var a,s=n++,r=e.charAt(s);a=T.indexOf(M.numData,r,0),f.instance.displayWorld.tileData=f.instance.displayWorld.tileData.concat([402+18*i-36*i+36*s,26,F.BASE_FRAME_GUI_TEXT_NUMS+a,1,0,0,1])}},updateScore:function(){for(var t=G.string(f.instance.player1Score),e=t.length,i=0;i<e;){var n,a=i++,s=t.charAt(a);n=T.indexOf(M.numData,s,0),this.displayWorld.tileData=this.displayWorld.tileData.concat([67-36*e+36*a,26,F.BASE_FRAME_GUI_TEXT_NUMS+n,1,0,0,1])}for(var r=G.string(f.instance.player0Score),o=r.length,l=0;l<o;){var _,h=l++,c=r.charAt(h);_=T.indexOf(M.numData,c,0),this.displayWorld.tileData=this.displayWorld.tileData.concat([765-36*o+36*h,26,F.BASE_FRAME_GUI_TEXT_NUMS+_,1,0,0,1])}this.myWorld.GOAL_SCORED||this.updateTime()},update:function(){},__class__:B};var R=function(){};s.JMath=R,R.__name__=["JMath"],R.fixString=function(t){var e="";return e=1==(null==t?"null":""+t).length?"0"+(null==t?"null":""+t):null==t?"null":""+t},R.increaseWithLimit=function(t,e,i){return t+=e,t>i&&(t=0),t},R.increaseWithLimitAndStick=function(t,e,i){return t+=e,Math.abs(t)>Math.abs(i)&&(t=i),t},R.getRand=function(t){var e=Math.floor(Math.random()*t);return e},R.getAngleRad=function(t,e,i,n){var a=Math.sqrt((t-i)*(t-i)+(e-n)*(e-n)),s=Math.acos((e-n)/a);return t>i&&(s=6.28318531-Math.acos((e-n)/a)),s},R.getX=function(t){var e=t*(Math.PI/180);return Math.sin(e)},R.getY=function(t){var e=t*(Math.PI/180);return-Math.cos(e)},R.getXRad=function(t){var e=t;return Math.sin(e)},R.getYRad=function(t){var e=t;return-Math.cos(e)},R.getRad=function(t){var e=t*(Math.PI/180);return e},R.getHyp=function(t,e,i,n){var a=Math.sqrt((t-i)*(t-i)+(e-n)*(e-n));return a},R.getAngleDirRad=function(t,e){var i=0;return i=Math.abs(e-t)>Math.PI-.1&&Math.abs(e-t)<Math.PI+.1?Math.PI:Math.abs(e-t)>Math.PI?e-(t+2*Math.PI):e-t},R.prototype={__class__:R};var D=function(){this.CLICK_LOCK=!0,this.teamOver=-1,this.teamChosen=-1,this.selectedClip=null,this.cList=[],this.BUTTON_VISIBLE=!1,this.CHOOSE_TEAM_FLAG=!1,this.RESULTS_TO_READ=!1,this.MATCH_TO_PLAY=!1,this.READY_TO_PLAY=!1,this.NEXT_FIXTURE_IS_GO=!1,this.startTimer=0,this.castList=f.instance.displayWorld.castList,this.FOR_SUBMIT=!1,this.SHRINK_BUT=!1,We.trace("--------------------",{fileName:"LevelSelect.hx",lineNumber:71,className:"LevelSelect",methodName:"new"}),We.trace("------LEVEL SELECT--",{fileName:"LevelSelect.hx",lineNumber:72,className:"LevelSelect",methodName:"new"}),We.trace("--------------------",{fileName:"LevelSelect.hx",lineNumber:73,className:"LevelSelect",methodName:"new"}),m.call(this),f.instance.displayWorld.SMOOTH=!1,this.Bg=new v(0,0,Math.floor(1),Math.floor(1),F.getBase("levSelectBg"),0,2e3),this.BgMid=new v(0,150,Math.floor(1),Math.floor(1),F.getBase("levSelectBg2"),0,2e3,1,3),this.BgBot=new v(0,500,Math.floor(1),Math.floor(1),F.getBase("levSelectBg"),0,2e3,1,(-1)),this.Logo=new v(370,(-200),Math.floor(167),Math.floor(81.5),F.getBase("titleLogo"),0,2e3),this.StartBut=new v(400,420,Math.floor(48),Math.floor(48),F.getBase("playBut"),0,2e3),this.backBut=new v(40,40,Math.floor(27),Math.floor(27),F.getBase("backBut"),0,2e3),this.castList.push(this.Bg),this.castList.push(this.BgMid),this.castList.push(this.BgBot),this.castList.push(this.Logo),this.castList.push(this.StartBut),this.castList.push(this.backBut),this.StartBut.myScaleX=this.StartBut.myScaleY=0,this.addEventListener("enterFrame",a(this,this.update));var t=new v(370,15,0,0,F.getBase("blank"),0,3e3);if(this.objText=new A(0,0,Math.floor(1),Math.floor(1),F.getBase("blank"),0,2100,1,1,t),t.myScaleX=2,t.myScaleY=2,f.instance.myLeague.teamChosen&&!f.instance.TWO_PLAYER){this.teamChosen=f.instance.myLeague.myTeam-1,f.instance.player0=this.teamChosen;var e=new v(275,90,Math.floor(1),Math.floor(1),F.getBase("levSelTable"),0,2e3);if(this.castList.push(e),f.instance.myLeague.okToGo()){f.instance.myLeague.findNextOpponent(),this.addLeagueGfk();var i=f.instance.myLeague.myTeam;i=f.instance.myLeague.nextOpponent,this.objText.getText(f.instance.myLeague.yourNextMatchText)}else this.FOR_SUBMIT=!0,this.addLeagueGfk(),this.objText.getText("SEASON END : YOU CAME IN AT "+f.instance.myLeague.leaguePos+"\nFinal Score = "+f.instance.myLeague.finalScore)}else f.instance.TWO_PLAYER?f.instance.PLAYER_ONE_CHOSEN?(window.famobi_analytics.trackScreen("SCREEN_LEVELSELECT","PLAYER2"),this.objText.getText("CHOOSE PLAYER TWO")):(window.famobi_analytics.trackScreen("SCREEN_LEVELSELECT","PLAYER1"),this.objText.getText("CHOOSE PLAYER ONE")):(window.famobi_analytics.trackScreen("SCREEN_LEVELSELECT","TEAM"),this.objText.getText("PICK A TEAM")),this.CHOOSE_TEAM_FLAG=!0,this.addTeamChoose()};s.LevelSelect=D,D.__name__=["LevelSelect"],D.handleLoadSuccessful=function(t){We.trace("Message sent.",{fileName:"LevelSelect.hx",lineNumber:274,className:"LevelSelect",methodName:"handleLoadSuccessful"})},D.handleLoadError=function(t){We.trace("Message failed.",{fileName:"LevelSelect.hx",lineNumber:279,className:"LevelSelect",methodName:"handleLoadError"})},D.__super__=m,D.prototype=n(m.prototype,{addTextBox:function(){var t=new Tl("Verdana",14,12303291,(!0));t.align=0,this.messageField=new xl,f.instance.addChild(this.messageField),this.messageField.set_width(180),this.messageField.set_height(20),this.messageField.set_y(363),this.messageField.set_x(280),this.messageField.set_defaultTextFormat(t),this.messageField.set_selectable(!0),this.messageField.set_type(1),this.messageField.set_background(!0),this.messageField.set_text("type name")},sendScore:function(){},addLeagueGfk:function(){var t=f.instance.myLeague.drawLeague(),e=new v(274,96+13*f.instance.myLeague.leaguePos,0,0,F.getBase("leagueGlow"),0,3e3);this.castList.push(e);for(var i=0,n=f.instance.myLeague.teamList.length;i<n;){for(var a=i++,s=new v(370,0,0,0,F.getBase("blank"),0,3e3),r=new A(0,0,Math.floor(1),Math.floor(1),F.getBase("blank"),0,2100,1,1,s),o=G.string(t[a].name),l=0,_=14-o.length;l<_;){l++;o+=" "}o+=R.fixString(t[a].played)+" ",o+=R.fixString(t[a].won)+" ",o+=R.fixString(t[a].points)+" ",r.getText(o),s.position.x=370,s.position.y=95+13*a}this.BUTTON_VISIBLE=!0},addTeamChoose:function(){for(var t=10,e=Math.floor(80),i=0,n=f.instance.myLeague.teamList.length;i<n;){var a=i++;We.trace(a+" < - > "+G.string(f.instance.myLeague.teamList[a][0]),{fileName:"LevelSelect.hx",lineNumber:337,className:"LevelSelect",methodName:"addTeamChoose"});var s=new v(0,0,20,40,F.getBase("teamBodySheet"),0,3e3);this.cList.push(s),this.castList.push(s),s.position.x=40+e*(a%t),s.position.y=160+140*Math.floor(a/t),s.animFrame=a;var r=new v(s.position.x,s.position.y+50,Math.floor(1),Math.floor(1),F.getBase("blank"),0,2100,1,1),o=new A(0,0,Math.floor(1),Math.floor(1),F.getBase("blank"),0,2100,1,1,r);o.getText(f.instance.myLeague.teamList[a][0].substr(0,7))}We.trace("-------------- adding legSrpite",{fileName:"LevelSelect.hx",lineNumber:350,className:"LevelSelect",methodName:"addTeamChoose"}),f.instance.TWO_PLAYER&&f.instance.PLAYER_ONE_CHOSEN&&(this.cList[f.instance.player0].myScaleX=this.cList[f.instance.player0].myScaleY=1.3)},startGame:function(){this.FOR_SUBMIT?(this.sendScore(),f.instance.removeChild(this.messageField),f.instance.myLeague.startNewLeague(),f.instance.myLeague.SAVED_GAME=!1,f.instance.removeChild(this),f.instance.displayWorld.removeAllActors(),f.instance.displayWorld.reallyRemoveActors(),this.removeEventListener("enterFrame",a(this,this.update)),f.instance.addTitleScreen()):(window.famobi_analytics.trackEvent("EVENT_LEVELSTART",{levelName:"Level"+f.instance.level}),window.famobi_analytics.trackScreen("SCREEN_LEVEL"),f.instance.gameTime=f.instance.masterGameTime,f.instance.player0Score=0,f.instance.player1Score=0,f.instance.removeChild(this),f.instance.displayWorld.removeAllActors(),f.instance.displayWorld.reallyRemoveActors(),this.removeEventListener("enterFrame",a(this,this.update)),f.instance.TWO_PLAYER?(f.instance.gameTime=60,f.instance.PLAYER_TWO_CHOSEN?f.instance.startGame():f.instance.addLevelSelect()):this.CHOOSE_TEAM_FLAG?f.instance.addLevelSelect():f.instance.startGame())},update:function(t){f.instance.displayWorld.update1();var e=f.instance.stage.get_mouseX(),i=f.instance.stage.get_mouseY();if(this.Logo.position.y+=(-150-this.Logo.position.y)/10,this.BUTTON_VISIBLE)if(this.StartBut.testProx(e,i,30)&&!this.SHRINK_BUT||!this.SHRINK_BUT,!this.StartBut.testProx(e,i,30)||1!=f.instance.clicked||this.SHRINK_BUT||this.CLICK_LOCK||(this.SHRINK_BUT=!0,V.playSound("sndClick")),this.SHRINK_BUT){if(this.StartBut.myAngle+=.1,this.StartBut.myScaleX-=.1,this.StartBut.myScaleY=this.StartBut.myScaleX,this.StartBut.myScaleX<.1)return this.StartBut.myScaleX=.1,void this.startGame()}else this.StartBut.myScaleX+=(1-this.StartBut.myScaleX)/5,this.StartBut.myScaleY=this.StartBut.myScaleX;var n=!1;if(this.CHOOSE_TEAM_FLAG){for(var a=0,s=f.instance.myLeague.teamList.length;a<s;){var r=a++,o=this.cList[r];o.testProx(e,i,30)&&(n=!0,null!=this.selectedClip&&(f.instance.TWO_PLAYER&&!f.instance.PLAYER_TWO_CHOSEN&&this.teamOver==f.instance.player0||f.instance.TWO_PLAYER&&f.instance.PLAYER_TWO_CHOSEN||!f.instance.TWO_PLAYER&&f.instance.myLeague.teamChosen||(this.selectedClip.myScaleX=this.selectedClip.myScaleY=1)),this.teamOver=r,(f.instance.TWO_PLAYER&&!f.instance.PLAYER_TWO_CHOSEN||!f.instance.TWO_PLAYER&&!f.instance.myLeague.teamChosen)&&(this.selectedClip=this.cList[r],this.selectedClip.myScaleX=this.selectedClip.myScaleY=1.3))}if(1==f.instance.clicked&&this.teamOver!=-1&&!this.CLICK_LOCK&&n)if(this.CLICK_LOCK=!0,f.instance.TWO_PLAYER)this.teamChosen=this.teamOver,f.instance.PLAYER_ONE_CHOSEN?this.teamChosen==f.instance.player0||f.instance.PLAYER_TWO_CHOSEN||(V.playSound("sndJump"),We.trace("Main.instance.player0 "+f.instance.player0,{fileName:"LevelSelect.hx",lineNumber:543,className:"LevelSelect",methodName:"update"}),We.trace("team chosen "+this.teamChosen,{fileName:"LevelSelect.hx",lineNumber:544,className:"LevelSelect",methodName:"update"}),f.instance.PLAYER_TWO_CHOSEN=!0,f.instance.player1=this.teamChosen,this.BUTTON_VISIBLE=!0,this.objText.deleteLets()):(f.instance.PLAYER_ONE_CHOSEN=!0,f.instance.player0=this.teamChosen,this.startGame(),V.playSound("sndJump"));else{if(V.playSound("sndJump"),We.trace("TWO PLAY = "+G.string(f.instance.TWO_PLAYER),{fileName:"LevelSelect.hx",lineNumber:558,className:"LevelSelect",methodName:"update"}),f.instance.myLeague.teamChosen){var l=this.cList[this.teamChosen];l.myScaleX=l.myScaleY=1,this.selectedClip=this.cList[this.teamOver],this.selectedClip.myScaleX=this.selectedClip.myScaleY=1.3}else this.BUTTON_VISIBLE=!0,this.objText.deleteLets();this.teamChosen=this.teamOver,f.instance.player0=this.teamChosen,f.instance.myLeague.myTeam=this.teamChosen+1,f.instance.myLeague.teamChosen=!0}}!this.backBut.testProx(e,i,100)||1!=f.instance.clicked||this.SHRINK_BUT||this.CLICK_LOCK||(V.playSound("sndClick"),this.backToTitle()),0==f.instance.clicked&&(this.CLICK_LOCK=!1,We.trace("CLICK LOCK IS FAAALSE",{fileName:"LevelSelect.hx",lineNumber:603,className:"LevelSelect",methodName:"update"})),We.trace("clicked = "+f.instance.clicked,{fileName:"LevelSelect.hx",lineNumber:606,className:"LevelSelect",methodName:"update"}),f.instance.displayWorld.update2(),f.instance.displayWorld.update3()},backToTitle:function(){this.FOR_SUBMIT&&f.instance.removeChild(this.messageField),f.instance.displayWorld.removeAllActors(),f.instance.displayWorld.reallyRemoveActors(),this.removeEventListener("enterFrame",a(this,this.update)),f.instance.removeChild(this),f.instance.addTitleScreen()},__class__:D});var P=function(){this.length=0};s.List=P,P.__name__=["List"],P.prototype={add:function(t){var e=[t];null==this.h?this.h=e:this.q[1]=e,this.q=e,this.length++},pop:function(){if(null==this.h)return null;var t=this.h[0];return this.h=this.h[1],null==this.h&&(this.q=null),this.length--,t},iterator:function(){return new N(this.h)},__class__:P};var N=function(t){this.head=t,this.val=null};s["_List.ListIterator"]=N,N.__name__=["_List","ListIterator"],N.prototype={hasNext:function(){return null!=this.head},next:function(){return this.val=this.head[0],this.head=this.head[1],this.val},__class__:N};var F=function(t,e){this.frameCount=0,this.defineDataList(),this.myWorld=t;var i=Ba.getText("data/testSheet3.xml");We.trace("------------",{fileName:"MasterTileCreator.hx",lineNumber:195,className:"MasterTileCreator",methodName:"new"}),We.trace(i,{fileName:"MasterTileCreator.hx",lineNumber:196,className:"MasterTileCreator",methodName:"new"}),We.trace("--------------",{fileName:"MasterTileCreator.hx",lineNumber:197,className:"MasterTileCreator",methodName:"new"});for(var n=Q.parse(i).firstElement(),a=n.elements();a.hasNext();){var s=a.next(),r=[s.get("n"),s.get("x"),s.get("y"),s.get("w"),s.get("h")];F.sheetList.push(r),We.trace("=== "+s.get("n"),{fileName:"MasterTileCreator.hx",lineNumber:206,className:"MasterTileCreator",methodName:"new"})}for(var o,l,_,h,c,u,d,m,f=0,p=F.dataList.length;f<p;){var g=f++,v=F.dataList[g];F.dataList[g][0]=this.frameCount,o=G.string(v[1])+".png",l=v[2],_=v[3],u=l*_,v.push(this.frameCount),h=Math.floor(this.gse(o,"w")/l),c=Math.floor(this.gse(o,"h")/_),We.trace("rect for "+o+" tileNum = "+u+" tileWidth = "+h+" height = "+c+" frame Count = "+this.frameCount,{fileName:"MasterTileCreator.hx",lineNumber:239,className:"MasterTileCreator",methodName:"new"});for(var y=0;y<u;){var x=y++;d=G["int"](this.gse(o,"x"))+x%l*h,m=G["int"](this.gse(o,"y"))+c*Math.floor(x/l),this.myWorld.tilesheet.addTileRect(new Zs(d,m,h,c)),this.frameCount++}We.trace("----------------------",{fileName:"MasterTileCreator.hx",lineNumber:248,className:"MasterTileCreator",methodName:"new"})}F.BASE_FRAME_GUI_TEXT_NUMS=F.getBase("guiNumsBig"),F.BASE_FRAME_GUI_TEXT_NUMS_SMALL=F.getBase("guiNumsSmall"),F.BASE_FRAME_BALL=F.getBase("Frisbee")};s.MasterTileCreator=F,F.__name__=["MasterTileCreator"],F.getBase=function(t){for(var e=0,i=0,n=F.dataList.length;i<n;){var a=i++;t==F.dataList[a][1]&&F.dataList[a][4]&&(e=F.dataList[a][4])}return e},F.prototype={defineDataList:function(){F.dataList=[[F.BASE_FRAME_GAME_BG,"tileBg",1,1],[F.BASE_FRAME_GUI_BUT_START,"titleStartBut",1,1],[F.BASE_FRAME_GUI_BUT_START,"titleStart2But",1,1],[F.BASE_FRAME_GUI_BUT_START,"titleStartButCont",1,1],[F.BASE_FRAME_GUI_TITLE_LOGO,"titleLogo",1,1],[F.BASE_FRAME_GUI_TITLE_LOGO,"TestClip",1,1],[F.BASE_FRAME_GUI_TITLE_LOGO,"blank",1,1],[F.BASE_FRAME_GUI_TITLE_LOGO,"coinSheet",4,1],[F.BASE_FRAME_GUI_TITLE_LOGO,"teamBodySheet",5,4],[F.BASE_FRAME_GUI_TITLE_LOGO,"teamLegSheet",10,4],[F.BASE_FRAME_GUI_TITLE_LOGO,"ballSheet",4,1],[F.BASE_FRAME_GUI_TITLE_LOGO,"goalSheet",1,1],[F.BASE_FRAME_GUI_TITLE_LOGO,"smokeSheet",4,3],[F.BASE_FRAME_GUI_TITLE_LOGO,"powerSheet",1,11],[F.BASE_FRAME_GUI_TITLE_LOGO,"PartBangSheet",4,2],[F.BASE_FRAME_GUI_TITLE_LOGO,"levSelectBg",1,1],[F.BASE_FRAME_GUI_TITLE_LOGO,"matchOverGfk",1,1],[F.BASE_FRAME_GUI_TITLE_LOGO,"matchGoalGfk",1,1],[F.BASE_FRAME_GUI_BUT_NEXT,"timeGfk",1,1],[F.BASE_FRAME_GUI_BUT_NEXT,"playBut",1,1],[F.BASE_FRAME_GUI_BUT_NEXT,"backBut",1,1],[F.BASE_FRAME_GUI_BUT_NEXT,"subBut",1,1],[F.BASE_FRAME_GUI_BUT_NEXT,"levSelTable",1,1],[F.BASE_FRAME_GUI_BUT_NEXT,"leagueGlow",1,1],[F.BASE_FRAME_GUI_BUT_NEXT,"guideButUp0",1,1],[F.BASE_FRAME_GUI_BUT_NEXT,"guideButUp1",1,1],[F.BASE_FRAME_GUI_BUT_NEXT,"titleMoreGamesBut",1,1],[F.BASE_FRAME_GUI_BUT_NEXT,"joyStickBack",1,1],[F.BASE_FRAME_GUI_BUT_NEXT,"joyStickFront",1,1],[F.BASE_FRAME_GUI_BUT_NEXT,"joyStickFrontBlank",1,1],[F.BASE_FRAME_GUI_BUT_NEXT,"joyStickKick",1,1],[F.BASE_FRAME_GUI_BUT_NEXT,"joyStickFrontYellow",1,1],[F.BASE_FRAME_GUI_BUT_NEXT,"colCircSheet",4,1],[F.BASE_FRAME_GUI_BUT_NEXT,"blackLoz",1,1],[F.BASE_FRAME_GUI_BUT_NEXT,"nextBut",1,1],[F.BASE_FRAME_GUI_BUT_AGAIN,"againBut",1,1],[F.BASE_FRAME_GUI_BUT_SUBMIT,"menuBut",1,1],[F.BASE_FRAME_GUI_BUT_SUBMIT,"timeBut",1,1],[F.BASE_FRAME_GUI_BEST_CLIP,"bestClip",1,1],[F.BASE_FRAME_GUI_TEXT_NUMS,"guiNumsBig",10,1],[F.BASE_FRAME_GUI_TEXT_NUMS_SMALL,"guiNumsSmall",10,1],[F.BASE_FRAME_PARTICLE_POINT_NUM,"PointsPartSheet",3,1],[F.BASE_FRAME_GUI_BUT_NEXT,"obst_circ",1,1],[F.BASE_FRAME_GUI_BUT_NEXT,"obst_rect",1,1],[F.BASE_FRAME_GUI_BUT_NEXT,"butPause",1,1],[F.BASE_FRAME_GUI_BUT_NEXT,"butBack",1,1],[F.BASE_FRAME_GUI_BUT_NEXT,"butSound",2,1],[F.BASE_FRAME_GUI_BUT_NEXT,"obst_circ2",1,1],[F.BASE_FRAME_GUI_BUT_NEXT,"obst_rect2",1,1],[F.BASE_FRAME_GUI_BUT_NEXT,"puSheet",2,1],[F.BASE_FRAME_GUI_BUT_NEXT,"puSheet2",6,1],[F.BASE_FRAME_GUI_TITLE_LOGO,"teamBodySheetSad",5,4],[F.BASE_FRAME_GUI_BUT_NEXT,"inGameBgTop",1,1],[F.BASE_FRAME_GUI_BUT_NEXT,"inGameBgTop2",1,1],[F.BASE_FRAME_GUI_BUT_NEXT,"inGameBgPitch",1,1],[F.BASE_FRAME_GUI_BUT_NEXT,"wallEdges",1,1],[F.BASE_FRAME_GUI_BUT_NEXT,"flashParticle",1,1],[F.BASE_FRAME_GUI_BUT_NEXT,"levSelectBg2",1,1],[F.BASE_FRAME_GUI_BUT_NEXT,"matchStartGfk",1,1],[F.BASE_FRAME_TESTFONT,"bitmapFont",16,6]]},gse:function(t,e){for(var i=0,n=F.sheetList;i<n.length;){var a=n[i];if(++i,t==a[0])return"x"==e?a[1]:"y"==e?a[2]:"w"==e?a[3]:"h"==e?a[4]:0}return 0},__class__:F},Math.__name__=["Math"];var k=function(){this.timer=0,m.call(this),We.trace("adddded",{fileName:"MbSplash.hx",lineNumber:32,className:"MbSplash",methodName:"new"}),this.addEventListener("enterFrame",a(this,this.moveMe)),this.bitmap=new gr(Ba.getBitmapData("img/mbSplash.png")),this.addChild(this.bitmap),this.bitmap.set_x(100),this.bitmap.set_y(-600),We.trace("ok",{fileName:"MbSplash.hx",lineNumber:44,className:"MbSplash",methodName:"new"})};s.MbSplash=k,k.__name__=["MbSplash"],k.__super__=m,k.prototype=n(m.prototype,{moveMe:function(t){if(this.timer++,2==this.timer&&(f.instance.addTitleScreen(),this.deleteMe()),this.timer>10){var e=this.bitmap;e.set_y(e.get_y()+(0-this.bitmap.get_y())/10)}},deleteMe:function(){this.removeChild(this.bitmap),this.removeEventListener("enterFrame",a(this,this.moveMe))},__class__:k});var O=function(){m.call(this);var t=this.getBackgroundColor(),e=t>>16&255,i=t>>8&255,n=255&t,a=.299*e+.587*i+.114*n,s=0;a<70&&(s=16777215);var r=30,o=7,l=this.getHeight()/2-o/2,_=this.getWidth()-2*r,h=2;this.outline=new m,this.outline.get_graphics().beginFill(s,.07),this.outline.get_graphics().drawRect(0,0,_,o),this.outline.set_x(r),this.outline.set_y(l),this.addChild(this.outline),this.progress=new m,this.progress.get_graphics().beginFill(s,.35),this.progress.get_graphics().drawRect(0,0,_-2*h,o-2*h),this.progress.set_x(r+h),this.progress.set_y(l+h),this.progress.set_scaleX(0),this.addChild(this.progress)};s.NMEPreloader=O,O.__name__=["NMEPreloader"],O.__super__=m,O.prototype=n(m.prototype,{getBackgroundColor:function(){return 0},getHeight:function(){var t=500;return t>0?t:Va.current.stage.stageHeight},getWidth:function(){var t=800;return t>0?t:Va.current.stage.stageWidth},onInit:function(){},onLoaded:function(){this.dispatchEvent(new Ro("complete"))},onUpdate:function(t,e){var i=t/e;i>1&&(i=1),this.progress.set_scaleX(i)},__class__:O});var U=function(){};s.Reflect=U,U.__name__=["Reflect"],U.hasField=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},U.field=function(t,e){try{return t[e]}catch(i){return Ue.lastException=i,i instanceof ri&&(i=i.val),null}},U.setField=function(t,e,i){t[e]=i},U.getProperty=function(t,e){var i;return null==t?null:t.__properties__&&(i=t.__properties__["get_"+e])?t[i]():t[e]},U.callMethod=function(t,e,i){return e.apply(t,i)},U.fields=function(t){var e=[];if(null!=t){var i=Object.prototype.hasOwnProperty;for(var n in t)"__id__"!=n&&"hx__closures__"!=n&&i.call(t,n)&&e.push(n)}return e},U.isFunction=function(t){return"function"==typeof t&&!(t.__name__||t.__ename__)},U.compareMethods=function(t,e){return t==e||!(!U.isFunction(t)||!U.isFunction(e))&&(t.scope==e.scope&&t.method==e.method&&null!=t.method)},U.deleteField=function(t,e){return!!Object.prototype.hasOwnProperty.call(t,e)&&(delete t[e],!0)},U.makeVarArgs=function(t){return function(){var e=Array.prototype.slice.call(arguments);return t(e)}};var V=function(){};s.SoundManager=V,V.__name__=["SoundManager"],V.sndKicked=null,V.sndPost=null,V.sndJump=null,V.sndCheer=null,V.sndWhistle=null,V.sndClick=null,V.sndBonus=null,V.sndExplode=null,V.init=function(){V.sndKicked=V._setupSound("sound/SndKicked.ogg"),V.sndPost=V._setupSound("sound/SndPost.ogg"),V.sndCheer=V._setupSound("sound/SndCheer.ogg"),V.sndWhistle=V._setupSound("sound/SndWhistle.mp3"),V.sndJump=V._setupSound("sound/SndJump.mp3"),V.sndClick=V._setupSound("sound/SndClick.ogg"),V.sndBonus=V._setupSound("sound/SndBonus.ogg"),V.sndExplode=V._setupSound("sound/SndExplode.ogg")},V._setupSound=function(t,e){null==e&&(e=!1);var i=null,n={};return n.src=[t],n.autoplay=!1,n.loop=e,n.onend=function(t){We.trace(t,{fileName:"SoundManager.hx",lineNumber:106,className:"SoundManager",methodName:"_setupSound"}),We.trace(i.loop(t),{fileName:"SoundManager.hx",lineNumber:107,className:"SoundManager",methodName:"_setupSound"}),We.trace(i.volume(t),{fileName:"SoundManager.hx",lineNumber:108,className:"SoundManager",methodName:"_setupSound"}),i.volume(.5),i.volume(t)<=0&&i.stop(t)},i=new Howl(n)},V.playSound=function(t){if(null==t&&(t=""),f.instance.SOUND_ON)switch(t){case"sndKicked":V.sndKicked.play();break;case"sndPost":V.sndPost.play();break;case"sndWhistle":V.sndWhistle.play();break;case"sndJump":V.sndJump.play();break;case"sndClick":V.sndClick.play();break;case"sndCheer":V.sndCheer.play();break;case"sndBonus":V.sndBonus.play();break;case"sndExplode":V.sndExplode.play()}},V.stopSound=function(t){null==t&&(t="")};var G=function(){};s.Std=G,G.__name__=["Std"],G.is=function(t,e){return oi.__instanceof(t,e)},G.string=function(t){return oi.__string_rec(t,"")},G["int"]=function(t){return 0|t},G.parseInt=function(t){var e=parseInt(t,10);return 0!=e||120!=T.cca(t,1)&&88!=T.cca(t,1)||(e=parseInt(t)),isNaN(e)?null:e},G.parseFloat=function(t){return parseFloat(t)};var W=function(){this.b=""};s.StringBuf=W,W.__name__=["StringBuf"],W.prototype={add:function(t){this.b+=G.string(t)},addSub:function(t,e,i){null==i?this.b+=T.substr(t,e,null):this.b+=T.substr(t,e,i)},__class__:W};var X=function(){};s.StringTools=X,X.__name__=["StringTools"],X.urlEncode=function(t){return encodeURIComponent(t)},X.urlDecode=function(t){return decodeURIComponent(t.split("+").join(" "))},X.startsWith=function(t,e){return t.length>=e.length&&T.substr(t,0,e.length)==e},X.isSpace=function(t,e){var i=T.cca(t,e);return i>8&&i<14||32==i},X.ltrim=function(t){for(var e=t.length,i=0;i<e&&X.isSpace(t,i);)i++;return i>0?T.substr(t,i,e-i):t},X.rtrim=function(t){for(var e=t.length,i=0;i<e&&X.isSpace(t,e-i-1);)i++;return i>0?T.substr(t,0,e-i):t},X.trim=function(t){return X.ltrim(X.rtrim(t))},X.replace=function(t,e,i){return t.split(e).join(i)},X.hex=function(t,e){var i="",n="0123456789ABCDEF";do i=n.charAt(15&t)+i,t>>>=4;while(t>0);if(null!=e)for(;i.length<e;)i="0"+i;return i},X.fastCodeAt=function(t,e){return t.charCodeAt(e)};var z=s.GameState={__ename__:["GameState"],__constructs__:["Paused","Playing"]};z.Paused=["Paused",0],z.Paused.toString=r,z.Paused.__enum__=z,z.Playing=["Playing",1],z.Playing.toString=r,z.Playing.__enum__=z;var H=s.Player={__ename__:["Player"],__constructs__:["Human","AI"]};H.Human=["Human",0],H.Human.toString=r,H.Human.__enum__=H,H.AI=["AI",1],H.AI.toString=r,H.AI.__enum__=H;var Y=function(t){this.actorsToRemove=[],this.jugsToRemove=[],this.FLIP_ME=!0,this.AI_levelNum=1,this.oppRightCap=400,this.pointTimer=0,this.fartTimer=0,this.angForceLimit=3,this.KEY_LOCK=!1,this.time=0,this.team1Pos=600,this.team0Pos=0,this.resetTimer=0,this.GOAL_SCORED=!1,this.BALL_LANDED=!1,this.powerAngle=0,this.POWER_BALL=!1,this.headerTimer=0,this.HEADER_FOREVER=!1,this.headerMax=3,this.headerPower=0,this.lastPlayerContact=-1,this.ballSmokeTimer=0,this.BALL_KICK=!1,this.myGameOverScreen=null,this.GAME_OVER=!1,this.myPUs=[],this.PUBouncy=1,this.PUSize=1,this.PUFire=!1,this.oppPUBombs=!1,this.oppPUFreeze=!1,this.oppPUJump=1,this.oppPUSpeed=1,this.heroPUBombs=!1,this.heroPUFreeze=!1,this.heroPUJump=1,this.heroPUSpeed=1,this.oppBombed=!1,this.heroBombed=!1,this.ballSender="hero",this.forceBallTimer=0,this.trailNum=4,this.PUTimer=0,this.timer=0,this.GAME_STARTED=!1,this.partList=[],this.previousTime=Va.getTimer(),this.NIGHT=!0,this.playerDensity=100,this.hAdjust=-50,this.torque=50,this.iterations=10,this.timeStep=.03333333333333333,this.grav=5,this.OLD_SKOOL=!0,this.goalRightVal=1,this.goalLeftVal=1,this.CLICK_FLAG=!1,this.GAME_PAUSED=!1,this.TUTORIAL=!1,this.GAME_OVER_ADDED=!1,this.LEVEL_IN_PLAY=!0,this.camy=0,this.camx=0,this.thisLevel=0,this.introTimer=100,this.aiKickTimer=0,this.aiTimer=200,this.playerPowerList=[0,0],this.hittingList=[0,0,0,0],this.spinnyList=[[],[]],this.rackList=[[],[],[],[]],this.lList=[[],[],[],[]],this.cList=[],this.jList=[[],[],[],[]],this.pList=[],this.castList=f.instance.displayWorld.castList,m.call(this),f.instance.displayWorld.SMOOTH=!0,this.thisLevel=t,this.initMe()};s.TileWorld=Y,Y.__name__=["TileWorld"],Y.__super__=m,Y.prototype=n(m.prototype,{doText:function(t){this.firstObjTextClip.position.x=0,this.firstObjTextClip.limbUsed=400,this.objText.deleteLets(),this.objText.getText(t)},checkGoals:function(){var t=this.goalLeftVal;switch(t){case-2:this.goalLeft={xContact:55,yContact:270,topX1:20,topY1:310,topWidth1:50,topX2:20,topY2:320,topWidth2:50,scale:.5};break;case-1:this.goalLeft={xContact:55,yContact:270,topX1:20,topY1:310,topWidth1:50,topX2:0,topY2:340,topWidth2:50,scale:.75};break;case 0:this.goalLeft={xContact:55,yContact:270,topX1:30,topY1:260,topWidth1:50,topX2:20,topY2:270,topWidth2:50,scale:1};break;case 1:this.goalLeft={xContact:67,yContact:220,topX1:33,topY1:226,topWidth1:80,topX2:20,topY2:245,topWidth2:60,scale:1.25};break;case 2:this.goalLeft={xContact:80,yContact:186,topX1:47,topY1:176,topWidth1:80,topX2:20,topY2:200,topWidth2:60,scale:1.5}}var e=this.goalRightVal;switch(e){case-2:this.goalRight={xContact:760,yContact:270,topX1:780,topY1:310,topWidth1:50,topX2:780,topY2:320,topWidth2:50,scale:-.55};break;case-1:this.goalRight={xContact:760,yContact:270,topX1:780,topY1:310,topWidth1:50,topX2:800,topY2:340,topWidth2:50,scale:-.75};break;case 0:this.goalRight={xContact:760,yContact:270,topX1:770,topY1:260,topWidth1:50,topX2:780,topY2:270,topWidth2:50,scale:-1};break;case 1:this.goalRight={xContact:740,yContact:220,topX1:760,topY1:226,topWidth1:60,topX2:780,topY2:245,topWidth2:50,scale:-1.25};break;case 2:this.goalRight={xContact:718,yContact:186,topX1:753,topY1:176,topWidth1:80,topX2:780,topY2:200,topWidth2:60,scale:-1.5}}We.trace("check Goals",{fileName:"TileWorld.hx",lineNumber:188,className:"TileWorld",methodName:"checkGoals"}),We.trace(G.string(this.goalLeft.scale)+" < > "+G.string(this.goalRight.scale),{fileName:"TileWorld.hx",lineNumber:189,className:"TileWorld",methodName:"checkGoals"}),We.trace(this.goalLeftVal+" <<>>> "+this.goalRightVal,{fileName:"TileWorld.hx",lineNumber:190,className:"TileWorld",methodName:"checkGoals"}),We.trace("-----XXX----",{fileName:"TileWorld.hx",lineNumber:191,className:"TileWorld",methodName:"checkGoals"})},changeGoals:function(){var t=new It;We.trace("changeGoals",{fileName:"TileWorld.hx",lineNumber:198,className:"TileWorld",methodName:"changeGoals"}),We.trace(this.goalLeftVal+" <<>>> "+this.goalRightVal,{fileName:"TileWorld.hx",lineNumber:199,className:"TileWorld",methodName:"changeGoals"}),this.goalRightVal<-2&&this.goalRightVal==-2,this.goalLeftVal<-2&&this.goalLeftVal==-2,this.goalLeftVal>1&&1==this.goalLeftVal,this.goalRightVal>1&&1==this.goalRightVal,We.trace("OOOOOOOOOOOOOOOOOO",{fileName:"TileWorld.hx",lineNumber:206,className:"TileWorld",methodName:"changeGoals"}),this.checkGoals(),t.set(-10),this.rightGoalTop.setTransform(new Ct(new tt(this.goalRight.topX1,this.goalRight.topY1+this.hAdjust),t)),t.set(70),this.rightGoalTop2.setTransform(new Ct(new tt(this.goalRight.topX2,this.goalRight.topY2+this.hAdjust),t)),t.set(10),this.leftGoalTop.setTransform(new Ct(new tt(this.goalLeft.topX1,this.goalLeft.topY1+this.hAdjust),t)),t.set(-70),this.leftGoalTop2.setTransform(new Ct(new tt(this.goalLeft.topX2,this.goalLeft.topY2+this.hAdjust),t))},doGoalClips:function(t){null==t&&(t=!1),t?this.goalClip1.myScaleX=this.goalLeft.scale:this.goalClip1.myScaleX+=this.goalLeft.scale-this.goalClip1.myScaleX,this.goalClip1.myScaleY=Math.abs(this.goalLeft.scale),t?this.goalClip2.myScaleX=this.goalRight.scale:this.goalClip2.myScaleX+=this.goalRight.scale-this.goalClip2.myScaleX,
this.goalClip2.myScaleY=Math.abs(this.goalRight.scale)},initMe:function(){f.instance.ANDROID&&(this.trailNum=8),this.timeStart=Va.getTimer();this.addBg(),this.setGameState(z.Paused);var t=f.instance.player0Score-f.instance.player1Score;switch(t<-2&&(t=-2),t>2&&(t=2),t){case 2:this.goalRightVal=2,this.goalLeftVal=0;break;case 1:this.goalLeftVal=0;break;case 0:break;case-1:this.goalRightVal=0;break;case-2:this.goalRightVal=0,this.goalLeftVal=2}this.goalLeftVal=-1,this.goalRightVal=-1,this.checkGoals(),this.ballObj={radius:10,frame:0,density:10.25,rest:1.9},this.endClip=new v((-400),140,18,18,F.BASE_FRAME_GUI_TEXT_NUMS,0,9e3,2,2),this.endClip.animFrame=4,this.castList.push(this.endClip);var e="IT'S ALL ABOUT TO KICK OFF!";if(f.instance.player0Score+f.instance.player1Score>1e5){var i=R.getRand(3);switch(i){case 0:this.ballObj={radius:23,frame:2,density:.25,rest:1},e="BASKET CASES !";break;case 1:this.ballObj={radius:8,frame:1,density:1,rest:.8},e="WHAT A RACKET !";break;case 2:this.ballObj={radius:12,frame:3,density:.8,rest:.7},e="KEEP EM PEELED !"}}e="",this.firstObjTextClip=new v((-100),200,0,0,F.getBase("blank"),0,9e3),this.objText=new A(0,0,Math.floor(1),Math.floor(1),F.getBase("blank"),0,2100,1,1,this.firstObjTextClip),this.firstObjTextClip.myScaleX=this.firstObjTextClip.myScaleY=2,this.firstObjTextClip.limbUsed=400,this.objText.getText(e),this.setUpBoxWorld(),this.addGui(),this.addEventListener("enterFrame",a(this,this.everyFrame)),V.playSound("sndAmbLoop1"),V.playSound("sndWhistle"),this.myGameOverScreen=null;var n=new v(400,0,83,0,F.getBase("timeGfk"),0,8001);this.castList.push(n);var s=new v(400,442,125,25,F.getBase("guideButUp0"),0,3e3);if(this.castList.push(s),s.ACTIVE=!1,f.instance.TWO_PLAYER){var r=new v(400,424,98,0,F.getBase("guideButUp1"),0,3e3);this.castList.push(r)}else f.instance.IS_DESKTOP&&(s.ACTIVE=!0);this.addTouchClips(),this.addButs(),this.startClock(),f.instance.displayWorld.superSort();var o=this;window.famobi_onPauseRequested=function(){o.GAME_PAUSED||o.pauseGame()},window.famobi_onResumeRequested=function(){window.famobi_paused&&o.resumeGame()}},pauseGame:function(){window.famobi_paused=!0,this.GAME_PAUSED=!0,this.timePaused=Va.getTimer()},resumeGame:function(){this.GAME_PAUSED=!1,f.instance.gameTime+=Math.floor((Va.getTimer()-this.timePaused)/1e3),window.famobi_paused=!1},addButs:function(){this.contBut=new v(400,260,Math.floor(48),Math.floor(48),F.getBase("titleStartButCont"),0,7e3),this.backBut=new v(270,45,Math.floor(40),Math.floor(40),F.getBase("butBack"),0,7e3,1,1),this.pauseBut=new v(530,45,Math.floor(40),Math.floor(40),F.getBase("butPause"),0,7e3,1,1),this.castList.push(this.contBut),this.castList.push(this.backBut),this.castList.push(this.pauseBut),this.contBut.ACTIVE=!1},checkPauseButs:function(){this.pauseBut.testProx(this.tx,this.ty,40)&&1==f.instance.clicked&&!this.CLICK_FLAG&&(this.GAME_PAUSED=!this.GAME_PAUSED,this.CLICK_FLAG=!0,this.GAME_PAUSED?this.timePaused=Va.getTimer():f.instance.gameTime+=Math.floor((Va.getTimer()-this.timePaused)/1e3)),0==f.instance.clicked&&(this.CLICK_FLAG=!1)},checkButs:function(){return this.backBut.testProx(this.tx,this.ty,40)&&1==f.instance.clicked?(f.instance.player1Score=3,f.instance.player0Score=0,V.stopSound("sndAmbLoop1"),this.GAME_OVER=!0,void this.resetGame(!0)):(this.contBut.testProx(this.tx,this.ty,100)&&1==f.instance.clicked&&!this.CLICK_FLAG&&this.contBut.ACTIVE&&(this.resetTimer=2,this.CLICK_FLAG=!0),void(0==f.instance.clicked&&(this.CLICK_FLAG=!1)))},addTouchClips:function(){this.touchClip=new v(0,0,65,65,F.getBase("joyStickBack"),0,7e3),this.castList.push(this.touchClip),this.touchClip2=new v(0,0,33,33,F.getBase("joyStickFrontBlank"),0,7001),this.castList.push(this.touchClip2),this.touchBut=new v(0,0,33,33,F.getBase("joyStickKick"),0,7001,1.5,1.5),this.castList.push(this.touchBut),this.touchBut2=new v(0,0,33,33,F.getBase("joyStickFront"),0,7001,1.5,1.5),this.castList.push(this.touchBut2),f.instance.touch.startTouchClips(this.touchClip,this.touchClip2,this.touchBut,this.touchBut2),f.instance.IS_DESKTOP&&(this.touchClip.ACTIVE=!1,this.touchClip2.ACTIVE=!1,this.touchBut.ACTIVE=!1,this.touchBut2.ACTIVE=!1)},setUpBoxWorld:function(){this.OLD_SKOOL&&(Y.PHYSICS_SCALE=1,this.grav=150,this.timeStep=.010416666666666666,this.iterations=48,this.torque=1e8,this.playerDensity=100,this.ballObj={radius:10,frame:0,density:.1,rest:10,angDamp:0,friction:2},this.ballObj={radius:10,frame:0,density:1.5,rest:.6,angDamp:0,friction:1},this.ballObj={radius:10,frame:0,density:.6,rest:.3,angDamp:0,friction:1},this.ballObj={radius:10,frame:0,density:.3,rest:.3,angDamp:0,friction:1},this.ballObj={radius:10,frame:0,density:.15,rest:.5,angDamp:0,friction:1},this.ballObj={radius:10,frame:0,density:1.5,rest:.6,angDamp:0,friction:1});var t=.5,e=1,i=1;this.World=new te(new tt(0,this.grav),(!0)),this.World.setContactListener(new w(this));var n=(this.createBox(400,480+this.hAdjust,800,100,!1,0,"GROUND",0,1,15,.5,0),this.createBox(10,240,10,480,!1,1,"LEFT_WALL"),this.createBox(790,240,10,480,!1,1,"RIGHT_WALL"),this.createBox(370,0,740,10,!1,1,"CEILING"),this.createBox(50,50,60,200,!1,0,"edge1",45*Math.PI/180),this.createBox(-20,240,60,520,!1,0,"edgex",8*Math.PI/180),this.createBox(240,-20,520,60,!1,0,"edgey",-8*Math.PI/180),this.createBox(750,50,60,200,!1,0,"edge2",-45*Math.PI/180),this.createBox(820,240,60,520,!1,0,"edge2x",-8*Math.PI/180),this.createBox(560,-20,520,60,!1,0,"edge2y",8*Math.PI/180),f.instance.player1);We.trace("pitch = "+n,{fileName:"TileWorld.hx",lineNumber:591,className:"TileWorld",methodName:"setUpBoxWorld"});var s="obst_rect",r="obst_circ";this.NIGHT&&(s="obst_rect2",r="obst_circ2");for(var o=0,l=g.pitchDATA[n].length;o<l;){var _=o++,h=g.pitchDATA[n][_];if(4==h.length){this.createCircle(h[0],h[1],h[2],!1);var c=new v(h[0],h[1],50,50,F.getBase(r),0,6e3,h[2]/50,h[2]/50);this.castList.push(c)}var u=!1;if(13==n&&(u=!0),5==h.length){var d=new v(h[0],h[1],50,50,F.getBase(s),0,6e3,h[2]/100,h[3]/100);d.myAngle=h[4]*(Math.PI/180);var m=this.createBox(h[0],h[1],h[2],h[3],u,1,"???",h[4]*Math.PI/180,1,1,-1,-1,u);this.castList.push(d),u&&(this.spinnyList[0].push(d),this.spinnyList[1].push(m))}}this.rightGoalTop=this.createBox(this.goalRight.topX1,this.goalRight.topY1+this.hAdjust,this.goalRight.topWidth1,10,!1,1,"POST",R.getRad(-10)),this.rightGoalTop2=this.createBox(this.goalRight.topX2,this.goalRight.topY2+this.hAdjust,this.goalRight.topWidth2,10,!1,1,"POST",R.getRad(70)),this.leftGoalTop=this.createBox(this.goalLeft.topX1,this.goalLeft.topY1+this.hAdjust,this.goalLeft.topWidth1,10,!1,1,"POST",R.getRad(10)),this.leftGoalTop2=this.createBox(this.goalLeft.topX2,this.goalLeft.topY2+this.hAdjust,this.goalLeft.topWidth2,10,!1,1,"POST",R.getRad(-70));for(var p=[225,575],y=0;y<2;){var x,b,T,A,E=y++,S=new Rt;S.setRadius(20*Y.PHYSICS_SCALE),S.setLocalPosition(new tt(0*Y.PHYSICS_SCALE,0*Y.PHYSICS_SCALE));var C=new Xt;C.type=Wt.b2_dynamicBody,C.userData="PLAYER"+E,C.angularDamping=1,C.fixedRotation=!0,C.position.set(p[E]*Y.PHYSICS_SCALE,350*Y.PHYSICS_SCALE),x=this.World.createBody(C);var I=new Zt;I.shape=S,I.density=this.playerDensity,I.friction=0,I.restitution=.01,I.userData="PLAYER"+E,I.filter.categoryBits=15,I.filter.maskBits=15,x.createFixture(I);for(var L=0;L<1;){var M=L++,B=1;0==E&&(B=-1);var D=new v(0,0,10,0,F.getBase("teamLegSheet"),0,3e3,B);D.ACTIVE=!0,this.castList.push(D),this.lList[E].push(D);var P=.5,N=.75,k=0,O=!0,U=30;(f.instance.TWO_PLAYER||1==E)&&(U=50),b=M>1?this.createBox(p[E],300,15,50,!0,i,"RACKET"+E,Math.PI,0,1,t,e):this.createBox(p[E],300,15,U,!0,i,"RACKET"+E,0,1,8,t,e),T=new Ne,T.bodyA=x,T.bodyB=b,T.userData="JOINT",0!=M&&2!=M||(P=0,N=-.75*(30*Y.PHYSICS_SCALE)),E<1?D.baseFrame+=2*f.instance.player1:D.baseFrame+=2*f.instance.player0,M>1&&(k=-2.5,D.animFrame=1,O=!1,T.enableLimit=!0,2==M?(T.lowerAngle=-85/(180/Math.PI),T.upperAngle=135/(180/Math.PI)):(T.lowerAngle=95/(180/Math.PI),T.upperAngle=315/(180/Math.PI))),T.localAnchorA.set(P,k),T.localAnchorB.set(0,N),T.maxMotorTorque=this.torque,T.motorSpeed=0,T.enableMotor=O,T.collideConnected=!1,A=oi.__cast(this.World.createJoint(T),Pe),this.jList[M].push(A),We.trace("**",{fileName:"TileWorld.hx",lineNumber:803,className:"TileWorld",methodName:"setUpBoxWorld"}),We.trace("--pushing a racket at "+E,{fileName:"TileWorld.hx",lineNumber:804,className:"TileWorld",methodName:"setUpBoxWorld"}),this.rackList[E].push(b)}var V=new v(0,0,25,25,F.getBase("teamBodySheet"),0,2e3);V.limbUsed=0,E<1&&(V.limbUsed=0),this.hittingList[E]=1,0==f.instance.teamList[E],V.tweenType=0,E<1?(V.myType=0,V.animFrame=f.instance.player1,V.myScaleX*=-1):(V.myType=1,V.animFrame=f.instance.player0),We.trace("PLAYERS INNIT",{fileName:"TileWorld.hx",lineNumber:841,className:"TileWorld",methodName:"setUpBoxWorld"}),We.trace(f.instance.player0+" : "+f.instance.player1,{fileName:"TileWorld.hx",lineNumber:842,className:"TileWorld",methodName:"setUpBoxWorld"}),We.trace("-------------",{fileName:"TileWorld.hx",lineNumber:843,className:"TileWorld",methodName:"setUpBoxWorld"}),this.castList.push(V),this.cList.push(V),this.pList.push(x)}this.B2Ball=this.createCircle(400,130,this.ballObj.radius,!0),this.ballClip=new v(0,0,24,24,F.getBase("ballSheet"),0,3e3),this.ballClip.animFrame=this.ballObj.frame,this.ballClip.myScaleX=this.ballClip.myScaleY=.6,this.castList.push(this.ballClip),this.ballClip.myName="bally",this.goalClip1=new v(0,439+this.hAdjust,0,175,F.getBase("goalSheet"),0,6e3),this.goalClip2=new v(800,439+this.hAdjust,0,175,F.getBase("goalSheet"),0,6e3),this.doGoalClips(),this.castList.push(this.goalClip1),this.castList.push(this.goalClip2),We.trace("--------------",{fileName:"TileWorld.hx",lineNumber:881,className:"TileWorld",methodName:"setUpBoxWorld"}),We.trace(""+G.string((Gl=this.World.getBodyList(),a(Gl,Gl.getNext))),{fileName:"TileWorld.hx",lineNumber:882,className:"TileWorld",methodName:"setUpBoxWorld"}),We.trace("--------------",{fileName:"TileWorld.hx",lineNumber:883,className:"TileWorld",methodName:"setUpBoxWorld"});var W,X=50;W=0==f.instance.lastScored?new tt((-(X+R.getRand(2))),0):new tt(X+R.getRand(2),0),this.B2Ball.setLinearVelocity(W),this.BALL_LANDED=!1},createBox:function(t,e,i,n,a,s,r,o,l,_,h,c,u){null==u&&(u=!1),null==c&&(c=-1),null==h&&(h=-1),null==_&&(_=1),null==l&&(l=1),null==o&&(o=0),null==r&&(r="nobody"),null==s&&(s=1);var d=new Xt;d.position.set(t*Y.PHYSICS_SCALE,e*Y.PHYSICS_SCALE),d.allowSleep=!1,d.userData=r,a&&(d.type=Wt.b2_dynamicBody);var m=new Nt;m.setAsBox(i/2*Y.PHYSICS_SCALE,n/2*Y.PHYSICS_SCALE);var f=new Zt;f.shape=m,c!=-1&&(f.restitution=c,f.friction=h),f.density=s,f.filter.categoryBits=l,f.filter.maskBits=_;var p=this.World.createBody(d);p.createFixture(f);var g=new tt(t*Y.PHYSICS_SCALE,e*Y.PHYSICS_SCALE);if(p.setPositionAndAngle(g,o),u){var v,y=new Rt;y.setRadius(5*Y.PHYSICS_SCALE);var x=new Zt;x.shape=y,x.density=0,x.friction=0,x.restitution=.01;var b=new Xt;b.userData="",b.angularDamping=1,b.fixedRotation=!1,b.position.set(t*Y.PHYSICS_SCALE,e*Y.PHYSICS_SCALE),v=this.World.createBody(b),v.createFixture(x);var w,T;T=new Ne,T.bodyA=v,T.bodyB=p,w=oi.__cast(this.World.createJoint(T),Pe)}return p},startClock:function(){this.timeStart=Va.getTimer()},getClock:function(){var t=f.instance.gameTime-Math.floor((Va.getTimer()-this.timeStart)/1e3);return t},createCircle:function(t,e,i,n){var a=new Xt;a.position.set(t*Y.PHYSICS_SCALE,e*Y.PHYSICS_SCALE),a.userData="BALL",0!=this.ballObj.angDamp&&(a.angularDamping=this.ballObj.angDamp),n&&(a.type=Wt.b2_dynamicBody);var s=new Rt(i*Y.PHYSICS_SCALE),r=new Zt;r.shape=s,r.density=this.ballObj.density,r.restitution=this.ballObj.rest,r.friction=this.ballObj.friction,r.userData="BALL",We.trace("THE BALL DENSITY = "+G.string(this.ballObj.density),{fileName:"TileWorld.hx",lineNumber:1031,className:"TileWorld",methodName:"createCircle"}),We.trace("THE BALL REST = "+G.string(this.ballObj.rest),{fileName:"TileWorld.hx",lineNumber:1032,className:"TileWorld",methodName:"createCircle"}),We.trace("THE BALL FRICTION = "+G.string(this.ballObj.friction),{fileName:"TileWorld.hx",lineNumber:1033,className:"TileWorld",methodName:"createCircle"}),r.filter.categoryBits=15,r.filter.maskBits=15;var o=this.World.createBody(a);return We.trace("here body "+G.string(a),{fileName:"TileWorld.hx",lineNumber:1041,className:"TileWorld",methodName:"createCircle"}),o.createFixture(r),o},addGui:function(){this.myGui=new B(this)},addBg:function(){var t="inGameBgTop";1==L.newTeamList[f.instance.player1][2]?t="inGameBgTop2":this.NIGHT=!1,this.Bg=new v(0,-170-this.hAdjust,0,0,F.getBase(t),0,10),this.Bg3=new v(0,-170-this.hAdjust+220+239,0,0,F.getBase("inGameBgPitch"),0,10),this.BgEdge1=new v(0,0,20,0,F.getBase("wallEdges"),0,20),this.BgEdge2=new v(800,0,20,0,F.getBase("wallEdges"),0,20,(-1)),this.castList.push(this.BgEdge1),this.castList.push(this.BgEdge2),this.castList.push(this.Bg),this.castList.push(this.Bg3),We.trace("------------------------pitch at "+this.Bg3.position.y,{fileName:"TileWorld.hx",lineNumber:1097,className:"TileWorld",methodName:"addBg"})},doParallax:function(){},paraShift:function(t,e,i){null==i&&(i=0),t.position.x=i-e/2+(800-this.ballClip.position.x)/800*e},getDelta:function(){var t=Va.getTimer(),e=(t-this.previousTime)/1e3;return this.previousTime=t,e>.5&&(e=0),e},setGameState:function(t){this.currentGameState=t,t==z.Paused},startButHit:function(){this.setGameState(z.Playing)},addParticle:function(t,e,i,n){null==n&&(n=0);var a=new x(t,e,0,0,0,i);this.castList.push(a),a.init(n,this)},resetGame:function(t){null==t&&(t=!1),f.instance.displayWorld.removeAllActors(),f.instance.displayWorld.reallyRemoveActors(),null!=this.PhysicsDebug&&this.removeChild(this.PhysicsDebug),this.removeEventListener("enterFrame",a(this,this.everyFrame)),We.trace("LEVEL UP = "+f.instance.level+" TWO PLAY "+G.string(f.instance.TWO_PLAYER),{fileName:"TileWorld.hx",lineNumber:1185,className:"TileWorld",methodName:"resetGame"}),this.GAME_OVER?(f.instance.tellFamSomething(),f.instance.tellFamScore(f.instance.level,f.instance.player0Score-f.instance.player1Score,t),f.instance.level++,f.instance.TWO_PLAYER?(We.trace("THIS WAS A 2 PLAYER GAME - BACK TO TITLE",{fileName:"TileWorld.hx",lineNumber:1200,className:"TileWorld",methodName:"resetGame"}),f.instance.addTitleScreen()):(f.instance.myLeague.doResults(!0,f.instance.player1Score,f.instance.player0Score),f.instance.addLevelSelect())):f.instance.startGame()},doBoxUpdates:function(){this.doParallax(),this.timer++,this.timer%this.trailNum==0&&this.spawnTrail(4),this.PUTimer++,this.PUTimer>200&&this.resetTimer<1&&(this.spawnPU(),this.PUTimer=0),this.PUColissions(),this.doGoalClips(!0)},spawnPU:function(){var t,e=new v(0,0,30,30,F.getBase("puSheet2"),2,6e3);t=new v(0,0,30,30,F.getBase("puSheet"),2,5999,1,1,e);var i=R.getRand(5);t.animFrame=1,e.animFrame=i,0==i&&(t.animFrame=0),e.position.x=220+360*Math.random(),e.position.y=130+230*Math.random(),t.tweenTimer=600,this.myPUs.push(t),this.castList.push(t),this.castList.push(e)},PUColissions:function(){for(var t,e=0,i=this.myPUs.length;e<i;){var n=e++;if(t=this.myPUs[n],t.tweenTimer--,f.instance.ANDROID||(t.myAngle+=Math.PI/180),R.getHyp(t.position.x,t.position.y,this.ballClip.position.x,this.ballClip.position.y)<35){V.playSound("sndBonus"),t.tweenTimer=-1;var a=new x(t.position.x,t.position.y,24,24,F.getBase("ballSheet"),1,6e3);a.init(0,this),this.castList.push(a);var s=t.myDad.animFrame;switch(s){case 0:We.trace("---------------",{fileName:"TileWorld.hx",lineNumber:1326,className:"TileWorld",methodName:"PUColissions"}),We.trace("GOALS WERE "+this.goalLeftVal+" : "+this.goalRightVal,{fileName:"TileWorld.hx",lineNumber:1327,className:"TileWorld",methodName:"PUColissions"}),1==t.animFrame?(0==this.lastPlayerContact?this.goalLeftVal-=1:this.goalRightVal-=1,this.doText("SHRINKENSTEIN !")):(0==this.lastPlayerContact?this.goalLeftVal+=1:this.goalRightVal+=1,this.doText("EXPANDOGOAL !")),We.trace("GOALS NOW "+this.goalLeftVal+" : "+this.goalRightVal,{fileName:"TileWorld.hx",lineNumber:1339,className:"TileWorld",methodName:"PUColissions"}),We.trace("---------------",{fileName:"TileWorld.hx",lineNumber:1340,className:"TileWorld",methodName:"PUColissions"});break;case 1:this.updateBall("bounce"),this.doText("BASKETBALL !");break;case 2:this.updateBall("bowling"),this.doText("BOWLING BALL !");break;case 3:this.doText("FREEZE OPPONENT !");var r=0,o=1;0==this.lastPlayerContact&&(r=1,o=0),this.playerPowerList[r]=1,We.trace("-------------",{fileName:"TileWorld.hx",lineNumber:1367,className:"TileWorld",methodName:"PUColissions"}),We.trace(r+" list = "+G.string(this.playerPowerList),{fileName:"TileWorld.hx",lineNumber:1368,className:"TileWorld",methodName:"PUColissions"}),this.cList[r].baseFrame=F.getBase("teamBodySheetSad");var l=new x(this.cList[r].position.x,this.cList[r].position.y,0,0,F.getBase("smokeSheet"),5,10);l.init(2,this),l.depth=1e4,l.myScaleX=1.5,l.myScaleY=1.5,V.playSound("sndExplode"),this.castList.push(l),1==this.playerPowerList[o]&&(this.playerPowerList[o]=0,this.cList[o].baseFrame=F.getBase("teamBodySheet"));break;case 4:this.doText("FIREBALL !"),this.headerPower=this.headerMax,this.HEADER_FOREVER=!0}this.changeGoals()}if(t.tweenTimer<1){this.myPUs.splice(n,1),f.instance.displayWorld.safeRemoveActor(t),f.instance.displayWorld.safeRemoveActor(t.myDad);break}}},forceBallTest:function(){if(this.forceBallTimer>0){this.forceBallTimer--;var t=this.B2Ball.getLinearVelocity();t.x=1e3*R.getXRad(this.powerAngle),t.y=1e3*R.getYRad(this.powerAngle),We.trace("force !=="+G.string(t)+" powerAngle= "+this.powerAngle,{fileName:"TileWorld.hx",lineNumber:1433,className:"TileWorld",methodName:"forceBallTest"}),this.B2Ball.setLinearVelocity(t)}},updateBall:function(t){We.trace("-------------------BAll updates !"+this.PUBouncy,{fileName:"TileWorld.hx",lineNumber:1442,className:"TileWorld",methodName:"updateBall"});var e=this.B2Ball.getPosition().x,i=this.B2Ball.getPosition().y,n=this.B2Ball.getLinearVelocity(),a=this.B2Ball.getAngularVelocity();this.World.destroyBody(this.B2Ball),"power"==t?(this.forceBallTimer=200,V.playSound("sndExplode"),We.trace("ball powerrr!",{fileName:"TileWorld.hx",lineNumber:1470,className:"TileWorld",methodName:"updateBall"})):"bounce"==t?(this.ballClip.animFrame=2,this.ballObj.rest=2,this.ballObj.density=.5,this.ballObj.friction=1,this.ballObj.radius=10,this.ballClip.myScaleX=this.ballClip.myScaleY=.6):"bowling"==t&&(this.ballClip.animFrame=1,this.ballObj.density=5,this.ballObj.friction=5,this.ballObj.rest=.7,this.ballObj.radius=16,this.ballClip.myScaleX=this.ballClip.myScaleY=1),We.trace("POOP",{fileName:"TileWorld.hx",lineNumber:1491,className:"TileWorld",methodName:"updateBall"}),this.B2Ball=this.createCircle(e,i,this.ballObj.radius,!0),We.trace("POOP2",{fileName:"TileWorld.hx",lineNumber:1495,className:"TileWorld",methodName:"updateBall"}),this.B2Ball.setLinearVelocity(n),this.B2Ball.setAngularVelocity(a)},spawnBomb:function(){},resetPUVars:function(){this.ballSender="hero",this.heroBombed=!1,this.oppBombed=!1,this.heroPUSpeed=1,this.heroPUJump=1,this.heroPUFreeze=!1,this.heroPUBombs=!1,this.oppPUSpeed=1,this.oppPUJump=1,this.oppPUFreeze=!1,this.oppPUBombs=!1,this.PUFire=!1,this.PUSize=1,this.PUBouncy=1},spawnTrail:function(t){var e=this.B2Ball,i=new x(0,0,0,0,F.getBase("smokeSheet"),t,10);i.position.x=e.getPosition().x,i.position.y=e.getPosition().y,i.init(2,this),this.castList.push(i);var n=T.indexOf(this.castList,this.ballClip,0);this.castList[n]=i,this.castList[this.castList.length-1]=this.ballClip},gameOver:function(){this.GAME_OVER||(this.addGameOverScreen(),this.GAME_OVER=!0,this.setGameState(z.Paused))},addGameOverScreen:function(){We.trace("add GO",{fileName:"TileWorld.hx",lineNumber:1600,className:"TileWorld",methodName:"addGameOverScreen"}),this.myGameOverScreen=new M(this)},playerHitting:function(t){var e=G.parseInt(t);this.hittingList[e]=0},ballHitSomething:function(t,e){this.BALL_LANDED=!0;var i=!1,n=R.getHyp(0,0,this.B2Ball.getLinearVelocity().x,this.B2Ball.getLinearVelocity().y);if(Math.abs(this.B2Ball.getLinearVelocity().x)>2||Math.abs(this.B2Ball.getLinearVelocity().y)>2)switch(this.ballSmokeTimer<0&&n>100&&(this.ballSmokeTimer=10,this.spawnTrail(5)),t){case"PLAY":V.playSound("sndKicked"),this.lastPlayerContact!=G.parseInt(e)?this.B2Ball.getPosition().y<this.pList[G.parseInt(e)].getPosition().y?(this.headerPower=1,i=!0):this.headerPower=0:this.B2Ball.getPosition().y<this.pList[G.parseInt(e)].getPosition().y&&this.headerTimer<1?(this.headerPower++,i=!0,this.headerTimer=50,this.headerPower==this.headerMax&&this.doText("BALL READY FOR POWER SHOT!"),this.headerPower>this.headerMax&&(this.headerPower=this.headerMax)):this.headerPower=0,i&&!this.GOAL_SCORED,this.lastPlayerContact=G.parseInt(e);break;case"RACK":V.playSound("sndKicked"),this.BALL_KICK=!0,this.lastPlayerContact=G.parseInt(e),this.headerPower!=this.headerMax||this.GOAL_SCORED||(this.POWER_BALL=!0,this.headerPower=0,We.trace("POWER BALL ! - lastPlayer="+this.lastPlayerContact+" rack = "+this.rackList[this.lastPlayerContact][0]+" rackList.length"+G.string(this.rackList[this.lastPlayerContact].length),{fileName:"TileWorld.hx",lineNumber:1705,className:"TileWorld",methodName:"ballHitSomething"}),this.powerAngle=R.getAngleRad(this.rackList[this.lastPlayerContact][0].getPosition().x,this.rackList[this.lastPlayerContact][0].getPosition().y,this.B2Ball.getPosition().x,this.B2Ball.getPosition().y)),We.trace("---------------------KICK THAT Flippin BAAAAAAAAAAAAAAAAAL",{fileName:"TileWorld.hx",lineNumber:1710,className:"TileWorld",methodName:"ballHitSomething"});break;case"GROU":this.headerPower=0;break;case"POST":n>5&&V.playSound("sndPost")}},playerKicked:function(t,e){},goalScored:function(t){f.instance.gameTime-=Math.floor((Va.getTimer()-this.timeStart)/1e3),We.trace("GAME TIME NOW = "+f.instance.gameTime,{fileName:"TileWorld.hx",lineNumber:1739,className:"TileWorld",methodName:"goalScored"}),this.lastPlayerContact==t&&(We.trace("-------------------",{fileName:"TileWorld.hx",lineNumber:1743,className:"TileWorld",methodName:"goalScored"}),We.trace("-------------------OWN GOAL OH NO",{fileName:"TileWorld.hx",lineNumber:1744,className:"TileWorld",methodName:"goalScored"}),We.trace("-------------------",{fileName:"TileWorld.hx",lineNumber:1745,className:"TileWorld",methodName:"goalScored"})),We.trace(this.lastPlayerContact+" SCORED "+t,{fileName:"TileWorld.hx",lineNumber:1748,className:"TileWorld",methodName:"goalScored"}),V.playSound("sndCheer"),this.addParticle(this.ballClip.position.x,this.ballClip.position.y,7),this.GOAL_SCORED=!0,this.resetTimer=100,0==t?(f.instance.player0Score++,f.instance.lastScored=0):1==t&&(f.instance.player1Score++,f.instance.lastScored=1),this.endClip.myScaleX=1,this.endClip.myScaleY=1,this.endClip.offX=210,this.endClip.offY=50,this.endClip.animFrame=0,this.endClip.position.y=100,this.endClip.position.x=1e3,this.endClip.baseFrame=F.getBase("matchGoalGfk")},updateSpinners:function(){for(var t=0,e=this.spinnyList[0].length;t<e;){var i=t++,n=this.spinnyList[0][i];n.myAngle=this.spinnyList[1][i].getAngle()}},everyFrame:function(t){if(this.checkPauseButs(),!this.GAME_PAUSED){if(this.fartTimer++,this.ballSmokeTimer--,this.headerTimer--,f.instance.displayWorld.update1(),this.introTimer<0?(this.forceBallTest(),this.World.step(this.timeStep,this.iterations,this.iterations),this.forceBallTest(),this.World.step(this.timeStep,this.iterations,this.iterations),this.forceBallTest(),this.World.step(this.timeStep,this.iterations,this.iterations),this.World.clearForces()):(this.introTimer--,this.introTimer%33==0&&(this.endClip.position.x=-100,this.endClip.animFrame-=1),this.timeStart=Va.getTimer(),1!=this.introTimer||this.GAME_OVER||(this.endClip.position.y=-500)),null!=this.PhysicsDebug&&this.World.drawDebugData(),null!=this.endClip&&(this.endClip.position.x+=(400-this.endClip.position.x)/5),null!=this.endFaceClip1&&(this.endFaceClip1.myScaleX+=(-3-this.endFaceClip1.myScaleX)/5,this.endFaceClip2.myScaleX+=(3-this.endFaceClip2.myScaleX)/5,this.endFaceClip1.myScaleY=Math.abs(this.endFaceClip1.myScaleX),this.endFaceClip2.myScaleY=Math.abs(this.endFaceClip2.myScaleX)),this.doBoxUpdates(),this.updateSpinners(),this.BALL_LANDED){var e=new tt(0,(-80)),i=this.B2Ball.getPosition();this.B2Ball.applyImpulse(e,i)}if(this.HEADER_FOREVER&&(this.headerPower=this.headerMax),this.POWER_BALL&&(this.POWER_BALL=!1,this.updateBall("power")),this.tx=f.instance.stage.get_mouseX(),this.ty=f.instance.stage.get_mouseY(),this.currentGameState==z.Paused&&null!=this.myGameOverScreen&&this.myGameOverScreen.update(),f.instance.touch.updateTouchClips(this.touchClip,this.touchClip2,this.touchBut,this.touchBut2),this.LEVEL_IN_PLAY){this.ballClip.position.x=this.B2Ball.getPosition().x*(1/Y.PHYSICS_SCALE),this.ballClip.position.y=this.B2Ball.getPosition().y*(1/Y.PHYSICS_SCALE),this.ballClip.myAngle=this.B2Ball.getAngle(),this.firstObjTextClip.position.x+=(this.firstObjTextClip.limbUsed-this.firstObjTextClip.position.x)/3,Math.abs(this.firstObjTextClip.limbUsed-this.firstObjTextClip.position.x)<1e-4&&(this.firstObjTextClip.limbUsed+=900),this.ballClip.position.y>this.goalLeft.yContact&&this.ballClip.position.x<this.goalLeft.xContact&&!this.GOAL_SCORED?this.goalScored(0):this.ballClip.position.y>this.goalRight.yContact&&this.ballClip.position.x>this.goalRight.xContact&&!this.GOAL_SCORED&&this.goalScored(1),this.aiTimer--,this.aiKickTimer--,f.instance.TWO_PLAYER||this.aiKickTimer>30;for(var n=0;n<2;){var a=n++;if(a<6){var s=this.pList[a],r=this.cList[a],o=!1,l=!1,_=!1,h=!1;if(!f.instance.TWO_PLAYER&&a<1){this.pointTimer+=2,this.pointTimer<1e3?this.oppRightCap=400:this.pointTimer<2e3?this.oppRightCap=500:this.pointTimer<3e3?this.oppRightCap=600:this.oppRightCap=700;var c=30-this.getClock();c<0&&(c=0),this.oppRightCap+=Math.floor(10*c),(L.newTeamList[f.instance.player1][1]>8||0!=this.playerPowerList[1]||this.oppRightCap>700)&&(this.oppRightCap=700),f.instance.player0Score<f.instance.player1Score+1&&!this.GOAL_SCORED&&(this.oppRightCap+=100);var u=40,d=4;f.instance.IS_DESKTOP?(u=40+5*(L.newTeamList[f.instance.player1][1]/10),d=4):(u=30,d=3),d+=f.instance.level/22*5,u+=f.instance.level/22*10,0==f.instance.level?r.xspeed*=.25:1==f.instance.level&&(r.xspeed*=.6),this.B2Ball.getPosition().x<s.getPosition().x+10&&s.getPosition().x>75&&this.B2Ball.getPosition().x<this.oppRightCap&&0==this.playerPowerList[0]&&(r.xspeed-=u),this.GOAL_SCORED&&s.getPosition().x>150&&(r.xspeed-=60,_=!0),this.jList[0][0].getJointAngle()<.4&&this.B2Ball.getPosition().y>s.getPosition().y-20&&this.B2Ball.getPosition().x<s.getPosition().x+70&&this.B2Ball.getPosition().x>s.getPosition().x&&0==this.playerPowerList[0]||this.B2Ball.getPosition().x>s.getPosition().x+25&&this.B2Ball.getPosition().x<this.oppRightCap&&0==this.playerPowerList[0]&&(r.xspeed+=u),(this.B2Ball.getPosition().x<s.getPosition().x||this.B2Ball.getPosition().x<s.getPosition().x+80&&this.B2Ball.getPosition().y<s.getPosition().y-10&&this.B2Ball.getLinearVelocity().x<0)&&s.getPosition().y>0&&R.getRand(10)<d&&(_=!0),this.B2Ball.getPosition().y>s.getPosition().y-20&&this.B2Ball.getPosition().x<s.getPosition().x+70&&this.B2Ball.getPosition().x>s.getPosition().x&&r.xspeed>-.5&&this.aiKickTimer<0&&(this.aiKickTimer=50,We.trace("------------------AI SHOULD KICK IT !",{fileName:"TileWorld.hx",lineNumber:2129,className:"TileWorld",methodName:"everyFrame"})),this.aiKickTimer>30&&(h=!0);var m=!1;if(m){var p=Math.abs(10*this.B2Ball.getLinearVelocity().x);this.ballClip.position.x>r.position.x&&this.ballClip.position.x-r.position.x<20+p&&this.ballClip.position.y>390&&r.position.y>400&&Math.abs(s.getAngle())<1&&this.B2Ball.getLinearVelocity().x<0&&this.aiKickTimer<0&&(this.aiKickTimer=50,this.aiTimer=200),Math.abs(this.ballClip.position.x-r.position.x)<20+p&&this.aiKickTimer<0&&r.position.y-this.ballClip.position.y<200&&r.position.y>this.ballClip.position.y&&r.position.y>400&&this.ballClip.position.y<300&&(this.aiKickTimer=50,this.aiTimer=200),this.aiTimer<1&&this.ballClip.position.y>350&&(s.getAngle()>.1&&this.ballClip.position.x>r.position.x?(this.aiKickTimer=50,this.aiTimer=50+R.getRand(100)):s.getAngle()<-.1&&this.ballClip.position.x<r.position.x?(this.aiKickTimer=50,this.aiTimer=50+R.getRand(100)):this.aiTimer<-50&&Math.abs(s.getAngularVelocity())<.5&&(We.trace("angVel = "+s.getAngularVelocity(),{fileName:"TileWorld.hx",lineNumber:2202,className:"TileWorld",methodName:"everyFrame"}),this.aiKickTimer=50,this.aiTimer=50))}}for(var g=0;g<1;){var y=g++,x=this.lList[a][y],b=[[-1,-5,0],[1,-5,Math.PI],[-15,-70,0],[15,-70,Math.PI]];x.myAngle=this.jList[y][a].getJointAngle()+s.getAngle()+b[y][2];var w=R.getHyp(0,0,b[y][0],b[y][1]),T=R.getAngleRad(0,0,b[y][0],b[y][1]);x.position.x=r.position.x+w*R.getXRad(s.getAngle()+T),x.position.y=r.position.y+w*R.getYRad(s.getAngle()+T)}r.position.x=s.getPosition().x*(1/Y.PHYSICS_SCALE),r.position.y=s.getPosition().y*(1/Y.PHYSICS_SCALE),r.myAngle=s.getAngle()*r.myScaleX,this.angForceLimit=5;var E=2*-s.getAngle();if(10!=a&&(r.tweenTimer+=E,r.tweenTimer>this.angForceLimit?r.tweenTimer=this.angForceLimit:r.tweenTimer<-this.angForceLimit&&(r.tweenTimer=-this.angForceLimit),r.tweenTimer*=.95),s.getPosition().y>12&&100!=r.myForm&&Math.abs(s.getAngle())<.1&&r.tweenTimer<2,a<1?f.instance.TWO_PLAYER&&this.resetTimer<1&&(f.instance.key_a&&0==this.playerPowerList[0]?r.xspeed-=40:f.instance.key_d&&0==this.playerPowerList[0]&&(r.xspeed+=40),f.instance.key_w&&(_=!0),f.instance.key_g&&(h=!0)):(this.resetTimer<1&&((f.instance.touch.TOUCH_LEFT||f.instance.key_leftArrow)&&(o=!0),(f.instance.touch.TOUCH_RIGHT||f.instance.key_rightArrow)&&(l=!0),(f.instance.touch.TOUCH_BUT1||f.instance.key_upArrow)&&(_=!0),(f.instance.touch.TOUCH_BUT2||f.instance.key_spacebar)&&(h=!0)),this.team1Pos=r.position.x),r.BLOCKING=!1,r.jumpTimer--,o&&0==this.playerPowerList[a]?r.xspeed-=40:l&&0==this.playerPowerList[a]&&(r.xspeed+=40),_){var S=-250;!f.instance.TWO_PLAYER&&a<1&&(S=-(100+10*R.getRand(15))),0==this.hittingList[a]&&(this.hittingList[a]=1,s.setLinearVelocity(new tt(s.getLinearVelocity().x,S)),r.jumpTimer<1&&(V.playSound("sndJump"),r.jumpTimer=10))}h?(1==a?this.jList[0][a].setMotorSpeed(-14*(this.jList[0][a].getJointAngle()-1.56)):this.jList[0][a].setMotorSpeed(-24*(this.jList[0][a].getJointAngle()+1.56)),r.limbTimer=5):(1==a?this.jList[0][a].setMotorSpeed(-6*(this.jList[0][a].getJointAngle()+Math.PI-1.2-1.67)):this.jList[0][a].setMotorSpeed(-6*(this.jList[0][a].getJointAngle()+Math.PI-1.9-1.67)),this.doLimbStuff(r)),r.xspeed*=.7;var C=r.xspeed,I=s.getLinearVelocity().y+1.5,M=new tt(C,I);s.setLinearVelocity(M)}}if(this.BALL_KICK&&(this.BALL_KICK=!1),this.getClock()<1&&!this.GAME_OVER&&!this.GOAL_SCORED){this.endClip.myScaleX=1,this.endClip.myScaleY=1,this.endClip.offX=210,this.endClip.offY=50,this.endClip.animFrame=0,this.endClip.position.y=170,this.endClip.position.x=-1e3,this.endClip.baseFrame=F.getBase("matchOverGfk");var B=new v(400,180,0,0,F.getBase("blank"),0,9e3),D=new A(0,0,Math.floor(1),Math.floor(1),F.getBase("blank"),0,2100,1,1,B),P="";B.myScaleX=B.myScaleY=2;var N=new v(400,220,100,63,F.getBase("blackLoz"),0,6e3,2,2);this.castList.push(N),this.endFaceClip1=new v(130,100,25,25,F.getBase("teamBodySheetSad"),0,9e3,0,0),this.castList.push(this.endFaceClip1),this.endFaceClip1.animFrame=f.instance.player1,this.endFaceClip2=new v(670,100,25,25,F.getBase("teamBodySheetSad"),0,9e3,0,0),this.castList.push(this.endFaceClip2),this.endFaceClip2.animFrame=f.instance.player0,f.instance.displayWorld.SMOOTH=!1;var k=this;f.instance.player0Score==f.instance.player1Score?(this.eventType="draw",P="HONOURS EVEN !"):f.instance.player0Score>f.instance.player1Score?(this.eventType="success",P=f.instance.myLeague.getTeamName(0)+" WIN !",this.endFaceClip2.baseFrame=F.getBase("teamBodySheet")):(this.eventType="dead",P=f.instance.myLeague.getTeamName(1)+" WIN !",this.endFaceClip1.baseFrame=F.getBase("teamBodySheet")),D.getText(P),this.GOAL_SCORED=!0,this.GAME_OVER=!0,this.resetTimer=1e7,V.playSound("sndHorn")}this.resetTimer--,1==this.resetTimer&&(V.stopSound("sndAmbLoop1"),
this.resetGame())}f.instance.displayWorld.update2(),this.myGui.updateScore(),f.instance.displayWorld.update3(),this.reallyRemovePlayers(),this.checkButs();var k=this;this.eventType&&setTimeout(function(){switch(k.eventType){case"success":window.famobi_analytics.trackEvent("EVENT_LEVELSUCCESS",{levelName:"Level"+f.instance.level});break;case"dead":case"draw":window.famobi_analytics.trackEvent("EVENT_LEVELFAIL",{levelName:"Level"+f.instance.level,reason:k.eventType})}k.eventType=null,k.contBut.ACTIVE=!0},2e3)}},doLimbStuff:function(t){t.limbTimer--;var e=[0];0==t.limbTimer&&(1==t.myScaleX||(e=[1]),t.limbUsed=0)},safeRemoveJug:function(t){T.indexOf(this.jugsToRemove,t,0)<0&&this.jugsToRemove.push(t)},removeAllJugs:function(){for(var t=0,e=this.jugsToRemove;t<e.length;){var i=e[t];++t;var n,a=i;n=T.indexOf(this.pList,a,0),n>-1&&(this.pList.splice(n,1),i.deleteMyStuff())}this.jugsToRemove=[]},safeRemoveActor:function(t){T.indexOf(this.actorsToRemove,t,0)<0&&this.actorsToRemove.push(t)},reallyRemovePlayers:function(){for(var t=0,e=this.actorsToRemove;t<e.length;){var i=e[t];++t,this.World.destroyJoint(this.jList[0][i]),this.World.destroyJoint(this.jList[1][i]),this.World.destroyBody(this.pList[i]),this.World.destroyBody(this.rackList[0][i]),this.World.destroyBody(this.rackList[1][i]),f.instance.displayWorld.safeRemoveActor(this.cList[i]),f.instance.displayWorld.safeRemoveActor(this.lList[i])}this.actorsToRemove=[]},removeAllActors:function(){for(var t=0,e=this.castList;t<e.length;){var i=e[t];++t,this.actorsToRemove.push(i)}},__class__:Y});var K=function(){this.SELECTED=!1,this.LINK_CLICKED=!1,this.SCALE_MORE=!1,this.timeButTimer=0,this.famLinkString="",this.castList=f.instance.displayWorld.castList,this.CLICK_LOCK=!0,this.SHRINK_BUT=!1,We.trace("hello you",{fileName:"TitleScreen.hx",lineNumber:59,className:"TitleScreen",methodName:"new"}),m.call(this),V.playSound("sndMusicLoop"),this.Bg=new v(0,0,Math.floor(1),Math.floor(1),F.getBase("tileBg"),0,2e3),this.Logo=new v(400,0,Math.floor(214.5),Math.floor(99.5),F.getBase("titleLogo"),0,2e3),this.StartBut=new v(400,235,Math.floor(48),Math.floor(48),F.getBase("titleStartBut"),0,2e3),this.StartBut2=new v(400,340,Math.floor(48),Math.floor(48),F.getBase("titleStart2But"),0,2e3),f.instance.myLeague.SAVED_GAME&&(We.trace("-------- i see the SAVED GAME",{fileName:"TitleScreen.hx",lineNumber:77,className:"TitleScreen",methodName:"new"}),this.StartBut3=new v(400,440,Math.floor(48),Math.floor(48),F.getBase("titleStartButCont"),0,3e3),this.castList.push(this.StartBut3)),this.SoundBut=new v(760,40,Math.floor(40),Math.floor(40),F.getBase("butSound"),0,2e3,.75,.75),this.castList.push(this.Bg),this.castList.push(this.Logo),this.castList.push(this.StartBut),this.castList.push(this.StartBut2),this.castList.push(this.SoundBut),f.instance.IS_DESKTOP||(this.StartBut2.position.x-=1e3),this.StartBut.myScaleX=this.StartBut.myScaleY=0;this.addEventListener("enterFrame",a(this,this.update)),f.instance.displayWorld.SMOOTH=!0};s.TitleScreen=K,K.__name__=["TitleScreen"],K.__super__=m,K.prototype=n(m.prototype,{addLogo:function(){var t="";if(null!=window.famobi&&(t=window.famobi.getMoreGamesButtonImage(!0)),""!=t){We.trace("famBut found:"+t,{fileName:"TitleScreen.hx",lineNumber:162,className:"TitleScreen",methodName:"addLogo"});var e=new _l(t);this.loader=new Wr,this.loader.contentLoaderInfo.addEventListener("complete",a(this,this.onComplete)),this.loader.contentLoaderInfo.addEventListener("ioError",a(this,this.onIOError)),this.loader.load(e)}else We.trace("famBut NOT found:",{fileName:"TitleScreen.hx",lineNumber:183,className:"TitleScreen",methodName:"addLogo"})},onIOError:function(t){We.trace("ioErrorHandler: "+G.string(t),{fileName:"TitleScreen.hx",lineNumber:188,className:"TitleScreen",methodName:"onIOError"})},onComplete:function(t){window.famobi_analytics.trackScreen("SCREEN_HOME"),We.trace("famBut LOADED",{fileName:"TitleScreen.hx",lineNumber:194,className:"TitleScreen",methodName:"onComplete"});var e=t.target.content;this.StartBut4=new m,this.StartBut4.addChild(e),this.StartBut4.set_x(60),this.StartBut4.set_y(400),this.StartBut4.set_scaleX(.25),this.StartBut4.set_scaleY(.25),f.instance.addChild(this.StartBut4)},doTimeBut:function(t,e){},flipSound:function(t){t&&(f.instance.SOUND_ON=!f.instance.SOUND_ON),f.instance.SOUND_ON?this.SoundBut.animFrame=0:this.SoundBut.animFrame=1,window.famobi_analytics.trackEvent("EVENT_VOLUMECHANGE",{bgmVolume:f.instance.SOUND_ON?1:0,sfxVolume:f.instance.SOUND_ON?1:0})},addMess:function(){},startGame:function(t){null==t&&(t=!1),null!=this.StartBut4&&f.instance.removeChild(this.StartBut4),V.stopSound("sndMusicLoop"),this.removeEventListener("enterFrame",a(this,this.update)),f.instance.removeChild(this),f.instance.displayWorld.removeAllActors(),f.instance.displayWorld.reallyRemoveActors(),t||f.instance.TWO_PLAYER||f.instance.myLeague.startNewLeague(),f.instance.addLevelSelect()},update:function(t){f.instance.displayWorld.update1();var e=f.instance.stage.get_mouseX(),i=f.instance.stage.get_mouseY();if(this.doTimeBut(e,i),this.Logo.position.y+=(109-this.Logo.position.y)/10,Math.abs(136-this.Logo.position.y)<5&&!this.SCALE_MORE&&(this.SCALE_MORE=!0),this.SCALE_MORE,this.SoundBut.testProx(e,i,70)&&1==f.instance.clicked&&!this.CLICK_LOCK&&(this.CLICK_LOCK=!0,this.flipSound(!0)),this.StartBut.testProx(e,i,70)&&!this.SHRINK_BUT?(this.StartBut.myScaleX+=(1.3-this.StartBut.myScaleX)/5,this.StartBut.myScaleY=this.StartBut.myScaleX):this.SHRINK_BUT||(this.StartBut.myScaleX+=(1-this.StartBut.myScaleX)/5,this.StartBut.myScaleY=this.StartBut.myScaleX),!this.StartBut.testProx(e,i,70)||this.SELECTED||1!=f.instance.clicked||this.CLICK_LOCK||this.SHRINK_BUT||(this.CLICK_LOCK=!0,this.SELECTED=!0,this.SHRINK_BUT=!0,f.instance.TWO_PLAYER=!1,V.playSound("sndClick")),this.SHRINK_BUT){if(this.StartBut.myAngle+=.1,this.StartBut.myScaleX-=.1,this.StartBut.myScaleY=this.StartBut.myScaleX,this.StartBut.myScaleX<.1)return this.StartBut.myScaleX=.1,void this.startGame()}else this.StartBut.myScaleX+=(1-this.StartBut.myScaleX)/10,this.StartBut.myScaleY=this.StartBut.myScaleX;!this.StartBut2.testProx(e,i,70)||this.SELECTED||1!=f.instance.clicked||this.CLICK_LOCK||this.SHRINK_BUT||(this.CLICK_LOCK=!0,V.playSound("sndClick"),f.instance.TWO_PLAYER=!0,f.instance.PLAYER_ONE_CHOSEN=!1,f.instance.PLAYER_TWO_CHOSEN=!1,this.SELECTED=!0,this.startGame()),f.instance.myLeague.SAVED_GAME&&(!this.StartBut3.testProx(e,i,70)||this.SELECTED||1!=f.instance.clicked||this.CLICK_LOCK||this.SHRINK_BUT||(this.CLICK_LOCK=!0,V.playSound("sndClick"),f.instance.TWO_PLAYER=!1,f.instance.PLAYER_ONE_CHOSEN=!1,f.instance.PLAYER_TWO_CHOSEN=!1,this.SELECTED=!0,this.startGame(!0))),null!=this.StartBut4&&R.getHyp(this.StartBut4.get_x()+50,this.StartBut4.get_y()+50,e,i)<100&&1==f.instance.clicked&&!this.CLICK_LOCK&&!this.LINK_CLICKED&&(this.LINK_CLICKED=!0,this.CLICK_LOCK=!0,null!=window.famobi&&window.famobi.moreGamesLink()),f.instance.displayWorld.update2(),f.instance.displayWorld.update3(),0==f.instance.clicked&&(this.CLICK_LOCK=!1)},__class__:K});var j=function(){this.LOCK_DIRECTION_POINT=!0,this.lockButPos=new Oa(0,0),this.lockPos=new Oa(0,0),this.touchMovePoint=new Oa(0,0),this.touchList=[],this.touchMoveInt=0,this.butNum=0,this.LOCK_X=!1,this.LOCK_Y=!1,this.TOUCH_MOVE=!1,this.TOUCH_UP=!1,this.TOUCH_DOWN=!1,this.TOUCH_RIGHT=!1,this.TOUCH_LEFT=!1,this.TOUCH_BUT2=!1,this.TOUCH_BUT1=!1,this.mString="NULL",this.touchesList=[],this.safeRemoveTouchList=[],this.touchesMap=new qe,m.call(this),this.setUpTouch(),this.lockPos.x=140,this.lockPos.y=440,this.lockButPos.x=710,this.lockButPos.y=440,this.LOCK_Y=!0,this.addEventListener("enterFrame",a(this,this.updateTouches))};s.TouchClass=j,j.__name__=["TouchClass"],j.__super__=m,j.prototype=n(m.prototype,{setUpTouch:function(){this.multiTouchSupported=Ml.get_supportsTouchEvents(),this.multiTouchSupported?(this.mString="OK",Ml.set_inputMode(2),f.instance.addEventListener("touchBegin",a(this,this.onTouchBegin)),f.instance.addEventListener("touchMove",a(this,this.onTouchMove)),f.instance.addEventListener("touchEnd",a(this,this.onTouchEnd))):this.mString="NOT OK",We.trace("Using multitouch: "+G.string(this.multiTouchSupported),{fileName:"TouchClass.hx",lineNumber:72,className:"TouchClass",methodName:"setUpTouch"})},onTouchBegin:function(t){this.mString="onTouchBegin"+t.touchPointID;var e=new Oa(t.stageX,t.stageY);this.touchesMap.h[t.touchPointID]=e;for(var i=[t.touchPointID,e],n=!1,a=0,s=this.touchesList.length;a<s;){var r=a++;if(this.touchesList[r][0]==t.touchPointID){n=!0;break}}n||this.touchesList.push(i)},onTouchMove:function(t){this.mString="onTouchMove"+t.touchPointID;for(var e=(this.touchesMap.h[t.touchPointID],0),i=this.touchesList.length;e<i;){var n=e++;this.touchesList[n][0]==t.touchPointID&&(this.touchesList[n][1].x=t.stageX,this.touchesList[n][1].y=t.stageY)}},onTouchOut:function(t){return},onTouchEnd:function(t){this.mString="onTouchEnd"+t.touchPointID,this.touchesMap.remove(t.touchPointID);for(var e=this.touchesList.length,i=0;i<e;){var n=i++,a=e-n-1;a>-1&&this.touchesList[a][0]==t.touchPointID&&(t.touchPointID==this.touchMoveInt&&this.resetMove(),this.touchesList.splice(a,1))}},startTouchClips:function(t,e,i,n){this.touchMovePoint.x=this.lockPos.x,this.touchMovePoint.y=this.lockPos.y,t.position.x=this.lockPos.x,t.position.y=this.lockPos.y,e.position.x=this.lockPos.x,e.position.y=this.lockPos.y,this.TOUCH_MOVE=!1,this.touchMoveInt=-1},updateTouchClips:function(t,e,i,n){this.touchList=this.touchesList,this.TOUCH_BUT1=!1,this.TOUCH_BUT2=!1,this.TOUCH_LEFT=!1,this.TOUCH_RIGHT=!1,this.TOUCH_UP=!1,this.TOUCH_DOWN=!1,this.TOUCH_MOVE=!1;for(var a=0,s=this.touchList.length;a<s;){var r=a++;R.getHyp(this.touchList[r][1].x,this.touchList[r][1].y,i.position.x,i.position.y)<90&&(this.TOUCH_BUT1=!0),R.getHyp(this.touchList[r][1].x,this.touchList[r][1].y,n.position.x,n.position.y)<90&&(this.TOUCH_BUT2=!0),R.getHyp(this.touchList[r][1].x,this.touchList[r][1].y,this.lockPos.x,this.lockPos.y)<150&&!this.TOUCH_MOVE&&(this.TOUCH_MOVE=!0,this.touchList[r][1].x<this.lockPos.x-10&&!this.LOCK_X?this.TOUCH_LEFT=!0:this.touchList[r][1].x>this.lockPos.x+10&&!this.LOCK_X&&(this.TOUCH_RIGHT=!0),e.position.x=Math.floor(this.touchList[r][1].x))}0==this.touchList.length&&(this.touchMovePoint.x=this.lockPos.x,this.touchMovePoint.y=this.lockPos.y,t.position.x=this.lockPos.x,t.position.y=this.lockPos.y,e.position.x=this.lockPos.x,e.position.y=this.lockPos.y,this.resetMove()),this.TOUCH_MOVE||(e.position.x=this.lockPos.x),i.position.x=this.lockButPos.x,i.position.y=this.lockButPos.y,n.position.x=this.lockButPos.x-150,n.position.y=this.lockButPos.y},resetMove:function(){this.TOUCH_MOVE=!1,this.touchMoveInt=-1},updateTouches:function(t){for(var e=0,i=this.safeRemoveTouchList.length;e<i;){e++}this.safeRemoveTouchList=[]},__class__:j});var q=s.ValueType={__ename__:["ValueType"],__constructs__:["TNull","TInt","TFloat","TBool","TObject","TFunction","TClass","TEnum","TUnknown"]};q.TNull=["TNull",0],q.TNull.toString=r,q.TNull.__enum__=q,q.TInt=["TInt",1],q.TInt.toString=r,q.TInt.__enum__=q,q.TFloat=["TFloat",2],q.TFloat.toString=r,q.TFloat.__enum__=q,q.TBool=["TBool",3],q.TBool.toString=r,q.TBool.__enum__=q,q.TObject=["TObject",4],q.TObject.toString=r,q.TObject.__enum__=q,q.TFunction=["TFunction",5],q.TFunction.toString=r,q.TFunction.__enum__=q,q.TClass=function(t){var e=["TClass",6,t];return e.__enum__=q,e.toString=r,e},q.TEnum=function(t){var e=["TEnum",7,t];return e.__enum__=q,e.toString=r,e},q.TUnknown=["TUnknown",8],q.TUnknown.toString=r,q.TUnknown.__enum__=q;var J=function(){};s.Type=J,J.__name__=["Type"],J.getSuperClass=function(t){return t.__super__},J.getClassName=function(t){var e=t.__name__;return null==e?null:e.join(".")},J.getEnumName=function(t){var e=t.__ename__;return e.join(".")},J.resolveClass=function(t){var e=s[t];return null!=e&&e.__name__?e:null},J.resolveEnum=function(t){var e=s[t];return null!=e&&e.__ename__?e:null},J.createInstance=function(t,e){var i=e.length;switch(i){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3]);case 5:return new t(e[0],e[1],e[2],e[3],e[4]);case 6:return new t(e[0],e[1],e[2],e[3],e[4],e[5]);case 7:return new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6]);case 8:return new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]);default:throw new ri("Too many arguments")}return null},J.createEmptyInstance=function(t){function e(){}return e.prototype=t.prototype,new e},J.createEnum=function(t,e,i){var n=U.field(t,e);if(null==n)throw new ri("No such constructor "+e);if(U.isFunction(n)){if(null==i)throw new ri("Constructor "+e+" need parameters");return U.callMethod(t,n,i)}if(null!=i&&0!=i.length)throw new ri("Constructor "+e+" does not need parameters");return n},J.getClassFields=function(t){var e=U.fields(t);return T.remove(e,"__name__"),T.remove(e,"__interfaces__"),T.remove(e,"__properties__"),T.remove(e,"__super__"),T.remove(e,"__meta__"),T.remove(e,"prototype"),e},J.getEnumConstructs=function(t){var e=t.__constructs__;return e.slice()},J["typeof"]=function(t){var e=typeof t;switch(e){case"boolean":return q.TBool;case"string":return q.TClass(String);case"number":return Math.ceil(t)==t%2147483648?q.TInt:q.TFloat;case"object":if(null==t)return q.TNull;var i=t.__enum__;if(null!=i)return q.TEnum(i);var n=oi.getClass(t);return null!=n?q.TClass(n):q.TObject;case"function":return t.__name__||t.__ename__?q.TObject:q.TFunction;case"undefined":return q.TNull;default:return q.TUnknown}},J.enumEq=function(t,e){if(t==e)return!0;try{if(t[0]!=e[0])return!1;for(var i=2,n=t.length;i<n;){var a=i++;if(!J.enumEq(t[a],e[a]))return!1}var s=t.__enum__;if(s!=e.__enum__||null==s)return!1}catch(r){return Ue.lastException=r,r instanceof ri&&(r=r.val),!1}return!0};var Z={};s["_UInt.UInt_Impl_"]=Z,Z.__name__=["_UInt","UInt_Impl_"],Z.gt=function(t,e){var i=t<0,n=e<0;return i!=n?i:t>e},Z.toFloat=function(t){var e=t;return e<0?4294967296+e:e+0};var Q=function(t){this.nodeType=t,this.children=[],this.attributeMap=new Qe};s.Xml=Q,Q.__name__=["Xml"],Q.parse=function(t){return si.parse(t)},Q.createElement=function(t){var e=new Q(Q.Element);if(e.nodeType!=Q.Element)throw new ri("Bad node type, expected Element but found "+e.nodeType);return e.nodeName=t,e},Q.createPCData=function(t){var e=new Q(Q.PCData);if(e.nodeType==Q.Document||e.nodeType==Q.Element)throw new ri("Bad node type, unexpected "+e.nodeType);return e.nodeValue=t,e},Q.createCData=function(t){var e=new Q(Q.CData);if(e.nodeType==Q.Document||e.nodeType==Q.Element)throw new ri("Bad node type, unexpected "+e.nodeType);return e.nodeValue=t,e},Q.createComment=function(t){var e=new Q(Q.Comment);if(e.nodeType==Q.Document||e.nodeType==Q.Element)throw new ri("Bad node type, unexpected "+e.nodeType);return e.nodeValue=t,e},Q.createDocType=function(t){var e=new Q(Q.DocType);if(e.nodeType==Q.Document||e.nodeType==Q.Element)throw new ri("Bad node type, unexpected "+e.nodeType);return e.nodeValue=t,e},Q.createProcessingInstruction=function(t){var e=new Q(Q.ProcessingInstruction);if(e.nodeType==Q.Document||e.nodeType==Q.Element)throw new ri("Bad node type, unexpected "+e.nodeType);return e.nodeValue=t,e},Q.createDocument=function(){return new Q(Q.Document)},Q.prototype={get:function(t){if(this.nodeType!=Q.Element)throw new ri("Bad node type, expected Element but found "+this.nodeType);return this.attributeMap.get(t)},set:function(t,e){if(this.nodeType!=Q.Element)throw new ri("Bad node type, expected Element but found "+this.nodeType);this.attributeMap.set(t,e)},exists:function(t){if(this.nodeType!=Q.Element)throw new ri("Bad node type, expected Element but found "+this.nodeType);return this.attributeMap.exists(t)},elements:function(){if(this.nodeType!=Q.Document&&this.nodeType!=Q.Element)throw new ri("Bad node type, expected Element or Document but found "+this.nodeType);for(var t,e=[],i=0,n=this.children;i<n.length;){var a=n[i];++i,a.nodeType==Q.Element&&e.push(a)}return t=e,T.iter(t)},firstElement:function(){if(this.nodeType!=Q.Document&&this.nodeType!=Q.Element)throw new ri("Bad node type, expected Element or Document but found "+this.nodeType);for(var t=0,e=this.children;t<e.length;){var i=e[t];if(++t,i.nodeType==Q.Element)return i}return null},addChild:function(t){if(this.nodeType!=Q.Document&&this.nodeType!=Q.Element)throw new ri("Bad node type, expected Element or Document but found "+this.nodeType);null!=t.parent&&t.parent.removeChild(t),this.children.push(t),t.parent=this},removeChild:function(t){if(this.nodeType!=Q.Document&&this.nodeType!=Q.Element)throw new ri("Bad node type, expected Element or Document but found "+this.nodeType);return!!T.remove(this.children,t)&&(t.parent=null,!0)},__class__:Q};var $=function(){this.lowerBound=new tt,this.upperBound=new tt};s["box2D.collision.B2AABB"]=$,$.__name__=["box2D","collision","B2AABB"],$.prototype={isValid:function(){var t=this.upperBound.x-this.lowerBound.x,e=this.upperBound.y-this.lowerBound.y,i=t>=0&&e>=0;return i=i&&this.lowerBound.isValid()&&this.upperBound.isValid()},getCenter:function(){return new tt((this.lowerBound.x+this.upperBound.x)/2,(this.lowerBound.y+this.upperBound.y)/2)},getExtents:function(){return new tt((this.upperBound.x-this.lowerBound.x)/2,(this.upperBound.y-this.lowerBound.y)/2)},contains:function(t){var e=!0;return e=e&&this.lowerBound.x<=t.lowerBound.x,e=e&&this.lowerBound.y<=t.lowerBound.y,e=e&&t.upperBound.x<=this.upperBound.x,e=e&&t.upperBound.y<=this.upperBound.y},rayCast:function(t,e){var i,n,a,s,r,o=-Number.MAX_VALUE,l=Number.MAX_VALUE,_=e.p1.x,h=e.p1.y,c=e.p2.x-e.p1.x,u=e.p2.y-e.p1.y,d=Math.abs(c),m=Math.abs(u),f=t.normal;if(d<Number.MIN_VALUE){if(_<this.lowerBound.x||this.upperBound.x<_)return!1}else if(i=1/c,n=(this.lowerBound.x-_)*i,a=(this.upperBound.x-_)*i,r=-1,n>a&&(s=n,n=a,a=s,r=1),n>o&&(f.x=r,f.y=0,o=n),l=Math.min(l,a),o>l)return!1;if(m<Number.MIN_VALUE){if(h<this.lowerBound.y||this.upperBound.y<h)return!1}else if(i=1/u,n=(this.lowerBound.y-h)*i,a=(this.upperBound.y-h)*i,r=-1,n>a&&(s=n,n=a,a=s,r=1),n>o&&(f.y=r,f.x=0,o=n),l=Math.min(l,a),o>l)return!1;return t.fraction=o,!0},testOverlap:function(t){var e=t.lowerBound.x-this.upperBound.x,i=t.lowerBound.y-this.upperBound.y,n=this.lowerBound.x-t.upperBound.x,a=this.lowerBound.y-t.upperBound.y;return!(e>0||i>0)&&!(n>0||a>0)},combine:function(t,e){this.lowerBound.x=Math.min(t.lowerBound.x,e.lowerBound.x),this.lowerBound.y=Math.min(t.lowerBound.y,e.lowerBound.y),this.upperBound.x=Math.max(t.upperBound.x,e.upperBound.x),this.upperBound.y=Math.max(t.upperBound.y,e.upperBound.y)},__class__:$};var tt=function(t,e){null==e&&(e=0),null==t&&(t=0),this.x=t,this.y=e};s["box2D.common.math.B2Vec2"]=tt,tt.__name__=["box2D","common","math","B2Vec2"],tt.make=function(t,e){return new tt(t,e)},tt.prototype={setZero:function(){this.x=0,this.y=0},set:function(t,e){null==e&&(e=0),null==t&&(t=0),this.x=t,this.y=e},setV:function(t){this.x=t.x,this.y=t.y},getNegative:function(){return new tt((-this.x),(-this.y))},negativeSelf:function(){this.x=-this.x,this.y=-this.y},copy:function(){return new tt(this.x,this.y)},add:function(t){this.x+=t.x,this.y+=t.y},subtract:function(t){this.x-=t.x,this.y-=t.y},multiply:function(t){this.x*=t,this.y*=t},mulM:function(t){var e=this.x;this.x=t.col1.x*e+t.col2.x*this.y,this.y=t.col1.y*e+t.col2.y*this.y},mulTM:function(t){var e=Ut.dot(this,t.col1);this.y=Ut.dot(this,t.col2),this.x=e},crossVF:function(t){var e=this.x;this.x=t*this.y,this.y=-t*e},crossFV:function(t){var e=this.x;this.x=-t*this.y,this.y=t*e},minV:function(t){this.x<t.x?this.x=this.x:this.x=t.x,this.y<t.y?this.y=this.y:this.y=t.y},maxV:function(t){this.x>t.x?this.x=this.x:this.x=t.x,this.y>t.y?this.y=this.y:this.y=t.y},abs:function(){this.x<0&&(this.x=-this.x),this.y<0&&(this.y=-this.y)},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},lengthSquared:function(){return this.x*this.x+this.y*this.y},normalize:function(){var t=Math.sqrt(this.x*this.x+this.y*this.y);if(t<Number.MIN_VALUE)return 0;var e=1/t;return this.x*=e,this.y*=e,t},isValid:function(){return Ut.isValid(this.x)&&Ut.isValid(this.y)},__class__:tt};var et=function(){this.v=new tt,this.id=new it};s["box2D.collision.ClipVertex"]=et,et.__name__=["box2D","collision","ClipVertex"],et.prototype={set:function(t){this.v.setV(t.v),this.id.set(t.id)},__class__:et};var it=function(){this._key=0,this.features=new nt,this.features._m_id=this};s["box2D.collision.B2ContactID"]=it,it.__name__=["box2D","collision","B2ContactID"],it.prototype={set:function(t){this.set_key(t._key)},copy:function(){var t=new it;return t.set_key(this.get_key()),t},get_key:function(){return this._key},set_key:function(t){return this._key=t,this.features._referenceEdge=255&this._key,this.features._incidentEdge=(65280&this._key)>>8&255,this.features._incidentVertex=(16711680&this._key)>>16&255,this.features._flip=(this._key&-16777216)>>24&255,this._key},__class__:it,__properties__:{set_key:"set_key",get_key:"get_key"}};var nt=function(){this._flip=0,this._incidentVertex=0,this._incidentEdge=0,this._referenceEdge=0};s["box2D.collision.Features"]=nt,nt.__name__=["box2D","collision","Features"],nt.prototype={get_referenceEdge:function(){return this._referenceEdge},set_referenceEdge:function(t){return this._referenceEdge=t,this._m_id._key=this._m_id._key&-256|255&this._referenceEdge,t},get_incidentEdge:function(){return this._incidentEdge},set_incidentEdge:function(t){return this._incidentEdge=t,this._m_id._key=this._m_id._key&-65281|this._incidentEdge<<8&65280,t},get_incidentVertex:function(){return this._incidentVertex},set_incidentVertex:function(t){return this._incidentVertex=t,this._m_id._key=this._m_id._key&-16711681|this._incidentVertex<<16&16711680,t},get_flip:function(){return this._flip},set_flip:function(t){return this._flip=t,this._m_id._key=16777215&this._m_id._key|this._flip<<24&-16777216,t},__class__:nt,__properties__:{set_flip:"set_flip",get_flip:"get_flip",set_incidentVertex:"set_incidentVertex",get_incidentVertex:"get_incidentVertex",set_incidentEdge:"set_incidentEdge",get_incidentEdge:"get_incidentEdge",set_referenceEdge:"set_referenceEdge",get_referenceEdge:"get_referenceEdge"}};var at=function(){};s["box2D.collision.B2Collision"]=at,at.__name__=["box2D","collision","B2Collision"],at.clipSegmentToLine=function(t,e,i,n){var a,s=0;a=e[0];var r=a.v;a=e[1];var o=a.v,l=i.x*r.x+i.y*r.y-n,_=i.x*o.x+i.y*o.y-n;if(l<=0&&t[s++].set(e[0]),_<=0&&t[s++].set(e[1]),l*_<0){var h=l/(l-_);a=t[s];var c=a.v;c.x=r.x+h*(o.x-r.x),c.y=r.y+h*(o.y-r.y),a=t[s];var u;l>0?(u=e[0],a.id=u.id):(u=e[1],a.id=u.id),++s}return s},at.edgeSeparation=function(t,e,i,n,a){var s,r,o=(t.m_vertexCount,t.m_vertices),l=t.m_normals,_=n.m_vertexCount,h=n.m_vertices;s=e.R,r=l[i];var c=s.col1.x*r.x+s.col2.x*r.y,u=s.col1.y*r.x+s.col2.y*r.y;s=a.R;for(var d=s.col1.x*c+s.col1.y*u,m=s.col2.x*c+s.col2.y*u,f=0,p=Number.MAX_VALUE,g=0;g<_;){var v=g++;r=h[v];var y=r.x*d+r.y*m;y<p&&(p=y,f=v)}r=o[i],s=e.R;var x=e.position.x+(s.col1.x*r.x+s.col2.x*r.y),b=e.position.y+(s.col1.y*r.x+s.col2.y*r.y);r=h[f],s=a.R;var w=a.position.x+(s.col1.x*r.x+s.col2.x*r.y),T=a.position.y+(s.col1.y*r.x+s.col2.y*r.y);w-=x,T-=b;var A=w*c+T*u;return A},at.findMaxSeparation=function(t,e,i,n,a){var s,r,o=e.m_vertexCount,l=e.m_normals;r=a.R,s=n.m_centroid;var _=a.position.x+(r.col1.x*s.x+r.col2.x*s.y),h=a.position.y+(r.col1.y*s.x+r.col2.y*s.y);r=i.R,s=e.m_centroid,_-=i.position.x+(r.col1.x*s.x+r.col2.x*s.y),h-=i.position.y+(r.col1.y*s.x+r.col2.y*s.y);for(var c=_*i.R.col1.x+h*i.R.col1.y,u=_*i.R.col2.x+h*i.R.col2.y,d=0,m=-Number.MAX_VALUE,f=0;f<o;){var p=f++;s=l[p];var g=s.x*c+s.y*u;g>m&&(m=g,d=p)}var v,y=at.edgeSeparation(e,i,d,n,a);v=d-1>=0?d-1:o-1;var x,b=at.edgeSeparation(e,i,v,n,a);x=d+1<o?d+1:0;var w,T,A,E=at.edgeSeparation(e,i,x,n,a);if(b>y&&b>E)A=-1,w=v,T=b;else{if(!(E>y))return t[0]=d,y;A=1,w=x,T=E}for(;;){if(d=A==-1?w-1>=0?w-1:o-1:w+1<o?w+1:0,y=at.edgeSeparation(e,i,d,n,a),!(y>T))break;w=d,T=y}return t[0]=w,T},at.findIncidentEdge=function(t,e,i,n,a,s){var r,o,l=(e.m_vertexCount,e.m_normals),_=a.m_vertexCount,h=a.m_vertices,c=a.m_normals;r=i.R,o=l[n];var u=r.col1.x*o.x+r.col2.x*o.y,d=r.col1.y*o.x+r.col2.y*o.y;r=s.R;var m=r.col1.x*u+r.col1.y*d;d=r.col2.x*u+r.col2.y*d,u=m;for(var f=0,p=Number.MAX_VALUE,g=0;g<_;){var v=g++;o=c[v];var y=u*o.x+d*o.y;y<p&&(p=y,f=v)}var x,b,w=f;b=w+1<_?w+1:0,x=t[0],o=h[w],r=s.R,x.v.x=s.position.x+(r.col1.x*o.x+r.col2.x*o.y),x.v.y=s.position.y+(r.col1.y*o.x+r.col2.y*o.y),x.id.features.set_referenceEdge(n),x.id.features.set_incidentEdge(w),x.id.features.set_incidentVertex(0),x=t[1],o=h[b],r=s.R,x.v.x=s.position.x+(r.col1.x*o.x+r.col2.x*o.y),x.v.y=s.position.y+(r.col1.y*o.x+r.col2.y*o.y),x.id.features.set_referenceEdge(n),x.id.features.set_incidentEdge(b),x.id.features.set_incidentVertex(1)},at.makeClipPointVector=function(){var t=[];return t[0]=new et,t[1]=new et,t},at.collidePolygons=function(t,e,i,n,a){var s;t.m_pointCount=0;var r=e.m_radius+n.m_radius,o=0;at.s_edgeAO[0]=o;var l=at.findMaxSeparation(at.s_edgeAO,e,i,n,a);if(o=at.s_edgeAO[0],!(l>r)){var _=0;at.s_edgeBO[0]=_;var h=at.findMaxSeparation(at.s_edgeBO,n,a,e,i);if(_=at.s_edgeBO[0],!(h>r)){var c,u,d,m,f,p,g,v=.98,y=.001;h>v*l+y?(c=n,u=e,d=a,m=i,f=_,t.m_type=yt.FACE_B,p=1):(c=e,u=n,d=i,m=a,f=o,t.m_type=yt.FACE_A,p=0);var x=at.s_incidentEdge;at.findIncidentEdge(x,c,d,f,u,m);var b,w=c.m_vertexCount,T=c.m_vertices,A=T[f];b=f+1<w?T[f+1|0]:T[0];var E=at.s_localTangent;E.set(b.x-A.x,b.y-A.y),E.normalize();var S=at.s_localNormal;S.x=E.y,S.y=-E.x;var C=at.s_planePoint;C.set(.5*(A.x+b.x),.5*(A.y+b.y));var I=at.s_tangent;g=d.R,I.x=g.col1.x*E.x+g.col2.x*E.y,I.y=g.col1.y*E.x+g.col2.y*E.y;var L=at.s_tangent2;L.x=-I.x,L.y=-I.y;var M=at.s_normal;M.x=I.y,M.y=-I.x;var B=at.s_v11,R=at.s_v12;B.x=d.position.x+(g.col1.x*A.x+g.col2.x*A.y),B.y=d.position.y+(g.col1.y*A.x+g.col2.y*A.y),R.x=d.position.x+(g.col1.x*b.x+g.col2.x*b.y),R.y=d.position.y+(g.col1.y*b.x+g.col2.y*b.y);var D,P=M.x*B.x+M.y*B.y,N=-I.x*B.x-I.y*B.y+r,F=I.x*R.x+I.y*R.y+r,k=at.s_clipPoints1,O=at.s_clipPoints2;if(D=at.clipSegmentToLine(k,x,L,N),!(D<2||(D=at.clipSegmentToLine(O,k,I,F),D<2))){t.m_localPlaneNormal.setV(S),t.m_localPoint.setV(C);for(var U=0,V=0,G=kt.b2_maxManifoldPoints;V<G;){var W=V++;s=O[W];var X=M.x*s.v.x+M.y*s.v.y-P;if(X<=r){var z=t.m_points[U];g=m.R;var H=s.v.x-m.position.x,Y=s.v.y-m.position.y;z.m_localPoint.x=H*g.col1.x+Y*g.col1.y,z.m_localPoint.y=H*g.col2.x+Y*g.col2.y,z.m_id.set(s.id),z.m_id.features.set_flip(p),++U}}t.m_pointCount=U}}}},at.collideCircles=function(t,e,i,n,a){t.m_pointCount=0;var s,r;s=i.R,r=e.m_p;var o=i.position.x+(s.col1.x*r.x+s.col2.x*r.y),l=i.position.y+(s.col1.y*r.x+s.col2.y*r.y);s=a.R,r=n.m_p;var _=a.position.x+(s.col1.x*r.x+s.col2.x*r.y),h=a.position.y+(s.col1.y*r.x+s.col2.y*r.y),c=_-o,u=h-l,d=c*c+u*u,m=e.m_radius+n.m_radius;d>m*m||(t.m_type=yt.CIRCLES,t.m_localPoint.setV(e.m_p),t.m_localPlaneNormal.setZero(),t.m_pointCount=1,t.m_points[0].m_localPoint.setV(n.m_p),t.m_points[0].m_id.set_key(0))},at.collidePolygonAndCircle=function(t,e,i,n,a){t.m_pointCount=0;var s,r,o,l;l=a.R,o=n.m_p;var _=a.position.x+(l.col1.x*o.x+l.col2.x*o.y),h=a.position.y+(l.col1.y*o.x+l.col2.y*o.y);s=_-i.position.x,r=h-i.position.y,l=i.R;for(var c=s*l.col1.x+r*l.col1.y,u=s*l.col2.x+r*l.col2.y,d=0,m=-Number.MAX_VALUE,f=e.m_radius+n.m_radius,p=e.m_vertexCount,g=e.m_vertices,v=e.m_normals,y=0;y<p;){var x=y++;o=g[x],s=c-o.x,r=u-o.y,o=v[x];var b=o.x*s+o.y*r;if(b>f)return;b>m&&(m=b,d=x)}var w,T=d;w=T+1<p?T+1:0;var A=g[T],E=g[w];if(m<Number.MIN_VALUE)return t.m_pointCount=1,t.m_type=yt.FACE_A,t.m_localPlaneNormal.setV(v[d]),t.m_localPoint.x=.5*(A.x+E.x),t.m_localPoint.y=.5*(A.y+E.y),t.m_points[0].m_localPoint.setV(n.m_p),void t.m_points[0].m_id.set_key(0);var S=(c-A.x)*(E.x-A.x)+(u-A.y)*(E.y-A.y),C=(c-E.x)*(A.x-E.x)+(u-E.y)*(A.y-E.y);if(S<=0){if((c-A.x)*(c-A.x)+(u-A.y)*(u-A.y)>f*f)return;t.m_pointCount=1,t.m_type=yt.FACE_A,t.m_localPlaneNormal.x=c-A.x,t.m_localPlaneNormal.y=u-A.y,t.m_localPlaneNormal.normalize(),t.m_localPoint.setV(A),t.m_points[0].m_localPoint.setV(n.m_p),t.m_points[0].m_id.set_key(0)}else if(C<=0){if((c-E.x)*(c-E.x)+(u-E.y)*(u-E.y)>f*f)return;t.m_pointCount=1,t.m_type=yt.FACE_A,t.m_localPlaneNormal.x=c-E.x,t.m_localPlaneNormal.y=u-E.y,t.m_localPlaneNormal.normalize(),t.m_localPoint.setV(E),t.m_points[0].m_localPoint.setV(n.m_p),t.m_points[0].m_id.set_key(0)}else{var I=.5*(A.x+E.x),L=.5*(A.y+E.y);if(m=(c-I)*v[T].x+(u-L)*v[T].y,m>f)return;t.m_pointCount=1,t.m_type=yt.FACE_A,t.m_localPlaneNormal.x=v[T].x,t.m_localPlaneNormal.y=v[T].y,t.m_localPlaneNormal.normalize(),t.m_localPoint.set(I,L),t.m_points[0].m_localPoint.setV(n.m_p),t.m_points[0].m_id.set_key(0)}},at.testOverlap=function(t,e){var i=e.lowerBound,n=t.upperBound,a=i.x-n.x,s=i.y-n.y;i=t.lowerBound,n=e.upperBound;var r=i.x-n.x,o=i.y-n.y;return!(a>0||s>0)&&!(r>0||o>0)};var st=function(){this.position=new tt,this.velocity=new tt,this.normal=new tt,this.id=new it};s["box2D.collision.B2ContactPoint"]=st,st.__name__=["box2D","collision","B2ContactPoint"],st.prototype={__class__:st};var rt=function(){this.m_count=0,this.m_v1=new ot,this.m_v2=new ot,this.m_v3=new ot,this.m_vertices=[],this.m_vertices[0]=this.m_v1,this.m_vertices[1]=this.m_v2,this.m_vertices[2]=this.m_v3};s["box2D.collision.B2Simplex"]=rt,rt.__name__=["box2D","collision","B2Simplex"],rt.prototype={readCache:function(t,e,i,n,a){kt.b2Assert(0<=t.count&&t.count<=3);var s,r;this.m_count=t.count;for(var o,l=this.m_vertices,_=0,h=this.m_count;_<h;){var c=_++;o=l[c],o.indexA=t.indexA[c],o.indexB=t.indexB[c],s=e.getVertex(o.indexA),r=n.getVertex(o.indexB),o.wA=Ut.mulX(i,s),o.wB=Ut.mulX(a,r),o.w=Ut.subtractVV(o.wB,o.wA),o.a=0}if(this.m_count>1){var u=t.metric,d=this.getMetric();(d<.5*u||2*u<d||d<Number.MIN_VALUE)&&(this.m_count=0)}0==this.m_count&&(o=l[0],o.indexA=0,o.indexB=0,s=e.getVertex(0),r=n.getVertex(0),o.wA=Ut.mulX(i,s),o.wB=Ut.mulX(a,r),o.w=Ut.subtractVV(o.wB,o.wA),this.m_count=1)},writeCache:function(t){t.metric=this.getMetric(),t.count=0|this.m_count;for(var e=this.m_vertices,i=0,n=this.m_count;i<n;){var a=i++;t.indexA[a]=0|e[a].indexA,t.indexB[a]=0|e[a].indexB}},getSearchDirection:function(){var t=this.m_count;switch(t){case 1:return this.m_v1.w.getNegative();case 2:var e=Ut.subtractVV(this.m_v2.w,this.m_v1.w),i=Ut.crossVV(e,this.m_v1.w.getNegative());return i>0?Ut.crossFV(1,e):Ut.crossVF(e,1);default:return kt.b2Assert(!1),new tt}},getClosestPoint:function(){var t=this.m_count;switch(t){case 0:return kt.b2Assert(!1),new tt;case 1:return this.m_v1.w;case 2:return new tt(this.m_v1.a*this.m_v1.w.x+this.m_v2.a*this.m_v2.w.x,this.m_v1.a*this.m_v1.w.y+this.m_v2.a*this.m_v2.w.y);default:return kt.b2Assert(!1),new tt}},getWitnessPoints:function(t,e){var i=this.m_count;switch(i){case 0:kt.b2Assert(!1);break;case 1:t.setV(this.m_v1.wA),e.setV(this.m_v1.wB);break;case 2:t.x=this.m_v1.a*this.m_v1.wA.x+this.m_v2.a*this.m_v2.wA.x,t.y=this.m_v1.a*this.m_v1.wA.y+this.m_v2.a*this.m_v2.wA.y,e.x=this.m_v1.a*this.m_v1.wB.x+this.m_v2.a*this.m_v2.wB.x,e.y=this.m_v1.a*this.m_v1.wB.y+this.m_v2.a*this.m_v2.wB.y;break;case 3:e.x=t.x=this.m_v1.a*this.m_v1.wA.x+this.m_v2.a*this.m_v2.wA.x+this.m_v3.a*this.m_v3.wA.x,e.y=t.y=this.m_v1.a*this.m_v1.wA.y+this.m_v2.a*this.m_v2.wA.y+this.m_v3.a*this.m_v3.wA.y;break;default:kt.b2Assert(!1)}},getMetric:function(){var t=this.m_count;switch(t){case 0:return kt.b2Assert(!1),0;case 1:return 0;case 2:return Ut.subtractVV(this.m_v1.w,this.m_v2.w).length();case 3:return Ut.crossVV(Ut.subtractVV(this.m_v2.w,this.m_v1.w),Ut.subtractVV(this.m_v3.w,this.m_v1.w));default:return kt.b2Assert(!1),0}},solve2:function(){var t=this.m_v1.w,e=this.m_v2.w,i=Ut.subtractVV(e,t),n=-(t.x*i.x+t.y*i.y);if(n<=0)return this.m_v1.a=1,void(this.m_count=1);var a=e.x*i.x+e.y*i.y;if(a<=0)return this.m_v2.a=1,this.m_count=1,void this.m_v1.set(this.m_v2);var s=1/(a+n);this.m_v1.a=a*s,this.m_v2.a=n*s,this.m_count=2},solve3:function(){var t=this.m_v1.w,e=this.m_v2.w,i=this.m_v3.w,n=Ut.subtractVV(e,t),a=Ut.dot(t,n),s=Ut.dot(e,n),r=s,o=-a,l=Ut.subtractVV(i,t),_=Ut.dot(t,l),h=Ut.dot(i,l),c=h,u=-_,d=Ut.subtractVV(i,e),m=Ut.dot(e,d),f=Ut.dot(i,d),p=f,g=-m,v=Ut.crossVV(n,l),y=v*Ut.crossVV(e,i),x=v*Ut.crossVV(i,t),b=v*Ut.crossVV(t,e);
if(o<=0&&u<=0)return this.m_v1.a=1,void(this.m_count=1);if(r>0&&o>0&&b<=0){var w=1/(r+o);return this.m_v1.a=r*w,this.m_v2.a=o*w,void(this.m_count=2)}if(c>0&&u>0&&x<=0){var T=1/(c+u);return this.m_v1.a=c*T,this.m_v3.a=u*T,this.m_count=2,void this.m_v2.set(this.m_v3)}if(r<=0&&g<=0)return this.m_v2.a=1,this.m_count=1,void this.m_v1.set(this.m_v2);if(c<=0&&p<=0)return this.m_v3.a=1,this.m_count=1,void this.m_v1.set(this.m_v3);if(p>0&&g>0&&y<=0){var A=1/(p+g);return this.m_v2.a=p*A,this.m_v3.a=g*A,this.m_count=2,void this.m_v1.set(this.m_v3)}var E=1/(y+x+b);this.m_v1.a=y*E,this.m_v2.a=x*E,this.m_v3.a=b*E,this.m_count=3},__class__:rt};var ot=function(){this.indexB=0,this.indexA=0,this.a=0};s["box2D.collision.B2SimplexVertex"]=ot,ot.__name__=["box2D","collision","B2SimplexVertex"],ot.prototype={set:function(t){this.wA.setV(t.wA),this.wB.setV(t.wB),this.w.setV(t.w),this.a=t.a,this.indexA=t.indexA,this.indexB=t.indexB},__class__:ot};var lt=function(){};s["box2D.collision.B2Distance"]=lt,lt.__name__=["box2D","collision","B2Distance"],lt.distance=function(t,e,i){++lt.b2_gjkCalls;var n=i.proxyA,a=i.proxyB,s=i.transformA,r=i.transformB,o=lt.s_simplex;o.readCache(e,n,s,a,r);for(var l,_=o.m_vertices,h=20,c=lt.s_saveA,u=lt.s_saveB,d=0,m=o.getClosestPoint(),f=m.lengthSquared(),p=f,g=0;g<h;){d=o.m_count;for(var v=0;v<d;){var y=v++;c[y]=_[y].indexA,u[y]=_[y].indexB}var x=o.m_count;switch(x){case 1:break;case 2:o.solve2();break;case 3:o.solve3();break;default:kt.b2Assert(!1)}if(3==o.m_count)break;l=o.getClosestPoint(),p=l.lengthSquared(),f=p;var b=o.getSearchDirection();if(b.lengthSquared()<Number.MIN_VALUE*Number.MIN_VALUE)break;var w=_[o.m_count];w.indexA=G["int"](n.getSupport(Ut.mulTMV(s.R,b.getNegative()))),w.wA=Ut.mulX(s,n.getVertex(w.indexA)),w.indexB=G["int"](a.getSupport(Ut.mulTMV(r.R,b))),w.wB=Ut.mulX(r,a.getVertex(w.indexB)),w.w=Ut.subtractVV(w.wB,w.wA),++g,++lt.b2_gjkIters;for(var T=!1,A=0;A<d;){var E=A++;if(w.indexA==c[E]&&w.indexB==u[E]){T=!0;break}}if(T)break;++o.m_count}if(lt.b2_gjkMaxIters=G["int"](Ut.max(lt.b2_gjkMaxIters,g)),o.getWitnessPoints(t.pointA,t.pointB),t.distance=Ut.subtractVV(t.pointA,t.pointB).length(),t.iterations=g,o.writeCache(e),i.useRadii){var S=n.m_radius,C=a.m_radius;if(t.distance>S+C&&t.distance>Number.MIN_VALUE){t.distance-=S+C;var I=Ut.subtractVV(t.pointB,t.pointA);I.normalize(),t.pointA.x+=S*I.x,t.pointA.y+=S*I.y,t.pointB.x-=C*I.x,t.pointB.y-=C*I.y}else l=new tt,l.x=.5*(t.pointA.x+t.pointB.x),l.y=.5*(t.pointA.y+t.pointB.y),t.pointA.x=t.pointB.x=l.x,t.pointA.y=t.pointB.y=l.y,t.distance=0}};var _t=function(){};s["box2D.collision.B2DistanceInput"]=_t,_t.__name__=["box2D","collision","B2DistanceInput"],_t.prototype={__class__:_t};var ht=function(){this.pointA=new tt,this.pointB=new tt};s["box2D.collision.B2DistanceOutput"]=ht,ht.__name__=["box2D","collision","B2DistanceOutput"],ht.prototype={__class__:ht};var ct=function(){this.m_radius=0,this.m_count=0,this.m_vertices=[]};s["box2D.collision.B2DistanceProxy"]=ct,ct.__name__=["box2D","collision","B2DistanceProxy"],ct.prototype={set:function(t){var e=t.getType();switch(e){case 1:var i;i=oi.__cast(t,Rt),this.m_vertices=[],this.m_vertices[0]=i.m_p,this.m_count=1,this.m_radius=i.m_radius;break;case 2:var n;n=oi.__cast(t,Nt),this.m_vertices=n.m_vertices,this.m_count=n.m_vertexCount,this.m_radius=n.m_radius;break;default:kt.b2Assert(!1)}},getSupport:function(t){for(var e=0,i=this.m_vertices[0].x*t.x+this.m_vertices[0].y*t.y,n=1,a=this.m_count;n<a;){var s=n++,r=this.m_vertices[s].x*t.x+this.m_vertices[s].y*t.y;r>i&&(e=s,i=r)}return e},getSupportVertex:function(t){for(var e=0,i=this.m_vertices[0].x*t.x+this.m_vertices[0].y*t.y,n=1,a=this.m_count;n<a;){var s=n++,r=this.m_vertices[s].x*t.x+this.m_vertices[s].y*t.y;r>i&&(e=s,i=r)}return this.m_vertices[e]},getVertexCount:function(){return this.m_count},getVertex:function(t){return kt.b2Assert(0<=t&&t<this.m_count),this.m_vertices[t]},__class__:ct};var ut=function(){this.m_root=null,this.m_freeList=null,this.m_path=0,this.m_insertionCount=0};s["box2D.collision.B2DynamicTree"]=ut,ut.__name__=["box2D","collision","B2DynamicTree"],ut.prototype={createProxy:function(t,e){var i=this.allocateNode(),n=kt.b2_aabbExtension,a=kt.b2_aabbExtension;return i.aabb.lowerBound.x=t.lowerBound.x-n,i.aabb.lowerBound.y=t.lowerBound.y-a,i.aabb.upperBound.x=t.upperBound.x+n,i.aabb.upperBound.y=t.upperBound.y+a,i.userData=e,this.insertLeaf(i),i},destroyProxy:function(t){this.removeLeaf(t),this.freeNode(t)},moveProxy:function(t,e,i){if(kt.b2Assert(t.isLeaf()),t.aabb.contains(e))return!1;this.removeLeaf(t);var n;n=kt.b2_aabbExtension+kt.b2_aabbMultiplier*(i.x>0?i.x:-i.x);var a;return a=kt.b2_aabbExtension+kt.b2_aabbMultiplier*(i.y>0?i.y:-i.y),t.aabb.lowerBound.x=e.lowerBound.x-n,t.aabb.lowerBound.y=e.lowerBound.y-a,t.aabb.upperBound.x=e.upperBound.x+n,t.aabb.upperBound.y=e.upperBound.y+a,this.insertLeaf(t),!0},rebalance:function(t){if(null!=this.m_root)for(var e=0;e<t;){for(var i=(e++,this.m_root),n=0;0==i.isLeaf();)i=0!=(this.m_path>>n&1)?i.child2:i.child1,n=n+1&31;++this.m_path,this.removeLeaf(i),this.insertLeaf(i)}},getFatAABB:function(t){return t.aabb},getUserData:function(t){return t.userData},query:function(t,e){if(null!=this.m_root){var i=[],n=0;for(i[n++]=this.m_root;n>0;){var a=i[--n];if(a.aabb.testOverlap(e))if(a.isLeaf()){var s=t(a);if(!s)return}else i[n++]=a.child1,i[n++]=a.child2}}},rayCast:function(t,e){if(null!=this.m_root){var i=e.p1,n=e.p2,a=Ut.subtractVV(i,n);a.normalize();var s,r,o=Ut.crossFV(1,a),l=Ut.absV(o),_=e.maxFraction,h=new $;s=i.x+_*(n.x-i.x),r=i.y+_*(n.y-i.y),h.lowerBound.x=Math.min(i.x,s),h.lowerBound.y=Math.min(i.y,r),h.upperBound.x=Math.max(i.x,s),h.upperBound.y=Math.max(i.y,r);var c=[],u=0;for(c[u++]=this.m_root;u>0;){var d=c[--u];if(0!=d.aabb.testOverlap(h)){var m=d.aabb.getCenter(),f=d.aabb.getExtents(),p=Math.abs(o.x*(i.x-m.x)+o.y*(i.y-m.y))-l.x*f.x-l.y*f.y;if(!(p>0))if(d.isLeaf()){var g=new bt;if(g.p1=e.p1,g.p2=e.p2,g.maxFraction=e.maxFraction,_=t(g,d),0==_)return;s=i.x+_*(n.x-i.x),r=i.y+_*(n.y-i.y),h.lowerBound.x=Math.min(i.x,s),h.lowerBound.y=Math.min(i.y,r),h.upperBound.x=Math.max(i.x,s),h.upperBound.y=Math.max(i.y,r)}else c[u++]=d.child1,c[u++]=d.child2}}}},allocateNode:function(){if(null!=this.m_freeList){var t=this.m_freeList;return this.m_freeList=t.parent,t.parent=null,t.child1=null,t.child2=null,t}return new ft},freeNode:function(t){t.parent=this.m_freeList,this.m_freeList=t},insertLeaf:function(t){if(++this.m_insertionCount,null==this.m_root)return this.m_root=t,void(this.m_root.parent=null);var e=t.aabb.getCenter(),i=this.m_root;if(0==i.isLeaf())do{var n=i.child1,a=i.child2,s=Math.abs((n.aabb.lowerBound.x+n.aabb.upperBound.x)/2-e.x)+Math.abs((n.aabb.lowerBound.y+n.aabb.upperBound.y)/2-e.y),r=Math.abs((a.aabb.lowerBound.x+a.aabb.upperBound.x)/2-e.x)+Math.abs((a.aabb.lowerBound.y+a.aabb.upperBound.y)/2-e.y);i=s<r?n:a}while(0==i.isLeaf());var o=i.parent,l=this.allocateNode();if(l.parent=o,l.userData=null,l.aabb.combine(t.aabb,i.aabb),null!=o){i.parent.child1==i?o.child1=l:o.child2=l,l.child1=i,l.child2=t,i.parent=l,t.parent=l;do{if(o.aabb.contains(l.aabb))break;o.aabb.combine(o.child1.aabb,o.child2.aabb),l=o,o=o.parent}while(null!=o)}else l.child1=i,l.child2=t,i.parent=l,t.parent=l,this.m_root=l},removeLeaf:function(t){if(t==this.m_root)return void(this.m_root=null);var e,i=t.parent,n=i.parent;if(e=i.child1==t?i.child2:i.child1,null!=n)for(n.child1==i?n.child1=e:n.child2=e,e.parent=n,this.freeNode(i);null!=n;){var a=n.aabb;if(n.aabb=new $,n.aabb.combine(n.child1.aabb,n.child2.aabb),a.contains(n.aabb))break;n=n.parent}else this.m_root=e,e.parent=null,this.freeNode(i)},__class__:ut};var dt=function(){};s["box2D.collision.IBroadPhase"]=dt,dt.__name__=["box2D","collision","IBroadPhase"],dt.prototype={__class__:dt};var mt=function(){this.m_tree=new ut,this.m_moveBuffer=[],this.m_pairBuffer=[],this.m_pairCount=0,this.m_proxyCount=0};s["box2D.collision.B2DynamicTreeBroadPhase"]=mt,mt.__name__=["box2D","collision","B2DynamicTreeBroadPhase"],mt.__interfaces__=[dt],mt.prototype={createProxy:function(t,e){var i=this.m_tree.createProxy(t,e);return++this.m_proxyCount,this.bufferMove(i),i},destroyProxy:function(t){this.unBufferMove(t),--this.m_proxyCount,this.m_tree.destroyProxy(t)},moveProxy:function(t,e,i){var n=this.m_tree.moveProxy(t,e,i);n&&this.bufferMove(t)},testOverlap:function(t,e){var i=this.m_tree.getFatAABB(t),n=this.m_tree.getFatAABB(e);return i.testOverlap(n)},getUserData:function(t){return this.m_tree.getUserData(t)},getFatAABB:function(t){return this.m_tree.getFatAABB(t)},getProxyCount:function(){return this.m_proxyCount},updatePairs:function(t){var e=this;this.m_pairCount=0;for(var i=0,n=this.m_moveBuffer;i<n.length;){var a=[n[i]];++i;var s=function(t){return function(i){if(i==t[0])return!0;e.m_pairCount==e.m_pairBuffer.length&&(e.m_pairBuffer[e.m_pairCount]=new pt);var n=e.m_pairBuffer[e.m_pairCount];return i.id<t[0].id?(n.proxyA=i,n.proxyB=t[0]):(n.proxyA=t[0],n.proxyB=i),++e.m_pairCount,!0}}(a),r=this.m_tree.getFatAABB(a[0]);this.m_tree.query(s,r)}this.m_moveBuffer=[];for(var o=!0,l=0;o;)if(l>=this.m_pairCount)o=!1;else{var _=this.m_pairBuffer[l],h=this.m_tree.getUserData(_.proxyA),c=this.m_tree.getUserData(_.proxyB);for(t(h,c),++l;l<this.m_pairCount;){var u=this.m_pairBuffer[l];if(u.proxyA!=_.proxyA||u.proxyB!=_.proxyB)break;++l}}},query:function(t,e){this.m_tree.query(t,e)},rayCast:function(t,e){this.m_tree.rayCast(t,e)},validate:function(){},rebalance:function(t){this.m_tree.rebalance(t)},bufferMove:function(t){this.m_moveBuffer[this.m_moveBuffer.length]=t},unBufferMove:function(t){T.remove(this.m_moveBuffer,t)},comparePairs:function(t,e){return 0},__class__:mt};var ft=function(){this.aabb=new $,this.id=ft.currentID++};s["box2D.collision.B2DynamicTreeNode"]=ft,ft.__name__=["box2D","collision","B2DynamicTreeNode"],ft.prototype={isLeaf:function(){return null==this.child1},__class__:ft};var pt=function(){};s["box2D.collision.B2DynamicTreePair"]=pt,pt.__name__=["box2D","collision","B2DynamicTreePair"],pt.prototype={__class__:pt};var gt=function(){this.m_pointCount=0,this.m_points=[];for(var t=0,e=kt.b2_maxManifoldPoints;t<e;){var i=t++;this.m_points[i]=new vt}this.m_localPlaneNormal=new tt,this.m_localPoint=new tt};s["box2D.collision.B2Manifold"]=gt,gt.__name__=["box2D","collision","B2Manifold"],gt.prototype={reset:function(){for(var t=0,e=kt.b2_maxManifoldPoints;t<e;){var i=t++;this.m_points[i].reset()}this.m_localPlaneNormal.setZero(),this.m_localPoint.setZero(),this.m_type=yt.CIRCLES,this.m_pointCount=0},set:function(t){this.m_pointCount=t.m_pointCount;for(var e=0,i=kt.b2_maxManifoldPoints;e<i;){var n=e++;this.m_points[n].set(t.m_points[n])}this.m_localPlaneNormal.setV(t.m_localPlaneNormal),this.m_localPoint.setV(t.m_localPoint),this.m_type=t.m_type},copy:function(){var t=new gt;return t.set(this),t},__class__:gt};var vt=function(){this.m_localPoint=new tt,this.m_id=new it,this.reset()};s["box2D.collision.B2ManifoldPoint"]=vt,vt.__name__=["box2D","collision","B2ManifoldPoint"],vt.prototype={reset:function(){this.m_localPoint.setZero(),this.m_normalImpulse=0,this.m_tangentImpulse=0,this.m_id.set_key(0)},set:function(t){this.m_localPoint.setV(t.m_localPoint),this.m_normalImpulse=t.m_normalImpulse,this.m_tangentImpulse=t.m_tangentImpulse,this.m_id.set(t.m_id)},__class__:vt};var yt=s["box2D.collision.B2ManifoldType"]={__ename__:["box2D","collision","B2ManifoldType"],__constructs__:["CIRCLES","FACE_A","FACE_B"]};yt.CIRCLES=["CIRCLES",0],yt.CIRCLES.toString=r,yt.CIRCLES.__enum__=yt,yt.FACE_A=["FACE_A",1],yt.FACE_A.toString=r,yt.FACE_A.__enum__=yt,yt.FACE_B=["FACE_B",2],yt.FACE_B.toString=r,yt.FACE_B.__enum__=yt;var xt=function(){this.R=new It,this.center=new tt,this.extents=new tt};s["box2D.collision.B2OBB"]=xt,xt.__name__=["box2D","collision","B2OBB"],xt.prototype={__class__:xt};var bt=function(t,e,i){null==i&&(i=1),this.p1=new tt,this.p2=new tt,null!=t&&this.p1.setV(t),null!=e&&this.p2.setV(e),this.maxFraction=i};s["box2D.collision.B2RayCastInput"]=bt,bt.__name__=["box2D","collision","B2RayCastInput"],bt.prototype={__class__:bt};var wt=function(){this.normal=new tt};s["box2D.collision.B2RayCastOutput"]=wt,wt.__name__=["box2D","collision","B2RayCastOutput"],wt.prototype={__class__:wt};var Tt=function(){this.m_localPoint=new tt,this.m_axis=new tt};s["box2D.collision.B2SeparationFunction"]=Tt,Tt.__name__=["box2D","collision","B2SeparationFunction"],Tt.prototype={initialize:function(t,e,i,n,a){this.m_proxyA=e,this.m_proxyB=n;var s=t.count;kt.b2Assert(0<s&&s<3);var r,o,l,_,h,c,u,d,m,f,p,g,v,y,x=new tt,b=new tt;if(1==s)this.m_type=At.POINTS,x=this.m_proxyA.getVertex(t.indexA[0]),b=this.m_proxyB.getVertex(t.indexB[0]),g=x,p=i.R,h=i.position.x+(p.col1.x*g.x+p.col2.x*g.y),c=i.position.y+(p.col1.y*g.x+p.col2.y*g.y),g=b,p=a.R,u=a.position.x+(p.col1.x*g.x+p.col2.x*g.y),d=a.position.y+(p.col1.y*g.x+p.col2.y*g.y),this.m_axis.x=u-h,this.m_axis.y=d-c,this.m_axis.normalize();else if(t.indexB[0]==t.indexB[1])this.m_type=At.FACE_A,r=this.m_proxyA.getVertex(t.indexA[0]),o=this.m_proxyA.getVertex(t.indexA[1]),b=this.m_proxyB.getVertex(t.indexB[0]),this.m_localPoint.x=.5*(r.x+o.x),this.m_localPoint.y=.5*(r.y+o.y),this.m_axis=Ut.crossVF(Ut.subtractVV(o,r),1),this.m_axis.normalize(),g=this.m_axis,p=i.R,m=p.col1.x*g.x+p.col2.x*g.y,f=p.col1.y*g.x+p.col2.y*g.y,g=this.m_localPoint,p=i.R,h=i.position.x+(p.col1.x*g.x+p.col2.x*g.y),c=i.position.y+(p.col1.y*g.x+p.col2.y*g.y),g=b,p=a.R,u=a.position.x+(p.col1.x*g.x+p.col2.x*g.y),d=a.position.y+(p.col1.y*g.x+p.col2.y*g.y),v=(u-h)*m+(d-c)*f,v<0&&this.m_axis.negativeSelf();else if(t.indexA[0]==t.indexA[0])this.m_type=At.FACE_B,l=this.m_proxyB.getVertex(t.indexB[0]),_=this.m_proxyB.getVertex(t.indexB[1]),x=this.m_proxyA.getVertex(t.indexA[0]),this.m_localPoint.x=.5*(l.x+_.x),this.m_localPoint.y=.5*(l.y+_.y),this.m_axis=Ut.crossVF(Ut.subtractVV(_,l),1),this.m_axis.normalize(),g=this.m_axis,p=a.R,m=p.col1.x*g.x+p.col2.x*g.y,f=p.col1.y*g.x+p.col2.y*g.y,g=this.m_localPoint,p=a.R,u=a.position.x+(p.col1.x*g.x+p.col2.x*g.y),d=a.position.y+(p.col1.y*g.x+p.col2.y*g.y),g=x,p=i.R,h=i.position.x+(p.col1.x*g.x+p.col2.x*g.y),c=i.position.y+(p.col1.y*g.x+p.col2.y*g.y),v=(h-u)*m+(c-d)*f,v<0&&this.m_axis.negativeSelf();else{r=this.m_proxyA.getVertex(t.indexA[0]),o=this.m_proxyA.getVertex(t.indexA[1]),l=this.m_proxyB.getVertex(t.indexB[0]),_=this.m_proxyB.getVertex(t.indexB[1]);var w=(Ut.mulX(i,x),Ut.mulMV(i.R,Ut.subtractVV(o,r))),T=(Ut.mulX(a,b),Ut.mulMV(a.R,Ut.subtractVV(_,l))),A=w.x*w.x+w.y*w.y,E=T.x*T.x+T.y*T.y,S=Ut.subtractVV(T,w),C=w.x*S.x+w.y*S.y,I=T.x*S.x+T.y*S.y,L=w.x*T.x+w.y*T.y,M=A*E-L*L;v=0,0!=M&&(v=Ut.clamp((L*I-C*E)/M,0,1));var B=(L*v+I)/E;B<0&&(B=0,v=Ut.clamp((L-C)/A,0,1)),x=new tt,x.x=r.x+v*(o.x-r.x),x.y=r.y+v*(o.y-r.y),b=new tt,b.x=l.x+v*(_.x-l.x),b.y=l.y+v*(_.y-l.y),0==v||1==v?(this.m_type=At.FACE_B,this.m_axis=Ut.crossVF(Ut.subtractVV(_,l),1),this.m_axis.normalize(),this.m_localPoint=b,g=this.m_axis,p=a.R,m=p.col1.x*g.x+p.col2.x*g.y,f=p.col1.y*g.x+p.col2.y*g.y,g=this.m_localPoint,p=a.R,u=a.position.x+(p.col1.x*g.x+p.col2.x*g.y),d=a.position.y+(p.col1.y*g.x+p.col2.y*g.y),g=x,p=i.R,h=i.position.x+(p.col1.x*g.x+p.col2.x*g.y),c=i.position.y+(p.col1.y*g.x+p.col2.y*g.y),y=(h-u)*m+(c-d)*f,v<0&&this.m_axis.negativeSelf()):(this.m_type=At.FACE_A,this.m_axis=Ut.crossVF(Ut.subtractVV(o,r),1),this.m_localPoint=x,g=this.m_axis,p=i.R,m=p.col1.x*g.x+p.col2.x*g.y,f=p.col1.y*g.x+p.col2.y*g.y,g=this.m_localPoint,p=i.R,h=i.position.x+(p.col1.x*g.x+p.col2.x*g.y),c=i.position.y+(p.col1.y*g.x+p.col2.y*g.y),g=b,p=a.R,u=a.position.x+(p.col1.x*g.x+p.col2.x*g.y),d=a.position.y+(p.col1.y*g.x+p.col2.y*g.y),y=(u-h)*m+(d-c)*f,v<0&&this.m_axis.negativeSelf())}},evaluate:function(t,e){var i,n,a,s,r,o,l,_,h=this.m_type;switch(h[1]){case 0:return i=Ut.mulTMV(t.R,this.m_axis),n=Ut.mulTMV(e.R,this.m_axis.getNegative()),a=this.m_proxyA.getSupportVertex(i),s=this.m_proxyB.getSupportVertex(n),r=Ut.mulX(t,a),o=Ut.mulX(e,s),l=(o.x-r.x)*this.m_axis.x+(o.y-r.y)*this.m_axis.y;case 1:return _=Ut.mulMV(t.R,this.m_axis),r=Ut.mulX(t,this.m_localPoint),n=Ut.mulTMV(e.R,_.getNegative()),s=this.m_proxyB.getSupportVertex(n),o=Ut.mulX(e,s),l=(o.x-r.x)*_.x+(o.y-r.y)*_.y;case 2:return _=Ut.mulMV(e.R,this.m_axis),o=Ut.mulX(e,this.m_localPoint),i=Ut.mulTMV(t.R,_.getNegative()),a=this.m_proxyA.getSupportVertex(i),r=Ut.mulX(t,a),l=(r.x-o.x)*_.x+(r.y-o.y)*_.y}},__class__:Tt};var At=s["box2D.collision.B2SeparationFunctionType"]={__ename__:["box2D","collision","B2SeparationFunctionType"],__constructs__:["POINTS","FACE_A","FACE_B"]};At.POINTS=["POINTS",0],At.POINTS.toString=r,At.POINTS.__enum__=At,At.FACE_A=["FACE_A",1],At.FACE_A.toString=r,At.FACE_A.__enum__=At,At.FACE_B=["FACE_B",2],At.FACE_B.toString=r,At.FACE_B.__enum__=At;var Et=function(){this.count=0,this.metric=0,this.indexA=[],this.indexB=[]};s["box2D.collision.B2SimplexCache"]=Et,Et.__name__=["box2D","collision","B2SimplexCache"],Et.prototype={__class__:Et};var St=function(){this.proxyA=new ct,this.proxyB=new ct,this.sweepA=new Vt,this.sweepB=new Vt};s["box2D.collision.B2TOIInput"]=St,St.__name__=["box2D","collision","B2TOIInput"],St.prototype={__class__:St};var Ct=function(t,e){this.position=new tt,this.R=new It,null!=t&&(this.position.setV(t),this.R.setM(e))};s["box2D.common.math.B2Transform"]=Ct,Ct.__name__=["box2D","common","math","B2Transform"],Ct.prototype={initialize:function(t,e){this.position.setV(t),this.R.setM(e)},setIdentity:function(){this.position.setZero(),this.R.setIdentity()},set:function(t){this.position.setV(t.position),this.R.setM(t.R)},getAngle:function(){return Math.atan2(this.R.col1.y,this.R.col1.x)},__class__:Ct};var It=function(){this.col1=new tt(0,1),this.col2=new tt(0,1)};s["box2D.common.math.B2Mat22"]=It,It.__name__=["box2D","common","math","B2Mat22"],It.fromAngle=function(t){var e=new It;return e.set(t),e},It.fromVV=function(t,e){var i=new It;return i.setVV(t,e),i},It.prototype={set:function(t){var e=Math.cos(t),i=Math.sin(t);this.col1.x=e,this.col2.x=-i,this.col1.y=i,this.col2.y=e},setVV:function(t,e){this.col1.setV(t),this.col2.setV(e)},copy:function(){var t=new It;return t.setM(this),t},setM:function(t){this.col1.setV(t.col1),this.col2.setV(t.col2)},addM:function(t){this.col1.x+=t.col1.x,this.col1.y+=t.col1.y,this.col2.x+=t.col2.x,this.col2.y+=t.col2.y},setIdentity:function(){this.col1.x=1,this.col2.x=0,this.col1.y=0,this.col2.y=1},setZero:function(){this.col1.x=0,this.col2.x=0,this.col1.y=0,this.col2.y=0},getAngle:function(){return Math.atan2(this.col1.y,this.col1.x)},getInverse:function(t){var e=this.col1.x,i=this.col2.x,n=this.col1.y,a=this.col2.y,s=e*a-i*n;return 0!=s&&(s=1/s),t.col1.x=s*a,t.col2.x=-s*i,t.col1.y=-s*n,t.col2.y=s*e,t},solve:function(t,e,i){var n=this.col1.x,a=this.col2.x,s=this.col1.y,r=this.col2.y,o=n*r-a*s;return 0!=o&&(o=1/o),t.x=o*(r*e-a*i),t.y=o*(n*i-s*e),t},abs:function(){this.col1.abs(),this.col2.abs()},__class__:It};var Lt=function(){};s["box2D.collision.B2TimeOfImpact"]=Lt,Lt.__name__=["box2D","collision","B2TimeOfImpact"],Lt.timeOfImpact=function(t){++Lt.b2_toiCalls;var e=t.proxyA,i=t.proxyB,n=t.sweepA,a=t.sweepB;kt.b2Assert(n.t0==a.t0),kt.b2Assert(1-n.t0>Number.MIN_VALUE);var s=e.m_radius+i.m_radius,r=t.tolerance,o=0,l=1e3,_=0,h=0;for(Lt.s_cache.count=0,Lt.s_distanceInput.useRadii=!1;;){if(n.getTransform(Lt.s_xfA,o),a.getTransform(Lt.s_xfB,o),Lt.s_distanceInput.proxyA=e,Lt.s_distanceInput.proxyB=i,Lt.s_distanceInput.transformA=Lt.s_xfA,Lt.s_distanceInput.transformB=Lt.s_xfB,lt.distance(Lt.s_distanceOutput,Lt.s_cache,Lt.s_distanceInput),Lt.s_distanceOutput.distance<=0){o=1;break}Lt.s_fcn.initialize(Lt.s_cache,e,Lt.s_xfA,i,Lt.s_xfB);var c=Lt.s_fcn.evaluate(Lt.s_xfA,Lt.s_xfB);if(c<=0){o=1;break}if(0==_&&(h=c>s?Ut.max(s-r,.75*s):Ut.max(c-r,.02*s)),c-h<.5*r){if(0==_){o=1;break}break}var u=o,d=o,m=1,f=c;n.getTransform(Lt.s_xfA,m),a.getTransform(Lt.s_xfB,m);var p=Lt.s_fcn.evaluate(Lt.s_xfA,Lt.s_xfB);if(p>=h){o=1;break}for(var g=0;;){var v;v=0!=(1&g)?d+(h-f)*(m-d)/(p-f):.5*(d+m),n.getTransform(Lt.s_xfA,v),a.getTransform(Lt.s_xfB,v);var y=Lt.s_fcn.evaluate(Lt.s_xfA,Lt.s_xfB);if(Ut.abs(y-h)<.025*r){u=v;break}if(y>h?(d=v,f=y):(m=v,p=y),++g,++Lt.b2_toiRootIters,50==g)break}if(Lt.b2_toiMaxRootIters=G["int"](Ut.max(Lt.b2_toiMaxRootIters,g)),u<(1+100*Number.MIN_VALUE)*o)break;if(o=u,_++,++Lt.b2_toiIters,_==l)break}return Lt.b2_toiMaxIters=G["int"](Ut.max(Lt.b2_toiMaxIters,_)),o};var Mt=function(){this.m_normal=new tt,this.m_points=[];for(var t=0,e=kt.b2_maxManifoldPoints;t<e;){var i=t++;this.m_points[i]=new tt}};s["box2D.collision.B2WorldManifold"]=Mt,Mt.__name__=["box2D","collision","B2WorldManifold"],Mt.prototype={initialize:function(t,e,i,n,a){if(0!=t.m_pointCount){var s,r,o,l,_,h,c,u,d=t.m_type;switch(d[1]){case 0:r=e.R,s=t.m_localPoint;var m=e.position.x+r.col1.x*s.x+r.col2.x*s.y,f=e.position.y+r.col1.y*s.x+r.col2.y*s.y;r=n.R,s=t.m_points[0].m_localPoint;var p=n.position.x+r.col1.x*s.x+r.col2.x*s.y,g=n.position.y+r.col1.y*s.x+r.col2.y*s.y,v=p-m,y=g-f,x=v*v+y*y;if(x>Number.MIN_VALUE*Number.MIN_VALUE){var b=Math.sqrt(x);this.m_normal.x=v/b,this.m_normal.y=y/b}else this.m_normal.x=1,this.m_normal.y=0;var w=m+i*this.m_normal.x,T=f+i*this.m_normal.y,A=p-a*this.m_normal.x,E=g-a*this.m_normal.y;this.m_points[0].x=.5*(w+A),this.m_points[0].y=.5*(T+E);break;case 1:r=e.R,s=t.m_localPlaneNormal,o=r.col1.x*s.x+r.col2.x*s.y,l=r.col1.y*s.x+r.col2.y*s.y,r=e.R,s=t.m_localPoint,_=e.position.x+r.col1.x*s.x+r.col2.x*s.y,h=e.position.y+r.col1.y*s.x+r.col2.y*s.y,this.m_normal.x=o,this.m_normal.y=l;for(var S=0,C=t.m_pointCount;S<C;){var I=S++;r=n.R,s=t.m_points[I].m_localPoint,c=n.position.x+r.col1.x*s.x+r.col2.x*s.y,u=n.position.y+r.col1.y*s.x+r.col2.y*s.y,this.m_points[I].x=c+.5*(i-(c-_)*o-(u-h)*l-a)*o,this.m_points[I].y=u+.5*(i-(c-_)*o-(u-h)*l-a)*l}break;case 2:r=n.R,s=t.m_localPlaneNormal,o=r.col1.x*s.x+r.col2.x*s.y,l=r.col1.y*s.x+r.col2.y*s.y,r=n.R,s=t.m_localPoint,_=n.position.x+r.col1.x*s.x+r.col2.x*s.y,h=n.position.y+r.col1.y*s.x+r.col2.y*s.y,this.m_normal.x=-o,this.m_normal.y=-l;for(var L=0,M=t.m_pointCount;L<M;){var B=L++;r=e.R,s=t.m_points[B].m_localPoint,c=e.position.x+r.col1.x*s.x+r.col2.x*s.y,u=e.position.y+r.col1.y*s.x+r.col2.y*s.y,this.m_points[B].x=c+.5*(a-(c-_)*o-(u-h)*l-i)*o,this.m_points[B].y=u+.5*(a-(c-_)*o-(u-h)*l-i)*l}}}},__class__:Mt};var Bt=function(){this.m_type=0,this.m_radius=kt.b2_linearSlop};s["box2D.collision.shapes.B2Shape"]=Bt,Bt.__name__=["box2D","collision","shapes","B2Shape"],Bt.testOverlap=function(t,e,i,n){var a=new _t;a.proxyA=new ct,a.proxyA.set(t),a.proxyB=new ct,a.proxyB.set(i),a.transformA=e,a.transformB=n,a.useRadii=!0;var s=new Et;s.count=0;var r=new ht;return lt.distance(r,s,a),r.distance<10*Number.MIN_VALUE},Bt.prototype={copy:function(){return null},set:function(t){this.m_radius=t.m_radius},getType:function(){return this.m_type},testPoint:function(t,e){return!1},rayCast:function(t,e,i){return!1},computeAABB:function(t,e){},computeMass:function(t,e){},computeSubmergedArea:function(t,e,i,n){return 0},__class__:Bt};var Rt=function(t){null==t&&(t=0),Bt.call(this),this.m_p=new tt,this.m_type=1,this.m_radius=t};s["box2D.collision.shapes.B2CircleShape"]=Rt,Rt.__name__=["box2D","collision","shapes","B2CircleShape"],Rt.__super__=Bt,Rt.prototype=n(Bt.prototype,{copy:function(){var t=new Rt;return t.set(this),t},set:function(t){if(Bt.prototype.set.call(this,t),oi.__instanceof(t,Rt)){var e;e=oi.__cast(t,Rt),this.m_p.setV(e.m_p)}},testPoint:function(t,e){var i=t.R,n=t.position.x+(i.col1.x*this.m_p.x+i.col2.x*this.m_p.y),a=t.position.y+(i.col1.y*this.m_p.x+i.col2.y*this.m_p.y);return n=e.x-n,a=e.y-a,n*n+a*a<=this.m_radius*this.m_radius},rayCast:function(t,e,i){var n=i.R,a=i.position.x+(n.col1.x*this.m_p.x+n.col2.x*this.m_p.y),s=i.position.y+(n.col1.y*this.m_p.x+n.col2.y*this.m_p.y),r=e.p1.x-a,o=e.p1.y-s,l=r*r+o*o-this.m_radius*this.m_radius,_=e.p2.x-e.p1.x,h=e.p2.y-e.p1.y,c=r*_+o*h,u=_*_+h*h,d=c*c-u*l;if(d<0||u<Number.MIN_VALUE)return!1;var m=-(c+Math.sqrt(d));return 0<=m&&m<=e.maxFraction*u&&(m/=u,t.fraction=m,t.normal.x=r+m*_,t.normal.y=o+m*h,t.normal.normalize(),!0)},computeAABB:function(t,e){var i=e.R,n=e.position.x+(i.col1.x*this.m_p.x+i.col2.x*this.m_p.y),a=e.position.y+(i.col1.y*this.m_p.x+i.col2.y*this.m_p.y);t.lowerBound.set(n-this.m_radius,a-this.m_radius),t.upperBound.set(n+this.m_radius,a+this.m_radius)},computeMass:function(t,e){t.mass=e*kt.b2_pi*this.m_radius*this.m_radius,t.center.setV(this.m_p),t.I=t.mass*(.5*this.m_radius*this.m_radius+(this.m_p.x*this.m_p.x+this.m_p.y*this.m_p.y))},computeSubmergedArea:function(t,e,i,n){var a=Ut.mulX(i,this.m_p),s=-(Ut.dot(t,a)-e);if(s<-this.m_radius+Number.MIN_VALUE)return 0;if(s>this.m_radius)return n.setV(a),Math.PI*this.m_radius*this.m_radius;var r=this.m_radius*this.m_radius,o=s*s,l=r*(Math.asin(s/this.m_radius)+Math.PI/2)+s*Math.sqrt(r-o),_=-.6666666666666666*Math.pow(r-o,1.5)/l;return n.x=a.x+t.x*_,n.y=a.y+t.y*_,l},getLocalPosition:function(){return this.m_p},setLocalPosition:function(t){this.m_p.setV(t)},getRadius:function(){return this.m_radius},setRadius:function(t){this.m_radius=t},__class__:Rt});var Dt=function(t,e){Bt.call(this),this.s_supportVec=new tt,this.m_v1=new tt,this.m_v2=new tt,this.m_coreV1=new tt,this.m_coreV2=new tt,this.m_normal=new tt,this.m_direction=new tt,this.m_cornerDir1=new tt,this.m_cornerDir2=new tt,this.m_type=3,this.m_prevEdge=null,this.m_nextEdge=null,this.m_v1=t,this.m_v2=e,this.m_direction.set(this.m_v2.x-this.m_v1.x,this.m_v2.y-this.m_v1.y),this.m_length=this.m_direction.normalize(),this.m_normal.set(this.m_direction.y,-this.m_direction.x),this.m_coreV1.set(-kt.b2_toiSlop*(this.m_normal.x-this.m_direction.x)+this.m_v1.x,-kt.b2_toiSlop*(this.m_normal.y-this.m_direction.y)+this.m_v1.y),this.m_coreV2.set(-kt.b2_toiSlop*(this.m_normal.x+this.m_direction.x)+this.m_v2.x,-kt.b2_toiSlop*(this.m_normal.y+this.m_direction.y)+this.m_v2.y),this.m_cornerDir1=this.m_normal,this.m_cornerDir2.set(-this.m_normal.x,-this.m_normal.y)};s["box2D.collision.shapes.B2EdgeShape"]=Dt,Dt.__name__=["box2D","collision","shapes","B2EdgeShape"],Dt.__super__=Bt,Dt.prototype=n(Bt.prototype,{testPoint:function(t,e){return!1},rayCast:function(t,e,i){var n,a=e.p2.x-e.p1.x,s=e.p2.y-e.p1.y;n=i.R;var r=i.position.x+(n.col1.x*this.m_v1.x+n.col2.x*this.m_v1.y),o=i.position.y+(n.col1.y*this.m_v1.x+n.col2.y*this.m_v1.y),l=i.position.y+(n.col1.y*this.m_v2.x+n.col2.y*this.m_v2.y)-o,_=-(i.position.x+(n.col1.x*this.m_v2.x+n.col2.x*this.m_v2.y)-r),h=100*Number.MIN_VALUE,c=-(a*l+s*_);if(c>h){var u=e.p1.x-r,d=e.p1.y-o,m=u*l+d*_;if(0<=m&&m<=e.maxFraction*c){var f=-a*d+s*u;if(-h*c<=f&&f<=c*(1+h)){m/=c,t.fraction=m;var p=Math.sqrt(l*l+_*_);return t.normal.x=l/p,t.normal.y=_/p,!0}}}return!1},computeAABB:function(t,e){var i=e.R,n=e.position.x+(i.col1.x*this.m_v1.x+i.col2.x*this.m_v1.y),a=e.position.y+(i.col1.y*this.m_v1.x+i.col2.y*this.m_v1.y),s=e.position.x+(i.col1.x*this.m_v2.x+i.col2.x*this.m_v2.y),r=e.position.y+(i.col1.y*this.m_v2.x+i.col2.y*this.m_v2.y);n<s?(t.lowerBound.x=n,t.upperBound.x=s):(t.lowerBound.x=s,t.upperBound.x=n),a<r?(t.lowerBound.y=a,t.upperBound.y=r):(t.lowerBound.y=r,t.upperBound.y=a)},computeMass:function(t,e){t.mass=0,t.center.setV(this.m_v1),t.I=0},computeSubmergedArea:function(t,e,i,n){var a=new tt(t.x*e,t.y*e),s=Ut.mulX(i,this.m_v1),r=Ut.mulX(i,this.m_v2),o=Ut.dot(t,s)-e,l=Ut.dot(t,r)-e;if(o>0){if(l>0)return 0;s.x=-l/(o-l)*s.x+o/(o-l)*r.x,s.y=-l/(o-l)*s.y+o/(o-l)*r.y}else l>0&&(r.x=-l/(o-l)*s.x+o/(o-l)*r.x,r.y=-l/(o-l)*s.y+o/(o-l)*r.y);return n.x=(a.x+s.x+r.x)/3,n.y=(a.y+s.y+r.y)/3,.5*((s.x-a.x)*(r.y-a.y)-(s.y-a.y)*(r.x-a.x))},getLength:function(){return this.m_length},getVertex1:function(){return this.m_v1},getVertex2:function(){return this.m_v2},getCoreVertex1:function(){return this.m_coreV1},getCoreVertex2:function(){return this.m_coreV2},getNormalVector:function(){return this.m_normal},getDirectionVector:function(){return this.m_direction},getCorner1Vector:function(){return this.m_cornerDir1},getCorner2Vector:function(){return this.m_cornerDir2},corner1IsConvex:function(){return this.m_cornerConvex1},corner2IsConvex:function(){return this.m_cornerConvex2},getFirstVertex:function(t){var e=t.R;return new tt(t.position.x+(e.col1.x*this.m_coreV1.x+e.col2.x*this.m_coreV1.y),t.position.y+(e.col1.y*this.m_coreV1.x+e.col2.y*this.m_coreV1.y))},getNextEdge:function(){return this.m_nextEdge},getPrevEdge:function(){return this.m_prevEdge},support:function(t,e,i){var n=t.R,a=t.position.x+(n.col1.x*this.m_coreV1.x+n.col2.x*this.m_coreV1.y),s=t.position.y+(n.col1.y*this.m_coreV1.x+n.col2.y*this.m_coreV1.y),r=t.position.x+(n.col1.x*this.m_coreV2.x+n.col2.x*this.m_coreV2.y),o=t.position.y+(n.col1.y*this.m_coreV2.x+n.col2.y*this.m_coreV2.y);return a*e+s*i>r*e+o*i?(this.s_supportVec.x=a,this.s_supportVec.y=s):(this.s_supportVec.x=r,this.s_supportVec.y=o),this.s_supportVec},setPrevEdge:function(t,e,i,n){this.m_prevEdge=t,this.m_coreV1=e,this.m_cornerDir1=i,this.m_cornerConvex1=n},setNextEdge:function(t,e,i,n){this.m_nextEdge=t,this.m_coreV2=e,this.m_cornerDir2=i,this.m_cornerConvex2=n},__class__:Dt});var Pt=function(){this.mass=0,this.center=new tt(0,0),this.I=0};s["box2D.collision.shapes.B2MassData"]=Pt,Pt.__name__=["box2D","collision","shapes","B2MassData"],Pt.prototype={__class__:Pt};var Nt=function(){this.m_vertexCount=0,Bt.call(this),this.m_type=2,this.m_centroid=new tt,this.m_vertices=[],this.m_normals=[]};s["box2D.collision.shapes.B2PolygonShape"]=Nt,Nt.__name__=["box2D","collision","shapes","B2PolygonShape"],Nt.asArray=function(t,e){var i=new Nt;return i.setAsArray(t,e),i},Nt.asVector=function(t,e){var i=new Nt;return i.setAsVector(t,e),i},Nt.asBox=function(t,e){var i=new Nt;return i.setAsBox(t,e),i},Nt.asOrientedBox=function(t,e,i,n){null==n&&(n=0);var a=new Nt;return a.setAsOrientedBox(t,e,i,n),a},Nt.asEdge=function(t,e){var i=new Nt;return i.setAsEdge(t,e),i},Nt.computeCentroid=function(t,e){for(var i=new tt,n=0,a=0,s=0,r=.3333333333333333,o=0;o<e;){var l,_=o++,h=t[_];l=_+1<e?t[_+1|0]:t[0];var c=h.x-a,u=h.y-s,d=l.x-a,m=l.y-s,f=c*m-u*d,p=.5*f;n+=p,i.x+=p*r*(a+h.x+l.x),i.y+=p*r*(s+h.y+l.y)}return i.x*=1/n,i.y*=1/n,i},Nt.computeOBB=function(t,e,i){for(var n=[],a=0;a<i;){var s=a++;n[s]=e[s]}n[i]=n[0];for(var r=Number.MAX_VALUE,o=1,l=i+1;o<l;){var _=o++,h=n[_-1|0],c=n[_].x-h.x,u=n[_].y-h.y,d=Math.sqrt(c*c+u*u);c/=d,u/=d;for(var m=-u,f=c,p=Number.MAX_VALUE,g=Number.MAX_VALUE,v=-Number.MAX_VALUE,y=-Number.MAX_VALUE,x=0;x<i;){var b=x++,w=n[b].x-h.x,T=n[b].y-h.y,A=c*w+u*T,E=m*w+f*T;A<p&&(p=A),E<g&&(g=E),A>v&&(v=A),E>y&&(y=E)}var S=(v-p)*(y-g);if(S<.95*r){r=S,t.R.col1.x=c,t.R.col1.y=u,t.R.col2.x=m,t.R.col2.y=f;var C=.5*(p+v),I=.5*(g+y),L=t.R;t.center.x=h.x+(L.col1.x*C+L.col2.x*I),t.center.y=h.y+(L.col1.y*C+L.col2.y*I),t.extents.x=.5*(v-p),t.extents.y=.5*(y-g)}}},Nt.__super__=Bt,Nt.prototype=n(Bt.prototype,{copy:function(){var t=new Nt;return t.set(this),t},set:function(t){if(Bt.prototype.set.call(this,t),oi.__instanceof(t,Nt)){var e;e=oi.__cast(t,Nt),this.m_centroid.setV(e.m_centroid),this.m_vertexCount=e.m_vertexCount,this.reserve(this.m_vertexCount);for(var i=0,n=this.m_vertexCount;i<n;){var a=i++;this.m_vertices[a].setV(e.m_vertices[a]),this.m_normals[a].setV(e.m_normals[a])}}},setAsArray:function(t,e){null==e&&(e=0);for(var i=[],n=0;n<t.length;){var a=t[n];++n,i.push(a)}this.setAsVector(i,e)},setAsVector:function(t,e){null==e&&(e=0),0==e&&(e=t.length),kt.b2Assert(2<=e),this.m_vertexCount=0|e,this.reserve(0|e);for(var i=0,n=this.m_vertexCount;i<n;){var a=i++;this.m_vertices[a].setV(t[a])}for(var s=0,r=this.m_vertexCount;s<r;){var o,l=s++,_=l;o=l+1<this.m_vertexCount?l+1:0;var h=Ut.subtractVV(this.m_vertices[o],this.m_vertices[_]);kt.b2Assert(h.lengthSquared()>Number.MIN_VALUE),this.m_normals[l].setV(Ut.crossVF(h,1)),this.m_normals[l].normalize()}this.m_centroid=Nt.computeCentroid(this.m_vertices,this.m_vertexCount)},setAsBox:function(t,e){this.m_vertexCount=4,this.reserve(4),this.m_vertices[0].set(-t,-e),this.m_vertices[1].set(t,-e),this.m_vertices[2].set(t,e),this.m_vertices[3].set(-t,e),this.m_normals[0].set(0,-1),this.m_normals[1].set(1,0),
this.m_normals[2].set(0,1),this.m_normals[3].set(-1,0),this.m_centroid.setZero()},setAsOrientedBox:function(t,e,i,n){null==n&&(n=0),this.m_vertexCount=4,this.reserve(4),this.m_vertices[0].set(-t,-e),this.m_vertices[1].set(t,-e),this.m_vertices[2].set(t,e),this.m_vertices[3].set(-t,e),this.m_normals[0].set(0,-1),this.m_normals[1].set(1,0),this.m_normals[2].set(0,1),this.m_normals[3].set(-1,0),this.m_centroid=i;var a=new Ct;a.position=i,a.R.set(n);for(var s=0,r=this.m_vertexCount;s<r;){var o=s++;this.m_vertices[o]=Ut.mulX(a,this.m_vertices[o]),this.m_normals[o]=Ut.mulMV(a.R,this.m_normals[o])}},setAsEdge:function(t,e){this.m_vertexCount=2,this.reserve(2),this.m_vertices[0].setV(t),this.m_vertices[1].setV(e),this.m_centroid.x=.5*(t.x+e.x),this.m_centroid.y=.5*(t.y+e.y),this.m_normals[0]=Ut.crossVF(Ut.subtractVV(e,t),1),this.m_normals[0].normalize(),this.m_normals[1].x=-this.m_normals[0].x,this.m_normals[1].y=-this.m_normals[0].y},testPoint:function(t,e){for(var i,n=t.R,a=e.x-t.position.x,s=e.y-t.position.y,r=a*n.col1.x+s*n.col1.y,o=a*n.col2.x+s*n.col2.y,l=0,_=this.m_vertexCount;l<_;){var h=l++;i=this.m_vertices[h],a=r-i.x,s=o-i.y,i=this.m_normals[h];var c=i.x*a+i.y*s;if(c>0)return!1}return!0},rayCast:function(t,e,i){var n,a,s,r,o=0,l=e.maxFraction;n=e.p1.x-i.position.x,a=e.p1.y-i.position.y,s=i.R;var _=n*s.col1.x+a*s.col1.y,h=n*s.col2.x+a*s.col2.y;n=e.p2.x-i.position.x,a=e.p2.y-i.position.y,s=i.R;for(var c=n*s.col1.x+a*s.col1.y,u=n*s.col2.x+a*s.col2.y,d=c-_,m=u-h,f=-1,p=0,g=this.m_vertexCount;p<g;){var v=p++;r=this.m_vertices[v],n=r.x-_,a=r.y-h,r=this.m_normals[v];var y=r.x*n+r.y*a,x=r.x*d+r.y*m;if(0==x){if(y<0)return!1}else x<0&&y<o*x?(o=y/x,f=v):x>0&&y<l*x&&(l=y/x);if(l<o-Number.MIN_VALUE)return!1}return f>=0&&(t.fraction=o,s=i.R,r=this.m_normals[f],t.normal.x=s.col1.x*r.x+s.col2.x*r.y,t.normal.y=s.col1.y*r.x+s.col2.y*r.y,!0)},computeAABB:function(t,e){for(var i=e.R,n=this.m_vertices[0],a=e.position.x+(i.col1.x*n.x+i.col2.x*n.y),s=e.position.y+(i.col1.y*n.x+i.col2.y*n.y),r=a,o=s,l=1,_=this.m_vertexCount;l<_;){var h=l++;n=this.m_vertices[h];var c=e.position.x+(i.col1.x*n.x+i.col2.x*n.y),u=e.position.y+(i.col1.y*n.x+i.col2.y*n.y);a=a<c?a:c,s=s<u?s:u,r=r>c?r:c,o=o>u?o:u}t.lowerBound.x=a-this.m_radius,t.lowerBound.y=s-this.m_radius,t.upperBound.x=r+this.m_radius,t.upperBound.y=o+this.m_radius},computeMass:function(t,e){if(2==this.m_vertexCount)return t.center.x=.5*(this.m_vertices[0].x+this.m_vertices[1].x),t.center.y=.5*(this.m_vertices[0].y+this.m_vertices[1].y),t.mass=0,void(t.I=0);for(var i=0,n=0,a=0,s=0,r=0,o=0,l=.3333333333333333,_=0,h=this.m_vertexCount;_<h;){var c,u=_++,d=this.m_vertices[u];c=u+1<this.m_vertexCount?this.m_vertices[u+1|0]:this.m_vertices[0];var m=d.x-r,f=d.y-o,p=c.x-r,g=c.y-o,v=m*g-f*p,y=.5*v;a+=y,i+=y*l*(r+d.x+c.x),n+=y*l*(o+d.y+c.y);var x=r,b=o,w=m,T=f,A=p,E=g,S=l*(.25*(w*w+A*w+A*A)+(x*w+x*A))+.5*x*x,C=l*(.25*(T*T+E*T+E*E)+(b*T+b*E))+.5*b*b;s+=v*(S+C)}t.mass=e*a,i*=1/a,n*=1/a,t.center.set(i,n),t.I=e*s},computeSubmergedArea:function(t,e,i,n){for(var a,s=Ut.mulTMV(i.R,t),r=e-Ut.dot(t,i.position),o=[],l=0,_=-1,h=-1,c=!1,u=0,d=this.m_vertexCount;u<d;){var m=u++;o[m]=Ut.dot(s,this.m_vertices[m])-r;var f=o[m]<-Number.MIN_VALUE;m>0&&(f?c||(_=m-1,l++):c&&(h=m-1,l++)),c=f}switch(l){case 0:if(c){var p=new Pt;return this.computeMass(p,1),n.setV(Ut.mulX(i,p.center)),p.mass}return 0;case 1:_==-1?_=this.m_vertexCount-1:h=this.m_vertexCount-1}var g,v=(_+1)%this.m_vertexCount,y=(h+1)%this.m_vertexCount,x=(0-o[_])/(o[v]-o[_]),b=(0-o[h])/(o[y]-o[h]),w=new tt(this.m_vertices[_].x*(1-x)+this.m_vertices[v].x*x,this.m_vertices[_].y*(1-x)+this.m_vertices[v].y*x),T=new tt(this.m_vertices[h].x*(1-b)+this.m_vertices[y].x*b,this.m_vertices[h].y*(1-b)+this.m_vertices[y].y*b),A=0,E=new tt,S=this.m_vertices[v];for(a=v;a!=y;){a=(a+1)%this.m_vertexCount,g=a==y?T:this.m_vertices[a];var C=.5*((S.x-w.x)*(g.y-w.y)-(S.y-w.y)*(g.x-w.x));A+=C,E.x+=C*(w.x+S.x+g.x)/3,E.y+=C*(w.y+S.y+g.y)/3,S=g}return E.multiply(1/A),n.setV(Ut.mulX(i,E)),A},getVertexCount:function(){return this.m_vertexCount},getVertices:function(){return this.m_vertices},getNormals:function(){return this.m_normals},getSupport:function(t){for(var e=0,i=this.m_vertices[0].x*t.x+this.m_vertices[0].y*t.y,n=1,a=this.m_vertexCount;n<a;){var s=n++,r=this.m_vertices[s].x*t.x+this.m_vertices[s].y*t.y;r>i&&(e=s,i=r)}return e},getSupportVertex:function(t){for(var e=0,i=this.m_vertices[0].x*t.x+this.m_vertices[0].y*t.y,n=1,a=this.m_vertexCount;n<a;){var s=n++,r=this.m_vertices[s].x*t.x+this.m_vertices[s].y*t.y;r>i&&(e=s,i=r)}return this.m_vertices[e]},validate:function(){return!1},reserve:function(t){for(var e=this.m_vertices.length;e<t;){var i=e++;this.m_vertices[i]=new tt,this.m_normals[i]=new tt}},__class__:Nt});var Ft=function(t,e,i){this._r=G["int"](255*Ut.clamp(t,0,1)),this._g=G["int"](255*Ut.clamp(e,0,1)),this._b=G["int"](255*Ut.clamp(i,0,1))};s["box2D.common.B2Color"]=Ft,Ft.__name__=["box2D","common","B2Color"],Ft.prototype={set:function(t,e,i){this._r=G["int"](255*Ut.clamp(t,0,1)),this._g=G["int"](255*Ut.clamp(e,0,1)),this._b=G["int"](255*Ut.clamp(i,0,1))},set_r:function(t){return this._r=G["int"](255*Ut.clamp(t,0,1))},set_g:function(t){return this._g=G["int"](255*Ut.clamp(t,0,1))},set_b:function(t){return this._b=G["int"](255*Ut.clamp(t,0,1))},get_color:function(){return this._r<<16|this._g<<8|this._b},__class__:Ft,__properties__:{get_color:"get_color",set_b:"set_b",set_g:"set_g",set_r:"set_r"}};var kt=function(){};s["box2D.common.B2Settings"]=kt,kt.__name__=["box2D","common","B2Settings"],kt.b2MixFriction=function(t,e){return Math.sqrt(t*e)},kt.b2MixRestitution=function(t,e){return t>e?t:e},kt.b2Assert=function(t){if(!t)throw new ri("Assertion Failed")};var Ot=function(t,e,i){this.col1=new Gt,this.col2=new Gt,this.col3=new Gt,null==t&&null==e&&null==i?(this.col1.setZero(),this.col2.setZero(),this.col3.setZero()):(this.col1.setV(t),this.col2.setV(e),this.col3.setV(i))};s["box2D.common.math.B2Mat33"]=Ot,Ot.__name__=["box2D","common","math","B2Mat33"],Ot.prototype={setVVV:function(t,e,i){this.col1.setV(t),this.col2.setV(e),this.col3.setV(i)},copy:function(){return new Ot(this.col1,this.col2,this.col3)},setM:function(t){this.col1.setV(t.col1),this.col2.setV(t.col2),this.col3.setV(t.col3)},addM:function(t){this.col1.x+=t.col1.x,this.col1.y+=t.col1.y,this.col1.z+=t.col1.z,this.col2.x+=t.col2.x,this.col2.y+=t.col2.y,this.col2.z+=t.col2.z,this.col3.x+=t.col3.x,this.col3.y+=t.col3.y,this.col3.z+=t.col3.z},setIdentity:function(){this.col1.x=1,this.col2.x=0,this.col3.x=0,this.col1.y=0,this.col2.y=1,this.col3.y=0,this.col1.z=0,this.col2.z=0,this.col3.z=1},setZero:function(){this.col1.x=0,this.col2.x=0,this.col3.x=0,this.col1.y=0,this.col2.y=0,this.col3.y=0,this.col1.z=0,this.col2.z=0,this.col3.z=0},solve22:function(t,e,i){var n=this.col1.x,a=this.col2.x,s=this.col1.y,r=this.col2.y,o=n*r-a*s;return 0!=o&&(o=1/o),t.x=o*(r*e-a*i),t.y=o*(n*i-s*e),t},solve33:function(t,e,i,n){var a=this.col1.x,s=this.col1.y,r=this.col1.z,o=this.col2.x,l=this.col2.y,_=this.col2.z,h=this.col3.x,c=this.col3.y,u=this.col3.z,d=a*(l*u-_*c)+s*(_*h-o*u)+r*(o*c-l*h);return 0!=d&&(d=1/d),t.x=d*(e*(l*u-_*c)+i*(_*h-o*u)+n*(o*c-l*h)),t.y=d*(a*(i*u-n*c)+s*(n*h-e*u)+r*(e*c-i*h)),t.z=d*(a*(l*n-_*i)+s*(_*e-o*n)+r*(o*i-l*e)),t},__class__:Ot};var Ut=function(){};s["box2D.common.math.B2Math"]=Ut,Ut.__name__=["box2D","common","math","B2Math"],Ut.__properties__={get_MAX_VALUE:"get_MAX_VALUE",get_MIN_VALUE:"get_MIN_VALUE"},Ut.isValid=function(t){return!isNaN(t)&&t!=-(1/0)&&t!=1/0},Ut.dot=function(t,e){return t.x*e.x+t.y*e.y},Ut.crossVV=function(t,e){return t.x*e.y-t.y*e.x},Ut.crossVF=function(t,e){var i=new tt(e*t.y,-e*t.x);return i},Ut.crossFV=function(t,e){var i=new tt(-t*e.y,t*e.x);return i},Ut.mulMV=function(t,e){var i=new tt(t.col1.x*e.x+t.col2.x*e.y,t.col1.y*e.x+t.col2.y*e.y);return i},Ut.mulTMV=function(t,e){var i=new tt(Ut.dot(e,t.col1),Ut.dot(e,t.col2));return i},Ut.mulX=function(t,e){var i=Ut.mulMV(t.R,e);return i.x+=t.position.x,i.y+=t.position.y,i},Ut.mulXT=function(t,e){var i=Ut.subtractVV(e,t.position),n=i.x*t.R.col1.x+i.y*t.R.col1.y;return i.y=i.x*t.R.col2.x+i.y*t.R.col2.y,i.x=n,i},Ut.addVV=function(t,e){var i=new tt(t.x+e.x,t.y+e.y);return i},Ut.subtractVV=function(t,e){var i=new tt(t.x-e.x,t.y-e.y);return i},Ut.distance=function(t,e){var i=t.x-e.x,n=t.y-e.y;return Math.sqrt(i*i+n*n)},Ut.distanceSquared=function(t,e){var i=t.x-e.x,n=t.y-e.y;return i*i+n*n},Ut.mulFV=function(t,e){var i=new tt(t*e.x,t*e.y);return i},Ut.addMM=function(t,e){var i=It.fromVV(Ut.addVV(t.col1,e.col1),Ut.addVV(t.col2,e.col2));return i},Ut.mulMM=function(t,e){var i=It.fromVV(Ut.mulMV(t,e.col1),Ut.mulMV(t,e.col2));return i},Ut.mulTMM=function(t,e){var i=new tt(Ut.dot(t.col1,e.col1),Ut.dot(t.col2,e.col1)),n=new tt(Ut.dot(t.col1,e.col2),Ut.dot(t.col2,e.col2)),a=It.fromVV(i,n);return a},Ut.abs=function(t){return t>0?t:-t},Ut.absV=function(t){var e=new tt(Ut.abs(t.x),Ut.abs(t.y));return e},Ut.absM=function(t){var e=It.fromVV(Ut.absV(t.col1),Ut.absV(t.col2));return e},Ut.min=function(t,e){return t<e?t:e},Ut.minV=function(t,e){var i=new tt(Ut.min(t.x,e.x),Ut.min(t.y,e.y));return i},Ut.max=function(t,e){return t>e?t:e},Ut.maxV=function(t,e){var i=new tt(Ut.max(t.x,e.x),Ut.max(t.y,e.y));return i},Ut.clamp=function(t,e,i){return t<e?e:t>i?i:t},Ut.clampV=function(t,e,i){return Ut.maxV(e,Ut.minV(t,i))},Ut.swap=function(t,e){var i=t[0];t[0]=e[0],e[0]=i},Ut.random=function(){return 2*Math.random()-1},Ut.randomRange=function(t,e){var i=Math.random();return i=(e-t)*i+t},Ut.nextPowerOfTwo=function(t){return t|=t>>1&2147483647,t|=t>>2&1073741823,t|=t>>4&268435455,t|=t>>8&16777215,t|=t>>16&65535,t+1},Ut.isPowerOfTwo=function(t){var e=t>0&&0==(t&t-1);return e},Ut.MIN_VALUE=null,Ut.MAX_VALUE=null,Ut.get_MIN_VALUE=function(){return Number.MIN_VALUE},Ut.get_MAX_VALUE=function(){return Number.MAX_VALUE};var Vt=function(){this.localCenter=new tt,this.c0=new tt,this.c=new tt};s["box2D.common.math.B2Sweep"]=Vt,Vt.__name__=["box2D","common","math","B2Sweep"],Vt.prototype={set:function(t){this.localCenter.setV(t.localCenter),this.c0.setV(t.c0),this.c.setV(t.c),this.a0=t.a0,this.a=t.a,this.t0=t.t0},copy:function(){var t=new Vt;return t.localCenter.setV(this.localCenter),t.c0.setV(this.c0),t.c.setV(this.c),t.a0=this.a0,t.a=this.a,t.t0=this.t0,t},getTransform:function(t,e){t.position.x=(1-e)*this.c0.x+e*this.c.x,t.position.y=(1-e)*this.c0.y+e*this.c.y;var i=(1-e)*this.a0+e*this.a;t.R.set(i);var n=t.R;t.position.x-=n.col1.x*this.localCenter.x+n.col2.x*this.localCenter.y,t.position.y-=n.col1.y*this.localCenter.x+n.col2.y*this.localCenter.y},advance:function(t){if(this.t0<t&&1-this.t0>Number.MIN_VALUE){var e=(t-this.t0)/(1-this.t0);this.c0.x=(1-e)*this.c0.x+e*this.c.x,this.c0.y=(1-e)*this.c0.y+e*this.c.y,this.a0=(1-e)*this.a0+e*this.a,this.t0=t}},__class__:Vt};var Gt=function(t,e,i){null==i&&(i=0),null==e&&(e=0),null==t&&(t=0),this.x=t,this.y=e,this.z=i};s["box2D.common.math.B2Vec3"]=Gt,Gt.__name__=["box2D","common","math","B2Vec3"],Gt.prototype={setZero:function(){this.x=this.y=this.z=0},set:function(t,e,i){this.x=t,this.y=e,this.z=i},setV:function(t){this.x=t.x,this.y=t.y,this.z=t.z},getNegative:function(){return new Gt((-this.x),(-this.y),(-this.z))},negativeSelf:function(){this.x=-this.x,this.y=-this.y,this.z=-this.z},copy:function(){return new Gt(this.x,this.y,this.z)},add:function(t){this.x+=t.x,this.y+=t.y,this.z+=t.z},subtract:function(t){this.x-=t.x,this.y-=t.y,this.z-=t.z},multiply:function(t){this.x*=t,this.y*=t,this.z*=t},__class__:Gt};var Wt=function(t,e){this.m_xf=new Ct,this.m_sweep=new Vt,this.m_linearVelocity=new tt,this.m_force=new tt,this.m_flags=0,t.bullet&&(this.m_flags|=Wt.e_bulletFlag),t.fixedRotation&&(this.m_flags|=Wt.e_fixedRotationFlag),t.allowSleep&&(this.m_flags|=Wt.e_allowSleepFlag),t.awake&&(this.m_flags|=Wt.e_awakeFlag),t.active&&(this.m_flags|=Wt.e_activeFlag),this.m_world=e,this.m_xf.position.setV(t.position),this.m_xf.R.set(t.angle),this.m_sweep.localCenter.setZero(),this.m_sweep.t0=1,this.m_sweep.a0=this.m_sweep.a=t.angle;var i=this.m_xf.R,n=this.m_sweep.localCenter;this.m_sweep.c.x=i.col1.x*n.x+i.col2.x*n.y,this.m_sweep.c.y=i.col1.y*n.x+i.col2.y*n.y,this.m_sweep.c.x+=this.m_xf.position.x,this.m_sweep.c.y+=this.m_xf.position.y,this.m_sweep.c0.setV(this.m_sweep.c),this.m_jointList=null,this.m_controllerList=null,this.m_contactList=null,this.m_controllerCount=0,this.m_prev=null,this.m_next=null,this.m_linearVelocity.setV(t.linearVelocity),this.m_angularVelocity=t.angularVelocity,this.m_linearDamping=t.linearDamping,this.m_angularDamping=t.angularDamping,this.m_force.set(0,0),this.m_torque=0,this.m_sleepTime=0,this.m_type=t.type,2==this.m_type?(this.m_mass=1,this.m_invMass=1):(this.m_mass=0,this.m_invMass=0),this.m_I=0,this.m_invI=0,this.m_inertiaScale=t.inertiaScale,this.m_userData=t.userData,this.m_fixtureList=null,this.m_fixtureCount=0};s["box2D.dynamics.B2Body"]=Wt,Wt.__name__=["box2D","dynamics","B2Body"],Wt.prototype={connectEdges:function(t,e,i){var n=Math.atan2(e.getDirectionVector().y,e.getDirectionVector().x),a=Math.tan(.5*(n-i)),s=Ut.mulFV(a,e.getDirectionVector());s=Ut.subtractVV(s,e.getNormalVector()),s=Ut.mulFV(kt.b2_toiSlop,s),s=Ut.addVV(s,e.getVertex1());var r=Ut.addVV(t.getDirectionVector(),e.getDirectionVector());r.normalize();var o=Ut.dot(t.getDirectionVector(),e.getNormalVector())>0;return t.setNextEdge(e,s,r,o),e.setPrevEdge(t,s,r,o),n},createFixture:function(t){if(1==this.m_world.isLocked())return null;var e=new Jt;if(e.create(this,this.m_xf,t),0!=(this.m_flags&Wt.e_activeFlag)){var i=this.m_world.m_contactManager.m_broadPhase;e.createProxy(i,this.m_xf)}return e.m_next=this.m_fixtureList,this.m_fixtureList=e,++this.m_fixtureCount,e.m_body=this,e.m_density>0&&this.resetMassData(),this.m_world.m_flags|=te.e_newFixture,e},createFixture2:function(t,e){null==e&&(e=0);var i=new Zt;return i.shape=t,i.density=e,this.createFixture(i)},DestroyFixture:function(t){if(1!=this.m_world.isLocked()){for(var e=this.m_fixtureList,i=null,n=!1;null!=e;){if(e==t){null!=i?i.m_next=t.m_next:this.m_fixtureList=t.m_next,n=!0;break}i=e,e=e.m_next}for(var a=this.m_contactList;null!=a;){var s=a.contact;a=a.next;var r=s.getFixtureA(),o=s.getFixtureB();t!=r&&t!=o||this.m_world.m_contactManager.destroy(s)}if(0!=(this.m_flags&Wt.e_activeFlag)){var l=this.m_world.m_contactManager.m_broadPhase;t.destroyProxy(l)}t.destroy(),t.m_body=null,t.m_next=null,--this.m_fixtureCount,this.resetMassData()}},setPositionAndAngle:function(t,e){var i;if(1!=this.m_world.isLocked()){this.m_xf.R.set(e),this.m_xf.position.setV(t);var n=this.m_xf.R,a=this.m_sweep.localCenter;this.m_sweep.c.x=n.col1.x*a.x+n.col2.x*a.y,this.m_sweep.c.y=n.col1.y*a.x+n.col2.y*a.y,this.m_sweep.c.x+=this.m_xf.position.x,this.m_sweep.c.y+=this.m_xf.position.y,this.m_sweep.c0.setV(this.m_sweep.c),this.m_sweep.a0=this.m_sweep.a=e;var s=this.m_world.m_contactManager.m_broadPhase;for(i=this.m_fixtureList;null!=i;)i.synchronize(s,this.m_xf,this.m_xf),i=i.m_next;this.m_world.m_contactManager.findNewContacts()}},setTransform:function(t){this.setPositionAndAngle(t.position,t.getAngle())},getTransform:function(){return this.m_xf},getPosition:function(){return this.m_xf.position},setPosition:function(t){this.setPositionAndAngle(t,this.getAngle())},getAngle:function(){return this.m_sweep.a},setAngle:function(t){this.setPositionAndAngle(this.getPosition(),t)},getWorldCenter:function(){return this.m_sweep.c},getLocalCenter:function(){return this.m_sweep.localCenter},setLinearVelocity:function(t){0!=this.m_type&&this.m_linearVelocity.setV(t)},getLinearVelocity:function(){return this.m_linearVelocity},setAngularVelocity:function(t){0!=this.m_type&&(this.m_angularVelocity=t)},getAngularVelocity:function(){return this.m_angularVelocity},getDefinition:function(){var t=new Xt;return t.type=this.getType(),t.allowSleep=(this.m_flags&Wt.e_allowSleepFlag)==Wt.e_allowSleepFlag,t.angle=this.getAngle(),t.angularDamping=this.m_angularDamping,t.angularVelocity=this.m_angularVelocity,t.fixedRotation=(this.m_flags&Wt.e_fixedRotationFlag)==Wt.e_fixedRotationFlag,t.bullet=(this.m_flags&Wt.e_bulletFlag)==Wt.e_bulletFlag,t.awake=(this.m_flags&Wt.e_awakeFlag)==Wt.e_awakeFlag,t.linearDamping=this.m_linearDamping,t.linearVelocity.setV(this.getLinearVelocity()),t.position=this.getPosition(),t.userData=this.getUserData(),t},applyForce:function(t,e){2==this.m_type&&(0==this.isAwake()&&this.setAwake(!0),this.m_force.x+=t.x,this.m_force.y+=t.y,this.m_torque+=(e.x-this.m_sweep.c.x)*t.y-(e.y-this.m_sweep.c.y)*t.x)},applyTorque:function(t){2==this.m_type&&(0==this.isAwake()&&this.setAwake(!0),this.m_torque+=t)},applyImpulse:function(t,e){2==this.m_type&&(0==this.isAwake()&&this.setAwake(!0),this.m_linearVelocity.x+=this.m_invMass*t.x,this.m_linearVelocity.y+=this.m_invMass*t.y,this.m_angularVelocity+=this.m_invI*((e.x-this.m_sweep.c.x)*t.y-(e.y-this.m_sweep.c.y)*t.x))},split:function(t){for(var e=this.getLinearVelocity().copy(),i=this.getAngularVelocity(),n=this.getWorldCenter(),a=this,s=this.m_world.createBody(this.getDefinition()),r=null,o=a.m_fixtureList;null!=o;)if(t(o)){var l=o.m_next;null!=r?r.m_next=l:a.m_fixtureList=l,a.m_fixtureCount--,o.m_next=s.m_fixtureList,s.m_fixtureList=o,s.m_fixtureCount++,o.m_body=s,o=l}else r=o,o=o.m_next;a.resetMassData(),s.resetMassData();var _=a.getWorldCenter(),h=s.getWorldCenter(),c=Ut.addVV(e,Ut.crossFV(i,Ut.subtractVV(_,n))),u=Ut.addVV(e,Ut.crossFV(i,Ut.subtractVV(h,n)));return a.setLinearVelocity(c),s.setLinearVelocity(u),a.setAngularVelocity(i),s.setAngularVelocity(i),a.synchronizeFixtures(),s.synchronizeFixtures(),s},merge:function(t){var e;e=t.m_fixtureList;for(var i=this,n=t;null!=e;){var a=e.m_next;t.m_fixtureCount--,e.m_next=this.m_fixtureList,this.m_fixtureList=e,this.m_fixtureCount++,e.m_body=n,e=a}i.m_fixtureCount=0;i.getWorldCenter(),n.getWorldCenter(),i.getLinearVelocity().copy(),n.getLinearVelocity().copy(),i.getAngularVelocity(),n.getAngularVelocity();i.resetMassData(),this.synchronizeFixtures()},getMass:function(){return this.m_mass},getInertia:function(){return this.m_I},getMassData:function(t){t.mass=this.m_mass,t.I=this.m_I,t.center.setV(this.m_sweep.localCenter)},setMassData:function(t){if(kt.b2Assert(0==this.m_world.isLocked()),1!=this.m_world.isLocked()&&2==this.m_type){this.m_invMass=0,this.m_I=0,this.m_invI=0,this.m_mass=t.mass,this.m_mass<=0&&(this.m_mass=1),this.m_invMass=1/this.m_mass,t.I>0&&0==(this.m_flags&Wt.e_fixedRotationFlag)&&(this.m_I=t.I-this.m_mass*(t.center.x*t.center.x+t.center.y*t.center.y),this.m_invI=1/this.m_I);var e=this.m_sweep.c.copy();this.m_sweep.localCenter.setV(t.center),this.m_sweep.c0.setV(Ut.mulX(this.m_xf,this.m_sweep.localCenter)),this.m_sweep.c.setV(this.m_sweep.c0),this.m_linearVelocity.x+=this.m_angularVelocity*-(this.m_sweep.c.y-e.y),this.m_linearVelocity.y+=this.m_angularVelocity*(this.m_sweep.c.x-e.x)}},resetMassData:function(){if(this.m_mass=0,this.m_invMass=0,this.m_I=0,this.m_invI=0,this.m_sweep.localCenter.setZero(),0!=this.m_type&&1!=this.m_type){for(var t=tt.make(0,0),e=this.m_fixtureList;null!=e;)if(0!=e.m_density){var i=e.getMassData();this.m_mass+=i.mass,t.x+=i.center.x*i.mass,t.y+=i.center.y*i.mass,this.m_I+=i.I,e=e.m_next}else e=e.m_next;this.m_mass>0?(this.m_invMass=1/this.m_mass,t.x*=this.m_invMass,t.y*=this.m_invMass):(this.m_mass=1,this.m_invMass=1),this.m_I>0&&0==(this.m_flags&Wt.e_fixedRotationFlag)?(this.m_I-=this.m_mass*(t.x*t.x+t.y*t.y),this.m_I*=this.m_inertiaScale,kt.b2Assert(this.m_I>0),this.m_invI=1/this.m_I):(this.m_I=0,this.m_invI=0);var n=this.m_sweep.c.copy();this.m_sweep.localCenter.setV(t),this.m_sweep.c0.setV(Ut.mulX(this.m_xf,this.m_sweep.localCenter)),this.m_sweep.c.setV(this.m_sweep.c0),this.m_linearVelocity.x+=this.m_angularVelocity*-(this.m_sweep.c.y-n.y),this.m_linearVelocity.y+=this.m_angularVelocity*(this.m_sweep.c.x-n.x)}},getWorldPoint:function(t){var e=this.m_xf.R,i=new tt(e.col1.x*t.x+e.col2.x*t.y,e.col1.y*t.x+e.col2.y*t.y);return i.x+=this.m_xf.position.x,i.y+=this.m_xf.position.y,i},getWorldVector:function(t){return Ut.mulMV(this.m_xf.R,t)},getLocalPoint:function(t){return Ut.mulXT(this.m_xf,t)},getLocalVector:function(t){return Ut.mulTMV(this.m_xf.R,t)},getLinearVelocityFromWorldPoint:function(t){return new tt(this.m_linearVelocity.x-this.m_angularVelocity*(t.y-this.m_sweep.c.y),this.m_linearVelocity.y+this.m_angularVelocity*(t.x-this.m_sweep.c.x))},getLinearVelocityFromLocalPoint:function(t){var e=this.m_xf.R,i=new tt(e.col1.x*t.x+e.col2.x*t.y,e.col1.y*t.x+e.col2.y*t.y);return i.x+=this.m_xf.position.x,i.y+=this.m_xf.position.y,new tt(this.m_linearVelocity.x-this.m_angularVelocity*(i.y-this.m_sweep.c.y),this.m_linearVelocity.y+this.m_angularVelocity*(i.x-this.m_sweep.c.x))},getLinearDamping:function(){return this.m_linearDamping},setLinearDamping:function(t){this.m_linearDamping=t},getAngularDamping:function(){return this.m_angularDamping},setAngularDamping:function(t){this.m_angularDamping=t},setType:function(t){if(this.m_type!=t){this.m_type=t,this.resetMassData(),0==this.m_type&&(this.m_linearVelocity.setZero(),this.m_angularVelocity=0),this.setAwake(!0),this.m_force.setZero(),this.m_torque=0;for(var e=this.m_contactList;null!=e;)e.contact.flagForFiltering(),e=e.next}},getType:function(){return this.m_type},setBullet:function(t){t?this.m_flags|=Wt.e_bulletFlag:this.m_flags&=~Wt.e_bulletFlag},isBullet:function(){return(this.m_flags&Wt.e_bulletFlag)==Wt.e_bulletFlag},setSleepingAllowed:function(t){t?this.m_flags|=Wt.e_allowSleepFlag:(this.m_flags&=~Wt.e_allowSleepFlag,this.setAwake(!0))},setAwake:function(t){t?(this.m_flags|=Wt.e_awakeFlag,this.m_sleepTime=0):(this.m_flags&=~Wt.e_awakeFlag,this.m_sleepTime=0,this.m_linearVelocity.setZero(),this.m_angularVelocity=0,this.m_force.setZero(),this.m_torque=0)},isAwake:function(){return(this.m_flags&Wt.e_awakeFlag)==Wt.e_awakeFlag},setFixedRotation:function(t){t?this.m_flags|=Wt.e_fixedRotationFlag:this.m_flags&=~Wt.e_fixedRotationFlag,this.resetMassData()},isFixedRotation:function(){return(this.m_flags&Wt.e_fixedRotationFlag)==Wt.e_fixedRotationFlag},setActive:function(t){if(t!=this.isActive()){var e,i;if(t)for(this.m_flags|=Wt.e_activeFlag,e=this.m_world.m_contactManager.m_broadPhase,i=this.m_fixtureList;null!=i;)i.createProxy(e,this.m_xf),i=i.m_next;else{for(this.m_flags&=~Wt.e_activeFlag,e=this.m_world.m_contactManager.m_broadPhase,i=this.m_fixtureList;null!=i;)i.destroyProxy(e),i=i.m_next;for(var n=this.m_contactList;null!=n;){var a=n;n=n.next,this.m_world.m_contactManager.destroy(a.contact)}this.m_contactList=null}}},isActive:function(){return(this.m_flags&Wt.e_activeFlag)==Wt.e_activeFlag},isSleepingAllowed:function(){return(this.m_flags&Wt.e_allowSleepFlag)==Wt.e_allowSleepFlag},getFixtureList:function(){return this.m_fixtureList},getJointList:function(){return this.m_jointList},getControllerList:function(){return this.m_controllerList},getContactList:function(){return this.m_contactList},getNext:function(){return this.m_next},getUserData:function(){return this.m_userData},setUserData:function(t){this.m_userData=t},getWorld:function(){return this.m_world},synchronizeFixtures:function(){var t=Wt.s_xf1;t.R.set(this.m_sweep.a0);var e=t.R,i=this.m_sweep.localCenter;t.position.x=this.m_sweep.c0.x-(e.col1.x*i.x+e.col2.x*i.y),t.position.y=this.m_sweep.c0.y-(e.col1.y*i.x+e.col2.y*i.y);var n,a=this.m_world.m_contactManager.m_broadPhase;for(n=this.m_fixtureList;null!=n;)n.synchronize(a,t,this.m_xf),n=n.m_next},synchronizeTransform:function(){this.m_xf.R.set(this.m_sweep.a);var t=this.m_xf.R,e=this.m_sweep.localCenter;this.m_xf.position.x=this.m_sweep.c.x-(t.col1.x*e.x+t.col2.x*e.y),this.m_xf.position.y=this.m_sweep.c.y-(t.col1.y*e.x+t.col2.y*e.y)},shouldCollide:function(t){if(2!=this.m_type&&2!=t.m_type)return!1;for(var e=this.m_jointList;null!=e;){if(e.other==t&&0==e.joint.m_collideConnected)return!1;e=e.next}return!0},advance:function(t){this.m_sweep.advance(t),this.m_sweep.c.setV(this.m_sweep.c0),this.m_sweep.a=this.m_sweep.a0,this.synchronizeTransform()},__class__:Wt};var Xt=function(){this.position=new tt,this.linearVelocity=new tt,this.userData=null,this.angle=0,this.angularVelocity=0,this.linearDamping=0,this.angularDamping=0,this.allowSleep=!0,this.awake=!0,this.fixedRotation=!1,this.bullet=!1,this.type=0,this.active=!0,this.inertiaScale=1};s["box2D.dynamics.B2BodyDef"]=Xt,Xt.__name__=["box2D","dynamics","B2BodyDef"],Xt.prototype={__class__:Xt};var zt=function(){};s["box2D.dynamics.B2ContactFilter"]=zt,zt.__name__=["box2D","dynamics","B2ContactFilter"],zt.prototype={shouldCollide:function(t,e){var i=t.getFilterData(),n=e.getFilterData();if(i.groupIndex==n.groupIndex&&0!=i.groupIndex)return i.groupIndex>0;var a=0!=(i.maskBits&n.categoryBits)&&0!=(i.categoryBits&n.maskBits);return a},rayCollide:function(t,e){return null==t||this.shouldCollide(oi.__cast(t,Jt),e)},__class__:zt};var Ht=function(){this.normalImpulses=[],this.tangentImpulses=[]};s["box2D.dynamics.B2ContactImpulse"]=Ht,Ht.__name__=["box2D","dynamics","B2ContactImpulse"],Ht.prototype={__class__:Ht};var Yt=function(){this.m_world=null,this.m_contactCount=0,this.m_contactFilter=zt.b2_defaultFilter,this.m_contactListener=b.b2_defaultListener,this.m_contactFactory=new re(this.m_allocator),this.m_broadPhase=new mt};s["box2D.dynamics.B2ContactManager"]=Yt,Yt.__name__=["box2D","dynamics","B2ContactManager"],Yt.prototype={addPair:function(t,e){var i;i=oi.__cast(t,Jt);var n;n=oi.__cast(e,Jt);var a=i.getBody(),s=n.getBody();if(a!=s){for(var r=s.getContactList();null!=r;){if(r.other==a){var o=r.contact.getFixtureA(),l=r.contact.getFixtureB();if(o==i&&l==n)return;if(o==n&&l==i)return}r=r.next}if(0!=s.shouldCollide(a)&&0!=this.m_contactFilter.shouldCollide(i,n)){var _=this.m_contactFactory.create(i,n);i=_.getFixtureA(),n=_.getFixtureB(),a=i.m_body,s=n.m_body,_.m_prev=null,_.m_next=this.m_world.m_contactList,null!=this.m_world.m_contactList&&(this.m_world.m_contactList.m_prev=_),this.m_world.m_contactList=_,_.m_nodeA.contact=_,_.m_nodeA.other=s,_.m_nodeA.prev=null,_.m_nodeA.next=a.m_contactList,null!=a.m_contactList&&(a.m_contactList.prev=_.m_nodeA),a.m_contactList=_.m_nodeA,_.m_nodeB.contact=_,_.m_nodeB.other=a,_.m_nodeB.prev=null,_.m_nodeB.next=s.m_contactList,null!=s.m_contactList&&(s.m_contactList.prev=_.m_nodeB),s.m_contactList=_.m_nodeB,++this.m_world.m_contactCount}}},findNewContacts:function(){this.m_broadPhase.updatePairs(a(this,this.addPair))},destroy:function(t){var e=t.getFixtureA(),i=t.getFixtureB(),n=e.getBody(),a=i.getBody();t.isTouching()&&this.m_contactListener.endContact(t),null!=t.m_prev&&(t.m_prev.m_next=t.m_next),null!=t.m_next&&(t.m_next.m_prev=t.m_prev),t==this.m_world.m_contactList&&(this.m_world.m_contactList=t.m_next),null!=t.m_nodeA.prev&&(t.m_nodeA.prev.next=t.m_nodeA.next),null!=t.m_nodeA.next&&(t.m_nodeA.next.prev=t.m_nodeA.prev),t.m_nodeA==n.m_contactList&&(n.m_contactList=t.m_nodeA.next),null!=t.m_nodeB.prev&&(t.m_nodeB.prev.next=t.m_nodeB.next),null!=t.m_nodeB.next&&(t.m_nodeB.next.prev=t.m_nodeB.prev),t.m_nodeB==a.m_contactList&&(a.m_contactList=t.m_nodeB.next),this.m_contactFactory.destroy(t),--this.m_contactCount},collide:function(){for(var t=this.m_world.m_contactList;null!=t;){var e=t.getFixtureA(),i=t.getFixtureB(),n=e.getBody(),a=i.getBody();if(0!=n.isAwake()||0!=a.isAwake()){if(0!=(t.m_flags&ee.e_filterFlag)){if(0==a.shouldCollide(n)){var s=t;t=s.getNext(),this.destroy(s);continue}if(0==this.m_contactFilter.shouldCollide(e,i)){var r=t;t=r.getNext(),this.destroy(r);continue}t.m_flags&=~ee.e_filterFlag}var o=e.m_proxy,l=i.m_proxy,_=this.m_broadPhase.testOverlap(o,l);if(0!=_)t.update(this.m_contactListener),t=t.getNext();else{var h=t;t=h.getNext(),this.destroy(h)}}else t=t.getNext()}},__class__:Yt};var Kt=function(){this.m_drawScale=1,this.m_lineThickness=1,this.m_alpha=1,this.m_fillAlpha=1,this.m_xformScale=1,this.m_drawFlags=0};s["box2D.dynamics.B2DebugDraw"]=Kt,Kt.__name__=["box2D","dynamics","B2DebugDraw"],Kt.prototype={setFlags:function(t){this.m_drawFlags=t},getFlags:function(){return this.m_drawFlags},appendFlags:function(t){this.m_drawFlags|=t},clearFlags:function(t){this.m_drawFlags&=~t},setSprite:function(t){this.m_sprite=t},getSprite:function(){return this.m_sprite},setDrawScale:function(t){this.m_drawScale=t},getDrawScale:function(){return this.m_drawScale},setLineThickness:function(t){this.m_lineThickness=t},getLineThickness:function(){return this.m_lineThickness},setAlpha:function(t){this.m_alpha=t},getAlpha:function(){return this.m_alpha},setFillAlpha:function(t){this.m_fillAlpha=t},getFillAlpha:function(){return this.m_fillAlpha},setXFormScale:function(t){this.m_xformScale=t},getXFormScale:function(){return this.m_xformScale},drawPolygon:function(t,e,i){this.m_sprite.get_graphics().lineStyle(this.m_lineThickness,i.get_color(),this.m_alpha),this.m_sprite.get_graphics().moveTo(t[0].x*this.m_drawScale,t[0].y*this.m_drawScale);for(var n=1;n<e;){var a=n++;this.m_sprite.get_graphics().lineTo(t[a].x*this.m_drawScale,t[a].y*this.m_drawScale)}this.m_sprite.get_graphics().lineTo(t[0].x*this.m_drawScale,t[0].y*this.m_drawScale)},drawSolidPolygon:function(t,e,i){this.m_sprite.get_graphics().lineStyle(this.m_lineThickness,i.get_color(),this.m_alpha),this.m_sprite.get_graphics().moveTo(t[0].x*this.m_drawScale,t[0].y*this.m_drawScale),this.m_sprite.get_graphics().beginFill(i.get_color(),this.m_fillAlpha);for(var n=1;n<e;){var a=n++;this.m_sprite.get_graphics().lineTo(t[a].x*this.m_drawScale,t[a].y*this.m_drawScale)}this.m_sprite.get_graphics().lineTo(t[0].x*this.m_drawScale,t[0].y*this.m_drawScale),this.m_sprite.get_graphics().endFill()},drawCircle:function(t,e,i){this.m_sprite.get_graphics().lineStyle(this.m_lineThickness,i.get_color(),this.m_alpha),this.m_sprite.get_graphics().drawCircle(t.x*this.m_drawScale,t.y*this.m_drawScale,e*this.m_drawScale)},drawSolidCircle:function(t,e,i,n){this.m_sprite.get_graphics().lineStyle(this.m_lineThickness,n.get_color(),this.m_alpha),this.m_sprite.get_graphics().moveTo(0,0),this.m_sprite.get_graphics().beginFill(n.get_color(),this.m_fillAlpha),this.m_sprite.get_graphics().drawCircle(t.x*this.m_drawScale,t.y*this.m_drawScale,e*this.m_drawScale),this.m_sprite.get_graphics().endFill(),this.m_sprite.get_graphics().moveTo(t.x*this.m_drawScale,t.y*this.m_drawScale),this.m_sprite.get_graphics().lineTo((t.x+i.x*e)*this.m_drawScale,(t.y+i.y*e)*this.m_drawScale)},drawSegment:function(t,e,i){this.m_sprite.get_graphics().lineStyle(this.m_lineThickness,i.get_color(),this.m_alpha),this.m_sprite.get_graphics().moveTo(t.x*this.m_drawScale,t.y*this.m_drawScale),this.m_sprite.get_graphics().lineTo(e.x*this.m_drawScale,e.y*this.m_drawScale)},drawTransform:function(t){this.m_sprite.get_graphics().lineStyle(this.m_lineThickness,16711680,this.m_alpha),this.m_sprite.get_graphics().moveTo(t.position.x*this.m_drawScale,t.position.y*this.m_drawScale),this.m_sprite.get_graphics().lineTo((t.position.x+this.m_xformScale*t.R.col1.x)*this.m_drawScale,(t.position.y+this.m_xformScale*t.R.col1.y)*this.m_drawScale),this.m_sprite.get_graphics().lineStyle(this.m_lineThickness,65280,this.m_alpha),this.m_sprite.get_graphics().moveTo(t.position.x*this.m_drawScale,t.position.y*this.m_drawScale),this.m_sprite.get_graphics().lineTo((t.position.x+this.m_xformScale*t.R.col2.x)*this.m_drawScale,(t.position.y+this.m_xformScale*t.R.col2.y)*this.m_drawScale)},__class__:Kt};var jt=function(){};s["box2D.dynamics.B2DestructionListener"]=jt,jt.__name__=["box2D","dynamics","B2DestructionListener"],jt.prototype={sayGoodbyeJoint:function(t){},sayGoodbyeFixture:function(t){},__class__:jt};var qt=function(){this.categoryBits=1,this.maskBits=65535,this.groupIndex=0};s["box2D.dynamics.B2FilterData"]=qt,qt.__name__=["box2D","dynamics","B2FilterData"],qt.prototype={copy:function(){var t=new qt;return t.categoryBits=this.categoryBits,t.maskBits=this.maskBits,t.groupIndex=this.groupIndex,t},__class__:qt};var Jt=function(){this.m_filter=new qt,this.m_aabb=new $,this.m_userData=null,this.m_body=null,this.m_next=null,this.m_shape=null,this.m_density=0,this.m_friction=0,
this.m_restitution=0};s["box2D.dynamics.B2Fixture"]=Jt,Jt.__name__=["box2D","dynamics","B2Fixture"],Jt.prototype={getType:function(){return this.m_shape.getType()},getShape:function(){return this.m_shape},setSensor:function(t){if(this.m_isSensor!=t&&(this.m_isSensor=t,null!=this.m_body))for(var e=this.m_body.getContactList();null!=e;){var i=e.contact,n=i.getFixtureA(),a=i.getFixtureB();n!=this&&a!=this||i.setSensor(n.isSensor()||a.isSensor()),e=e.next}},isSensor:function(){return this.m_isSensor},setFilterData:function(t){if(this.m_filter=t.copy(),null==this.m_body)for(var e=this.m_body.getContactList();null!=e;){var i=e.contact,n=i.getFixtureA(),a=i.getFixtureB();n!=this&&a!=this||i.flagForFiltering(),e=e.next}},getFilterData:function(){return this.m_filter.copy()},getBody:function(){return this.m_body},getNext:function(){return this.m_next},getUserData:function(){return this.m_userData},SetUserData:function(t){this.m_userData=t},testPoint:function(t){return this.m_shape.testPoint(this.m_body.getTransform(),t)},rayCast:function(t,e){return this.m_shape.rayCast(t,e,this.m_body.getTransform())},getMassData:function(t){return null==t&&(t=new Pt),this.m_shape.computeMass(t,this.m_density),t},setDensity:function(t){this.m_density=t},getDensity:function(){return this.m_density},getFriction:function(){return this.m_friction},setFriction:function(t){this.m_friction=t},getRestitution:function(){return this.m_restitution},setRestitution:function(t){this.m_restitution=t},getAABB:function(){return this.m_aabb},create:function(t,e,i){this.m_userData=i.userData,this.m_friction=i.friction,this.m_restitution=i.restitution,this.m_body=t,this.m_next=null,this.m_filter=i.filter.copy(),this.m_isSensor=i.isSensor,this.m_shape=i.shape.copy(),this.m_density=i.density},destroy:function(){this.m_shape=null},createProxy:function(t,e){this.m_shape.computeAABB(this.m_aabb,e),this.m_proxy=t.createProxy(this.m_aabb,this)},destroyProxy:function(t){null!=this.m_proxy&&(t.destroyProxy(this.m_proxy),this.m_proxy=null)},synchronize:function(t,e,i){if(null!=this.m_proxy){var n=new $,a=new $;this.m_shape.computeAABB(n,e),this.m_shape.computeAABB(a,i),this.m_aabb.combine(n,a);var s=Ut.subtractVV(i.position,e.position);t.moveProxy(this.m_proxy,this.m_aabb,s)}},__class__:Jt};var Zt=function(){this.filter=new qt,this.shape=null,this.userData=null,this.friction=.2,this.restitution=0,this.density=0,this.filter.categoryBits=1,this.filter.maskBits=65535,this.filter.groupIndex=0,this.isSensor=!1};s["box2D.dynamics.B2FixtureDef"]=Zt,Zt.__name__=["box2D","dynamics","B2FixtureDef"],Zt.prototype={__class__:Zt};var Qt=function(){this.m_jointCapacity=0,this.m_contactCapacity=0,this.m_bodyCapacity=0,this.m_contactCount=0,this.m_jointCount=0,this.m_bodyCount=0,this.m_bodies=[],this.m_contacts=[],this.m_joints=[]};s["box2D.dynamics.B2Island"]=Qt,Qt.__name__=["box2D","dynamics","B2Island"],Qt.prototype={initialize:function(t,e,i,n,a,s){this.m_bodyCapacity=t,this.m_contactCapacity=e,this.m_jointCapacity=i,this.m_bodyCount=0,this.m_contactCount=0,this.m_jointCount=0,this.m_allocator=n,this.m_listener=a,this.m_contactSolver=s;for(var r=this.m_bodies.length;r<t;){var o=r++;this.m_bodies[o]=null}for(var l=this.m_contacts.length;l<e;){var _=l++;this.m_contacts[_]=null}for(var h=this.m_joints.length;h<i;){var c=h++;this.m_joints[c]=null}},clear:function(){this.m_bodyCount=0,this.m_contactCount=0,this.m_jointCount=0},solve:function(t,e,i){for(var n,a,s=0,r=this.m_bodyCount;s<r;){var o=s++;n=this.m_bodies[o],2==n.getType()&&(n.m_linearVelocity.x+=t.dt*(e.x+n.m_invMass*n.m_force.x),n.m_linearVelocity.y+=t.dt*(e.y+n.m_invMass*n.m_force.y),n.m_angularVelocity+=t.dt*n.m_invI*n.m_torque,n.m_linearVelocity.multiply(Ut.clamp(1-t.dt*n.m_linearDamping,0,1)),n.m_angularVelocity*=Ut.clamp(1-t.dt*n.m_angularDamping,0,1))}this.m_contactSolver.initialize(t,this.m_contacts,this.m_contactCount,this.m_allocator);var l=this.m_contactSolver;l.initVelocityConstraints(t);for(var _=0,h=this.m_jointCount;_<h;){var c=_++;a=this.m_joints[c],a.initVelocityConstraints(t)}for(var u=0,d=t.velocityIterations;u<d;){for(var m=(u++,0),f=this.m_jointCount;m<f;){var p=m++;a=this.m_joints[p],a.solveVelocityConstraints(t)}l.solveVelocityConstraints()}for(var g=0,v=this.m_jointCount;g<v;){var y=g++;a=this.m_joints[y],a.finalizeVelocityConstraints()}l.finalizeVelocityConstraints();for(var x=0,b=this.m_bodyCount;x<b;){var w=x++;if(n=this.m_bodies[w],0!=n.getType()){var T=t.dt*n.m_linearVelocity.x,A=t.dt*n.m_linearVelocity.y;T*T+A*A>kt.b2_maxTranslationSquared&&(n.m_linearVelocity.normalize(),n.m_linearVelocity.x*=kt.b2_maxTranslation*t.inv_dt,n.m_linearVelocity.y*=kt.b2_maxTranslation*t.inv_dt);var E=t.dt*n.m_angularVelocity;E*E>kt.b2_maxRotationSquared&&(n.m_angularVelocity<0?n.m_angularVelocity=-kt.b2_maxRotation*t.inv_dt:n.m_angularVelocity=kt.b2_maxRotation*t.inv_dt),n.m_sweep.c0.setV(n.m_sweep.c),n.m_sweep.a0=n.m_sweep.a,n.m_sweep.c.x+=t.dt*n.m_linearVelocity.x,n.m_sweep.c.y+=t.dt*n.m_linearVelocity.y,n.m_sweep.a+=t.dt*n.m_angularVelocity,n.synchronizeTransform()}}for(var S=0,C=t.positionIterations;S<C;){for(var I=(S++,l.solvePositionConstraints(kt.b2_contactBaumgarte)),L=!0,M=0,B=this.m_jointCount;M<B;){var R=M++;a=this.m_joints[R];var D=a.solvePositionConstraints(kt.b2_contactBaumgarte);L=L&&D}if(I&&L)break}if(this.report(l.m_constraints),i){for(var P=Number.MAX_VALUE,N=kt.b2_linearSleepTolerance*kt.b2_linearSleepTolerance,F=kt.b2_angularSleepTolerance*kt.b2_angularSleepTolerance,k=0,O=this.m_bodyCount;k<O;){var U=k++;n=this.m_bodies[U],0!=n.getType()&&(0==(n.m_flags&Wt.e_allowSleepFlag)&&(n.m_sleepTime=0,P=0),0==(n.m_flags&Wt.e_allowSleepFlag)||n.m_angularVelocity*n.m_angularVelocity>F||Ut.dot(n.m_linearVelocity,n.m_linearVelocity)>N?(n.m_sleepTime=0,P=0):(n.m_sleepTime+=t.dt,P=Ut.min(P,n.m_sleepTime)))}if(P>=kt.b2_timeToSleep)for(var V=0,G=this.m_bodyCount;V<G;){var W=V++;n=this.m_bodies[W],n.setAwake(!1)}}},solveTOI:function(t){this.m_contactSolver.initialize(t,this.m_contacts,this.m_contactCount,this.m_allocator);for(var e=this.m_contactSolver,i=0,n=this.m_jointCount;i<n;){var a=i++;this.m_joints[a].initVelocityConstraints(t)}for(var s=0,r=t.velocityIterations;s<r;){s++;e.solveVelocityConstraints();for(var o=0,l=this.m_jointCount;o<l;){var _=o++;this.m_joints[_].solveVelocityConstraints(t)}}for(var h=0,c=this.m_bodyCount;h<c;){var u=h++,d=this.m_bodies[u];if(0!=d.getType()){var m=t.dt*d.m_linearVelocity.x,f=t.dt*d.m_linearVelocity.y;m*m+f*f>kt.b2_maxTranslationSquared&&(d.m_linearVelocity.normalize(),d.m_linearVelocity.x*=kt.b2_maxTranslation*t.inv_dt,d.m_linearVelocity.y*=kt.b2_maxTranslation*t.inv_dt);var p=t.dt*d.m_angularVelocity;p*p>kt.b2_maxRotationSquared&&(d.m_angularVelocity<0?d.m_angularVelocity=-kt.b2_maxRotation*t.inv_dt:d.m_angularVelocity=kt.b2_maxRotation*t.inv_dt),d.m_sweep.c0.setV(d.m_sweep.c),d.m_sweep.a0=d.m_sweep.a,d.m_sweep.c.x+=t.dt*d.m_linearVelocity.x,d.m_sweep.c.y+=t.dt*d.m_linearVelocity.y,d.m_sweep.a+=t.dt*d.m_angularVelocity,d.synchronizeTransform()}}for(var g=.75,v=0,y=t.positionIterations;v<y;){for(var x=(v++,e.solvePositionConstraints(g)),b=!0,w=0,T=this.m_jointCount;w<T;){var A=w++,E=this.m_joints[A].solvePositionConstraints(kt.b2_contactBaumgarte);b=b&&E}if(x&&b)break}this.report(e.m_constraints)},report:function(t){if(null!=this.m_listener)for(var e=0,i=this.m_contactCount;e<i;){for(var n=e++,a=this.m_contacts[n],s=t[n],r=0,o=s.pointCount;r<o;){var l=r++;Qt.s_impulse.normalImpulses[l]=s.points[l].normalImpulse,Qt.s_impulse.tangentImpulses[l]=s.points[l].tangentImpulse}this.m_listener.postSolve(a,Qt.s_impulse)}},addBody:function(t){t.m_islandIndex=this.m_bodyCount,this.m_bodies[this.m_bodyCount++]=t},addContact:function(t){this.m_contacts[this.m_contactCount++]=t},addJoint:function(t){this.m_joints[this.m_jointCount++]=t},__class__:Qt};var $t=function(){this.positionIterations=0,this.velocityIterations=0,this.dtRatio=0,this.inv_dt=0,this.dt=0};s["box2D.dynamics.B2TimeStep"]=$t,$t.__name__=["box2D","dynamics","B2TimeStep"],$t.prototype={set:function(t){this.dt=t.dt,this.inv_dt=t.inv_dt,this.positionIterations=t.positionIterations,this.velocityIterations=t.velocityIterations,this.warmStarting=t.warmStarting},__class__:$t};var te=function(t,e){this.s_stack=[],this.m_contactManager=new Yt,this.m_contactSolver=new _e,this.m_island=new Qt,this.m_destructionListener=null,this.m_debugDraw=null,this.m_bodyList=null,this.m_contactList=null,this.m_jointList=null,this.m_controllerList=null,this.m_bodyCount=0,this.m_contactCount=0,this.m_jointCount=0,this.m_controllerCount=0,te.m_warmStarting=!0,te.m_continuousPhysics=!0,this.m_allowSleep=e,this.m_gravity=t,this.m_inv_dt0=0,this.m_flags=0,this.m_contactManager.m_world=this;var i=new Xt;this.m_groundBody=this.createBody(i)};s["box2D.dynamics.B2World"]=te,te.__name__=["box2D","dynamics","B2World"],te.m_warmStarting=null,te.m_continuousPhysics=null,te.prototype={setDestructionListener:function(t){this.m_destructionListener=t},setContactFilter:function(t){this.m_contactManager.m_contactFilter=t},setContactListener:function(t){this.m_contactManager.m_contactListener=t},setDebugDraw:function(t){this.m_debugDraw=t},setBroadPhase:function(t){var e=this.m_contactManager.m_broadPhase;this.m_contactManager.m_broadPhase=t;for(var i=this.m_bodyList;null!=i;){for(var n=i.m_fixtureList;null!=n;)n.m_proxy=t.createProxy(e.getFatAABB(n.m_proxy),n),n=n.m_next;i=i.m_next}},validate:function(){this.m_contactManager.m_broadPhase.validate()},getProxyCount:function(){return this.m_contactManager.m_broadPhase.getProxyCount()},createBody:function(t){if(1==this.isLocked())return null;var e=new Wt(t,this);return e.m_prev=null,e.m_next=this.m_bodyList,null!=this.m_bodyList&&(this.m_bodyList.m_prev=e),this.m_bodyList=e,++this.m_bodyCount,e},destroyBody:function(t){if(1!=this.isLocked()){for(var e=t.m_jointList;null!=e;){var i=e;e=e.next,null!=this.m_destructionListener&&this.m_destructionListener.sayGoodbyeJoint(i.joint),this.destroyJoint(i.joint)}for(var n=t.m_controllerList;null!=n;){var a=n;n=n.nextController,a.controller.removeBody(t)}for(var s=t.m_contactList;null!=s;){var r=s;s=s.next,this.m_contactManager.destroy(r.contact)}t.m_contactList=null;for(var o=t.m_fixtureList;null!=o;){var l=o;o=o.m_next,null!=this.m_destructionListener&&this.m_destructionListener.sayGoodbyeFixture(l),l.destroyProxy(this.m_contactManager.m_broadPhase),l.destroy()}t.m_fixtureList=null,t.m_fixtureCount=0,null!=t.m_prev&&(t.m_prev.m_next=t.m_next),null!=t.m_next&&(t.m_next.m_prev=t.m_prev),t==this.m_bodyList&&(this.m_bodyList=t.m_next),--this.m_bodyCount}},createJoint:function(t){var e=pe.create(t,null);e.m_prev=null,e.m_next=this.m_jointList,null!=this.m_jointList&&(this.m_jointList.m_prev=e),this.m_jointList=e,++this.m_jointCount,e.m_edgeA.joint=e,e.m_edgeA.other=e.m_bodyB,e.m_edgeA.prev=null,e.m_edgeA.next=e.m_bodyA.m_jointList,null!=e.m_bodyA.m_jointList&&(e.m_bodyA.m_jointList.prev=e.m_edgeA),e.m_bodyA.m_jointList=e.m_edgeA,e.m_edgeB.joint=e,e.m_edgeB.other=e.m_bodyA,e.m_edgeB.prev=null,e.m_edgeB.next=e.m_bodyB.m_jointList,null!=e.m_bodyB.m_jointList&&(e.m_bodyB.m_jointList.prev=e.m_edgeB),e.m_bodyB.m_jointList=e.m_edgeB;var i=t.bodyA,n=t.bodyB;if(0==t.collideConnected)for(var a=n.getContactList();null!=a;)a.other==i&&a.contact.flagForFiltering(),a=a.next;return e},destroyJoint:function(t){var e=t.m_collideConnected;null!=t.m_prev&&(t.m_prev.m_next=t.m_next),null!=t.m_next&&(t.m_next.m_prev=t.m_prev),t==this.m_jointList&&(this.m_jointList=t.m_next);var i=t.m_bodyA,n=t.m_bodyB;if(i.setAwake(!0),n.setAwake(!0),null!=t.m_edgeA.prev&&(t.m_edgeA.prev.next=t.m_edgeA.next),null!=t.m_edgeA.next&&(t.m_edgeA.next.prev=t.m_edgeA.prev),t.m_edgeA==i.m_jointList&&(i.m_jointList=t.m_edgeA.next),t.m_edgeA.prev=null,t.m_edgeA.next=null,null!=t.m_edgeB.prev&&(t.m_edgeB.prev.next=t.m_edgeB.next),null!=t.m_edgeB.next&&(t.m_edgeB.next.prev=t.m_edgeB.prev),t.m_edgeB==n.m_jointList&&(n.m_jointList=t.m_edgeB.next),t.m_edgeB.prev=null,t.m_edgeB.next=null,pe.destroy(t,null),--this.m_jointCount,0==e)for(var a=n.getContactList();null!=a;)a.other==i&&a.contact.flagForFiltering(),a=a.next},addController:function(t){return t.m_next=this.m_controllerList,t.m_prev=null,this.m_controllerList=t,t.m_world=this,this.m_controllerCount++,t},removeController:function(t){null!=t.m_prev&&(t.m_prev.m_next=t.m_next),null!=t.m_next&&(t.m_next.m_prev=t.m_prev),this.m_controllerList==t&&(this.m_controllerList=t.m_next),this.m_controllerCount--},createController:function(t){if(t.m_world!=this)throw new ri("Controller can only be a member of one world");return t.m_next=this.m_controllerList,t.m_prev=null,null!=this.m_controllerList&&(this.m_controllerList.m_prev=t),this.m_controllerList=t,++this.m_controllerCount,t.m_world=this,t},destroyController:function(t){t.clear(),null!=t.m_next&&(t.m_next.m_prev=t.m_prev),null!=t.m_prev&&(t.m_prev.m_next=t.m_next),t==this.m_controllerList&&(this.m_controllerList=t.m_next),--this.m_controllerCount},setWarmStarting:function(t){te.m_warmStarting=t},setContinuousPhysics:function(t){te.m_continuousPhysics=t},getBodyCount:function(){return this.m_bodyCount},getJointCount:function(){return this.m_jointCount},getContactCount:function(){return this.m_contactCount},setGravity:function(t){this.m_gravity=t},getGravity:function(){return this.m_gravity},getGroundBody:function(){return this.m_groundBody},step:function(t,e,i){0!=(this.m_flags&te.e_newFixture)&&(this.m_contactManager.findNewContacts(),this.m_flags&=~te.e_newFixture),this.m_flags|=te.e_locked;var n=te.s_timestep2;n.dt=t,n.velocityIterations=e,n.positionIterations=i,t>0?n.inv_dt=1/t:n.inv_dt=0,n.dtRatio=this.m_inv_dt0*t,n.warmStarting=te.m_warmStarting,this.m_contactManager.collide(),n.dt>0&&this.solve(n),te.m_continuousPhysics&&n.dt>0&&this.solveTOI(n),n.dt>0&&(this.m_inv_dt0=n.inv_dt),this.m_flags&=~te.e_locked},clearForces:function(){for(var t=this.m_bodyList;null!=t;)t.m_force.setZero(),t.m_torque=0,t=t.m_next},drawDebugData:function(){if(null!=this.m_debugDraw){this.m_debugDraw.m_sprite.get_graphics().clear();var t,e,i,n,a,s,r=this.m_debugDraw.getFlags(),o=(new tt,new tt,new tt,new $,new $,[new tt,new tt,new tt,new tt]),l=new Ft(0,0,0);if(0!=(r&Kt.e_shapeBit))for(t=this.m_bodyList;null!=t;){for(s=t.m_xf,e=t.getFixtureList();null!=e;)i=e.getShape(),0==t.isActive()?(l.set(.5,.5,.3),this.drawShape(i,s,l)):0==t.getType()?(l.set(.5,.9,.5),this.drawShape(i,s,l)):1==t.getType()?(l.set(.5,.5,.9),this.drawShape(i,s,l)):0==t.isAwake()?(l.set(.6,.6,.6),this.drawShape(i,s,l)):(l.set(.9,.7,.7),this.drawShape(i,s,l)),e=e.m_next;t=t.m_next}if(0!=(r&Kt.e_jointBit))for(n=this.m_jointList;null!=n;)this.drawJoint(n),n=n.m_next;if(0!=(r&Kt.e_controllerBit))for(var _=this.m_controllerList;null!=_;)_.draw(this.m_debugDraw),_=_.m_next;if(0!=(r&Kt.e_pairBit)){l.set(.3,.9,.9);for(var h=this.m_contactManager.m_contactList;null!=h;){var c=h.getFixtureA(),u=h.getFixtureB(),d=c.getAABB().getCenter(),m=u.getAABB().getCenter();this.m_debugDraw.drawSegment(d,m,l),h=h.getNext()}}if(0!=(r&Kt.e_aabbBit))for(a=this.m_contactManager.m_broadPhase,o=[new tt,new tt,new tt,new tt],t=this.m_bodyList;null!=t;)if(0!=t.isActive()){for(e=t.getFixtureList();null!=e;){var f=a.getFatAABB(e.m_proxy);o[0].set(f.lowerBound.x,f.lowerBound.y),o[1].set(f.upperBound.x,f.lowerBound.y),o[2].set(f.upperBound.x,f.upperBound.y),o[3].set(f.lowerBound.x,f.upperBound.y),this.m_debugDraw.drawPolygon(o,4,l),e=e.getNext()}t=t.getNext()}else t=t.getNext();if(0!=(r&Kt.e_centerOfMassBit))for(t=this.m_bodyList;null!=t;)s=te.s_xf,s.R=t.m_xf.R,s.position=t.getWorldCenter(),this.m_debugDraw.drawTransform(s),t=t.m_next}},queryAABB:function(t,e){var i=this.m_contactManager.m_broadPhase,n=function(e){return t(i.getUserData(e))};i.query(n,e)},queryShape:function(t,e,i){null==i&&(i=new Ct,i.setIdentity());var n=this.m_contactManager.m_broadPhase,a=function(a){var s;return s=oi.__cast(n.getUserData(a),Jt),!Bt.testOverlap(e,i,s.getShape(),s.getBody().getTransform())||t(s)},s=new $;e.computeAABB(s,i),n.query(a,s)},queryPoint:function(t,e){var i=this.m_contactManager.m_broadPhase,n=function(n){var a;return a=oi.__cast(i.getUserData(n),Jt),!a.testPoint(e)||t(a)},a=new $;a.lowerBound.set(e.x-kt.b2_linearSlop,e.y-kt.b2_linearSlop),a.upperBound.set(e.x+kt.b2_linearSlop,e.y+kt.b2_linearSlop),i.query(n,a)},rayCast:function(t,e,i){var n=this.m_contactManager.m_broadPhase,a=new wt,s=function(s,r){var o,l=n.getUserData(r);o=oi.__cast(l,Jt);var _=o.rayCast(a,s);if(_){var h=a.fraction,c=new tt((1-h)*e.x+h*i.x,(1-h)*e.y+h*i.y);return t(o,c,a.normal,h)}return s.maxFraction},r=new bt(e,i);n.rayCast(s,r)},rayCastOne:function(t,e){var i,n=function(t,e,n,a){return i=t,a};return this.rayCast(n,t,e),i},rayCastAll:function(t,e){var i=[],n=function(t,e,n,a){return i[i.length]=t,1};return this.rayCast(n,t,e),i},getBodyList:function(){return this.m_bodyList},getJointList:function(){return this.m_jointList},getContactList:function(){return this.m_contactList},isLocked:function(){return(this.m_flags&te.e_locked)>0},solve:function(t){for(var e,i=this.m_controllerList;null!=i;)i.step(t),i=i.m_next;var n=this.m_island;for(n.initialize(this.m_bodyCount,this.m_contactCount,this.m_jointCount,null,this.m_contactManager.m_contactListener,this.m_contactSolver),e=this.m_bodyList;null!=e;)e.m_flags&=~Wt.e_islandFlag,e=e.m_next;for(var a=this.m_contactList;null!=a;)a.m_flags&=~ee.e_islandFlag,a=a.m_next;for(var s=this.m_jointList;null!=s;)s.m_islandFlag=!1,s=s.m_next;for(var r=(this.m_bodyCount,this.s_stack),o=this.m_bodyList;null!=o;)if(0==(o.m_flags&Wt.e_islandFlag))if(0!=o.isAwake()&&0!=o.isActive())if(0!=o.getType()){n.clear();var l=0;for(r[l++]=o,o.m_flags|=Wt.e_islandFlag;l>0;)if(e=r[--l],n.addBody(e),0==e.isAwake()&&e.setAwake(!0),0!=e.getType()){for(var _,h=e.m_contactList;null!=h;)0==(h.contact.m_flags&ee.e_islandFlag)&&1!=h.contact.isSensor()&&0!=h.contact.isEnabled()&&0!=h.contact.isTouching()?(n.addContact(h.contact),h.contact.m_flags|=ee.e_islandFlag,_=h.other,0==(_.m_flags&Wt.e_islandFlag)?(r[l++]=_,_.m_flags|=Wt.e_islandFlag,h=h.next):h=h.next):h=h.next;for(var c=e.m_jointList;null!=c;)1!=c.joint.m_islandFlag?(_=c.other,0!=_.isActive()?(n.addJoint(c.joint),c.joint.m_islandFlag=!0,0==(_.m_flags&Wt.e_islandFlag)?(r[l++]=_,_.m_flags|=Wt.e_islandFlag,c=c.next):c=c.next):c=c.next):c=c.next}n.solve(t,this.m_gravity,this.m_allowSleep);for(var u=0,d=n.m_bodyCount;u<d;){var m=u++;e=n.m_bodies[m],0==e.getType()&&(e.m_flags&=~Wt.e_islandFlag)}o=o.m_next}else o=o.m_next;else o=o.m_next;else o=o.m_next;for(var f=0,p=r.length;f<p;){var g=f++;if(null==r[g])break;r[g]=null}for(e=this.m_bodyList;null!=e;)0!=e.isAwake()&&0!=e.isActive()&&0!=e.getType()?(e.synchronizeFixtures(),e=e.m_next):e=e.m_next;this.m_contactManager.findNewContacts()},solveTOI:function(t){var e,i,n,a,s,r,o,l=this.m_island;l.initialize(this.m_bodyCount,kt.b2_maxTOIContactsPerIsland,kt.b2_maxTOIJointsPerIsland,null,this.m_contactManager.m_contactListener,this.m_contactSolver);var _=te.s_queue;for(e=this.m_bodyList;null!=e;)e.m_flags&=~Wt.e_islandFlag,e.m_sweep.t0=0,e=e.m_next;for(var h=this.m_contactList;null!=h;)h.m_flags&=~(ee.e_toiFlag|ee.e_islandFlag),h=h.m_next;for(o=this.m_jointList;null!=o;)o.m_islandFlag=!1,o=o.m_next;for(;;){var c=null,u=1;for(h=this.m_contactList;null!=h;)if(1!=h.isSensor()&&0!=h.isEnabled()&&0!=h.isContinuous()){var d=1;if(0!=(h.m_flags&ee.e_toiFlag))d=h.m_toi;else{if(i=h.m_fixtureA,n=h.m_fixtureB,a=i.m_body,s=n.m_body,!(2==a.getType()&&0!=a.isAwake()||2==s.getType()&&0!=s.isAwake())){h=h.m_next;continue}var m=a.m_sweep.t0;a.m_sweep.t0<s.m_sweep.t0?(m=s.m_sweep.t0,a.m_sweep.advance(m)):s.m_sweep.t0<a.m_sweep.t0&&(m=a.m_sweep.t0,s.m_sweep.advance(m)),d=h.computeTOI(a.m_sweep,s.m_sweep),kt.b2Assert(0<=d&&d<=1),d>0&&d<1&&(d=(1-d)*m+d,d>1&&(d=1)),h.m_toi=d,h.m_flags|=ee.e_toiFlag}Number.MIN_VALUE<d&&d<u&&(c=h,u=d),h=h.m_next}else h=h.m_next;if(null==c||1-100*Number.MIN_VALUE<u)break;if(i=c.m_fixtureA,n=c.m_fixtureB,a=i.m_body,s=n.m_body,te.s_backupA.set(a.m_sweep),te.s_backupB.set(s.m_sweep),a.advance(u),s.advance(u),c.update(this.m_contactManager.m_contactListener),c.m_flags&=~ee.e_toiFlag,1!=c.isSensor()&&0!=c.isEnabled()){if(0!=c.isTouching()){var f=a;2!=f.getType()&&(f=s),l.clear();var p=0,g=0;for(_[p+g++]=f,f.m_flags|=Wt.e_islandFlag;g>0;)if(e=_[p++],--g,l.addBody(e),0==e.isAwake()&&e.setAwake(!0),2==e.getType()){r=e.m_contactList;for(var v;null!=r;){if(l.m_contactCount==l.m_contactCapacity){r=r.next;break}0==(r.contact.m_flags&ee.e_islandFlag)&&1!=r.contact.isSensor()&&0!=r.contact.isEnabled()&&0!=r.contact.isTouching()?(l.addContact(r.contact),r.contact.m_flags|=ee.e_islandFlag,v=r.other,0==(v.m_flags&Wt.e_islandFlag)?(0!=v.getType()&&(v.advance(u),v.setAwake(!0)),_[p+g]=v,++g,v.m_flags|=Wt.e_islandFlag,r=r.next):r=r.next):r=r.next}for(var y=e.m_jointList;null!=y;)l.m_jointCount!=l.m_jointCapacity&&1!=y.joint.m_islandFlag?(v=y.other,0!=v.isActive()?(l.addJoint(y.joint),y.joint.m_islandFlag=!0,0==(v.m_flags&Wt.e_islandFlag)?(0!=v.getType()&&(v.advance(u),v.setAwake(!0)),_[p+g]=v,++g,v.m_flags|=Wt.e_islandFlag,y=y.next):y=y.next):y=y.next):y=y.next}var x=te.s_timestep;x.warmStarting=!1,x.dt=(1-u)*t.dt,x.inv_dt=1/x.dt,x.dtRatio=0,x.velocityIterations=t.velocityIterations,x.positionIterations=t.positionIterations,l.solveTOI(x);for(var b=0,w=l.m_bodyCount;b<w;){var T=b++;if(e=l.m_bodies[T],e.m_flags&=~Wt.e_islandFlag,0!=e.isAwake()&&2==e.getType())for(e.synchronizeFixtures(),r=e.m_contactList;null!=r;)r.contact.m_flags&=~ee.e_toiFlag,r=r.next}for(var A=0,E=l.m_contactCount;A<E;){var S=A++;h=l.m_contacts[S],h.m_flags&=~(ee.e_toiFlag|ee.e_islandFlag)}for(var C=0,I=l.m_jointCount;C<I;){var L=C++;o=l.m_joints[L],o.m_islandFlag=!1}this.m_contactManager.findNewContacts()}}else a.m_sweep.set(te.s_backupA),s.m_sweep.set(te.s_backupB),a.synchronizeTransform(),s.synchronizeTransform()}},drawJoint:function(t){var e=t.getBodyA(),i=t.getBodyB(),n=e.m_xf,a=i.m_xf,s=n.position,r=a.position,o=t.getAnchorA(),l=t.getAnchorB(),_=te.s_jointColor,h=t.m_type;switch(h){case 3:this.m_debugDraw.drawSegment(o,l,_);break;case 4:var c;c=oi.__cast(t,Re);var u=c.getGroundAnchorA(),d=c.getGroundAnchorB();this.m_debugDraw.drawSegment(u,o,_),this.m_debugDraw.drawSegment(d,l,_),this.m_debugDraw.drawSegment(u,d,_);break;case 5:this.m_debugDraw.drawSegment(o,l,_);break;default:e!=this.m_groundBody&&this.m_debugDraw.drawSegment(s,o,_),this.m_debugDraw.drawSegment(o,l,_),i!=this.m_groundBody&&this.m_debugDraw.drawSegment(r,l,_)}},drawShape:function(t,e,i){var n=t.m_type;switch(n){case 1:var a;a=oi.__cast(t,Rt);var s=Ut.mulX(e,a.m_p),r=a.m_radius,o=e.R.col1;this.m_debugDraw.drawSolidCircle(s,r,o,i);break;case 2:var l;l=oi.__cast(t,Nt);for(var _=l.getVertexCount(),h=l.getVertices(),c=[],u=0;u<_;){var d=u++;c[d]=Ut.mulX(e,h[d])}this.m_debugDraw.drawSolidPolygon(c,_,i);break;case 3:var m;m=oi.__cast(t,Dt),this.m_debugDraw.drawSegment(Ut.mulX(e,m.getVertex1()),Ut.mulX(e,m.getVertex2()),i)}},__class__:te};var ee=function(){this.m_toi=0,this.m_flags=0,this.m_nodeA=new se,this.m_nodeB=new se,this.m_manifold=new gt,this.m_oldManifold=new gt};s["box2D.dynamics.contacts.B2Contact"]=ee,ee.__name__=["box2D","dynamics","contacts","B2Contact"],ee.prototype={getManifold:function(){return this.m_manifold},getWorldManifold:function(t){var e=this.m_fixtureA.getBody(),i=this.m_fixtureB.getBody(),n=this.m_fixtureA.getShape(),a=this.m_fixtureB.getShape();t.initialize(this.m_manifold,e.getTransform(),n.m_radius,i.getTransform(),a.m_radius)},isTouching:function(){return(this.m_flags&ee.e_touchingFlag)==ee.e_touchingFlag},isContinuous:function(){return(this.m_flags&ee.e_continuousFlag)==ee.e_continuousFlag},setSensor:function(t){t?this.m_flags|=ee.e_sensorFlag:this.m_flags&=~ee.e_sensorFlag},isSensor:function(){return(this.m_flags&ee.e_sensorFlag)==ee.e_sensorFlag},setEnabled:function(t){t?this.m_flags|=ee.e_enabledFlag:this.m_flags&=~ee.e_enabledFlag},isEnabled:function(){return(this.m_flags&ee.e_enabledFlag)==ee.e_enabledFlag},getNext:function(){return this.m_next},getFixtureA:function(){return this.m_fixtureA},getFixtureB:function(){return this.m_fixtureB},flagForFiltering:function(){this.m_flags|=ee.e_filterFlag},reset:function(t,e){if(this.m_flags=ee.e_enabledFlag,null==t||null==e)return this.m_fixtureA=null,void(this.m_fixtureB=null);(t.isSensor()||e.isSensor())&&(this.m_flags|=ee.e_sensorFlag);var i=t.getBody(),n=e.getBody();(2!=i.getType()||i.isBullet()||2!=n.getType()||n.isBullet())&&(this.m_flags|=ee.e_continuousFlag),this.m_fixtureA=t,this.m_fixtureB=e,this.m_manifold.m_pointCount=0,this.m_prev=null,this.m_next=null,this.m_nodeA.contact=null,this.m_nodeA.prev=null,this.m_nodeA.next=null,this.m_nodeA.other=null,this.m_nodeB.contact=null,this.m_nodeB.prev=null,this.m_nodeB.next=null,this.m_nodeB.other=null},update:function(t){var e=this.m_oldManifold;this.m_oldManifold=this.m_manifold,this.m_manifold=e,this.m_flags|=ee.e_enabledFlag;var i=!1,n=(this.m_flags&ee.e_touchingFlag)==ee.e_touchingFlag,a=this.m_fixtureA.m_body,s=this.m_fixtureB.m_body,r=this.m_fixtureA.m_aabb.testOverlap(this.m_fixtureB.m_aabb);if(0!=(this.m_flags&ee.e_sensorFlag)){if(r){var o=this.m_fixtureA.getShape(),l=this.m_fixtureB.getShape(),_=a.getTransform(),h=s.getTransform();i=Bt.testOverlap(o,_,l,h)}this.m_manifold.m_pointCount=0}else{if(a.getType()!=Wt.b2_dynamicBody||a.isBullet()||s.getType()!=Wt.b2_dynamicBody||s.isBullet()?this.m_flags|=ee.e_continuousFlag:this.m_flags&=~ee.e_continuousFlag,r){this.evaluate(),i=this.m_manifold.m_pointCount>0;for(var c=0,u=this.m_manifold.m_pointCount;c<u;){var d=c++,m=this.m_manifold.m_points[d];m.m_normalImpulse=0,m.m_tangentImpulse=0;for(var f=m.m_id,p=0,g=this.m_oldManifold.m_pointCount;p<g;){var v=p++,y=this.m_oldManifold.m_points[v];if(y.m_id.get_key()==f.get_key()){m.m_normalImpulse=y.m_normalImpulse,m.m_tangentImpulse=y.m_tangentImpulse;break}}}}else this.m_manifold.m_pointCount=0;i!=n&&(a.setAwake(!0),s.setAwake(!0))}i?this.m_flags|=ee.e_touchingFlag:this.m_flags&=~ee.e_touchingFlag,0==n&&1==i&&t.beginContact(this),1==n&&0==i&&t.endContact(this),0==(this.m_flags&ee.e_sensorFlag)&&t.preSolve(this,this.m_oldManifold)},evaluate:function(){},computeTOI:function(t,e){return ee.s_input.proxyA.set(this.m_fixtureA.getShape()),ee.s_input.proxyB.set(this.m_fixtureB.getShape()),ee.s_input.sweepA=t,ee.s_input.sweepB=e,ee.s_input.tolerance=kt.b2_linearSlop,Lt.timeOfImpact(ee.s_input)},__class__:ee};var ie=function(){ee.call(this)};s["box2D.dynamics.contacts.B2CircleContact"]=ie,ie.__name__=["box2D","dynamics","contacts","B2CircleContact"],ie.create=function(t){return new ie},ie.destroy=function(t,e){},ie.__super__=ee,ie.prototype=n(ee.prototype,{reset:function(t,e){ee.prototype.reset.call(this,t,e)},evaluate:function(){var t=this.m_fixtureA.getBody(),e=this.m_fixtureB.getBody();at.collideCircles(this.m_manifold,oi.__cast(this.m_fixtureA.getShape(),Rt),t.m_xf,oi.__cast(this.m_fixtureB.getShape(),Rt),e.m_xf)},__class__:ie});var ne=function(){this.pointCount=0,this.restitution=0,this.friction=0,this.radius=0,this.localPlaneNormal=new tt,this.localPoint=new tt,this.normal=new tt,this.normalMass=new It,this.K=new It,this.points=[];for(var t=0,e=kt.b2_maxManifoldPoints;t<e;){var i=t++;this.points[i]=new ae}};s["box2D.dynamics.contacts.B2ContactConstraint"]=ne,ne.__name__=["box2D","dynamics","contacts","B2ContactConstraint"],ne.prototype={__class__:ne};var ae=function(){this.localPoint=new tt,this.rA=new tt,this.rB=new tt};s["box2D.dynamics.contacts.B2ContactConstraintPoint"]=ae,ae.__name__=["box2D","dynamics","contacts","B2ContactConstraintPoint"],ae.prototype={__class__:ae};var se=function(){};s["box2D.dynamics.contacts.B2ContactEdge"]=se,se.__name__=["box2D","dynamics","contacts","B2ContactEdge"],se.prototype={__class__:se};var re=function(t){this.m_allocator=t,this.initializeRegisters()};s["box2D.dynamics.contacts.B2ContactFactory"]=re,re.__name__=["box2D","dynamics","contacts","B2ContactFactory"],re.prototype={addType:function(t,e,i,n){this.m_registers[i][n].createFcn=t,this.m_registers[i][n].destroyFcn=e,this.m_registers[i][n].primary=!0,i!=n&&(this.m_registers[n][i].createFcn=t,this.m_registers[n][i].destroyFcn=e,this.m_registers[n][i].primary=!1)},initializeRegisters:function(){this.m_registers=[];for(var t=0;t<4;){var e=t++;this.m_registers[e]=[];for(var i=0;i<4;){var n=i++;this.m_registers[e][n]=new oe}}this.addType(ie.create,ie.destroy,1,1),this.addType(ce.create,ce.destroy,2,1),this.addType(de.create,de.destroy,2,2),this.addType(he.create,he.destroy,3,1),this.addType(ue.create,ue.destroy,2,3)},create:function(t,e){var i,n=t.getType(),a=e.getType(),s=this.m_registers[n][a];if(null!=s.pool)return i=s.pool,s.pool=i.m_next,s.poolCount--,i.reset(t,e),i;var r=s.createFcn;return null!=r?s.primary?(i=r(this.m_allocator),i.reset(t,e),i):(i=r(this.m_allocator),i.reset(e,t),i):null},destroy:function(t){t.m_manifold.m_pointCount>0&&(t.m_fixtureA.m_body.setAwake(!0),t.m_fixtureB.m_body.setAwake(!0));var e=t.m_fixtureA.getType(),i=t.m_fixtureB.getType(),n=this.m_registers[e][i];n.poolCount++,t.m_next=n.pool,n.pool=t;var a=n.destroyFcn;a(t,this.m_allocator)},__class__:re};var oe=function(){this.poolCount=0};s["box2D.dynamics.contacts.B2ContactRegister"]=oe,oe.__name__=["box2D","dynamics","contacts","B2ContactRegister"],oe.prototype={__class__:oe};var le=function(){this.m_normal=new tt,this.m_separations=[],this.m_points=[];for(var t=0,e=kt.b2_maxManifoldPoints;t<e;){var i=t++;this.m_points[i]=new tt}};s["box2D.dynamics.contacts.B2PositionSolverManifold"]=le,le.__name__=["box2D","dynamics","contacts","B2PositionSolverManifold"],le.prototype={initialize:function(t){kt.b2Assert(t.pointCount>0);var e,i,n,a,s,r,o=t.type;switch(o[1]){case 0:n=t.bodyA.m_xf.R,a=t.localPoint;var l=t.bodyA.m_xf.position.x+(n.col1.x*a.x+n.col2.x*a.y),_=t.bodyA.m_xf.position.y+(n.col1.y*a.x+n.col2.y*a.y);n=t.bodyB.m_xf.R,a=t.points[0].localPoint;var h=t.bodyB.m_xf.position.x+(n.col1.x*a.x+n.col2.x*a.y),c=t.bodyB.m_xf.position.y+(n.col1.y*a.x+n.col2.y*a.y),u=h-l,d=c-_,m=u*u+d*d;if(m>Number.MIN_VALUE*Number.MIN_VALUE){var f=Math.sqrt(m);this.m_normal.x=u/f,this.m_normal.y=d/f}else this.m_normal.x=1,this.m_normal.y=0;this.m_points[0].x=.5*(l+h),this.m_points[0].y=.5*(_+c),this.m_separations[0]=u*this.m_normal.x+d*this.m_normal.y-t.radius;break;case 1:n=t.bodyA.m_xf.R,a=t.localPlaneNormal,this.m_normal.x=n.col1.x*a.x+n.col2.x*a.y,this.m_normal.y=n.col1.y*a.x+n.col2.y*a.y,n=t.bodyA.m_xf.R,a=t.localPoint,s=t.bodyA.m_xf.position.x+(n.col1.x*a.x+n.col2.x*a.y),r=t.bodyA.m_xf.position.y+(n.col1.y*a.x+n.col2.y*a.y),n=t.bodyB.m_xf.R;for(var p=0,g=t.pointCount;p<g;){var v=p++;a=t.points[v].localPoint,e=t.bodyB.m_xf.position.x+(n.col1.x*a.x+n.col2.x*a.y),i=t.bodyB.m_xf.position.y+(n.col1.y*a.x+n.col2.y*a.y),this.m_separations[v]=(e-s)*this.m_normal.x+(i-r)*this.m_normal.y-t.radius,this.m_points[v].x=e,this.m_points[v].y=i}break;case 2:n=t.bodyB.m_xf.R,a=t.localPlaneNormal,this.m_normal.x=n.col1.x*a.x+n.col2.x*a.y,this.m_normal.y=n.col1.y*a.x+n.col2.y*a.y,n=t.bodyB.m_xf.R,a=t.localPoint,s=t.bodyB.m_xf.position.x+(n.col1.x*a.x+n.col2.x*a.y),r=t.bodyB.m_xf.position.y+(n.col1.y*a.x+n.col2.y*a.y),n=t.bodyA.m_xf.R;for(var y=0,x=t.pointCount;y<x;){var b=y++;a=t.points[b].localPoint,e=t.bodyA.m_xf.position.x+(n.col1.x*a.x+n.col2.x*a.y),i=t.bodyA.m_xf.position.y+(n.col1.y*a.x+n.col2.y*a.y),this.m_separations[b]=(e-s)*this.m_normal.x+(i-r)*this.m_normal.y-t.radius,this.m_points[b].set(e,i)}this.m_normal.x*=-1,this.m_normal.y*=-1}},__class__:le};var _e=function(){this.m_constraintCount=0,this.m_step=new $t,this.m_constraints=[]};s["box2D.dynamics.contacts.B2ContactSolver"]=_e,_e.__name__=["box2D","dynamics","contacts","B2ContactSolver"],_e.prototype={initialize:function(t,e,i,n){var a;this.m_step.set(t),this.m_allocator=n;for(this.m_constraintCount=i;this.m_constraints.length<this.m_constraintCount;)this.m_constraints[this.m_constraints.length]=new ne;for(var s=0;s<i;){var r=s++;a=e[r];var o=a.m_fixtureA,l=a.m_fixtureB,_=o.m_shape,h=l.m_shape,c=_.m_radius,u=h.m_radius,d=o.m_body,m=l.m_body,f=a.getManifold(),p=kt.b2MixFriction(o.getFriction(),l.getFriction()),g=kt.b2MixRestitution(o.getRestitution(),l.getRestitution()),v=d.m_linearVelocity.x,y=d.m_linearVelocity.y,x=m.m_linearVelocity.x,b=m.m_linearVelocity.y,w=d.m_angularVelocity,T=m.m_angularVelocity;
kt.b2Assert(f.m_pointCount>0),_e.s_worldManifold.initialize(f,d.m_xf,c,m.m_xf,u);var A=_e.s_worldManifold.m_normal.x,E=_e.s_worldManifold.m_normal.y,S=this.m_constraints[r];S.bodyA=d,S.bodyB=m,S.manifold=f,S.normal.x=A,S.normal.y=E,S.pointCount=f.m_pointCount,S.friction=p,S.restitution=g,S.localPlaneNormal.x=f.m_localPlaneNormal.x,S.localPlaneNormal.y=f.m_localPlaneNormal.y,S.localPoint.x=f.m_localPoint.x,S.localPoint.y=f.m_localPoint.y,S.radius=c+u,S.type=f.m_type;for(var C=0,I=S.pointCount;C<I;){var L=C++,M=f.m_points[L],B=S.points[L];B.normalImpulse=M.m_normalImpulse,B.tangentImpulse=M.m_tangentImpulse,B.localPoint.setV(M.m_localPoint);var R=B.rA.x=_e.s_worldManifold.m_points[L].x-d.m_sweep.c.x,D=B.rA.y=_e.s_worldManifold.m_points[L].y-d.m_sweep.c.y,P=B.rB.x=_e.s_worldManifold.m_points[L].x-m.m_sweep.c.x,N=B.rB.y=_e.s_worldManifold.m_points[L].y-m.m_sweep.c.y,F=R*E-D*A,k=P*E-N*A;F*=F,k*=k;var O=d.m_invMass+m.m_invMass+d.m_invI*F+m.m_invI*k;B.normalMass=1/O;var U=d.m_mass*d.m_invMass+m.m_mass*m.m_invMass;U+=d.m_mass*d.m_invI*F+m.m_mass*m.m_invI*k,B.equalizedMass=1/U;var V=E,G=-A,W=R*G-D*V,X=P*G-N*V;W*=W,X*=X;var z=d.m_invMass+m.m_invMass+d.m_invI*W+m.m_invI*X;B.tangentMass=1/z,B.velocityBias=0;var H=x+-T*N-v- -w*D,Y=b+T*P-y-w*R,K=S.normal.x*H+S.normal.y*Y;K<-kt.b2_velocityThreshold&&(B.velocityBias+=-S.restitution*K)}if(2==S.pointCount){var j=S.points[0],q=S.points[1],J=d.m_invMass,Z=d.m_invI,Q=m.m_invMass,$=m.m_invI,tt=j.rA.x*E-j.rA.y*A,et=j.rB.x*E-j.rB.y*A,it=q.rA.x*E-q.rA.y*A,nt=q.rB.x*E-q.rB.y*A,at=J+Q+Z*tt*tt+$*et*et,st=J+Q+Z*it*it+$*nt*nt,rt=J+Q+Z*tt*it+$*et*nt,ot=100;at*at<ot*(at*st-rt*rt)?(S.K.col1.set(at,rt),S.K.col2.set(rt,st),S.K.getInverse(S.normalMass)):S.pointCount=1}}},initVelocityConstraints:function(t){for(var e=0,i=this.m_constraintCount;e<i;){var n,a=e++,s=this.m_constraints[a],r=s.bodyA,o=s.bodyB,l=r.m_invMass,_=r.m_invI,h=o.m_invMass,c=o.m_invI,u=s.normal.x,d=s.normal.y,m=d,f=-u;if(t.warmStarting){n=s.pointCount;for(var p=0;p<n;){var g=p++,v=s.points[g];v.normalImpulse*=t.dtRatio,v.tangentImpulse*=t.dtRatio;var y=v.normalImpulse*u+v.tangentImpulse*m,x=v.normalImpulse*d+v.tangentImpulse*f;r.m_angularVelocity-=_*(v.rA.x*x-v.rA.y*y),r.m_linearVelocity.x-=l*y,r.m_linearVelocity.y-=l*x,o.m_angularVelocity+=c*(v.rB.x*x-v.rB.y*y),o.m_linearVelocity.x+=h*y,o.m_linearVelocity.y+=h*x}}else{n=s.pointCount;for(var b=0;b<n;){var w=b++,T=s.points[w];T.normalImpulse=0,T.tangentImpulse=0}}}},solveVelocityConstraints:function(){for(var t,e,i,n,a,s,r,o,l,_,h,c,u,d,m,f,p,g=0,v=this.m_constraintCount;g<v;){for(var y=g++,x=this.m_constraints[y],b=x.bodyA,w=x.bodyB,T=b.m_angularVelocity,A=w.m_angularVelocity,E=b.m_linearVelocity,S=w.m_linearVelocity,C=b.m_invMass,I=b.m_invI,L=w.m_invMass,M=w.m_invI,B=x.normal.x,R=x.normal.y,D=R,P=-B,N=x.friction,F=0,k=x.pointCount;F<k;){var O=F++;t=x.points[O],e=S.x-A*t.rB.y-E.x+T*t.rA.y,i=S.y+A*t.rB.x-E.y-T*t.rA.x,a=e*D+i*P,s=t.tangentMass*-a,r=N*t.normalImpulse,o=Ut.clamp(t.tangentImpulse+s,-r,r),s=o-t.tangentImpulse,l=s*D,_=s*P,E.x-=C*l,E.y-=C*_,T-=I*(t.rA.x*_-t.rA.y*l),S.x+=L*l,S.y+=L*_,A+=M*(t.rB.x*_-t.rB.y*l),t.tangentImpulse=o}x.pointCount;if(1==x.pointCount)t=x.points[0],e=S.x+-A*t.rB.y-E.x- -T*t.rA.y,i=S.y+A*t.rB.x-E.y-T*t.rA.x,n=e*B+i*R,s=-t.normalMass*(n-t.velocityBias),o=t.normalImpulse+s,o=o>0?o:0,s=o-t.normalImpulse,l=s*B,_=s*R,E.x-=C*l,E.y-=C*_,T-=I*(t.rA.x*_-t.rA.y*l),S.x+=L*l,S.y+=L*_,A+=M*(t.rB.x*_-t.rB.y*l),t.normalImpulse=o;else{var U=x.points[0],V=x.points[1],G=U.normalImpulse,W=V.normalImpulse,X=S.x-A*U.rB.y-E.x+T*U.rA.y,z=S.y+A*U.rB.x-E.y-T*U.rA.x,H=S.x-A*V.rB.y-E.x+T*V.rA.y,Y=S.y+A*V.rB.x-E.y-T*V.rA.x,K=X*B+z*R,j=H*B+Y*R,q=K-U.velocityBias,J=j-V.velocityBias;p=x.K,q-=p.col1.x*G+p.col2.x*W,J-=p.col1.y*G+p.col2.y*W;for(var Z=0;Z<1;){Z++;p=x.normalMass;var Q=-(p.col1.x*q+p.col2.x*J),$=-(p.col1.y*q+p.col2.y*J);if(Q>=0&&$>=0){h=Q-G,c=$-W,u=h*B,d=h*R,m=c*B,f=c*R,E.x-=C*(u+m),E.y-=C*(d+f),T-=I*(U.rA.x*d-U.rA.y*u+V.rA.x*f-V.rA.y*m),S.x+=L*(u+m),S.y+=L*(d+f),A+=M*(U.rB.x*d-U.rB.y*u+V.rB.x*f-V.rB.y*m),U.normalImpulse=Q,V.normalImpulse=$;break}if(Q=-U.normalMass*q,$=0,K=0,j=x.K.col1.y*Q+J,Q>=0&&j>=0){h=Q-G,c=$-W,u=h*B,d=h*R,m=c*B,f=c*R,E.x-=C*(u+m),E.y-=C*(d+f),T-=I*(U.rA.x*d-U.rA.y*u+V.rA.x*f-V.rA.y*m),S.x+=L*(u+m),S.y+=L*(d+f),A+=M*(U.rB.x*d-U.rB.y*u+V.rB.x*f-V.rB.y*m),U.normalImpulse=Q,V.normalImpulse=$;break}if(Q=0,$=-V.normalMass*J,K=x.K.col2.x*$+q,j=0,$>=0&&K>=0){h=Q-G,c=$-W,u=h*B,d=h*R,m=c*B,f=c*R,E.x-=C*(u+m),E.y-=C*(d+f),T-=I*(U.rA.x*d-U.rA.y*u+V.rA.x*f-V.rA.y*m),S.x+=L*(u+m),S.y+=L*(d+f),A+=M*(U.rB.x*d-U.rB.y*u+V.rB.x*f-V.rB.y*m),U.normalImpulse=Q,V.normalImpulse=$;break}if(Q=0,$=0,K=q,j=J,K>=0&&j>=0){h=Q-G,c=$-W,u=h*B,d=h*R,m=c*B,f=c*R,E.x-=C*(u+m),E.y-=C*(d+f),T-=I*(U.rA.x*d-U.rA.y*u+V.rA.x*f-V.rA.y*m),S.x+=L*(u+m),S.y+=L*(d+f),A+=M*(U.rB.x*d-U.rB.y*u+V.rB.x*f-V.rB.y*m),U.normalImpulse=Q,V.normalImpulse=$;break}break}}b.m_angularVelocity=T,w.m_angularVelocity=A}},finalizeVelocityConstraints:function(){for(var t=0,e=this.m_constraintCount;t<e;)for(var i=t++,n=this.m_constraints[i],a=n.manifold,s=0,r=n.pointCount;s<r;){var o=s++,l=a.m_points[o],_=n.points[o];l.m_normalImpulse=_.normalImpulse,l.m_tangentImpulse=_.tangentImpulse}},solvePositionConstraints:function(t){for(var e=0,i=0,n=this.m_constraintCount;i<n;){var a=i++,s=this.m_constraints[a],r=s.bodyA,o=s.bodyB,l=r.m_mass*r.m_invMass,_=r.m_mass*r.m_invI,h=o.m_mass*o.m_invMass,c=o.m_mass*o.m_invI;_e.s_psm.initialize(s);for(var u=_e.s_psm.m_normal,d=0,m=s.pointCount;d<m;){var f=d++,p=s.points[f],g=_e.s_psm.m_points[f],v=_e.s_psm.m_separations[f],y=g.x-r.m_sweep.c.x,x=g.y-r.m_sweep.c.y,b=g.x-o.m_sweep.c.x,w=g.y-o.m_sweep.c.y;e=e<v?e:v;var T=Ut.clamp(t*(v+kt.b2_linearSlop),-kt.b2_maxLinearCorrection,0),A=-p.equalizedMass*T,E=A*u.x,S=A*u.y;r.m_sweep.c.x-=l*E,r.m_sweep.c.y-=l*S,r.m_sweep.a-=_*(y*S-x*E),r.synchronizeTransform(),o.m_sweep.c.x+=h*E,o.m_sweep.c.y+=h*S,o.m_sweep.a+=c*(b*S-w*E),o.synchronizeTransform()}}return e>-1.5*kt.b2_linearSlop},__class__:_e};var he=function(){ee.call(this)};s["box2D.dynamics.contacts.B2EdgeAndCircleContact"]=he,he.__name__=["box2D","dynamics","contacts","B2EdgeAndCircleContact"],he.create=function(t){return new he},he.destroy=function(t,e){},he.__super__=ee,he.prototype=n(ee.prototype,{reset:function(t,e){ee.prototype.reset.call(this,t,e)},evaluate:function(){var t=this.m_fixtureA.getBody(),e=this.m_fixtureB.getBody();this.b2CollideEdgeAndCircle(this.m_manifold,oi.__cast(this.m_fixtureA.getShape(),Dt),t.m_xf,oi.__cast(this.m_fixtureB.getShape(),Rt),e.m_xf)},b2CollideEdgeAndCircle:function(t,e,i,n,a){},__class__:he});var ce=function(){ee.call(this)};s["box2D.dynamics.contacts.B2PolyAndCircleContact"]=ce,ce.__name__=["box2D","dynamics","contacts","B2PolyAndCircleContact"],ce.create=function(t){return new ce},ce.destroy=function(t,e){},ce.__super__=ee,ce.prototype=n(ee.prototype,{reset:function(t,e){ee.prototype.reset.call(this,t,e),kt.b2Assert(2==t.getType()),kt.b2Assert(1==e.getType())},evaluate:function(){var t=this.m_fixtureA.m_body,e=this.m_fixtureB.m_body;at.collidePolygonAndCircle(this.m_manifold,oi.__cast(this.m_fixtureA.getShape(),Nt),t.m_xf,oi.__cast(this.m_fixtureB.getShape(),Rt),e.m_xf)},__class__:ce});var ue=function(){ee.call(this)};s["box2D.dynamics.contacts.B2PolyAndEdgeContact"]=ue,ue.__name__=["box2D","dynamics","contacts","B2PolyAndEdgeContact"],ue.create=function(t){return new ue},ue.destroy=function(t,e){},ue.__super__=ee,ue.prototype=n(ee.prototype,{reset:function(t,e){ee.prototype.reset.call(this,t,e),kt.b2Assert(2==t.getType()),kt.b2Assert(3==e.getType())},evaluate:function(){var t=this.m_fixtureA.getBody(),e=this.m_fixtureB.getBody();this.b2CollidePolyAndEdge(this.m_manifold,oi.__cast(this.m_fixtureA.getShape(),Nt),t.m_xf,oi.__cast(this.m_fixtureB.getShape(),Dt),e.m_xf)},b2CollidePolyAndEdge:function(t,e,i,n,a){},__class__:ue});var de=function(){ee.call(this)};s["box2D.dynamics.contacts.B2PolygonContact"]=de,de.__name__=["box2D","dynamics","contacts","B2PolygonContact"],de.create=function(t){return new de},de.destroy=function(t,e){},de.__super__=ee,de.prototype=n(ee.prototype,{reset:function(t,e){ee.prototype.reset.call(this,t,e)},evaluate:function(){var t=this.m_fixtureA.getBody(),e=this.m_fixtureB.getBody();at.collidePolygons(this.m_manifold,oi.__cast(this.m_fixtureA.getShape(),Nt),t.m_xf,oi.__cast(this.m_fixtureB.getShape(),Nt),e.m_xf)},__class__:de});var me=function(){this.m_bodyCount=0};s["box2D.dynamics.controllers.B2Controller"]=me,me.__name__=["box2D","dynamics","controllers","B2Controller"],me.prototype={step:function(t){},draw:function(t){},addBody:function(t){var e=new fe;e.controller=this,e.body=t,e.nextBody=this.m_bodyList,e.prevBody=null,this.m_bodyList=e,null!=e.nextBody&&(e.nextBody.prevBody=e),this.m_bodyCount++,e.nextController=t.m_controllerList,e.prevController=null,t.m_controllerList=e,null!=e.nextController&&(e.nextController.prevController=e),t.m_controllerCount++},removeBody:function(t){for(var e=t.m_controllerList;null!=e&&e.controller!=this;)e=e.nextController;null!=e.prevBody&&(e.prevBody.nextBody=e.nextBody),null!=e.nextBody&&(e.nextBody.prevBody=e.prevBody),null!=e.nextController&&(e.nextController.prevController=e.prevController),null!=e.prevController&&(e.prevController.nextController=e.nextController),this.m_bodyList==e&&(this.m_bodyList=e.nextBody),t.m_controllerList==e&&(t.m_controllerList=e.nextController),t.m_controllerCount--,this.m_bodyCount--},clear:function(){for(;null!=this.m_bodyList;)this.removeBody(this.m_bodyList.body)},getNext:function(){return this.m_next},getWorld:function(){return this.m_world},getBodyList:function(){return this.m_bodyList},__class__:me};var fe=function(){};s["box2D.dynamics.controllers.B2ControllerEdge"]=fe,fe.__name__=["box2D","dynamics","controllers","B2ControllerEdge"],fe.prototype={__class__:fe};var pe=function(t){this.m_edgeA=new Ee,this.m_edgeB=new Ee,this.m_localCenterA=new tt,this.m_localCenterB=new tt,kt.b2Assert(t.bodyA!=t.bodyB),this.m_type=t.type,this.m_prev=null,this.m_next=null,this.m_bodyA=t.bodyA,this.m_bodyB=t.bodyB,this.m_collideConnected=t.collideConnected,this.m_islandFlag=!1,this.m_userData=t.userData};s["box2D.dynamics.joints.B2Joint"]=pe,pe.__name__=["box2D","dynamics","joints","B2Joint"],pe.create=function(t,e){var i=null,n=t.type;switch(n){case 3:i=new ge(oi.__cast(t,ye));break;case 5:i=new Ie(oi.__cast(t,Le));break;case 2:i=new Me(oi.__cast(t,Be));break;case 1:i=new Pe(oi.__cast(t,Ne));break;case 4:i=new Re(oi.__cast(t,De));break;case 6:i=new we(oi.__cast(t,Te));break;case 7:i=new Se(oi.__cast(t,Ce));break;case 8:i=new Fe(oi.__cast(t,ke));break;case 9:i=new xe(oi.__cast(t,be))}return i},pe.destroy=function(t,e){},pe.prototype={getType:function(){return this.m_type},getAnchorA:function(){return null},getAnchorB:function(){return null},getReactionForce:function(t){return null},getReactionTorque:function(t){return 0},getBodyA:function(){return this.m_bodyA},getBodyB:function(){return this.m_bodyB},getNext:function(){return this.m_next},getUserData:function(){return this.m_userData},setUserData:function(t){this.m_userData=t},isActive:function(){return this.m_bodyA.isActive()&&this.m_bodyB.isActive()},initVelocityConstraints:function(t){},solveVelocityConstraints:function(t){},finalizeVelocityConstraints:function(){},solvePositionConstraints:function(t){return!1},__class__:pe};var ge=function(t){pe.call(this,t),this.m_localAnchor1=new tt,this.m_localAnchor2=new tt,this.m_u=new tt;this.m_localAnchor1.setV(t.localAnchorA),this.m_localAnchor2.setV(t.localAnchorB),this.m_length=t.length,this.m_frequencyHz=t.frequencyHz,this.m_dampingRatio=t.dampingRatio,this.m_impulse=0,this.m_gamma=0,this.m_bias=0};s["box2D.dynamics.joints.B2DistanceJoint"]=ge,ge.__name__=["box2D","dynamics","joints","B2DistanceJoint"],ge.__super__=pe,ge.prototype=n(pe.prototype,{getAnchorA:function(){return this.m_bodyA.getWorldPoint(this.m_localAnchor1)},getAnchorB:function(){return this.m_bodyB.getWorldPoint(this.m_localAnchor2)},getReactionForce:function(t){return new tt(t*this.m_impulse*this.m_u.x,t*this.m_impulse*this.m_u.y)},getReactionTorque:function(t){return 0},getLength:function(){return this.m_length},setLength:function(t){this.m_length=t},getFrequency:function(){return this.m_frequencyHz},setFrequency:function(t){this.m_frequencyHz=t},getDampingRatio:function(){return this.m_dampingRatio},setDampingRatio:function(t){this.m_dampingRatio=t},initVelocityConstraints:function(t){var e,i,n=this.m_bodyA,a=this.m_bodyB;e=n.m_xf.R;var s=this.m_localAnchor1.x-n.m_sweep.localCenter.x,r=this.m_localAnchor1.y-n.m_sweep.localCenter.y;i=e.col1.x*s+e.col2.x*r,r=e.col1.y*s+e.col2.y*r,s=i,e=a.m_xf.R;var o=this.m_localAnchor2.x-a.m_sweep.localCenter.x,l=this.m_localAnchor2.y-a.m_sweep.localCenter.y;i=e.col1.x*o+e.col2.x*l,l=e.col1.y*o+e.col2.y*l,o=i,this.m_u.x=a.m_sweep.c.x+o-n.m_sweep.c.x-s,this.m_u.y=a.m_sweep.c.y+l-n.m_sweep.c.y-r;var _=Math.sqrt(this.m_u.x*this.m_u.x+this.m_u.y*this.m_u.y);_>kt.b2_linearSlop?this.m_u.multiply(1/_):this.m_u.setZero();var h=s*this.m_u.y-r*this.m_u.x,c=o*this.m_u.y-l*this.m_u.x,u=n.m_invMass+n.m_invI*h*h+a.m_invMass+a.m_invI*c*c;if(0!=u?this.m_mass=1/u:this.m_mass=0,this.m_frequencyHz>0){var d=_-this.m_length,m=2*Math.PI*this.m_frequencyHz,f=2*this.m_mass*this.m_dampingRatio*m,p=this.m_mass*m*m;this.m_gamma=t.dt*(f+t.dt*p),0!=this.m_gamma?this.m_gamma=1/this.m_gamma:this.m_gamma=0,this.m_bias=d*t.dt*p*this.m_gamma,this.m_mass=u+this.m_gamma,0!=this.m_mass?this.m_mass=1/this.m_mass:this.m_mass=0}if(t.warmStarting){this.m_impulse*=t.dtRatio;var g=this.m_impulse*this.m_u.x,v=this.m_impulse*this.m_u.y;n.m_linearVelocity.x-=n.m_invMass*g,n.m_linearVelocity.y-=n.m_invMass*v,n.m_angularVelocity-=n.m_invI*(s*v-r*g),a.m_linearVelocity.x+=a.m_invMass*g,a.m_linearVelocity.y+=a.m_invMass*v,a.m_angularVelocity+=a.m_invI*(o*v-l*g)}else this.m_impulse=0},solveVelocityConstraints:function(t){var e,i=this.m_bodyA,n=this.m_bodyB;e=i.m_xf.R;var a=this.m_localAnchor1.x-i.m_sweep.localCenter.x,s=this.m_localAnchor1.y-i.m_sweep.localCenter.y,r=e.col1.x*a+e.col2.x*s;s=e.col1.y*a+e.col2.y*s,a=r,e=n.m_xf.R;var o=this.m_localAnchor2.x-n.m_sweep.localCenter.x,l=this.m_localAnchor2.y-n.m_sweep.localCenter.y;r=e.col1.x*o+e.col2.x*l,l=e.col1.y*o+e.col2.y*l,o=r;var _=i.m_linearVelocity.x+-i.m_angularVelocity*s,h=i.m_linearVelocity.y+i.m_angularVelocity*a,c=n.m_linearVelocity.x+-n.m_angularVelocity*l,u=n.m_linearVelocity.y+n.m_angularVelocity*o,d=this.m_u.x*(c-_)+this.m_u.y*(u-h),m=-this.m_mass*(d+this.m_bias+this.m_gamma*this.m_impulse);this.m_impulse+=m;var f=m*this.m_u.x,p=m*this.m_u.y;i.m_linearVelocity.x-=i.m_invMass*f,i.m_linearVelocity.y-=i.m_invMass*p,i.m_angularVelocity-=i.m_invI*(a*p-s*f),n.m_linearVelocity.x+=n.m_invMass*f,n.m_linearVelocity.y+=n.m_invMass*p,n.m_angularVelocity+=n.m_invI*(o*p-l*f)},solvePositionConstraints:function(t){var e;if(this.m_frequencyHz>0)return!0;var i=this.m_bodyA,n=this.m_bodyB;e=i.m_xf.R;var a=this.m_localAnchor1.x-i.m_sweep.localCenter.x,s=this.m_localAnchor1.y-i.m_sweep.localCenter.y,r=e.col1.x*a+e.col2.x*s;s=e.col1.y*a+e.col2.y*s,a=r,e=n.m_xf.R;var o=this.m_localAnchor2.x-n.m_sweep.localCenter.x,l=this.m_localAnchor2.y-n.m_sweep.localCenter.y;r=e.col1.x*o+e.col2.x*l,l=e.col1.y*o+e.col2.y*l,o=r;var _=n.m_sweep.c.x+o-i.m_sweep.c.x-a,h=n.m_sweep.c.y+l-i.m_sweep.c.y-s,c=Math.sqrt(_*_+h*h);_/=c,h/=c;var u=c-this.m_length;u=Ut.clamp(u,-kt.b2_maxLinearCorrection,kt.b2_maxLinearCorrection);var d=-this.m_mass*u;this.m_u.set(_,h);var m=d*this.m_u.x,f=d*this.m_u.y;return i.m_sweep.c.x-=i.m_invMass*m,i.m_sweep.c.y-=i.m_invMass*f,i.m_sweep.a-=i.m_invI*(a*f-s*m),n.m_sweep.c.x+=n.m_invMass*m,n.m_sweep.c.y+=n.m_invMass*f,n.m_sweep.a+=n.m_invI*(o*f-l*m),i.synchronizeTransform(),n.synchronizeTransform(),Ut.abs(u)<kt.b2_linearSlop},__class__:ge});var ve=function(){this.type=0,this.userData=null,this.bodyA=null,this.bodyB=null,this.collideConnected=!1};s["box2D.dynamics.joints.B2JointDef"]=ve,ve.__name__=["box2D","dynamics","joints","B2JointDef"],ve.prototype={__class__:ve};var ye=function(){ve.call(this),this.localAnchorA=new tt,this.localAnchorB=new tt,this.type=3,this.length=1,this.frequencyHz=0,this.dampingRatio=0};s["box2D.dynamics.joints.B2DistanceJointDef"]=ye,ye.__name__=["box2D","dynamics","joints","B2DistanceJointDef"],ye.__super__=ve,ye.prototype=n(ve.prototype,{initialize:function(t,e,i,n){this.bodyA=t,this.bodyB=e,this.localAnchorA.setV(this.bodyA.getLocalPoint(i)),this.localAnchorB.setV(this.bodyB.getLocalPoint(n));var a=n.x-i.x,s=n.y-i.y;this.length=Math.sqrt(a*a+s*s),this.frequencyHz=0,this.dampingRatio=0},__class__:ye});var xe=function(t){pe.call(this,t),this.m_localAnchorA=new tt,this.m_localAnchorB=new tt,this.m_linearMass=new It,this.m_linearImpulse=new tt,this.m_localAnchorA.setV(t.localAnchorA),this.m_localAnchorB.setV(t.localAnchorB),this.m_linearMass.setZero(),this.m_angularMass=0,this.m_linearImpulse.setZero(),this.m_angularImpulse=0,this.m_maxForce=t.maxForce,this.m_maxTorque=t.maxTorque};s["box2D.dynamics.joints.B2FrictionJoint"]=xe,xe.__name__=["box2D","dynamics","joints","B2FrictionJoint"],xe.__super__=pe,xe.prototype=n(pe.prototype,{getAnchorA:function(){return this.m_bodyA.getWorldPoint(this.m_localAnchorA)},getAnchorB:function(){return this.m_bodyB.getWorldPoint(this.m_localAnchorB)},getReactionForce:function(t){return new tt(t*this.m_linearImpulse.x,t*this.m_linearImpulse.y)},getReactionTorque:function(t){return t*this.m_angularImpulse},setMaxForce:function(t){this.m_maxForce=t},getMaxForce:function(){return this.m_maxForce},setMaxTorque:function(t){this.m_maxTorque=t},getMaxTorque:function(){return this.m_maxTorque},initVelocityConstraints:function(t){var e,i,n=this.m_bodyA,a=this.m_bodyB;e=n.m_xf.R;var s=this.m_localAnchorA.x-n.m_sweep.localCenter.x,r=this.m_localAnchorA.y-n.m_sweep.localCenter.y;i=e.col1.x*s+e.col2.x*r,r=e.col1.y*s+e.col2.y*r,s=i,e=a.m_xf.R;var o=this.m_localAnchorB.x-a.m_sweep.localCenter.x,l=this.m_localAnchorB.y-a.m_sweep.localCenter.y;i=e.col1.x*o+e.col2.x*l,l=e.col1.y*o+e.col2.y*l,o=i;var _=n.m_invMass,h=a.m_invMass,c=n.m_invI,u=a.m_invI,d=new It;if(d.col1.x=_+h,d.col2.x=0,d.col1.y=0,d.col2.y=_+h,d.col1.x+=c*r*r,d.col2.x+=-c*s*r,d.col1.y+=-c*s*r,d.col2.y+=c*s*s,d.col1.x+=u*l*l,d.col2.x+=-u*o*l,d.col1.y+=-u*o*l,d.col2.y+=u*o*o,d.getInverse(this.m_linearMass),this.m_angularMass=c+u,this.m_angularMass>0&&(this.m_angularMass=1/this.m_angularMass),t.warmStarting){this.m_linearImpulse.x*=t.dtRatio,this.m_linearImpulse.y*=t.dtRatio,this.m_angularImpulse*=t.dtRatio;var m=this.m_linearImpulse;n.m_linearVelocity.x-=_*m.x,n.m_linearVelocity.y-=_*m.y,n.m_angularVelocity-=c*(s*m.y-r*m.x+this.m_angularImpulse),a.m_linearVelocity.x+=h*m.x,a.m_linearVelocity.y+=h*m.y,a.m_angularVelocity+=u*(o*m.y-l*m.x+this.m_angularImpulse)}else this.m_linearImpulse.setZero(),this.m_angularImpulse=0},solveVelocityConstraints:function(t){var e,i,n=this.m_bodyA,a=this.m_bodyB,s=n.m_linearVelocity,r=n.m_angularVelocity,o=a.m_linearVelocity,l=a.m_angularVelocity,_=n.m_invMass,h=a.m_invMass,c=n.m_invI,u=a.m_invI;e=n.m_xf.R;var d=this.m_localAnchorA.x-n.m_sweep.localCenter.x,m=this.m_localAnchorA.y-n.m_sweep.localCenter.y;i=e.col1.x*d+e.col2.x*m,m=e.col1.y*d+e.col2.y*m,d=i,e=a.m_xf.R;var f=this.m_localAnchorB.x-a.m_sweep.localCenter.x,p=this.m_localAnchorB.y-a.m_sweep.localCenter.y;i=e.col1.x*f+e.col2.x*p,p=e.col1.y*f+e.col2.y*p,f=i;var g,v=l-r,y=-this.m_angularMass*v,x=this.m_angularImpulse;g=t.dt*this.m_maxTorque,this.m_angularImpulse=Ut.clamp(this.m_angularImpulse+y,-g,g),y=this.m_angularImpulse-x,r-=c*y,l+=u*y;var b=o.x-l*p-s.x+r*m,w=o.y+l*f-s.y-r*d,T=Ut.mulMV(this.m_linearMass,new tt((-b),(-w))),A=this.m_linearImpulse.copy();this.m_linearImpulse.add(T),g=t.dt*this.m_maxForce,this.m_linearImpulse.lengthSquared()>g*g&&(this.m_linearImpulse.normalize(),this.m_linearImpulse.multiply(g)),T=Ut.subtractVV(this.m_linearImpulse,A),s.x-=_*T.x,s.y-=_*T.y,r-=c*(d*T.y-m*T.x),o.x+=h*T.x,o.y+=h*T.y,l+=u*(f*T.y-p*T.x),n.m_angularVelocity=r,a.m_angularVelocity=l},solvePositionConstraints:function(t){return!0},__class__:xe});var be=function(){ve.call(this),this.localAnchorA=new tt,this.localAnchorB=new tt,this.type=9,this.maxForce=0,this.maxTorque=0};s["box2D.dynamics.joints.B2FrictionJointDef"]=be,be.__name__=["box2D","dynamics","joints","B2FrictionJointDef"],be.__super__=ve,be.prototype=n(ve.prototype,{initialize:function(t,e,i){this.bodyA=t,this.bodyB=e,this.localAnchorA.setV(this.bodyA.getLocalPoint(i)),this.localAnchorB.setV(this.bodyB.getLocalPoint(i))},__class__:be});var we=function(t){pe.call(this,t),this.m_groundAnchor1=new tt,this.m_groundAnchor2=new tt,this.m_localAnchor1=new tt,this.m_localAnchor2=new tt,this.m_J=new Ae;var e=t.joint1.m_type,i=t.joint2.m_type;this.m_revolute1=null,this.m_prismatic1=null,this.m_revolute2=null,this.m_prismatic2=null;var n,a;this.m_ground1=t.joint1.getBodyA(),this.m_bodyA=t.joint1.getBodyB(),1==e?(this.m_revolute1=oi.__cast(t.joint1,Pe),this.m_groundAnchor1.setV(this.m_revolute1.m_localAnchor1),this.m_localAnchor1.setV(this.m_revolute1.m_localAnchor2),n=this.m_revolute1.getJointAngle()):(this.m_prismatic1=oi.__cast(t.joint1,Me),this.m_groundAnchor1.setV(this.m_prismatic1.m_localAnchor1),this.m_localAnchor1.setV(this.m_prismatic1.m_localAnchor2),n=this.m_prismatic1.getJointTranslation()),this.m_ground2=t.joint2.getBodyA(),this.m_bodyB=t.joint2.getBodyB(),1==i?(this.m_revolute2=oi.__cast(t.joint2,Pe),this.m_groundAnchor2.setV(this.m_revolute2.m_localAnchor1),this.m_localAnchor2.setV(this.m_revolute2.m_localAnchor2),a=this.m_revolute2.getJointAngle()):(this.m_prismatic2=oi.__cast(t.joint2,Me),this.m_groundAnchor2.setV(this.m_prismatic2.m_localAnchor1),this.m_localAnchor2.setV(this.m_prismatic2.m_localAnchor2),a=this.m_prismatic2.getJointTranslation()),this.m_ratio=t.ratio,this.m_constant=n+this.m_ratio*a,this.m_impulse=0};s["box2D.dynamics.joints.B2GearJoint"]=we,we.__name__=["box2D","dynamics","joints","B2GearJoint"],we.__super__=pe,we.prototype=n(pe.prototype,{getAnchorA:function(){return this.m_bodyA.getWorldPoint(this.m_localAnchor1)},getAnchorB:function(){return this.m_bodyB.getWorldPoint(this.m_localAnchor2)},getReactionForce:function(t){return new tt(t*this.m_impulse*this.m_J.linearB.x,t*this.m_impulse*this.m_J.linearB.y)},getReactionTorque:function(t){var e=this.m_bodyB.m_xf.R,i=this.m_localAnchor1.x-this.m_bodyB.m_sweep.localCenter.x,n=this.m_localAnchor1.y-this.m_bodyB.m_sweep.localCenter.y,a=e.col1.x*i+e.col2.x*n;n=e.col1.y*i+e.col2.y*n,i=a;var s=this.m_impulse*this.m_J.linearB.x,r=this.m_impulse*this.m_J.linearB.y;return t*(this.m_impulse*this.m_J.angularB-i*r+n*s)},getRatio:function(){return this.m_ratio},setRatio:function(t){this.m_ratio=t},initVelocityConstraints:function(t){var e,i,n,a,s,r,o,l,_=this.m_ground1,h=this.m_ground2,c=this.m_bodyA,u=this.m_bodyB,d=0;this.m_J.setZero(),null!=this.m_revolute1?(this.m_J.angularA=-1,d+=c.m_invI):(s=_.m_xf.R,r=this.m_prismatic1.m_localXAxis1,e=s.col1.x*r.x+s.col2.x*r.y,i=s.col1.y*r.x+s.col2.y*r.y,s=c.m_xf.R,n=this.m_localAnchor1.x-c.m_sweep.localCenter.x,a=this.m_localAnchor1.y-c.m_sweep.localCenter.y,l=s.col1.x*n+s.col2.x*a,a=s.col1.y*n+s.col2.y*a,n=l,o=n*i-a*e,this.m_J.linearA.set(-e,-i),this.m_J.angularA=-o,d+=c.m_invMass+c.m_invI*o*o),null!=this.m_revolute2?(this.m_J.angularB=-this.m_ratio,d+=this.m_ratio*this.m_ratio*u.m_invI):(s=h.m_xf.R,r=this.m_prismatic2.m_localXAxis1,e=s.col1.x*r.x+s.col2.x*r.y,i=s.col1.y*r.x+s.col2.y*r.y,s=u.m_xf.R,n=this.m_localAnchor2.x-u.m_sweep.localCenter.x,a=this.m_localAnchor2.y-u.m_sweep.localCenter.y,l=s.col1.x*n+s.col2.x*a,a=s.col1.y*n+s.col2.y*a,n=l,o=n*i-a*e,this.m_J.linearB.set(-this.m_ratio*e,-this.m_ratio*i),this.m_J.angularB=-this.m_ratio*o,d+=this.m_ratio*this.m_ratio*(u.m_invMass+u.m_invI*o*o)),d>0?this.m_mass=1/d:this.m_mass=0,t.warmStarting?(c.m_linearVelocity.x+=c.m_invMass*this.m_impulse*this.m_J.linearA.x,c.m_linearVelocity.y+=c.m_invMass*this.m_impulse*this.m_J.linearA.y,c.m_angularVelocity+=c.m_invI*this.m_impulse*this.m_J.angularA,u.m_linearVelocity.x+=u.m_invMass*this.m_impulse*this.m_J.linearB.x,u.m_linearVelocity.y+=u.m_invMass*this.m_impulse*this.m_J.linearB.y,u.m_angularVelocity+=u.m_invI*this.m_impulse*this.m_J.angularB):this.m_impulse=0},solveVelocityConstraints:function(t){var e=this.m_bodyA,i=this.m_bodyB,n=this.m_J.compute(e.m_linearVelocity,e.m_angularVelocity,i.m_linearVelocity,i.m_angularVelocity),a=-this.m_mass*n;this.m_impulse+=a,e.m_linearVelocity.x+=e.m_invMass*a*this.m_J.linearA.x,e.m_linearVelocity.y+=e.m_invMass*a*this.m_J.linearA.y,e.m_angularVelocity+=e.m_invI*a*this.m_J.angularA,i.m_linearVelocity.x+=i.m_invMass*a*this.m_J.linearB.x,i.m_linearVelocity.y+=i.m_invMass*a*this.m_J.linearB.y,i.m_angularVelocity+=i.m_invI*a*this.m_J.angularB},solvePositionConstraints:function(t){var e,i,n=0,a=this.m_bodyA,s=this.m_bodyB;e=null!=this.m_revolute1?this.m_revolute1.getJointAngle():this.m_prismatic1.getJointTranslation(),i=null!=this.m_revolute2?this.m_revolute2.getJointAngle():this.m_prismatic2.getJointTranslation();var r=this.m_constant-(e+this.m_ratio*i),o=-this.m_mass*r;return a.m_sweep.c.x+=a.m_invMass*o*this.m_J.linearA.x,a.m_sweep.c.y+=a.m_invMass*o*this.m_J.linearA.y,a.m_sweep.a+=a.m_invI*o*this.m_J.angularA,s.m_sweep.c.x+=s.m_invMass*o*this.m_J.linearB.x,s.m_sweep.c.y+=s.m_invMass*o*this.m_J.linearB.y,s.m_sweep.a+=s.m_invI*o*this.m_J.angularB,a.synchronizeTransform(),s.synchronizeTransform(),n<kt.b2_linearSlop},__class__:we});var Te=function(){ve.call(this),this.type=6,this.joint1=null,this.joint2=null,this.ratio=1};s["box2D.dynamics.joints.B2GearJointDef"]=Te,Te.__name__=["box2D","dynamics","joints","B2GearJointDef"],Te.__super__=ve,Te.prototype=n(ve.prototype,{__class__:Te});var Ae=function(){this.linearA=new tt,this.linearB=new tt};s["box2D.dynamics.joints.B2Jacobian"]=Ae,Ae.__name__=["box2D","dynamics","joints","B2Jacobian"],Ae.prototype={setZero:function(){this.linearA.setZero(),this.angularA=0,this.linearB.setZero(),this.angularB=0},set:function(t,e,i,n){this.linearA.setV(t),this.angularA=e,this.linearB.setV(i),this.angularB=n},compute:function(t,e,i,n){return this.linearA.x*t.x+this.linearA.y*t.y+this.angularA*e+(this.linearB.x*i.x+this.linearB.y*i.y)+this.angularB*n},__class__:Ae};var Ee=function(){};s["box2D.dynamics.joints.B2JointEdge"]=Ee,Ee.__name__=["box2D","dynamics","joints","B2JointEdge"],Ee.prototype={__class__:Ee};var Se=function(t){pe.call(this,t),this.m_localAnchor1=new tt,this.m_localAnchor2=new tt,this.m_localXAxis1=new tt,this.m_localYAxis1=new tt,this.m_axis=new tt,this.m_perp=new tt,this.m_K=new It,this.m_impulse=new tt;this.m_localAnchor1.setV(t.localAnchorA),this.m_localAnchor2.setV(t.localAnchorB),this.m_localXAxis1.setV(t.localAxisA),this.m_localYAxis1.x=-this.m_localXAxis1.y,this.m_localYAxis1.y=this.m_localXAxis1.x,this.m_impulse.setZero(),this.m_motorMass=0,this.m_motorImpulse=0,this.m_lowerTranslation=t.lowerTranslation,this.m_upperTranslation=t.upperTranslation,this.m_maxMotorForce=t.maxMotorForce,this.m_motorSpeed=t.motorSpeed,this.m_enableLimit=t.enableLimit,this.m_enableMotor=t.enableMotor,this.m_limitState=0,this.m_axis.setZero(),this.m_perp.setZero()};s["box2D.dynamics.joints.B2LineJoint"]=Se,Se.__name__=["box2D","dynamics","joints","B2LineJoint"],Se.__super__=pe,Se.prototype=n(pe.prototype,{getAnchorA:function(){return this.m_bodyA.getWorldPoint(this.m_localAnchor1)},getAnchorB:function(){return this.m_bodyB.getWorldPoint(this.m_localAnchor2)},getReactionForce:function(t){return new tt(t*(this.m_impulse.x*this.m_perp.x+(this.m_motorImpulse+this.m_impulse.y)*this.m_axis.x),t*(this.m_impulse.x*this.m_perp.y+(this.m_motorImpulse+this.m_impulse.y)*this.m_axis.y))},getReactionTorque:function(t){return t*this.m_impulse.y},getJointTranslation:function(){var t=this.m_bodyA,e=this.m_bodyB,i=t.getWorldPoint(this.m_localAnchor1),n=e.getWorldPoint(this.m_localAnchor2),a=n.x-i.x,s=n.y-i.y,r=t.getWorldVector(this.m_localXAxis1),o=r.x*a+r.y*s;return o},getJointSpeed:function(){var t,e=this.m_bodyA,i=this.m_bodyB;t=e.m_xf.R;var n=this.m_localAnchor1.x-e.m_sweep.localCenter.x,a=this.m_localAnchor1.y-e.m_sweep.localCenter.y,s=t.col1.x*n+t.col2.x*a;a=t.col1.y*n+t.col2.y*a,n=s,t=i.m_xf.R;var r=this.m_localAnchor2.x-i.m_sweep.localCenter.x,o=this.m_localAnchor2.y-i.m_sweep.localCenter.y;s=t.col1.x*r+t.col2.x*o,o=t.col1.y*r+t.col2.y*o,r=s;var l=e.m_sweep.c.x+n,_=e.m_sweep.c.y+a,h=i.m_sweep.c.x+r,c=i.m_sweep.c.y+o,u=h-l,d=c-_,m=e.getWorldVector(this.m_localXAxis1),f=e.m_linearVelocity,p=i.m_linearVelocity,g=e.m_angularVelocity,v=i.m_angularVelocity,y=u*(-g*m.y)+d*(g*m.x)+(m.x*(p.x+-v*o-f.x- -g*a)+m.y*(p.y+v*r-f.y-g*n));return y},isLimitEnabled:function(){return this.m_enableLimit},enableLimit:function(t){this.m_bodyA.setAwake(!0),this.m_bodyB.setAwake(!0),this.m_enableLimit=t},getLowerLimit:function(){return this.m_lowerTranslation},getUpperLimit:function(){return this.m_upperTranslation},setLimits:function(t,e){this.m_bodyA.setAwake(!0),this.m_bodyB.setAwake(!0),this.m_lowerTranslation=t,this.m_upperTranslation=e},isMotorEnabled:function(){return this.m_enableMotor},enableMotor:function(t){this.m_bodyA.setAwake(!0),this.m_bodyB.setAwake(!0),this.m_enableMotor=t},setMotorSpeed:function(t){this.m_bodyA.setAwake(!0),this.m_bodyB.setAwake(!0),this.m_motorSpeed=t},getMotorSpeed:function(){return this.m_motorSpeed},setMaxMotorForce:function(t){this.m_bodyA.setAwake(!0),this.m_bodyB.setAwake(!0),this.m_maxMotorForce=t},getMaxMotorForce:function(){return this.m_maxMotorForce},getMotorForce:function(){return this.m_motorImpulse},initVelocityConstraints:function(t){var e,i,n=this.m_bodyA,a=this.m_bodyB;this.m_localCenterA.setV(n.getLocalCenter()),this.m_localCenterB.setV(a.getLocalCenter());var s=n.getTransform();a.getTransform();e=n.m_xf.R;var r=this.m_localAnchor1.x-this.m_localCenterA.x,o=this.m_localAnchor1.y-this.m_localCenterA.y;i=e.col1.x*r+e.col2.x*o,o=e.col1.y*r+e.col2.y*o,r=i,e=a.m_xf.R;var l=this.m_localAnchor2.x-this.m_localCenterB.x,_=this.m_localAnchor2.y-this.m_localCenterB.y;i=e.col1.x*l+e.col2.x*_,_=e.col1.y*l+e.col2.y*_,l=i;var h=a.m_sweep.c.x+l-n.m_sweep.c.x-r,c=a.m_sweep.c.y+_-n.m_sweep.c.y-o;this.m_invMassA=n.m_invMass,this.m_invMassB=a.m_invMass,this.m_invIA=n.m_invI,this.m_invIB=a.m_invI,this.m_axis.setV(Ut.mulMV(s.R,this.m_localXAxis1)),this.m_a1=(h+r)*this.m_axis.y-(c+o)*this.m_axis.x,this.m_a2=l*this.m_axis.y-_*this.m_axis.x,this.m_motorMass=this.m_invMassA+this.m_invMassB+this.m_invIA*this.m_a1*this.m_a1+this.m_invIB*this.m_a2*this.m_a2,this.m_motorMass>Number.MIN_VALUE?this.m_motorMass=1/this.m_motorMass:this.m_motorMass=0,this.m_perp.setV(Ut.mulMV(s.R,this.m_localYAxis1)),this.m_s1=(h+r)*this.m_perp.y-(c+o)*this.m_perp.x,this.m_s2=l*this.m_perp.y-_*this.m_perp.x;var u=this.m_invMassA,d=this.m_invMassB,m=this.m_invIA,f=this.m_invIB;if(this.m_K.col1.x=u+d+m*this.m_s1*this.m_s1+f*this.m_s2*this.m_s2,this.m_K.col1.y=m*this.m_s1*this.m_a1+f*this.m_s2*this.m_a2,this.m_K.col2.x=this.m_K.col1.y,this.m_K.col2.y=u+d+m*this.m_a1*this.m_a1+f*this.m_a2*this.m_a2,this.m_enableLimit){var p=this.m_axis.x*h+this.m_axis.y*c;Ut.abs(this.m_upperTranslation-this.m_lowerTranslation)<2*kt.b2_linearSlop?this.m_limitState=3:p<=this.m_lowerTranslation?1!=this.m_limitState&&(this.m_limitState=1,this.m_impulse.y=0):p>=this.m_upperTranslation?2!=this.m_limitState&&(this.m_limitState=2,this.m_impulse.y=0):(this.m_limitState=0,this.m_impulse.y=0)}else this.m_limitState=0;if(0==this.m_enableMotor&&(this.m_motorImpulse=0),t.warmStarting){this.m_impulse.x*=t.dtRatio,this.m_impulse.y*=t.dtRatio,this.m_motorImpulse*=t.dtRatio;var g=this.m_impulse.x*this.m_perp.x+(this.m_motorImpulse+this.m_impulse.y)*this.m_axis.x,v=this.m_impulse.x*this.m_perp.y+(this.m_motorImpulse+this.m_impulse.y)*this.m_axis.y,y=this.m_impulse.x*this.m_s1+(this.m_motorImpulse+this.m_impulse.y)*this.m_a1,x=this.m_impulse.x*this.m_s2+(this.m_motorImpulse+this.m_impulse.y)*this.m_a2;n.m_linearVelocity.x-=this.m_invMassA*g,n.m_linearVelocity.y-=this.m_invMassA*v,n.m_angularVelocity-=this.m_invIA*y,a.m_linearVelocity.x+=this.m_invMassB*g,
a.m_linearVelocity.y+=this.m_invMassB*v,a.m_angularVelocity+=this.m_invIB*x}else this.m_impulse.setZero(),this.m_motorImpulse=0},solveVelocityConstraints:function(t){var e,i,n,a,s=this.m_bodyA,r=this.m_bodyB,o=s.m_linearVelocity,l=s.m_angularVelocity,_=r.m_linearVelocity,h=r.m_angularVelocity;if(this.m_enableMotor&&3!=this.m_limitState){var c=this.m_axis.x*(_.x-o.x)+this.m_axis.y*(_.y-o.y)+this.m_a2*h-this.m_a1*l,u=this.m_motorMass*(this.m_motorSpeed-c),d=this.m_motorImpulse,m=t.dt*this.m_maxMotorForce;this.m_motorImpulse=Ut.clamp(this.m_motorImpulse+u,-m,m),u=this.m_motorImpulse-d,e=u*this.m_axis.x,i=u*this.m_axis.y,n=u*this.m_a1,a=u*this.m_a2,o.x-=this.m_invMassA*e,o.y-=this.m_invMassA*i,l-=this.m_invIA*n,_.x+=this.m_invMassB*e,_.y+=this.m_invMassB*i,h+=this.m_invIB*a}var f=this.m_perp.x*(_.x-o.x)+this.m_perp.y*(_.y-o.y)+this.m_s2*h-this.m_s1*l;if(this.m_enableLimit&&0!=this.m_limitState){var p=this.m_axis.x*(_.x-o.x)+this.m_axis.y*(_.y-o.y)+this.m_a2*h-this.m_a1*l,g=this.m_impulse.copy(),v=this.m_K.solve(new tt,-f,-p);this.m_impulse.add(v),1==this.m_limitState?this.m_impulse.y=Ut.max(this.m_impulse.y,0):2==this.m_limitState&&(this.m_impulse.y=Ut.min(this.m_impulse.y,0));var y,x=-f-(this.m_impulse.y-g.y)*this.m_K.col2.x;y=0!=this.m_K.col1.x?x/this.m_K.col1.x+g.x:g.x,this.m_impulse.x=y,v.x=this.m_impulse.x-g.x,v.y=this.m_impulse.y-g.y,e=v.x*this.m_perp.x+v.y*this.m_axis.x,i=v.x*this.m_perp.y+v.y*this.m_axis.y,n=v.x*this.m_s1+v.y*this.m_a1,a=v.x*this.m_s2+v.y*this.m_a2,o.x-=this.m_invMassA*e,o.y-=this.m_invMassA*i,l-=this.m_invIA*n,_.x+=this.m_invMassB*e,_.y+=this.m_invMassB*i,h+=this.m_invIB*a}else{var b;b=0!=this.m_K.col1.x?-f/this.m_K.col1.x:0,this.m_impulse.x+=b,e=b*this.m_perp.x,i=b*this.m_perp.y,n=b*this.m_s1,a=b*this.m_s2,o.x-=this.m_invMassA*e,o.y-=this.m_invMassA*i,l-=this.m_invIA*n,_.x+=this.m_invMassB*e,_.y+=this.m_invMassB*i,h+=this.m_invIB*a}s.m_linearVelocity.setV(o),s.m_angularVelocity=l,r.m_linearVelocity.setV(_),r.m_angularVelocity=h},solvePositionConstraints:function(t){var e,i,n,a,s,r,o=this.m_bodyA,l=this.m_bodyB,_=o.m_sweep.c,h=o.m_sweep.a,c=l.m_sweep.c,u=l.m_sweep.a,d=0,m=0,f=!1,p=0,g=It.fromAngle(h),v=It.fromAngle(u);e=g;var y=this.m_localAnchor1.x-this.m_localCenterA.x,x=this.m_localAnchor1.y-this.m_localCenterA.y;i=e.col1.x*y+e.col2.x*x,x=e.col1.y*y+e.col2.y*x,y=i,e=v;var b=this.m_localAnchor2.x-this.m_localCenterB.x,w=this.m_localAnchor2.y-this.m_localCenterB.y;i=e.col1.x*b+e.col2.x*w,w=e.col1.y*b+e.col2.y*w,b=i;var T=c.x+b-_.x-y,A=c.y+w-_.y-x;if(this.m_enableLimit){this.m_axis=Ut.mulMV(g,this.m_localXAxis1),this.m_a1=(T+y)*this.m_axis.y-(A+x)*this.m_axis.x,this.m_a2=b*this.m_axis.y-w*this.m_axis.x;var E=this.m_axis.x*T+this.m_axis.y*A;Ut.abs(this.m_upperTranslation-this.m_lowerTranslation)<2*kt.b2_linearSlop?(p=Ut.clamp(E,-kt.b2_maxLinearCorrection,kt.b2_maxLinearCorrection),d=Ut.abs(E),f=!0):E<=this.m_lowerTranslation?(p=Ut.clamp(E-this.m_lowerTranslation+kt.b2_linearSlop,-kt.b2_maxLinearCorrection,0),d=this.m_lowerTranslation-E,f=!0):E>=this.m_upperTranslation&&(p=Ut.clamp(E-this.m_upperTranslation+kt.b2_linearSlop,0,kt.b2_maxLinearCorrection),d=E-this.m_upperTranslation,f=!0)}this.m_perp=Ut.mulMV(g,this.m_localYAxis1),this.m_s1=(T+y)*this.m_perp.y-(A+x)*this.m_perp.x,this.m_s2=b*this.m_perp.y-w*this.m_perp.x;var S=new tt,C=this.m_perp.x*T+this.m_perp.y*A;if(d=Ut.max(d,Ut.abs(C)),m=0,f)n=this.m_invMassA,a=this.m_invMassB,s=this.m_invIA,r=this.m_invIB,this.m_K.col1.x=n+a+s*this.m_s1*this.m_s1+r*this.m_s2*this.m_s2,this.m_K.col1.y=s*this.m_s1*this.m_a1+r*this.m_s2*this.m_a2,this.m_K.col2.x=this.m_K.col1.y,this.m_K.col2.y=n+a+s*this.m_a1*this.m_a1+r*this.m_a2*this.m_a2,this.m_K.solve(S,-C,-p);else{n=this.m_invMassA,a=this.m_invMassB,s=this.m_invIA,r=this.m_invIB;var I,L=n+a+s*this.m_s1*this.m_s1+r*this.m_s2*this.m_s2;I=0!=L?-C/L:0,S.x=I,S.y=0}var M=S.x*this.m_perp.x+S.y*this.m_axis.x,B=S.x*this.m_perp.y+S.y*this.m_axis.y,R=S.x*this.m_s1+S.y*this.m_a1,D=S.x*this.m_s2+S.y*this.m_a2;return _.x-=this.m_invMassA*M,_.y-=this.m_invMassA*B,h-=this.m_invIA*R,c.x+=this.m_invMassB*M,c.y+=this.m_invMassB*B,u+=this.m_invIB*D,o.m_sweep.a=h,l.m_sweep.a=u,o.synchronizeTransform(),l.synchronizeTransform(),d<=kt.b2_linearSlop&&m<=kt.b2_angularSlop},__class__:Se});var Ce=function(){ve.call(this)};s["box2D.dynamics.joints.B2LineJointDef"]=Ce,Ce.__name__=["box2D","dynamics","joints","B2LineJointDef"],Ce.__super__=ve,Ce.prototype=n(ve.prototype,{b2LineJointDef:function(){this.localAnchorA=new tt,this.localAnchorB=new tt,this.localAxisA=new tt,this.type=7,this.localAxisA.set(1,0),this.enableLimit=!1,this.lowerTranslation=0,this.upperTranslation=0,this.enableMotor=!1,this.maxMotorForce=0,this.motorSpeed=0},initialize:function(t,e,i,n){this.bodyA=t,this.bodyB=e,this.localAnchorA=this.bodyA.getLocalPoint(i),this.localAnchorB=this.bodyB.getLocalPoint(i),this.localAxisA=this.bodyA.getLocalVector(n)},__class__:Ce});var Ie=function(t){pe.call(this,t),this.K=new It,this.K1=new It,this.K2=new It,this.m_localAnchor=new tt,this.m_target=new tt,this.m_impulse=new tt,this.m_mass=new It,this.m_C=new tt,this.m_target.setV(t.target);var e=this.m_target.x-this.m_bodyB.m_xf.position.x,i=this.m_target.y-this.m_bodyB.m_xf.position.y,n=this.m_bodyB.m_xf.R;this.m_localAnchor.x=e*n.col1.x+i*n.col1.y,this.m_localAnchor.y=e*n.col2.x+i*n.col2.y,this.m_maxForce=t.maxForce,this.m_impulse.setZero(),this.m_frequencyHz=t.frequencyHz,this.m_dampingRatio=t.dampingRatio,this.m_beta=0,this.m_gamma=0};s["box2D.dynamics.joints.B2MouseJoint"]=Ie,Ie.__name__=["box2D","dynamics","joints","B2MouseJoint"],Ie.__super__=pe,Ie.prototype=n(pe.prototype,{getAnchorA:function(){return this.m_target},getAnchorB:function(){return this.m_bodyB.getWorldPoint(this.m_localAnchor)},getReactionForce:function(t){return new tt(t*this.m_impulse.x,t*this.m_impulse.y)},getReactionTorque:function(t){return 0},getTarget:function(){return this.m_target},setTarget:function(t){0==this.m_bodyB.isAwake()&&this.m_bodyB.setAwake(!0),this.m_target=t},getMaxForce:function(){return this.m_maxForce},setMaxForce:function(t){this.m_maxForce=t},getFrequency:function(){return this.m_frequencyHz},setFrequency:function(t){this.m_frequencyHz=t},getDampingRatio:function(){return this.m_dampingRatio},setDampingRatio:function(t){this.m_dampingRatio=t},initVelocityConstraints:function(t){var e=this.m_bodyB,i=e.getMass(),n=2*Math.PI*this.m_frequencyHz,a=2*i*this.m_dampingRatio*n,s=i*n*n;this.m_gamma=t.dt*(a+t.dt*s),0!=this.m_gamma?this.m_gamma=1/this.m_gamma:this.m_gamma=0,this.m_beta=t.dt*s*this.m_gamma;var r;r=e.m_xf.R;var o=this.m_localAnchor.x-e.m_sweep.localCenter.x,l=this.m_localAnchor.y-e.m_sweep.localCenter.y,_=r.col1.x*o+r.col2.x*l;l=r.col1.y*o+r.col2.y*l,o=_;var h=e.m_invMass,c=e.m_invI;this.K1.col1.x=h,this.K1.col2.x=0,this.K1.col1.y=0,this.K1.col2.y=h,this.K2.col1.x=c*l*l,this.K2.col2.x=-c*o*l,this.K2.col1.y=-c*o*l,this.K2.col2.y=c*o*o,this.K.setM(this.K1),this.K.addM(this.K2),this.K.col1.x+=this.m_gamma,this.K.col2.y+=this.m_gamma,this.K.getInverse(this.m_mass),this.m_C.x=e.m_sweep.c.x+o-this.m_target.x,this.m_C.y=e.m_sweep.c.y+l-this.m_target.y,e.m_angularVelocity*=.98,this.m_impulse.x*=t.dtRatio,this.m_impulse.y*=t.dtRatio,e.m_linearVelocity.x+=h*this.m_impulse.x,e.m_linearVelocity.y+=h*this.m_impulse.y,e.m_angularVelocity+=c*(o*this.m_impulse.y-l*this.m_impulse.x)},solveVelocityConstraints:function(t){var e,i,n,a=this.m_bodyB;e=a.m_xf.R;var s=this.m_localAnchor.x-a.m_sweep.localCenter.x,r=this.m_localAnchor.y-a.m_sweep.localCenter.y;i=e.col1.x*s+e.col2.x*r,r=e.col1.y*s+e.col2.y*r,s=i;var o=a.m_linearVelocity.x+-a.m_angularVelocity*r,l=a.m_linearVelocity.y+a.m_angularVelocity*s;e=this.m_mass,i=o+this.m_beta*this.m_C.x+this.m_gamma*this.m_impulse.x,n=l+this.m_beta*this.m_C.y+this.m_gamma*this.m_impulse.y;var _=-(e.col1.x*i+e.col2.x*n),h=-(e.col1.y*i+e.col2.y*n),c=this.m_impulse.x,u=this.m_impulse.y;this.m_impulse.x+=_,this.m_impulse.y+=h;var d=t.dt*this.m_maxForce;this.m_impulse.lengthSquared()>d*d&&this.m_impulse.multiply(d/this.m_impulse.length()),_=this.m_impulse.x-c,h=this.m_impulse.y-u,a.m_linearVelocity.x+=a.m_invMass*_,a.m_linearVelocity.y+=a.m_invMass*h,a.m_angularVelocity+=a.m_invI*(s*h-r*_)},solvePositionConstraints:function(t){return!0},__class__:Ie});var Le=function(){ve.call(this),this.target=new tt,this.type=5,this.maxForce=0,this.frequencyHz=5,this.dampingRatio=.7};s["box2D.dynamics.joints.B2MouseJointDef"]=Le,Le.__name__=["box2D","dynamics","joints","B2MouseJointDef"],Le.__super__=ve,Le.prototype=n(ve.prototype,{__class__:Le});var Me=function(t){pe.call(this,t),this.m_localAnchor1=new tt,this.m_localAnchor2=new tt,this.m_localXAxis1=new tt,this.m_localYAxis1=new tt,this.m_axis=new tt,this.m_perp=new tt,this.m_K=new Ot,this.m_impulse=new Gt;this.m_localAnchor1.setV(t.localAnchorA),this.m_localAnchor2.setV(t.localAnchorB),this.m_localXAxis1.setV(t.localAxisA),this.m_localYAxis1.x=-this.m_localXAxis1.y,this.m_localYAxis1.y=this.m_localXAxis1.x,this.m_refAngle=t.referenceAngle,this.m_impulse.setZero(),this.m_motorMass=0,this.m_motorImpulse=0,this.m_lowerTranslation=t.lowerTranslation,this.m_upperTranslation=t.upperTranslation,this.m_maxMotorForce=t.maxMotorForce,this.m_motorSpeed=t.motorSpeed,this.m_enableLimit=t.enableLimit,this.m_enableMotor=t.enableMotor,this.m_limitState=0,this.m_axis.setZero(),this.m_perp.setZero()};s["box2D.dynamics.joints.B2PrismaticJoint"]=Me,Me.__name__=["box2D","dynamics","joints","B2PrismaticJoint"],Me.__super__=pe,Me.prototype=n(pe.prototype,{getAnchorA:function(){return this.m_bodyA.getWorldPoint(this.m_localAnchor1)},getAnchorB:function(){return this.m_bodyB.getWorldPoint(this.m_localAnchor2)},getReactionForce:function(t){return new tt(t*(this.m_impulse.x*this.m_perp.x+(this.m_motorImpulse+this.m_impulse.z)*this.m_axis.x),t*(this.m_impulse.x*this.m_perp.y+(this.m_motorImpulse+this.m_impulse.z)*this.m_axis.y))},getReactionTorque:function(t){return t*this.m_impulse.y},getJointTranslation:function(){var t=this.m_bodyA,e=this.m_bodyB,i=t.getWorldPoint(this.m_localAnchor1),n=e.getWorldPoint(this.m_localAnchor2),a=n.x-i.x,s=n.y-i.y,r=t.getWorldVector(this.m_localXAxis1),o=r.x*a+r.y*s;return o},getJointSpeed:function(){var t,e=this.m_bodyA,i=this.m_bodyB;t=e.m_xf.R;var n=this.m_localAnchor1.x-e.m_sweep.localCenter.x,a=this.m_localAnchor1.y-e.m_sweep.localCenter.y,s=t.col1.x*n+t.col2.x*a;a=t.col1.y*n+t.col2.y*a,n=s,t=i.m_xf.R;var r=this.m_localAnchor2.x-i.m_sweep.localCenter.x,o=this.m_localAnchor2.y-i.m_sweep.localCenter.y;s=t.col1.x*r+t.col2.x*o,o=t.col1.y*r+t.col2.y*o,r=s;var l=e.m_sweep.c.x+n,_=e.m_sweep.c.y+a,h=i.m_sweep.c.x+r,c=i.m_sweep.c.y+o,u=h-l,d=c-_,m=e.getWorldVector(this.m_localXAxis1),f=e.m_linearVelocity,p=i.m_linearVelocity,g=e.m_angularVelocity,v=i.m_angularVelocity,y=u*(-g*m.y)+d*(g*m.x)+(m.x*(p.x+-v*o-f.x- -g*a)+m.y*(p.y+v*r-f.y-g*n));return y},isLimitEnabled:function(){return this.m_enableLimit},enableLimit:function(t){this.m_bodyA.setAwake(!0),this.m_bodyB.setAwake(!0),this.m_enableLimit=t},getLowerLimit:function(){return this.m_lowerTranslation},getUpperLimit:function(){return this.m_upperTranslation},setLimits:function(t,e){this.m_bodyA.setAwake(!0),this.m_bodyB.setAwake(!0),this.m_lowerTranslation=t,this.m_upperTranslation=e},isMotorEnabled:function(){return this.m_enableMotor},enableMotor:function(t){this.m_bodyA.setAwake(!0),this.m_bodyB.setAwake(!0),this.m_enableMotor=t},setMotorSpeed:function(t){this.m_bodyA.setAwake(!0),this.m_bodyB.setAwake(!0),this.m_motorSpeed=t},getMotorSpeed:function(){return this.m_motorSpeed},setMaxMotorForce:function(t){this.m_bodyA.setAwake(!0),this.m_bodyB.setAwake(!0),this.m_maxMotorForce=t},getMotorForce:function(){return this.m_motorImpulse},initVelocityConstraints:function(t){var e,i,n=this.m_bodyA,a=this.m_bodyB;this.m_localCenterA.setV(n.getLocalCenter()),this.m_localCenterB.setV(a.getLocalCenter());var s=n.getTransform();a.getTransform();e=n.m_xf.R;var r=this.m_localAnchor1.x-this.m_localCenterA.x,o=this.m_localAnchor1.y-this.m_localCenterA.y;i=e.col1.x*r+e.col2.x*o,o=e.col1.y*r+e.col2.y*o,r=i,e=a.m_xf.R;var l=this.m_localAnchor2.x-this.m_localCenterB.x,_=this.m_localAnchor2.y-this.m_localCenterB.y;i=e.col1.x*l+e.col2.x*_,_=e.col1.y*l+e.col2.y*_,l=i;var h=a.m_sweep.c.x+l-n.m_sweep.c.x-r,c=a.m_sweep.c.y+_-n.m_sweep.c.y-o;this.m_invMassA=n.m_invMass,this.m_invMassB=a.m_invMass,this.m_invIA=n.m_invI,this.m_invIB=a.m_invI,this.m_axis.setV(Ut.mulMV(s.R,this.m_localXAxis1)),this.m_a1=(h+r)*this.m_axis.y-(c+o)*this.m_axis.x,this.m_a2=l*this.m_axis.y-_*this.m_axis.x,this.m_motorMass=this.m_invMassA+this.m_invMassB+this.m_invIA*this.m_a1*this.m_a1+this.m_invIB*this.m_a2*this.m_a2,this.m_motorMass>Number.MIN_VALUE&&(this.m_motorMass=1/this.m_motorMass),this.m_perp.setV(Ut.mulMV(s.R,this.m_localYAxis1)),this.m_s1=(h+r)*this.m_perp.y-(c+o)*this.m_perp.x,this.m_s2=l*this.m_perp.y-_*this.m_perp.x;var u=this.m_invMassA,d=this.m_invMassB,m=this.m_invIA,f=this.m_invIB;if(this.m_K.col1.x=u+d+m*this.m_s1*this.m_s1+f*this.m_s2*this.m_s2,this.m_K.col1.y=m*this.m_s1+f*this.m_s2,this.m_K.col1.z=m*this.m_s1*this.m_a1+f*this.m_s2*this.m_a2,this.m_K.col2.x=this.m_K.col1.y,this.m_K.col2.y=m+f,this.m_K.col2.z=m*this.m_a1+f*this.m_a2,this.m_K.col3.x=this.m_K.col1.z,this.m_K.col3.y=this.m_K.col2.z,this.m_K.col3.z=u+d+m*this.m_a1*this.m_a1+f*this.m_a2*this.m_a2,this.m_enableLimit){var p=this.m_axis.x*h+this.m_axis.y*c;Ut.abs(this.m_upperTranslation-this.m_lowerTranslation)<2*kt.b2_linearSlop?this.m_limitState=3:p<=this.m_lowerTranslation?1!=this.m_limitState&&(this.m_limitState=1,this.m_impulse.z=0):p>=this.m_upperTranslation?2!=this.m_limitState&&(this.m_limitState=2,this.m_impulse.z=0):(this.m_limitState=0,this.m_impulse.z=0)}else this.m_limitState=0;if(0==this.m_enableMotor&&(this.m_motorImpulse=0),t.warmStarting){this.m_impulse.x*=t.dtRatio,this.m_impulse.y*=t.dtRatio,this.m_motorImpulse*=t.dtRatio;var g=this.m_impulse.x*this.m_perp.x+(this.m_motorImpulse+this.m_impulse.z)*this.m_axis.x,v=this.m_impulse.x*this.m_perp.y+(this.m_motorImpulse+this.m_impulse.z)*this.m_axis.y,y=this.m_impulse.x*this.m_s1+this.m_impulse.y+(this.m_motorImpulse+this.m_impulse.z)*this.m_a1,x=this.m_impulse.x*this.m_s2+this.m_impulse.y+(this.m_motorImpulse+this.m_impulse.z)*this.m_a2;n.m_linearVelocity.x-=this.m_invMassA*g,n.m_linearVelocity.y-=this.m_invMassA*v,n.m_angularVelocity-=this.m_invIA*y,a.m_linearVelocity.x+=this.m_invMassB*g,a.m_linearVelocity.y+=this.m_invMassB*v,a.m_angularVelocity+=this.m_invIB*x}else this.m_impulse.setZero(),this.m_motorImpulse=0},solveVelocityConstraints:function(t){var e,i,n,a,s=this.m_bodyA,r=this.m_bodyB,o=s.m_linearVelocity,l=s.m_angularVelocity,_=r.m_linearVelocity,h=r.m_angularVelocity;if(this.m_enableMotor&&3!=this.m_limitState){var c=this.m_axis.x*(_.x-o.x)+this.m_axis.y*(_.y-o.y)+this.m_a2*h-this.m_a1*l,u=this.m_motorMass*(this.m_motorSpeed-c),d=this.m_motorImpulse,m=t.dt*this.m_maxMotorForce;this.m_motorImpulse=Ut.clamp(this.m_motorImpulse+u,-m,m),u=this.m_motorImpulse-d,e=u*this.m_axis.x,i=u*this.m_axis.y,n=u*this.m_a1,a=u*this.m_a2,o.x-=this.m_invMassA*e,o.y-=this.m_invMassA*i,l-=this.m_invIA*n,_.x+=this.m_invMassB*e,_.y+=this.m_invMassB*i,h+=this.m_invIB*a}var f=this.m_perp.x*(_.x-o.x)+this.m_perp.y*(_.y-o.y)+this.m_s2*h-this.m_s1*l,p=h-l;if(this.m_enableLimit&&0!=this.m_limitState){var g=this.m_axis.x*(_.x-o.x)+this.m_axis.y*(_.y-o.y)+this.m_a2*h-this.m_a1*l,v=this.m_impulse.copy(),y=this.m_K.solve33(new Gt,-f,-p,-g);this.m_impulse.add(y),1==this.m_limitState?this.m_impulse.z=Ut.max(this.m_impulse.z,0):2==this.m_limitState&&(this.m_impulse.z=Ut.min(this.m_impulse.z,0));var x=-f-(this.m_impulse.z-v.z)*this.m_K.col3.x,b=-p-(this.m_impulse.z-v.z)*this.m_K.col3.y,w=this.m_K.solve22(new tt,x,b);w.x+=v.x,w.y+=v.y,this.m_impulse.x=w.x,this.m_impulse.y=w.y,y.x=this.m_impulse.x-v.x,y.y=this.m_impulse.y-v.y,y.z=this.m_impulse.z-v.z,e=y.x*this.m_perp.x+y.z*this.m_axis.x,i=y.x*this.m_perp.y+y.z*this.m_axis.y,n=y.x*this.m_s1+y.y+y.z*this.m_a1,a=y.x*this.m_s2+y.y+y.z*this.m_a2,o.x-=this.m_invMassA*e,o.y-=this.m_invMassA*i,l-=this.m_invIA*n,_.x+=this.m_invMassB*e,_.y+=this.m_invMassB*i,h+=this.m_invIB*a}else{var T=this.m_K.solve22(new tt,-f,-p);this.m_impulse.x+=T.x,this.m_impulse.y+=T.y,e=T.x*this.m_perp.x,i=T.x*this.m_perp.y,n=T.x*this.m_s1+T.y,a=T.x*this.m_s2+T.y,o.x-=this.m_invMassA*e,o.y-=this.m_invMassA*i,l-=this.m_invIA*n,_.x+=this.m_invMassB*e,_.y+=this.m_invMassB*i,h+=this.m_invIB*a}s.m_linearVelocity.setV(o),s.m_angularVelocity=l,r.m_linearVelocity.setV(_),r.m_angularVelocity=h},solvePositionConstraints:function(t){var e,i,n,a,s,r,o=this.m_bodyA,l=this.m_bodyB,_=o.m_sweep.c,h=o.m_sweep.a,c=l.m_sweep.c,u=l.m_sweep.a,d=0,m=0,f=!1,p=0,g=It.fromAngle(h),v=It.fromAngle(u);e=g;var y=this.m_localAnchor1.x-this.m_localCenterA.x,x=this.m_localAnchor1.y-this.m_localCenterA.y;i=e.col1.x*y+e.col2.x*x,x=e.col1.y*y+e.col2.y*x,y=i,e=v;var b=this.m_localAnchor2.x-this.m_localCenterB.x,w=this.m_localAnchor2.y-this.m_localCenterB.y;i=e.col1.x*b+e.col2.x*w,w=e.col1.y*b+e.col2.y*w,b=i;var T=c.x+b-_.x-y,A=c.y+w-_.y-x;if(this.m_enableLimit){this.m_axis=Ut.mulMV(g,this.m_localXAxis1),this.m_a1=(T+y)*this.m_axis.y-(A+x)*this.m_axis.x,this.m_a2=b*this.m_axis.y-w*this.m_axis.x;var E=this.m_axis.x*T+this.m_axis.y*A;Ut.abs(this.m_upperTranslation-this.m_lowerTranslation)<2*kt.b2_linearSlop?(p=Ut.clamp(E,-kt.b2_maxLinearCorrection,kt.b2_maxLinearCorrection),d=Ut.abs(E),f=!0):E<=this.m_lowerTranslation?(p=Ut.clamp(E-this.m_lowerTranslation+kt.b2_linearSlop,-kt.b2_maxLinearCorrection,0),d=this.m_lowerTranslation-E,f=!0):E>=this.m_upperTranslation&&(p=Ut.clamp(E-this.m_upperTranslation+kt.b2_linearSlop,0,kt.b2_maxLinearCorrection),d=E-this.m_upperTranslation,f=!0)}this.m_perp=Ut.mulMV(g,this.m_localYAxis1),this.m_s1=(T+y)*this.m_perp.y-(A+x)*this.m_perp.x,this.m_s2=b*this.m_perp.y-w*this.m_perp.x;var S=new Gt,C=this.m_perp.x*T+this.m_perp.y*A,I=u-h-this.m_refAngle;if(d=Ut.max(d,Ut.abs(C)),m=Ut.abs(I),f)n=this.m_invMassA,a=this.m_invMassB,s=this.m_invIA,r=this.m_invIB,this.m_K.col1.x=n+a+s*this.m_s1*this.m_s1+r*this.m_s2*this.m_s2,this.m_K.col1.y=s*this.m_s1+r*this.m_s2,this.m_K.col1.z=s*this.m_s1*this.m_a1+r*this.m_s2*this.m_a2,this.m_K.col2.x=this.m_K.col1.y,this.m_K.col2.y=s+r,this.m_K.col2.z=s*this.m_a1+r*this.m_a2,this.m_K.col3.x=this.m_K.col1.z,this.m_K.col3.y=this.m_K.col2.z,this.m_K.col3.z=n+a+s*this.m_a1*this.m_a1+r*this.m_a2*this.m_a2,this.m_K.solve33(S,-C,-I,-p);else{n=this.m_invMassA,a=this.m_invMassB,s=this.m_invIA,r=this.m_invIB;var L=n+a+s*this.m_s1*this.m_s1+r*this.m_s2*this.m_s2,M=s*this.m_s1+r*this.m_s2,B=s+r;this.m_K.col1.set(L,M,0),this.m_K.col2.set(M,B,0);var R=this.m_K.solve22(new tt,-C,-I);S.x=R.x,S.y=R.y,S.z=0}var D=S.x*this.m_perp.x+S.z*this.m_axis.x,P=S.x*this.m_perp.y+S.z*this.m_axis.y,N=S.x*this.m_s1+S.y+S.z*this.m_a1,F=S.x*this.m_s2+S.y+S.z*this.m_a2;return _.x-=this.m_invMassA*D,_.y-=this.m_invMassA*P,h-=this.m_invIA*N,c.x+=this.m_invMassB*D,c.y+=this.m_invMassB*P,u+=this.m_invIB*F,o.m_sweep.a=h,l.m_sweep.a=u,o.synchronizeTransform(),l.synchronizeTransform(),d<=kt.b2_linearSlop&&m<=kt.b2_angularSlop},__class__:Me});var Be=function(){ve.call(this),this.localAnchorA=new tt,this.localAnchorB=new tt,this.localAxisA=new tt,this.type=2,this.localAxisA.set(1,0),this.referenceAngle=0,this.enableLimit=!1,this.lowerTranslation=0,this.upperTranslation=0,this.enableMotor=!1,this.maxMotorForce=0,this.motorSpeed=0};s["box2D.dynamics.joints.B2PrismaticJointDef"]=Be,Be.__name__=["box2D","dynamics","joints","B2PrismaticJointDef"],Be.__super__=ve,Be.prototype=n(ve.prototype,{initialize:function(t,e,i,n){this.bodyA=t,this.bodyB=e,this.localAnchorA=this.bodyA.getLocalPoint(i),this.localAnchorB=this.bodyB.getLocalPoint(i),this.localAxisA=this.bodyA.getLocalVector(n),this.referenceAngle=this.bodyB.getAngle()-this.bodyA.getAngle()},__class__:Be});var Re=function(t){pe.call(this,t),this.m_groundAnchor1=new tt,this.m_groundAnchor2=new tt,this.m_localAnchor1=new tt,this.m_localAnchor2=new tt,this.m_u1=new tt,this.m_u2=new tt;this.m_ground=this.m_bodyA.m_world.m_groundBody,this.m_groundAnchor1.x=t.groundAnchorA.x-this.m_ground.m_xf.position.x,this.m_groundAnchor1.y=t.groundAnchorA.y-this.m_ground.m_xf.position.y,this.m_groundAnchor2.x=t.groundAnchorB.x-this.m_ground.m_xf.position.x,this.m_groundAnchor2.y=t.groundAnchorB.y-this.m_ground.m_xf.position.y,this.m_localAnchor1.setV(t.localAnchorA),this.m_localAnchor2.setV(t.localAnchorB),this.m_ratio=t.ratio,this.m_constant=t.lengthA+this.m_ratio*t.lengthB,this.m_maxLength1=Ut.min(t.maxLengthA,this.m_constant-this.m_ratio*Re.b2_minPulleyLength),this.m_maxLength2=Ut.min(t.maxLengthB,(this.m_constant-Re.b2_minPulleyLength)/this.m_ratio),this.m_impulse=0,this.m_limitImpulse1=0,this.m_limitImpulse2=0};s["box2D.dynamics.joints.B2PulleyJoint"]=Re,Re.__name__=["box2D","dynamics","joints","B2PulleyJoint"],Re.__super__=pe,Re.prototype=n(pe.prototype,{getAnchorA:function(){return this.m_bodyA.getWorldPoint(this.m_localAnchor1)},getAnchorB:function(){return this.m_bodyB.getWorldPoint(this.m_localAnchor2)},getReactionForce:function(t){return new tt(t*this.m_impulse*this.m_u2.x,t*this.m_impulse*this.m_u2.y)},getReactionTorque:function(t){return 0},getGroundAnchorA:function(){var t=this.m_ground.m_xf.position.copy();return t.add(this.m_groundAnchor1),t},getGroundAnchorB:function(){var t=this.m_ground.m_xf.position.copy();return t.add(this.m_groundAnchor2),t},getLength1:function(){var t=this.m_bodyA.getWorldPoint(this.m_localAnchor1),e=this.m_ground.m_xf.position.x+this.m_groundAnchor1.x,i=this.m_ground.m_xf.position.y+this.m_groundAnchor1.y,n=t.x-e,a=t.y-i;return Math.sqrt(n*n+a*a)},getLength2:function(){var t=this.m_bodyB.getWorldPoint(this.m_localAnchor2),e=this.m_ground.m_xf.position.x+this.m_groundAnchor2.x,i=this.m_ground.m_xf.position.y+this.m_groundAnchor2.y,n=t.x-e,a=t.y-i;return Math.sqrt(n*n+a*a)},getRatio:function(){return this.m_ratio},initVelocityConstraints:function(t){var e,i=this.m_bodyA,n=this.m_bodyB;e=i.m_xf.R;var a=this.m_localAnchor1.x-i.m_sweep.localCenter.x,s=this.m_localAnchor1.y-i.m_sweep.localCenter.y,r=e.col1.x*a+e.col2.x*s;s=e.col1.y*a+e.col2.y*s,a=r,e=n.m_xf.R;var o=this.m_localAnchor2.x-n.m_sweep.localCenter.x,l=this.m_localAnchor2.y-n.m_sweep.localCenter.y;r=e.col1.x*o+e.col2.x*l,l=e.col1.y*o+e.col2.y*l,o=r;var _=i.m_sweep.c.x+a,h=i.m_sweep.c.y+s,c=n.m_sweep.c.x+o,u=n.m_sweep.c.y+l,d=this.m_ground.m_xf.position.x+this.m_groundAnchor1.x,m=this.m_ground.m_xf.position.y+this.m_groundAnchor1.y,f=this.m_ground.m_xf.position.x+this.m_groundAnchor2.x,p=this.m_ground.m_xf.position.y+this.m_groundAnchor2.y;this.m_u1.set(_-d,h-m),this.m_u2.set(c-f,u-p);var g=this.m_u1.length(),v=this.m_u2.length();g>kt.b2_linearSlop?this.m_u1.multiply(1/g):this.m_u1.setZero(),v>kt.b2_linearSlop?this.m_u2.multiply(1/v):this.m_u2.setZero();var y=this.m_constant-g-this.m_ratio*v;y>0?(this.m_state=0,this.m_impulse=0):this.m_state=2,g<this.m_maxLength1?(this.m_limitState1=0,this.m_limitImpulse1=0):this.m_limitState1=2,v<this.m_maxLength2?(this.m_limitState2=0,this.m_limitImpulse2=0):this.m_limitState2=2;var x=a*this.m_u1.y-s*this.m_u1.x,b=o*this.m_u2.y-l*this.m_u2.x;if(this.m_limitMass1=i.m_invMass+i.m_invI*x*x,this.m_limitMass2=n.m_invMass+n.m_invI*b*b,this.m_pulleyMass=this.m_limitMass1+this.m_ratio*this.m_ratio*this.m_limitMass2,this.m_limitMass1=1/this.m_limitMass1,this.m_limitMass2=1/this.m_limitMass2,this.m_pulleyMass=1/this.m_pulleyMass,t.warmStarting){this.m_impulse*=t.dtRatio,this.m_limitImpulse1*=t.dtRatio,this.m_limitImpulse2*=t.dtRatio;var w=(-this.m_impulse-this.m_limitImpulse1)*this.m_u1.x,T=(-this.m_impulse-this.m_limitImpulse1)*this.m_u1.y,A=(-this.m_ratio*this.m_impulse-this.m_limitImpulse2)*this.m_u2.x,E=(-this.m_ratio*this.m_impulse-this.m_limitImpulse2)*this.m_u2.y;i.m_linearVelocity.x+=i.m_invMass*w,i.m_linearVelocity.y+=i.m_invMass*T,i.m_angularVelocity+=i.m_invI*(a*T-s*w),n.m_linearVelocity.x+=n.m_invMass*A,n.m_linearVelocity.y+=n.m_invMass*E,n.m_angularVelocity+=n.m_invI*(o*E-l*A)}else this.m_impulse=0,this.m_limitImpulse1=0,this.m_limitImpulse2=0},solveVelocityConstraints:function(t){var e,i=this.m_bodyA,n=this.m_bodyB;e=i.m_xf.R;var a=this.m_localAnchor1.x-i.m_sweep.localCenter.x,s=this.m_localAnchor1.y-i.m_sweep.localCenter.y,r=e.col1.x*a+e.col2.x*s;s=e.col1.y*a+e.col2.y*s,a=r,e=n.m_xf.R;var o=this.m_localAnchor2.x-n.m_sweep.localCenter.x,l=this.m_localAnchor2.y-n.m_sweep.localCenter.y;r=e.col1.x*o+e.col2.x*l,l=e.col1.y*o+e.col2.y*l,o=r;var _,h,c,u,d,m,f,p,g,v,y;2==this.m_state&&(_=i.m_linearVelocity.x+-i.m_angularVelocity*s,h=i.m_linearVelocity.y+i.m_angularVelocity*a,c=n.m_linearVelocity.x+-n.m_angularVelocity*l,u=n.m_linearVelocity.y+n.m_angularVelocity*o,g=-(this.m_u1.x*_+this.m_u1.y*h)-this.m_ratio*(this.m_u2.x*c+this.m_u2.y*u),v=this.m_pulleyMass*-g,y=this.m_impulse,this.m_impulse=Ut.max(0,this.m_impulse+v),v=this.m_impulse-y,d=-v*this.m_u1.x,m=-v*this.m_u1.y,f=-this.m_ratio*v*this.m_u2.x,p=-this.m_ratio*v*this.m_u2.y,i.m_linearVelocity.x+=i.m_invMass*d,i.m_linearVelocity.y+=i.m_invMass*m,i.m_angularVelocity+=i.m_invI*(a*m-s*d),n.m_linearVelocity.x+=n.m_invMass*f,n.m_linearVelocity.y+=n.m_invMass*p,n.m_angularVelocity+=n.m_invI*(o*p-l*f)),2==this.m_limitState1&&(_=i.m_linearVelocity.x+-i.m_angularVelocity*s,h=i.m_linearVelocity.y+i.m_angularVelocity*a,g=-(this.m_u1.x*_+this.m_u1.y*h),v=-this.m_limitMass1*g,y=this.m_limitImpulse1,this.m_limitImpulse1=Ut.max(0,this.m_limitImpulse1+v),v=this.m_limitImpulse1-y,d=-v*this.m_u1.x,m=-v*this.m_u1.y,i.m_linearVelocity.x+=i.m_invMass*d,i.m_linearVelocity.y+=i.m_invMass*m,i.m_angularVelocity+=i.m_invI*(a*m-s*d)),2==this.m_limitState2&&(c=n.m_linearVelocity.x+-n.m_angularVelocity*l,u=n.m_linearVelocity.y+n.m_angularVelocity*o,g=-(this.m_u2.x*c+this.m_u2.y*u),v=-this.m_limitMass2*g,y=this.m_limitImpulse2,this.m_limitImpulse2=Ut.max(0,this.m_limitImpulse2+v),v=this.m_limitImpulse2-y,f=-v*this.m_u2.x,p=-v*this.m_u2.y,n.m_linearVelocity.x+=n.m_invMass*f,n.m_linearVelocity.y+=n.m_invMass*p,n.m_angularVelocity+=n.m_invI*(o*p-l*f))},solvePositionConstraints:function(t){var e,i,n,a,s,r,o,l,_,h,c,u,d,m,f=this.m_bodyA,p=this.m_bodyB,g=this.m_ground.m_xf.position.x+this.m_groundAnchor1.x,v=this.m_ground.m_xf.position.y+this.m_groundAnchor1.y,y=this.m_ground.m_xf.position.x+this.m_groundAnchor2.x,x=this.m_ground.m_xf.position.y+this.m_groundAnchor2.y,b=0;return 2==this.m_state&&(e=f.m_xf.R,i=this.m_localAnchor1.x-f.m_sweep.localCenter.x,n=this.m_localAnchor1.y-f.m_sweep.localCenter.y,m=e.col1.x*i+e.col2.x*n,n=e.col1.y*i+e.col2.y*n,i=m,e=p.m_xf.R,a=this.m_localAnchor2.x-p.m_sweep.localCenter.x,s=this.m_localAnchor2.y-p.m_sweep.localCenter.y,m=e.col1.x*a+e.col2.x*s,s=e.col1.y*a+e.col2.y*s,a=m,r=f.m_sweep.c.x+i,o=f.m_sweep.c.y+n,l=p.m_sweep.c.x+a,_=p.m_sweep.c.y+s,this.m_u1.set(r-g,o-v),this.m_u2.set(l-y,_-x),h=this.m_u1.length(),c=this.m_u2.length(),h>kt.b2_linearSlop?this.m_u1.multiply(1/h):this.m_u1.setZero(),c>kt.b2_linearSlop?this.m_u2.multiply(1/c):this.m_u2.setZero(),u=this.m_constant-h-this.m_ratio*c,b=Ut.max(b,-u),u=Ut.clamp(u+kt.b2_linearSlop,-kt.b2_maxLinearCorrection,0),d=-this.m_pulleyMass*u,r=-d*this.m_u1.x,o=-d*this.m_u1.y,l=-this.m_ratio*d*this.m_u2.x,_=-this.m_ratio*d*this.m_u2.y,f.m_sweep.c.x+=f.m_invMass*r,f.m_sweep.c.y+=f.m_invMass*o,f.m_sweep.a+=f.m_invI*(i*o-n*r),p.m_sweep.c.x+=p.m_invMass*l,p.m_sweep.c.y+=p.m_invMass*_,p.m_sweep.a+=p.m_invI*(a*_-s*l),f.synchronizeTransform(),p.synchronizeTransform()),2==this.m_limitState1&&(e=f.m_xf.R,i=this.m_localAnchor1.x-f.m_sweep.localCenter.x,n=this.m_localAnchor1.y-f.m_sweep.localCenter.y,m=e.col1.x*i+e.col2.x*n,n=e.col1.y*i+e.col2.y*n,i=m,r=f.m_sweep.c.x+i,o=f.m_sweep.c.y+n,this.m_u1.set(r-g,o-v),h=this.m_u1.length(),h>kt.b2_linearSlop?(this.m_u1.x*=1/h,this.m_u1.y*=1/h):this.m_u1.setZero(),u=this.m_maxLength1-h,b=Ut.max(b,-u),u=Ut.clamp(u+kt.b2_linearSlop,-kt.b2_maxLinearCorrection,0),d=-this.m_limitMass1*u,r=-d*this.m_u1.x,o=-d*this.m_u1.y,f.m_sweep.c.x+=f.m_invMass*r,f.m_sweep.c.y+=f.m_invMass*o,f.m_sweep.a+=f.m_invI*(i*o-n*r),f.synchronizeTransform()),2==this.m_limitState2&&(e=p.m_xf.R,a=this.m_localAnchor2.x-p.m_sweep.localCenter.x,s=this.m_localAnchor2.y-p.m_sweep.localCenter.y,m=e.col1.x*a+e.col2.x*s,s=e.col1.y*a+e.col2.y*s,a=m,l=p.m_sweep.c.x+a,_=p.m_sweep.c.y+s,this.m_u2.set(l-y,_-x),c=this.m_u2.length(),c>kt.b2_linearSlop?(this.m_u2.x*=1/c,this.m_u2.y*=1/c):this.m_u2.setZero(),u=this.m_maxLength2-c,b=Ut.max(b,-u),u=Ut.clamp(u+kt.b2_linearSlop,-kt.b2_maxLinearCorrection,0),d=-this.m_limitMass2*u,l=-d*this.m_u2.x,_=-d*this.m_u2.y,p.m_sweep.c.x+=p.m_invMass*l,p.m_sweep.c.y+=p.m_invMass*_,p.m_sweep.a+=p.m_invI*(a*_-s*l),p.synchronizeTransform()),b<kt.b2_linearSlop},__class__:Re});var De=function(){ve.call(this),this.groundAnchorA=new tt,this.groundAnchorB=new tt,this.localAnchorA=new tt,this.localAnchorB=new tt,this.type=4,this.groundAnchorA.set(-1,1),this.groundAnchorB.set(1,1),this.localAnchorA.set(-1,0),this.localAnchorB.set(1,0),this.lengthA=0,this.maxLengthA=0,this.lengthB=0,this.maxLengthB=0,this.ratio=1,this.collideConnected=!0};s["box2D.dynamics.joints.B2PulleyJointDef"]=De,De.__name__=["box2D","dynamics","joints","B2PulleyJointDef"],De.__super__=ve,De.prototype=n(ve.prototype,{initialize:function(t,e,i,n,a,s,r){this.bodyA=t,this.bodyB=e,this.groundAnchorA.setV(i),this.groundAnchorB.setV(n),this.localAnchorA=this.bodyA.getLocalPoint(a),this.localAnchorB=this.bodyB.getLocalPoint(s);var o=a.x-i.x,l=a.y-i.y;this.lengthA=Math.sqrt(o*o+l*l);var _=s.x-n.x,h=s.y-n.y;this.lengthB=Math.sqrt(_*_+h*h),this.ratio=r;var c=this.lengthA+this.ratio*this.lengthB;this.maxLengthA=c-this.ratio*Re.b2_minPulleyLength,this.maxLengthB=(c-Re.b2_minPulleyLength)/this.ratio},__class__:De});var Pe=function(t){pe.call(this,t),this.K=new It,this.K1=new It,this.K2=new It,this.K3=new It,this.impulse3=new Gt,this.impulse2=new tt,this.reduced=new tt,this.m_localAnchor1=new tt,this.m_localAnchor2=new tt,this.m_impulse=new Gt,this.m_mass=new Ot,this.m_localAnchor1.setV(t.localAnchorA),this.m_localAnchor2.setV(t.localAnchorB),this.m_referenceAngle=t.referenceAngle,this.m_impulse.setZero(),this.m_motorImpulse=0,this.m_lowerAngle=t.lowerAngle,this.m_upperAngle=t.upperAngle,this.m_maxMotorTorque=t.maxMotorTorque,this.m_motorSpeed=t.motorSpeed,this.m_enableLimit=t.enableLimit,this.m_enableMotor=t.enableMotor,this.m_limitState=0};s["box2D.dynamics.joints.B2RevoluteJoint"]=Pe,Pe.__name__=["box2D","dynamics","joints","B2RevoluteJoint"],Pe.__super__=pe,Pe.prototype=n(pe.prototype,{getAnchorA:function(){return this.m_bodyA.getWorldPoint(this.m_localAnchor1)},getAnchorB:function(){return this.m_bodyB.getWorldPoint(this.m_localAnchor2)},getReactionForce:function(t){return new tt(t*this.m_impulse.x,t*this.m_impulse.y)},getReactionTorque:function(t){return t*this.m_impulse.z},getJointAngle:function(){return this.m_bodyB.m_sweep.a-this.m_bodyA.m_sweep.a-this.m_referenceAngle},getJointSpeed:function(){return this.m_bodyB.m_angularVelocity-this.m_bodyA.m_angularVelocity},isLimitEnabled:function(){return this.m_enableLimit},enableLimit:function(t){this.m_enableLimit=t},getLowerLimit:function(){return this.m_lowerAngle},getUpperLimit:function(){return this.m_upperAngle},setLimits:function(t,e){this.m_lowerAngle=t,this.m_upperAngle=e},isMotorEnabled:function(){return this.m_bodyA.setAwake(!0),this.m_bodyB.setAwake(!0),this.m_enableMotor},enableMotor:function(t){this.m_enableMotor=t},setMotorSpeed:function(t){this.m_bodyA.setAwake(!0),this.m_bodyB.setAwake(!0),this.m_motorSpeed=t},getMotorSpeed:function(){return this.m_motorSpeed},setMaxMotorTorque:function(t){this.m_maxMotorTorque=t},getMotorTorque:function(){return this.m_maxMotorTorque},initVelocityConstraints:function(t){var e,i,n=this.m_bodyA,a=this.m_bodyB;this.m_enableMotor||this.m_enableLimit,e=n.m_xf.R;var s=this.m_localAnchor1.x-n.m_sweep.localCenter.x,r=this.m_localAnchor1.y-n.m_sweep.localCenter.y;i=e.col1.x*s+e.col2.x*r,r=e.col1.y*s+e.col2.y*r,s=i,e=a.m_xf.R;var o=this.m_localAnchor2.x-a.m_sweep.localCenter.x,l=this.m_localAnchor2.y-a.m_sweep.localCenter.y;
i=e.col1.x*o+e.col2.x*l,l=e.col1.y*o+e.col2.y*l,o=i;var _=n.m_invMass,h=a.m_invMass,c=n.m_invI,u=a.m_invI;if(this.m_mass.col1.x=_+h+r*r*c+l*l*u,this.m_mass.col2.x=-r*s*c-l*o*u,this.m_mass.col3.x=-r*c-l*u,this.m_mass.col1.y=this.m_mass.col2.x,this.m_mass.col2.y=_+h+s*s*c+o*o*u,this.m_mass.col3.y=s*c+o*u,this.m_mass.col1.z=this.m_mass.col3.x,this.m_mass.col2.z=this.m_mass.col3.y,this.m_mass.col3.z=c+u,this.m_motorMass=1/(c+u),0==this.m_enableMotor&&(this.m_motorImpulse=0),this.m_enableLimit){var d=a.m_sweep.a-n.m_sweep.a-this.m_referenceAngle;Ut.abs(this.m_upperAngle-this.m_lowerAngle)<2*kt.b2_angularSlop?this.m_limitState=3:d<=this.m_lowerAngle?(1!=this.m_limitState&&(this.m_impulse.z=0),this.m_limitState=1):d>=this.m_upperAngle?(2!=this.m_limitState&&(this.m_impulse.z=0),this.m_limitState=2):(this.m_limitState=0,this.m_impulse.z=0)}else this.m_limitState=0;if(t.warmStarting){this.m_impulse.x*=t.dtRatio,this.m_impulse.y*=t.dtRatio,this.m_motorImpulse*=t.dtRatio;var m=this.m_impulse.x,f=this.m_impulse.y;n.m_linearVelocity.x-=_*m,n.m_linearVelocity.y-=_*f,n.m_angularVelocity-=c*(s*f-r*m+this.m_motorImpulse+this.m_impulse.z),a.m_linearVelocity.x+=h*m,a.m_linearVelocity.y+=h*f,a.m_angularVelocity+=u*(o*f-l*m+this.m_motorImpulse+this.m_impulse.z)}else this.m_impulse.setZero(),this.m_motorImpulse=0},solveVelocityConstraints:function(t){var e,i,n,a,s,r,o,l=this.m_bodyA,_=this.m_bodyB,h=l.m_linearVelocity,c=l.m_angularVelocity,u=_.m_linearVelocity,d=_.m_angularVelocity,m=l.m_invMass,f=_.m_invMass,p=l.m_invI,g=_.m_invI;if(this.m_enableMotor&&3!=this.m_limitState){var v=d-c-this.m_motorSpeed,y=this.m_motorMass*-v,x=this.m_motorImpulse,b=t.dt*this.m_maxMotorTorque;this.m_motorImpulse=Ut.clamp(this.m_motorImpulse+y,-b,b),y=this.m_motorImpulse-x,c-=p*y,d+=g*y}if(this.m_enableLimit&&0!=this.m_limitState){e=l.m_xf.R,a=this.m_localAnchor1.x-l.m_sweep.localCenter.x,s=this.m_localAnchor1.y-l.m_sweep.localCenter.y,i=e.col1.x*a+e.col2.x*s,s=e.col1.y*a+e.col2.y*s,a=i,e=_.m_xf.R,r=this.m_localAnchor2.x-_.m_sweep.localCenter.x,o=this.m_localAnchor2.y-_.m_sweep.localCenter.y,i=e.col1.x*r+e.col2.x*o,o=e.col1.y*r+e.col2.y*o,r=i;var w=u.x+-d*o-h.x- -c*s,T=u.y+d*r-h.y-c*a,A=d-c;this.m_mass.solve33(this.impulse3,-w,-T,-A),3==this.m_limitState?this.m_impulse.add(this.impulse3):1==this.m_limitState?(n=this.m_impulse.z+this.impulse3.z,n<0&&(this.m_mass.solve22(this.reduced,-w,-T),this.impulse3.x=this.reduced.x,this.impulse3.y=this.reduced.y,this.impulse3.z=-this.m_impulse.z,this.m_impulse.x+=this.reduced.x,this.m_impulse.y+=this.reduced.y,this.m_impulse.z=0)):2==this.m_limitState&&(n=this.m_impulse.z+this.impulse3.z,n>0&&(this.m_mass.solve22(this.reduced,-w,-T),this.impulse3.x=this.reduced.x,this.impulse3.y=this.reduced.y,this.impulse3.z=-this.m_impulse.z,this.m_impulse.x+=this.reduced.x,this.m_impulse.y+=this.reduced.y,this.m_impulse.z=0)),h.x-=m*this.impulse3.x,h.y-=m*this.impulse3.y,c-=p*(a*this.impulse3.y-s*this.impulse3.x+this.impulse3.z),u.x+=f*this.impulse3.x,u.y+=f*this.impulse3.y,d+=g*(r*this.impulse3.y-o*this.impulse3.x+this.impulse3.z)}else{e=l.m_xf.R,a=this.m_localAnchor1.x-l.m_sweep.localCenter.x,s=this.m_localAnchor1.y-l.m_sweep.localCenter.y,i=e.col1.x*a+e.col2.x*s,s=e.col1.y*a+e.col2.y*s,a=i,e=_.m_xf.R,r=this.m_localAnchor2.x-_.m_sweep.localCenter.x,o=this.m_localAnchor2.y-_.m_sweep.localCenter.y,i=e.col1.x*r+e.col2.x*o,o=e.col1.y*r+e.col2.y*o,r=i;var E=u.x+-d*o-h.x- -c*s,S=u.y+d*r-h.y-c*a;this.m_mass.solve22(this.impulse2,-E,-S),this.m_impulse.x+=this.impulse2.x,this.m_impulse.y+=this.impulse2.y,h.x-=m*this.impulse2.x,h.y-=m*this.impulse2.y,c-=p*(a*this.impulse2.y-s*this.impulse2.x),u.x+=f*this.impulse2.x,u.y+=f*this.impulse2.y,d+=g*(r*this.impulse2.y-o*this.impulse2.x)}l.m_linearVelocity.setV(h),l.m_angularVelocity=c,_.m_linearVelocity.setV(u),_.m_angularVelocity=d},solvePositionConstraints:function(t){var e,i,n,a,s,r=this.m_bodyA,o=this.m_bodyB,l=0,_=0;if(this.m_enableLimit&&0!=this.m_limitState){var h=o.m_sweep.a-r.m_sweep.a-this.m_referenceAngle,c=0;3==this.m_limitState?(e=Ut.clamp(h-this.m_lowerAngle,-kt.b2_maxAngularCorrection,kt.b2_maxAngularCorrection),c=-this.m_motorMass*e,l=Ut.abs(e)):1==this.m_limitState?(e=h-this.m_lowerAngle,l=-e,e=Ut.clamp(e+kt.b2_angularSlop,-kt.b2_maxAngularCorrection,0),c=-this.m_motorMass*e):2==this.m_limitState&&(e=h-this.m_upperAngle,l=e,e=Ut.clamp(e-kt.b2_angularSlop,0,kt.b2_maxAngularCorrection),c=-this.m_motorMass*e),r.m_sweep.a-=r.m_invI*c,o.m_sweep.a+=o.m_invI*c,r.synchronizeTransform(),o.synchronizeTransform()}i=r.m_xf.R;var u=this.m_localAnchor1.x-r.m_sweep.localCenter.x,d=this.m_localAnchor1.y-r.m_sweep.localCenter.y;n=i.col1.x*u+i.col2.x*d,d=i.col1.y*u+i.col2.y*d,u=n,i=o.m_xf.R;var m=this.m_localAnchor2.x-o.m_sweep.localCenter.x,f=this.m_localAnchor2.y-o.m_sweep.localCenter.y;n=i.col1.x*m+i.col2.x*f,f=i.col1.y*m+i.col2.y*f,m=n;var p=o.m_sweep.c.x+m-r.m_sweep.c.x-u,g=o.m_sweep.c.y+f-r.m_sweep.c.y-d,v=p*p+g*g,y=Math.sqrt(v);_=y;var x=r.m_invMass,b=o.m_invMass,w=r.m_invI,T=o.m_invI,A=10*kt.b2_linearSlop;if(v>A*A){var E=x+b,S=1/E;a=S*-p,s=S*-g;var C=.5;r.m_sweep.c.x-=C*x*a,r.m_sweep.c.y-=C*x*s,o.m_sweep.c.x+=C*b*a,o.m_sweep.c.y+=C*b*s,p=o.m_sweep.c.x+m-r.m_sweep.c.x-u,g=o.m_sweep.c.y+f-r.m_sweep.c.y-d}return this.K1.col1.x=x+b,this.K1.col2.x=0,this.K1.col1.y=0,this.K1.col2.y=x+b,this.K2.col1.x=w*d*d,this.K2.col2.x=-w*u*d,this.K2.col1.y=-w*u*d,this.K2.col2.y=w*u*u,this.K3.col1.x=T*f*f,this.K3.col2.x=-T*m*f,this.K3.col1.y=-T*m*f,this.K3.col2.y=T*m*m,this.K.setM(this.K1),this.K.addM(this.K2),this.K.addM(this.K3),this.K.solve(Pe.tImpulse,-p,-g),a=Pe.tImpulse.x,s=Pe.tImpulse.y,r.m_sweep.c.x-=r.m_invMass*a,r.m_sweep.c.y-=r.m_invMass*s,r.m_sweep.a-=r.m_invI*(u*s-d*a),o.m_sweep.c.x+=o.m_invMass*a,o.m_sweep.c.y+=o.m_invMass*s,o.m_sweep.a+=o.m_invI*(m*s-f*a),r.synchronizeTransform(),o.synchronizeTransform(),_<=kt.b2_linearSlop&&l<=kt.b2_angularSlop},__class__:Pe});var Ne=function(){ve.call(this),this.localAnchorA=new tt,this.localAnchorB=new tt,this.type=1,this.localAnchorA.set(0,0),this.localAnchorB.set(0,0),this.referenceAngle=0,this.lowerAngle=0,this.upperAngle=0,this.maxMotorTorque=0,this.motorSpeed=0,this.enableLimit=!1,this.enableMotor=!1};s["box2D.dynamics.joints.B2RevoluteJointDef"]=Ne,Ne.__name__=["box2D","dynamics","joints","B2RevoluteJointDef"],Ne.__super__=ve,Ne.prototype=n(ve.prototype,{initialize:function(t,e,i){this.bodyA=t,this.bodyB=e,this.localAnchorA=this.bodyA.getLocalPoint(i),this.localAnchorB=this.bodyB.getLocalPoint(i),this.referenceAngle=this.bodyB.getAngle()-this.bodyA.getAngle()},__class__:Ne});var Fe=function(t){pe.call(this,t),this.m_localAnchorA=new tt,this.m_localAnchorB=new tt,this.m_impulse=new Gt,this.m_mass=new Ot,this.m_localAnchorA.setV(t.localAnchorA),this.m_localAnchorB.setV(t.localAnchorB),this.m_referenceAngle=t.referenceAngle,this.m_impulse.setZero(),this.m_mass=new Ot};s["box2D.dynamics.joints.B2WeldJoint"]=Fe,Fe.__name__=["box2D","dynamics","joints","B2WeldJoint"],Fe.__super__=pe,Fe.prototype=n(pe.prototype,{getAnchorA:function(){return this.m_bodyA.getWorldPoint(this.m_localAnchorA)},getAnchorB:function(){return this.m_bodyB.getWorldPoint(this.m_localAnchorB)},getReactionForce:function(t){return new tt(t*this.m_impulse.x,t*this.m_impulse.y)},getReactionTorque:function(t){return t*this.m_impulse.z},initVelocityConstraints:function(t){var e,i,n=this.m_bodyA,a=this.m_bodyB;e=n.m_xf.R;var s=this.m_localAnchorA.x-n.m_sweep.localCenter.x,r=this.m_localAnchorA.y-n.m_sweep.localCenter.y;i=e.col1.x*s+e.col2.x*r,r=e.col1.y*s+e.col2.y*r,s=i,e=a.m_xf.R;var o=this.m_localAnchorB.x-a.m_sweep.localCenter.x,l=this.m_localAnchorB.y-a.m_sweep.localCenter.y;i=e.col1.x*o+e.col2.x*l,l=e.col1.y*o+e.col2.y*l,o=i;var _=n.m_invMass,h=a.m_invMass,c=n.m_invI,u=a.m_invI;this.m_mass.col1.x=_+h+r*r*c+l*l*u,this.m_mass.col2.x=-r*s*c-l*o*u,this.m_mass.col3.x=-r*c-l*u,this.m_mass.col1.y=this.m_mass.col2.x,this.m_mass.col2.y=_+h+s*s*c+o*o*u,this.m_mass.col3.y=s*c+o*u,this.m_mass.col1.z=this.m_mass.col3.x,this.m_mass.col2.z=this.m_mass.col3.y,this.m_mass.col3.z=c+u,t.warmStarting?(this.m_impulse.x*=t.dtRatio,this.m_impulse.y*=t.dtRatio,this.m_impulse.z*=t.dtRatio,n.m_linearVelocity.x-=_*this.m_impulse.x,n.m_linearVelocity.y-=_*this.m_impulse.y,n.m_angularVelocity-=c*(s*this.m_impulse.y-r*this.m_impulse.x+this.m_impulse.z),a.m_linearVelocity.x+=h*this.m_impulse.x,a.m_linearVelocity.y+=h*this.m_impulse.y,a.m_angularVelocity+=u*(o*this.m_impulse.y-l*this.m_impulse.x+this.m_impulse.z)):this.m_impulse.setZero()},solveVelocityConstraints:function(t){var e,i,n=this.m_bodyA,a=this.m_bodyB,s=n.m_linearVelocity,r=n.m_angularVelocity,o=a.m_linearVelocity,l=a.m_angularVelocity,_=n.m_invMass,h=a.m_invMass,c=n.m_invI,u=a.m_invI;e=n.m_xf.R;var d=this.m_localAnchorA.x-n.m_sweep.localCenter.x,m=this.m_localAnchorA.y-n.m_sweep.localCenter.y;i=e.col1.x*d+e.col2.x*m,m=e.col1.y*d+e.col2.y*m,d=i,e=a.m_xf.R;var f=this.m_localAnchorB.x-a.m_sweep.localCenter.x,p=this.m_localAnchorB.y-a.m_sweep.localCenter.y;i=e.col1.x*f+e.col2.x*p,p=e.col1.y*f+e.col2.y*p,f=i;var g=o.x-l*p-s.x+r*m,v=o.y+l*f-s.y-r*d,y=l-r,x=new Gt;this.m_mass.solve33(x,-g,-v,-y),this.m_impulse.add(x),s.x-=_*x.x,s.y-=_*x.y,r-=c*(d*x.y-m*x.x+x.z),o.x+=h*x.x,o.y+=h*x.y,l+=u*(f*x.y-p*x.x+x.z),n.m_angularVelocity=r,a.m_angularVelocity=l},solvePositionConstraints:function(t){var e,i,n=this.m_bodyA,a=this.m_bodyB;e=n.m_xf.R;var s=this.m_localAnchorA.x-n.m_sweep.localCenter.x,r=this.m_localAnchorA.y-n.m_sweep.localCenter.y;i=e.col1.x*s+e.col2.x*r,r=e.col1.y*s+e.col2.y*r,s=i,e=a.m_xf.R;var o=this.m_localAnchorB.x-a.m_sweep.localCenter.x,l=this.m_localAnchorB.y-a.m_sweep.localCenter.y;i=e.col1.x*o+e.col2.x*l,l=e.col1.y*o+e.col2.y*l,o=i;var _=n.m_invMass,h=a.m_invMass,c=n.m_invI,u=a.m_invI,d=a.m_sweep.c.x+o-n.m_sweep.c.x-s,m=a.m_sweep.c.y+l-n.m_sweep.c.y-r,f=a.m_sweep.a-n.m_sweep.a-this.m_referenceAngle,p=10*kt.b2_linearSlop,g=Math.sqrt(d*d+m*m),v=Ut.abs(f);g>p&&(c*=1,u*=1),this.m_mass.col1.x=_+h+r*r*c+l*l*u,this.m_mass.col2.x=-r*s*c-l*o*u,this.m_mass.col3.x=-r*c-l*u,this.m_mass.col1.y=this.m_mass.col2.x,this.m_mass.col2.y=_+h+s*s*c+o*o*u,this.m_mass.col3.y=s*c+o*u,this.m_mass.col1.z=this.m_mass.col3.x,this.m_mass.col2.z=this.m_mass.col3.y,this.m_mass.col3.z=c+u;var y=new Gt;return this.m_mass.solve33(y,-d,-m,-f),n.m_sweep.c.x-=_*y.x,n.m_sweep.c.y-=_*y.y,n.m_sweep.a-=c*(s*y.y-r*y.x+y.z),a.m_sweep.c.x+=h*y.x,a.m_sweep.c.y+=h*y.y,a.m_sweep.a+=u*(o*y.y-l*y.x+y.z),n.synchronizeTransform(),a.synchronizeTransform(),g<=kt.b2_linearSlop&&v<=kt.b2_angularSlop},__class__:Fe});var ke=function(){ve.call(this),this.localAnchorA=new tt,this.localAnchorB=new tt,this.type=8,this.referenceAngle=0};s["box2D.dynamics.joints.B2WeldJointDef"]=ke,ke.__name__=["box2D","dynamics","joints","B2WeldJointDef"],ke.__super__=ve,ke.prototype=n(ve.prototype,{initialize:function(t,e,i){this.bodyA=t,this.bodyB=e,this.localAnchorA.setV(this.bodyA.getLocalPoint(i)),this.localAnchorB.setV(this.bodyB.getLocalPoint(i)),this.referenceAngle=this.bodyB.getAngle()-this.bodyA.getAngle()},__class__:ke});var Oe=s["haxe.StackItem"]={__ename__:["haxe","StackItem"],__constructs__:["CFunction","Module","FilePos","Method","LocalFunction"]};Oe.CFunction=["CFunction",0],Oe.CFunction.toString=r,Oe.CFunction.__enum__=Oe,Oe.Module=function(t){var e=["Module",1,t];return e.__enum__=Oe,e.toString=r,e},Oe.FilePos=function(t,e,i){var n=["FilePos",2,t,e,i];return n.__enum__=Oe,n.toString=r,n},Oe.Method=function(t,e){var i=["Method",3,t,e];return i.__enum__=Oe,i.toString=r,i},Oe.LocalFunction=function(t){var e=["LocalFunction",4,t];return e.__enum__=Oe,e.toString=r,e};var Ue=function(){};s["haxe.CallStack"]=Ue,Ue.__name__=["haxe","CallStack"],Ue.lastException=null,Ue.getStack=function(t){if(null==t)return[];var e=Error.prepareStackTrace;Error.prepareStackTrace=function(t,e){for(var i=[],n=0;n<e.length;){var a=e[n];++n,null!=Ue.wrapCallSite&&(a=Ue.wrapCallSite(a));var s=null,r=a.getFunctionName();if(null!=r){var o=r.lastIndexOf(".");if(o>=0){var l=T.substr(r,0,o),_=T.substr(r,o+1,null);s=Oe.Method(l,_)}}i.push(Oe.FilePos(s,a.getFileName(),a.getLineNumber()))}return i};var i=Ue.makeStack(t.stack);return Error.prepareStackTrace=e,i},Ue.wrapCallSite=null,Ue.callStack=function(){try{throw new Error}catch(t){Ue.lastException=t,t instanceof ri&&(t=t.val);var e=Ue.getStack(t);return e.shift(),e}},Ue.exceptionStack=function(){return Ue.getStack(Ue.lastException)},Ue.toString=function(t){for(var e=new W,i=0;i<t.length;){var n=t[i];++i,e.b+="\nCalled from ",Ue.itemToString(e,n)}return e.b},Ue.itemToString=function(t,e){switch(e[1]){case 0:t.b+="a C function";break;case 1:var i=e[2];t.b+="module ",null==i?t.b+="null":t.b+=""+i;break;case 2:var n=e[4],a=e[3],s=e[2];null!=s&&(Ue.itemToString(t,s),t.b+=" ("),null==a?t.b+="null":t.b+=""+a,t.b+=" line ",null==n?t.b+="null":t.b+=""+n,null!=s&&(t.b+=")");break;case 3:var r=e[3],o=e[2];null==o?t.b+="null":t.b+=""+o,t.b+=".",null==r?t.b+="null":t.b+=""+r;break;case 4:var l=e[2];t.b+="local function #",null==l?t.b+="null":t.b+=""+l}},Ue.makeStack=function(t){if(null==t)return[];if("string"==typeof t){var e=t.split("\n");"Error"==e[0]&&e.shift();for(var i=[],n=new I("^   at ([A-Za-z0-9_. ]+) \\(([^)]+):([0-9]+):([0-9]+)\\)$",""),a=0;a<e.length;){var s=e[a];if(++a,n.match(s)){var r=n.matched(1).split("."),o=r.pop(),l=n.matched(2),_=G.parseInt(n.matched(3));i.push(Oe.FilePos("Anonymous function"==o?Oe.LocalFunction():"Global code"==o?null:Oe.Method(r.join("."),o),l,_))}else i.push(Oe.Module(X.trim(s)))}return i}return t};var Ve=function(){};s["haxe.IMap"]=Ve,Ve.__name__=["haxe","IMap"];var Ge=function(t,e){this.high=t,this.low=e};s["haxe._Int64.___Int64"]=Ge,Ge.__name__=["haxe","_Int64","___Int64"],Ge.prototype={__class__:Ge};var We=function(){};s["haxe.Log"]=We,We.__name__=["haxe","Log"],We.trace=function(t,e){return!1};var Xe=function(){this.buf=new W,this.cache=[],this.useCache=Xe.USE_CACHE,this.useEnumIndex=Xe.USE_ENUM_INDEX,this.shash=new Qe,this.scount=0};s["haxe.Serializer"]=Xe,Xe.__name__=["haxe","Serializer"],Xe.run=function(t){var e=new Xe;return e.serialize(t),e.toString()},Xe.prototype={toString:function(){return this.buf.b},serializeString:function(t){var e=this.shash.get(t);return null!=e?(this.buf.b+="R",void(null==e?this.buf.b+="null":this.buf.b+=""+e)):(this.shash.set(t,this.scount++),this.buf.b+="y",t=encodeURIComponent(t),null==t.length?this.buf.b+="null":this.buf.b+=""+t.length,this.buf.b+=":",void(null==t?this.buf.b+="null":this.buf.b+=""+t))},serializeRef:function(t){for(var e=typeof t,i=0,n=this.cache.length;i<n;){var a=i++,s=this.cache[a];if(typeof s==e&&s==t)return this.buf.b+="r",null==a?this.buf.b+="null":this.buf.b+=""+a,!0}return this.cache.push(t),!1},serializeFields:function(t){for(var e=0,i=U.fields(t);e<i.length;){var n=i[e];++e,this.serializeString(n),this.serialize(U.field(t,n))}this.buf.b+="g"},serialize:function(t){var e=J["typeof"](t);switch(e[1]){case 0:this.buf.b+="n";break;case 1:var i=t;if(0==i)return void(this.buf.b+="z");this.buf.b+="i",null==i?this.buf.b+="null":this.buf.b+=""+i;break;case 2:var n=t;isNaN(n)?this.buf.b+="k":isFinite(n)?(this.buf.b+="d",null==n?this.buf.b+="null":this.buf.b+=""+n):n<0?this.buf.b+="m":this.buf.b+="p";break;case 3:t?this.buf.b+="t":this.buf.b+="f";break;case 6:var a=e[2];if(a==String)return void this.serializeString(t);if(this.useCache&&this.serializeRef(t))return;switch(a){case Array:var s=0;this.buf.b+="a";for(var r=t.length,o=0;o<r;){var l=o++;null==t[l]?s++:(s>0&&(1==s?this.buf.b+="n":(this.buf.b+="u",null==s?this.buf.b+="null":this.buf.b+=""+s),s=0),this.serialize(t[l]))}s>0&&(1==s?this.buf.b+="n":(this.buf.b+="u",null==s?this.buf.b+="null":this.buf.b+=""+s)),this.buf.b+="h";break;case P:this.buf.b+="l";for(var _=t,h=_.h,c=null;null!=h;){var u;c=h[0],h=h[1],u=c,this.serialize(u)}this.buf.b+="h";break;case Date:var d=t;this.buf.b+="v",this.buf.add(d.getTime());break;case Qe:this.buf.b+="b";for(var m=t,f=m.keys();f.hasNext();){var p=f.next();this.serializeString(p),this.serialize(null!=ql[p]?m.getReserved(p):m.h[p])}this.buf.b+="h";break;case qe:this.buf.b+="q";for(var g=t,v=g.keys();v.hasNext();){var y=v.next();this.buf.b+=":",null==y?this.buf.b+="null":this.buf.b+=""+y,this.serialize(g.h[y])}this.buf.b+="h";break;case Je:this.buf.b+="M";for(var x=t,b=x.keys();b.hasNext();){var w=b.next(),T=U.field(w,"__id__");U.deleteField(w,"__id__"),this.serialize(w),w.__id__=T,this.serialize(x.h[w.__id__])}this.buf.b+="h";break;case ti:for(var A=t,E=0,S=A.length-2,C=new W,I=Xe.BASE64;E<S;){var L=A.get(E++),M=A.get(E++),B=A.get(E++);C.add(I.charAt(L>>2)),C.add(I.charAt(63&(L<<4|M>>4))),C.add(I.charAt(63&(M<<2|B>>6))),C.add(I.charAt(63&B))}if(E==S){var R=A.get(E++),D=A.get(E++);C.add(I.charAt(R>>2)),C.add(I.charAt(63&(R<<4|D>>4))),C.add(I.charAt(D<<2&63))}else if(E==S+1){var N=A.get(E++);C.add(I.charAt(N>>2)),C.add(I.charAt(N<<4&63))}var F=C.b;this.buf.b+="s",null==F.length?this.buf.b+="null":this.buf.b+=""+F.length,this.buf.b+=":",null==F?this.buf.b+="null":this.buf.b+=""+F;break;default:this.useCache&&this.cache.pop(),null!=t.hxSerialize?(this.buf.b+="C",this.serializeString(J.getClassName(a)),this.useCache&&this.cache.push(t),t.hxSerialize(this),this.buf.b+="g"):(this.buf.b+="c",this.serializeString(J.getClassName(a)),this.useCache&&this.cache.push(t),this.serializeFields(t))}break;case 4:if(oi.__instanceof(t,Kl)){var k=J.getClassName(t);this.buf.b+="A",this.serializeString(k)}else if(oi.__instanceof(t,jl))this.buf.b+="B",this.serializeString(J.getEnumName(t));else{if(this.useCache&&this.serializeRef(t))return;this.buf.b+="o",this.serializeFields(t)}break;case 7:var O=e[2];if(this.useCache){if(this.serializeRef(t))return;this.cache.pop()}this.useEnumIndex?this.buf.b+="j":this.buf.b+="w",this.serializeString(J.getEnumName(O)),this.useEnumIndex?(this.buf.b+=":",this.buf.b+=G.string(t[1])):this.serializeString(t[0]),this.buf.b+=":";var V=t.length;this.buf.b+=G.string(V-2);for(var X=2;X<V;){var z=X++;this.serialize(t[z])}this.useCache&&this.cache.push(t);break;case 5:throw new ri("Cannot serialize function");default:throw new ri("Cannot serialize "+G.string(t))}},__class__:Xe};var ze=function(t){var e=this;this.id=setInterval(function(){e.run()},t)};s["haxe.Timer"]=ze,ze.__name__=["haxe","Timer"],ze.delay=function(t,e){var i=new ze(e);return i.run=function(){i.stop(),t()},i},ze.measure=function(t,e){var i=ze.stamp(),n=t();return We.trace(ze.stamp()-i+"s",e),n},ze.stamp=function(){return(new Date).getTime()/1e3},ze.prototype={stop:function(){null!=this.id&&(clearInterval(this.id),this.id=null)},run:function(){},__class__:ze};var He=function(t){this.buf=t,this.length=t.length,this.pos=0,this.scache=[],this.cache=[];var e=He.DEFAULT_RESOLVER;null==e&&(e=J,He.DEFAULT_RESOLVER=e),this.setResolver(e)};s["haxe.Unserializer"]=He,He.__name__=["haxe","Unserializer"],He.initCodes=function(){for(var t=[],e=0,i=He.BASE64.length;e<i;){var n=e++;t[He.BASE64.charCodeAt(n)]=n}return t},He.prototype={setResolver:function(t){null==t?this.resolver={resolveClass:function(t){return null},resolveEnum:function(t){return null}}:this.resolver=t},get:function(t){return this.buf.charCodeAt(t)},readDigits:function(){for(var t=0,e=!1,i=this.pos;;){var n=this.buf.charCodeAt(this.pos);if(n!=n)break;if(45!=n){if(n<48||n>57)break;t=10*t+(n-48),this.pos++}else{if(this.pos!=i)break;e=!0,this.pos++}}return e&&(t*=-1),t},readFloat:function(){for(var t=this.pos;;){var e=this.buf.charCodeAt(this.pos);if(!(e>=43&&e<58||101==e||69==e))break;this.pos++}return G.parseFloat(T.substr(this.buf,t,this.pos-t))},unserializeObject:function(t){for(;;){if(this.pos>=this.length)throw new ri("Invalid object");if(103==this.buf.charCodeAt(this.pos))break;var e=this.unserialize();if("string"!=typeof e)throw new ri("Invalid object key");var i=this.unserialize();t[e]=i}this.pos++},unserializeEnum:function(t,e){if(58!=this.get(this.pos++))throw new ri("Invalid enum format");var i=this.readDigits();if(0==i)return J.createEnum(t,e);for(var n=[];i-- >0;)n.push(this.unserialize());return J.createEnum(t,e,n)},unserialize:function(){var t=this.get(this.pos++);switch(t){case 110:return null;case 116:return!0;case 102:return!1;case 122:return 0;case 105:return this.readDigits();case 100:return this.readFloat();case 121:var e=this.readDigits();if(58!=this.get(this.pos++)||this.length-this.pos<e)throw new ri("Invalid string length");var i=T.substr(this.buf,this.pos,e);return this.pos+=e,i=decodeURIComponent(i.split("+").join(" ")),this.scache.push(i),i;case 107:return NaN;case 109:return-(1/0);case 112:return 1/0;case 97:var n=(this.buf,[]);for(this.cache.push(n);;){var a=this.buf.charCodeAt(this.pos);if(104==a){this.pos++;break}if(117==a){this.pos++;var s=this.readDigits();n[n.length+s-1]=null}else n.push(this.unserialize())}return n;case 111:var r={};return this.cache.push(r),this.unserializeObject(r),r;case 114:var o=this.readDigits();if(o<0||o>=this.cache.length)throw new ri("Invalid reference");return this.cache[o];case 82:var l=this.readDigits();if(l<0||l>=this.scache.length)throw new ri("Invalid string reference");return this.scache[l];case 120:throw new ri(this.unserialize());case 99:var _=this.unserialize(),h=this.resolver.resolveClass(_);if(null==h)throw new ri("Class not found "+_);var c=J.createEmptyInstance(h);return this.cache.push(c),this.unserializeObject(c),c;case 119:var u=this.unserialize(),d=this.resolver.resolveEnum(u);if(null==d)throw new ri("Enum not found "+u);var m=this.unserializeEnum(d,this.unserialize());return this.cache.push(m),m;case 106:var f=this.unserialize(),p=this.resolver.resolveEnum(f);if(null==p)throw new ri("Enum not found "+f);this.pos++;var g=this.readDigits(),v=J.getEnumConstructs(p)[g];if(null==v)throw new ri("Unknown enum index "+f+"@"+g);var y=this.unserializeEnum(p,v);return this.cache.push(y),y;case 108:var x=new P;this.cache.push(x);for(this.buf;104!=this.buf.charCodeAt(this.pos);)x.add(this.unserialize());return this.pos++,x;case 98:var b=new Qe;this.cache.push(b);for(this.buf;104!=this.buf.charCodeAt(this.pos);){var w=this.unserialize();b.set(w,this.unserialize())}return this.pos++,b;case 113:var A=new qe;this.cache.push(A);for(var E=(this.buf,this.get(this.pos++));58==E;){var S=this.readDigits();A.set(S,this.unserialize()),E=this.get(this.pos++)}if(104!=E)throw new ri("Invalid IntMap format");return A;case 77:var C=new Je;this.cache.push(C);for(this.buf;104!=this.buf.charCodeAt(this.pos);){var I=this.unserialize();C.set(I,this.unserialize())}return this.pos++,C;case 118:var L;if(this.buf.charCodeAt(this.pos)>=48&&this.buf.charCodeAt(this.pos)<=57&&this.buf.charCodeAt(this.pos+1)>=48&&this.buf.charCodeAt(this.pos+1)<=57&&this.buf.charCodeAt(this.pos+2)>=48&&this.buf.charCodeAt(this.pos+2)<=57&&this.buf.charCodeAt(this.pos+3)>=48&&this.buf.charCodeAt(this.pos+3)<=57&&45==this.buf.charCodeAt(this.pos+4)){var M=T.substr(this.buf,this.pos,19);L=T.strDate(M),this.pos+=19}else{var B=this.readFloat(),R=new Date;R.setTime(B),L=R}return this.cache.push(L),L;case 115:var D=this.readDigits(),N=this.buf;if(58!=this.get(this.pos++)||this.length-this.pos<D)throw new ri("Invalid bytes length");var F=He.CODES;null==F&&(F=He.initCodes(),He.CODES=F);var k,O=this.pos,U=3&D;k=3*(D>>2)+(U>=2?U-1:0);for(var V=O+(D-U),G=ti.alloc(k),W=0;O<V;){var z=F[X.fastCodeAt(N,O++)],H=F[X.fastCodeAt(N,O++)];G.set(W++,z<<2|H>>4);var Y=F[X.fastCodeAt(N,O++)];G.set(W++,H<<4|Y>>2);var K=F[X.fastCodeAt(N,O++)];G.set(W++,Y<<6|K)}if(U>=2){var j=F[X.fastCodeAt(N,O++)],q=F[X.fastCodeAt(N,O++)];if(G.set(W++,j<<2|q>>4),3==U){var Z=F[X.fastCodeAt(N,O++)];G.set(W++,q<<4|Z>>2)}}return this.pos+=D,this.cache.push(G),G;case 67:var Q=this.unserialize(),$=this.resolver.resolveClass(Q);if(null==$)throw new ri("Class not found "+Q);var tt=J.createEmptyInstance($);if(this.cache.push(tt),tt.hxUnserialize(this),103!=this.get(this.pos++))throw new ri("Invalid custom data");return tt;case 65:var et=this.unserialize(),it=this.resolver.resolveClass(et);if(null==it)throw new ri("Class not found "+et);return it;case 66:var nt=this.unserialize(),at=this.resolver.resolveEnum(nt);if(null==at)throw new ri("Enum not found "+nt);return at}throw this.pos--,new ri("Invalid char "+this.buf.charAt(this.pos)+" at position "+this.pos)},__class__:He};var Ye=function(t){for(var e=t.length,i=1;e>1<<i;)i++;if(i>8||e!=1<<i)throw new ri("BaseCode : base length must be a power of two.");this.base=t,this.nbits=i};s["haxe.crypto.BaseCode"]=Ye,Ye.__name__=["haxe","crypto","BaseCode"],Ye.prototype={encodeBytes:function(t){for(var e=this.nbits,i=this.base,n=8*t.length/e|0,a=ti.alloc(n+(8*t.length%e==0?0:1)),s=0,r=0,o=(1<<e)-1,l=0,_=0;_<n;){for(;r<e;)r+=8,s<<=8,s|=t.get(l++);r-=e,a.set(_++,i.b[s>>r&o])}return r>0&&a.set(_++,i.b[s<<e-r&o]),a},__class__:Ye};var Ke=function(){};s["haxe.crypto.Md5"]=Ke,Ke.__name__=["haxe","crypto","Md5"],Ke.encode=function(t){var e=new Ke,i=e.doEncode(Ke.str2blks(t));return e.hex(i)},Ke.str2blks=function(t){for(var e=(t.length+8>>6)+1,i=[],n=16*e,a=0;a<n;){var s=a++;i[s]=0}for(var r=0;r<t.length;)i[r>>2]|=T.cca(t,r)<<(8*t.length+r)%4*8,r++;i[r>>2]|=128<<(8*t.length+r)%4*8;var o=8*t.length,l=16*e-2;return i[l]=255&o,i[l]|=(o>>>8&255)<<8,i[l]|=(o>>>16&255)<<16,i[l]|=(o>>>24&255)<<24,i},Ke.prototype={bitOR:function(t,e){var i=1&t|1&e,n=t>>>1|e>>>1;return n<<1|i},bitXOR:function(t,e){var i=1&t^1&e,n=t>>>1^e>>>1;return n<<1|i},bitAND:function(t,e){var i=1&t&(1&e),n=t>>>1&e>>>1;return n<<1|i},addme:function(t,e){var i=(65535&t)+(65535&e),n=(t>>16)+(e>>16)+(i>>16);return n<<16|65535&i},hex:function(t){for(var e="",i="0123456789abcdef",n=0;n<t.length;){var a=t[n];++n;for(var s=0;s<4;){var r=s++;e+=i.charAt(a>>8*r+4&15)+i.charAt(a>>8*r&15)}}return e},rol:function(t,e){return t<<e|t>>>32-e},cmn:function(t,e,i,n,a,s){return this.addme(this.rol(this.addme(this.addme(e,t),this.addme(n,s)),a),i)},ff:function(t,e,i,n,a,s,r){return this.cmn(this.bitOR(this.bitAND(e,i),this.bitAND(~e,n)),t,e,a,s,r)},gg:function(t,e,i,n,a,s,r){return this.cmn(this.bitOR(this.bitAND(e,n),this.bitAND(i,~n)),t,e,a,s,r)},hh:function(t,e,i,n,a,s,r){return this.cmn(this.bitXOR(this.bitXOR(e,i),n),t,e,a,s,r)},ii:function(t,e,i,n,a,s,r){return this.cmn(this.bitXOR(i,this.bitOR(e,~n)),t,e,a,s,r)},doEncode:function(t){for(var e,i=1732584193,n=-271733879,a=-1732584194,s=271733878,r=0;r<t.length;){var o=i,l=n,_=a,h=s;e=0,i=this.ff(i,n,a,s,t[r],7,-680876936),s=this.ff(s,i,n,a,t[r+1],12,-389564586),a=this.ff(a,s,i,n,t[r+2],17,606105819),n=this.ff(n,a,s,i,t[r+3],22,-1044525330),i=this.ff(i,n,a,s,t[r+4],7,-176418897),s=this.ff(s,i,n,a,t[r+5],12,1200080426),a=this.ff(a,s,i,n,t[r+6],17,-1473231341),n=this.ff(n,a,s,i,t[r+7],22,-45705983),i=this.ff(i,n,a,s,t[r+8],7,1770035416),s=this.ff(s,i,n,a,t[r+9],12,-1958414417),a=this.ff(a,s,i,n,t[r+10],17,-42063),n=this.ff(n,a,s,i,t[r+11],22,-1990404162),i=this.ff(i,n,a,s,t[r+12],7,1804603682),s=this.ff(s,i,n,a,t[r+13],12,-40341101),a=this.ff(a,s,i,n,t[r+14],17,-1502002290),n=this.ff(n,a,s,i,t[r+15],22,1236535329),i=this.gg(i,n,a,s,t[r+1],5,-165796510),s=this.gg(s,i,n,a,t[r+6],9,-1069501632),a=this.gg(a,s,i,n,t[r+11],14,643717713),n=this.gg(n,a,s,i,t[r],20,-373897302),i=this.gg(i,n,a,s,t[r+5],5,-701558691),s=this.gg(s,i,n,a,t[r+10],9,38016083),a=this.gg(a,s,i,n,t[r+15],14,-660478335),n=this.gg(n,a,s,i,t[r+4],20,-405537848),i=this.gg(i,n,a,s,t[r+9],5,568446438),s=this.gg(s,i,n,a,t[r+14],9,-1019803690),a=this.gg(a,s,i,n,t[r+3],14,-187363961),n=this.gg(n,a,s,i,t[r+8],20,1163531501),i=this.gg(i,n,a,s,t[r+13],5,-1444681467),s=this.gg(s,i,n,a,t[r+2],9,-51403784),a=this.gg(a,s,i,n,t[r+7],14,1735328473),n=this.gg(n,a,s,i,t[r+12],20,-1926607734),i=this.hh(i,n,a,s,t[r+5],4,-378558),s=this.hh(s,i,n,a,t[r+8],11,-2022574463),a=this.hh(a,s,i,n,t[r+11],16,1839030562),n=this.hh(n,a,s,i,t[r+14],23,-35309556),i=this.hh(i,n,a,s,t[r+1],4,-1530992060),s=this.hh(s,i,n,a,t[r+4],11,1272893353),a=this.hh(a,s,i,n,t[r+7],16,-155497632),n=this.hh(n,a,s,i,t[r+10],23,-1094730640),i=this.hh(i,n,a,s,t[r+13],4,681279174),s=this.hh(s,i,n,a,t[r],11,-358537222),a=this.hh(a,s,i,n,t[r+3],16,-722521979),n=this.hh(n,a,s,i,t[r+6],23,76029189),i=this.hh(i,n,a,s,t[r+9],4,-640364487),s=this.hh(s,i,n,a,t[r+12],11,-421815835),a=this.hh(a,s,i,n,t[r+15],16,530742520),n=this.hh(n,a,s,i,t[r+2],23,-995338651),i=this.ii(i,n,a,s,t[r],6,-198630844),s=this.ii(s,i,n,a,t[r+7],10,1126891415),a=this.ii(a,s,i,n,t[r+14],15,-1416354905),n=this.ii(n,a,s,i,t[r+5],21,-57434055),i=this.ii(i,n,a,s,t[r+12],6,1700485571),s=this.ii(s,i,n,a,t[r+3],10,-1894986606),a=this.ii(a,s,i,n,t[r+10],15,-1051523),n=this.ii(n,a,s,i,t[r+1],21,-2054922799),i=this.ii(i,n,a,s,t[r+8],6,1873313359),s=this.ii(s,i,n,a,t[r+15],10,-30611744),a=this.ii(a,s,i,n,t[r+6],15,-1560198380),n=this.ii(n,a,s,i,t[r+13],21,1309151649),i=this.ii(i,n,a,s,t[r+4],6,-145523070),s=this.ii(s,i,n,a,t[r+11],10,-1120210379),a=this.ii(a,s,i,n,t[r+2],15,718787259),n=this.ii(n,a,s,i,t[r+9],21,-343485551),i=this.addme(i,o),n=this.addme(n,l),a=this.addme(a,_),s=this.addme(s,h),r+=16}return[i,n,a,s]},__class__:Ke};var je=function(){};s["haxe.ds.ArraySort"]=je,je.__name__=["haxe","ds","ArraySort"],je.sort=function(t,e){je.rec(t,e,0,t.length)},je.rec=function(t,e,i,n){var a=i+n>>1;if(n-i<12){if(n<=i)return;for(var s=i+1;s<n;)for(var r=s++,o=r;o>i&&e(t[o],t[o-1])<0;)je.swap(t,o-1,o),o--}else je.rec(t,e,i,a),je.rec(t,e,a,n),je.doMerge(t,e,i,a,n,a-i,n-a)},je.doMerge=function(t,e,i,n,a,s,r){var o,l,_,h,c;if(0!=s&&0!=r){if(s+r==2)return void(e(t[n],t[i])<0&&je.swap(t,n,i));s>r?(_=s>>1,o=i+_,l=je.lower(t,e,n,a,o),h=l-n):(h=r>>1,l=n+h,o=je.upper(t,e,i,n,l),_=o-i),je.rotate(t,e,o,n,l),c=o+h,je.doMerge(t,e,i,o,c,_,h),je.doMerge(t,e,c,l,a,s-_,r-h)}},je.rotate=function(t,e,i,n,a){var s;if(i!=n&&n!=a)for(s=je.gcd(a-i,n-i);0!=s--;){for(var r=t[i+s],o=n-i,l=i+s,_=i+s+o;_!=i+s;)t[l]=t[_],l=_,a-_>o?_+=o:_=i+(o-(a-_));t[l]=r}},je.gcd=function(t,e){for(;0!=e;){var i=t%e;t=e,e=i}return t},je.upper=function(t,e,i,n,a){for(var s,r,o=n-i;o>0;)s=o>>1,r=i+s,e(t[a],t[r])<0?o=s:(i=r+1,o=o-s-1);return i},je.lower=function(t,e,i,n,a){for(var s,r,o=n-i;o>0;)s=o>>1,r=i+s,e(t[r],t[a])<0?(i=r+1,o=o-s-1):o=s;return i},je.swap=function(t,e,i){var n=t[e];t[e]=t[i],t[i]=n};var qe=function(){this.h={}};s["haxe.ds.IntMap"]=qe,qe.__name__=["haxe","ds","IntMap"],qe.__interfaces__=[Ve],qe.prototype={set:function(t,e){this.h[t]=e},remove:function(t){return!!this.h.hasOwnProperty(t)&&(delete this.h[t],!0)},keys:function(){var t=[];for(var e in this.h)this.h.hasOwnProperty(e)&&t.push(0|e);return T.iter(t)},__class__:qe};var Je=function(){this.h={},this.h.__keys__={}};s["haxe.ds.ObjectMap"]=Je,Je.__name__=["haxe","ds","ObjectMap"],Je.__interfaces__=[Ve],Je.prototype={set:function(t,e){var i=t.__id__||(t.__id__=++Je.count);this.h[i]=e,this.h.__keys__[i]=t},remove:function(t){var e=t.__id__;return null!=this.h.__keys__[e]&&(delete this.h[e],delete this.h.__keys__[e],!0)},keys:function(){var t=[];for(var e in this.h.__keys__)this.h.hasOwnProperty(e)&&t.push(this.h.__keys__[e]);return T.iter(t)},__class__:Je};var Ze=function(t,e){this.map=t,this.keys=e,this.index=0,this.count=e.length};s["haxe.ds._StringMap.StringMapIterator"]=Ze,Ze.__name__=["haxe","ds","_StringMap","StringMapIterator"],Ze.prototype={hasNext:function(){return this.index<this.count},next:function(){return this.map.get(this.keys[this.index++])},__class__:Ze};var Qe=function(){this.h={}};s["haxe.ds.StringMap"]=Qe,Qe.__name__=["haxe","ds","StringMap"],Qe.__interfaces__=[Ve],Qe.prototype={set:function(t,e){null!=ql[t]?this.setReserved(t,e):this.h[t]=e},get:function(t){return null!=ql[t]?this.getReserved(t):this.h[t]},exists:function(t){return null!=ql[t]?this.existsReserved(t):this.h.hasOwnProperty(t)},setReserved:function(t,e){null==this.rh&&(this.rh={}),this.rh["$"+t]=e},getReserved:function(t){return null==this.rh?null:this.rh["$"+t]},existsReserved:function(t){return null!=this.rh&&this.rh.hasOwnProperty("$"+t)},remove:function(t){return null!=ql[t]?(t="$"+t,!(null==this.rh||!this.rh.hasOwnProperty(t))&&(delete this.rh[t],!0)):!!this.h.hasOwnProperty(t)&&(delete this.h[t],!0)},keys:function(){
var t=this.arrayKeys();return T.iter(t)},arrayKeys:function(){var t=[];for(var e in this.h)this.h.hasOwnProperty(e)&&t.push(e);if(null!=this.rh)for(var e in this.rh)36==e.charCodeAt(0)&&t.push(e.substr(1));return t},iterator:function(){return new Ze(this,this.arrayKeys())},__class__:Qe};var $e={};s["haxe.ds._Vector.Vector_Impl_"]=$e,$e.__name__=["haxe","ds","_Vector","Vector_Impl_"],$e.blit=function(t,e,i,n,a){for(var s=0;s<a;){var r=s++;i[n+r]=t[e+r]}},$e.toArray=function(t){for(var e=[],i=t.length,n=0;n<i;){var a=n++;e[a]=t[a]}return e};var ti=function(t){this.length=t.byteLength,this.b=new $l(t),this.b.bufferValue=t,t.hxBytes=this,t.bytes=this.b};s["haxe.io.Bytes"]=ti,ti.__name__=["haxe","io","Bytes"],ti.alloc=function(t){return new ti(new Jl(t))},ti.ofString=function(t){for(var e=[],i=0;i<t.length;){var n=X.fastCodeAt(t,i++);55296<=n&&n<=56319&&(n=n-55232<<10|1023&X.fastCodeAt(t,i++)),n<=127?e.push(n):n<=2047?(e.push(192|n>>6),e.push(128|63&n)):n<=65535?(e.push(224|n>>12),e.push(128|n>>6&63),e.push(128|63&n)):(e.push(240|n>>18),e.push(128|n>>12&63),e.push(128|n>>6&63),e.push(128|63&n))}return new ti(new $l(e).buffer)},ti.ofData=function(t){var e=t.hxBytes;return null!=e?e:new ti(t)},ti.prototype={get:function(t){return this.b[t]},set:function(t,e){this.b[t]=255&e},blit:function(t,e,i,n){if(t<0||i<0||n<0||t+n>this.length||i+n>e.length)throw new ri(ii.OutsideBounds);0==i&&n==e.length?this.b.set(e.b,t):this.b.set(e.b.subarray(i,i+n),t)},getDouble:function(t){return null==this.data&&(this.data=new Ql(this.b.buffer,this.b.byteOffset,this.b.byteLength)),this.data.getFloat64(t,!0)},getFloat:function(t){return null==this.data&&(this.data=new Ql(this.b.buffer,this.b.byteOffset,this.b.byteLength)),this.data.getFloat32(t,!0)},setDouble:function(t,e){null==this.data&&(this.data=new Ql(this.b.buffer,this.b.byteOffset,this.b.byteLength)),this.data.setFloat64(t,e,!0)},setFloat:function(t,e){null==this.data&&(this.data=new Ql(this.b.buffer,this.b.byteOffset,this.b.byteLength)),this.data.setFloat32(t,e,!0)},setUInt16:function(t,e){null==this.data&&(this.data=new Ql(this.b.buffer,this.b.byteOffset,this.b.byteLength)),this.data.setUint16(t,e,!0)},setInt32:function(t,e){null==this.data&&(this.data=new Ql(this.b.buffer,this.b.byteOffset,this.b.byteLength)),this.data.setInt32(t,e,!0)},getString:function(t,e){if(t<0||e<0||t+e>this.length)throw new ri(ii.OutsideBounds);for(var i="",n=this.b,a=String.fromCharCode,s=t,r=t+e;s<r;){var o=n[s++];if(o<128){if(0==o)break;i+=a(o)}else if(o<224)i+=a((63&o)<<6|127&n[s++]);else if(o<240){var l=n[s++];i+=a((31&o)<<12|(127&l)<<6|127&n[s++])}else{var _=n[s++],h=n[s++],c=(15&o)<<18|(127&_)<<12|(127&h)<<6|127&n[s++];i+=a((c>>10)+55232),i+=a(1023&c|56320)}}return i},toString:function(){return this.getString(0,this.length)},__class__:ti};var ei=function(){};s["haxe.io.Eof"]=ei,ei.__name__=["haxe","io","Eof"],ei.prototype={toString:function(){return"Eof"},__class__:ei};var ii=s["haxe.io.Error"]={__ename__:["haxe","io","Error"],__constructs__:["Blocked","Overflow","OutsideBounds","Custom"]};ii.Blocked=["Blocked",0],ii.Blocked.toString=r,ii.Blocked.__enum__=ii,ii.Overflow=["Overflow",1],ii.Overflow.toString=r,ii.Overflow.__enum__=ii,ii.OutsideBounds=["OutsideBounds",2],ii.OutsideBounds.toString=r,ii.OutsideBounds.__enum__=ii,ii.Custom=function(t){var e=["Custom",3,t];return e.__enum__=ii,e.toString=r,e};var ni=function(){};s["haxe.io.FPHelper"]=ni,ni.__name__=["haxe","io","FPHelper"],ni.i32ToFloat=function(t){var e=1-(t>>>31<<1),i=t>>>23&255,n=8388607&t;return 0==n&&0==i?0:e*(1+Math.pow(2,-23)*n)*Math.pow(2,i-127)},ni.floatToI32=function(t){if(0==t)return 0;var e;e=t<0?-t:t;var i=Math.floor(Math.log(e)/.6931471805599453);i<-127?i=-127:i>128&&(i=128);var n=8388607&Math.round(8388608*(e/Math.pow(2,i)-1));return(t<0?-2147483648:0)|i+127<<23|n},ni.i64ToDouble=function(t,e){var i=1-(e>>>31<<1),n=(e>>20&2047)-1023,a=4294967296*(1048575&e)+2147483648*(t>>>31)+(2147483647&t);return 0==a&&n==-1023?0:i*(1+Math.pow(2,-52)*a)*Math.pow(2,n)},ni.doubleToI64=function(t){var e=ni.i64tmp;if(0==t)e.low=0,e.high=0;else{var i;i=t<0?-t:t;var n,a=Math.floor(Math.log(i)/.6931471805599453),s=4503599627370496*(i/Math.pow(2,a)-1);n=Math.round(s);var r=0|n,o=n/4294967296|0;e.low=r,e.high=(t<0?-2147483648:0)|a+1023<<20|o}return e};var ai=function(t){switch(t){case".":case"..":return this.dir=t,void(this.file="")}var e=t.lastIndexOf("/"),i=t.lastIndexOf("\\");e<i?(this.dir=T.substr(t,0,i),t=T.substr(t,i+1,null),this.backslash=!0):i<e?(this.dir=T.substr(t,0,e),t=T.substr(t,e+1,null)):this.dir=null;var n=t.lastIndexOf(".");n!=-1?(this.ext=T.substr(t,n+1,null),this.file=T.substr(t,0,n)):(this.ext=null,this.file=t)};s["haxe.io.Path"]=ai,ai.__name__=["haxe","io","Path"],ai.withoutExtension=function(t){var e=new ai(t);return e.ext=null,e.toString()},ai.prototype={toString:function(){return(null==this.dir?"":this.dir+(this.backslash?"\\":"/"))+this.file+(null==this.ext?"":"."+this.ext)},__class__:ai};var si=function(){};s["haxe.xml.Parser"]=si,si.__name__=["haxe","xml","Parser"],si.parse=function(t,e){null==e&&(e=!1);var i=Q.createDocument();return si.doParse(t,e,0,i),i},si.doParse=function(t,e,i,n){null==i&&(i=0);for(var a=null,s=1,r=1,o=null,l=0,_=0,h=0,c=t.charCodeAt(i),u=new W,d=1,m=-1;c==c;){switch(s){case 0:switch(c){case 10:case 13:case 9:case 32:break;default:s=r;continue}break;case 1:switch(c){case 60:s=0,r=2;break;default:l=i,s=13;continue}break;case 13:if(60==c){u.addSub(t,l,i-l);var f=Q.createPCData(u.b);u=new W,n.addChild(f),_++,s=0,r=2}else 38==c&&(u.addSub(t,l,i-l),s=18,d=13,l=i+1);break;case 17:if(93==c&&93==t.charCodeAt(i+1)&&62==t.charCodeAt(i+2)){var p=Q.createCData(T.substr(t,l,i-l));n.addChild(p),_++,i+=2,s=1}break;case 2:switch(c){case 33:if(91==t.charCodeAt(i+1)){if(i+=2,"CDATA["!=T.substr(t,i,6).toUpperCase())throw new ri("Expected <![CDATA[");i+=5,s=17,l=i+1}else if(68==t.charCodeAt(i+1)||100==t.charCodeAt(i+1)){if("OCTYPE"!=T.substr(t,i+2,6).toUpperCase())throw new ri("Expected <!DOCTYPE");i+=8,s=16,l=i+1}else{if(45!=t.charCodeAt(i+1)||45!=t.charCodeAt(i+2))throw new ri("Expected <!--");i+=2,s=15,l=i+1}break;case 63:s=14,l=i;break;case 47:if(null==n)throw new ri("Expected node name");l=i+1,s=0,r=10;break;default:s=3,l=i;continue}break;case 3:if(!(c>=97&&c<=122||c>=65&&c<=90||c>=48&&c<=57||58==c||46==c||95==c||45==c)){if(i==l)throw new ri("Expected node name");a=Q.createElement(T.substr(t,l,i-l)),n.addChild(a),_++,s=0,r=4;continue}break;case 4:switch(c){case 47:s=11;break;case 62:s=9;break;default:s=5,l=i;continue}break;case 5:if(!(c>=97&&c<=122||c>=65&&c<=90||c>=48&&c<=57||58==c||46==c||95==c||45==c)){var g;if(l==i)throw new ri("Expected attribute name");if(g=T.substr(t,l,i-l),o=g,a.exists(o))throw new ri("Duplicate attribute");s=0,r=6;continue}break;case 6:switch(c){case 61:s=0,r=7;break;default:throw new ri("Expected =")}break;case 7:switch(c){case 34:case 39:u=new W,s=8,l=i+1,m=c;break;default:throw new ri('Expected "')}break;case 8:switch(c){case 38:u.addSub(t,l,i-l),s=18,d=8,l=i+1;break;case 62:if(e)throw new ri("Invalid unescaped "+String.fromCharCode(c)+" in attribute value");if(c==m){u.addSub(t,l,i-l);var v=u.b;u=new W,a.set(o,v),s=0,r=4}break;case 60:if(e)throw new ri("Invalid unescaped "+String.fromCharCode(c)+" in attribute value");if(c==m){u.addSub(t,l,i-l);var y=u.b;u=new W,a.set(o,y),s=0,r=4}break;default:if(c==m){u.addSub(t,l,i-l);var x=u.b;u=new W,a.set(o,x),s=0,r=4}}break;case 9:i=si.doParse(t,e,i,a),l=i,s=1;break;case 11:switch(c){case 62:s=1;break;default:throw new ri("Expected >")}break;case 12:switch(c){case 62:return 0==_&&n.addChild(Q.createPCData("")),i;default:throw new ri("Expected >")}break;case 10:if(!(c>=97&&c<=122||c>=65&&c<=90||c>=48&&c<=57||58==c||46==c||95==c||45==c)){if(l==i)throw new ri("Expected node name");var b=T.substr(t,l,i-l);if(b!=function(t){var e;if(n.nodeType!=Q.Element)throw new ri("Bad node type, expected Element but found "+n.nodeType);return e=n.nodeName}(this))throw new ri("Expected </"+function(t){var e;if(n.nodeType!=Q.Element)throw"Bad node type, expected Element but found "+n.nodeType;return e=n.nodeName}(this)+">");s=0,r=12;continue}break;case 15:if(45==c&&45==t.charCodeAt(i+1)&&62==t.charCodeAt(i+2)){var w=Q.createComment(T.substr(t,l,i-l));n.addChild(w),_++,i+=2,s=1}break;case 16:if(91==c)h++;else if(93==c)h--;else if(62==c&&0==h){var A=Q.createDocType(T.substr(t,l,i-l));n.addChild(A),_++,s=1}break;case 14:if(63==c&&62==t.charCodeAt(i+1)){i++;var E=T.substr(t,l+1,i-l-2),S=Q.createProcessingInstruction(E);n.addChild(S),_++,s=1}break;case 18:if(59==c){var C=T.substr(t,l,i-l);if(35==C.charCodeAt(0)){var I;I=120==C.charCodeAt(1)?G.parseInt("0"+T.substr(C,1,C.length-1)):G.parseInt(T.substr(C,1,C.length-1)),u.b+=String.fromCharCode(I)}else if(si.escapes.exists(C))u.add(si.escapes.get(C));else{if(e)throw new ri("Undefined entity: "+C);u.b+=G.string("&"+C+";")}l=i+1,s=d}else if(!(c>=97&&c<=122||c>=65&&c<=90||c>=48&&c<=57||58==c||46==c||95==c||45==c)&&35!=c){if(e)throw new ri("Invalid character in entity: "+String.fromCharCode(c));u.b+="&",u.addSub(t,l,i-l),i--,l=i+1,s=d}}c=X.fastCodeAt(t,++i)}if(1==s&&(l=i,s=13),13==s){if(i!=l||0==_){u.addSub(t,l,i-l);var L=Q.createPCData(u.b);n.addChild(L),_++}return i}if(!e&&18==s&&13==d){u.b+="&",u.addSub(t,l,i-l);var M=Q.createPCData(u.b);return n.addChild(M),_++,i}throw new ri("Unexpected end")};var ri=function(t){Error.call(this),this.val=t,this.message=String(t),Error.captureStackTrace&&Error.captureStackTrace(this,ri)};s["js._Boot.HaxeError"]=ri,ri.__name__=["js","_Boot","HaxeError"],ri.__super__=Error,ri.prototype=n(Error.prototype,{__class__:ri});var oi=function(){};s["js.Boot"]=oi,oi.__name__=["js","Boot"],oi.__unhtml=function(t){return t.split("&").join("&amp;").split("<").join("&lt;").split(">").join("&gt;")},oi.__trace=function(e,i){var n;if(n=null!=i?i.fileName+":"+i.lineNumber+": ":"",n+=oi.__string_rec(e,""),null!=i&&null!=i.customParams)for(var a=0,s=i.customParams;a<s.length;){var r=s[a];++a,n+=","+oi.__string_rec(r,"")}var o;"undefined"!=typeof document&&null!=(o=document.getElementById("haxe:trace"))?o.innerHTML+=oi.__unhtml(n)+"<br/>":"undefined"!=typeof t&&null!=t.log&&t.log(n)},oi.getClass=function(t){if(t instanceof Array&&null==t.__enum__)return Array;var e=t.__class__;if(null!=e)return e;var i=oi.__nativeClassName(t);return null!=i?oi.__resolveNativeClass(i):null},oi.__string_rec=function(t,e){if(null==t)return"null";if(e.length>=5)return"<...>";var i=typeof t;switch("function"==i&&(t.__name__||t.__ename__)&&(i="object"),i){case"object":if(t instanceof Array){if(t.__enum__){if(2==t.length)return t[0];var n=t[0]+"(";e+="\t";for(var a=2,s=t.length;a<s;){var r=a++;n+=2!=r?","+oi.__string_rec(t[r],e):oi.__string_rec(t[r],e)}return n+")"}var o=t.length,l="[";e+="\t";for(var _=0;_<o;){var h=_++;l+=(h>0?",":"")+oi.__string_rec(t[h],e)}return l+="]"}var c;try{c=t.toString}catch(u){return Ue.lastException=u,u instanceof ri&&(u=u.val),"???"}if(null!=c&&c!=Object.toString&&"function"==typeof c){var d=t.toString();if("[object Object]"!=d)return d}var m=null,f="{\n";e+="\t";var p=null!=t.hasOwnProperty;for(var m in t)p&&!t.hasOwnProperty(m)||"prototype"!=m&&"__class__"!=m&&"__super__"!=m&&"__interfaces__"!=m&&"__properties__"!=m&&(2!=f.length&&(f+=", \n"),f+=e+m+" : "+oi.__string_rec(t[m],e));return e=e.substring(1),f+="\n"+e+"}";case"function":return"<function>";case"string":return t;default:return String(t)}},oi.__interfLoop=function(t,e){if(null==t)return!1;if(t==e)return!0;var i=t.__interfaces__;if(null!=i)for(var n=0,a=i.length;n<a;){var s=n++,r=i[s];if(r==e||oi.__interfLoop(r,e))return!0}return oi.__interfLoop(t.__super__,e)},oi.__instanceof=function(t,e){if(null==e)return!1;switch(e){case Xl:return(0|t)===t;case Hl:return"number"==typeof t;case Yl:return"boolean"==typeof t;case String:return"string"==typeof t;case Array:return t instanceof Array&&null==t.__enum__;case zl:return!0;default:if(null==t)return!1;if("function"==typeof e){if(t instanceof e)return!0;if(oi.__interfLoop(oi.getClass(t),e))return!0}else if("object"==typeof e&&oi.__isNativeObj(e)&&t instanceof e)return!0;return e==Kl&&null!=t.__name__||(e==jl&&null!=t.__ename__||t.__enum__==e)}},oi.__cast=function(t,e){if(oi.__instanceof(t,e))return t;throw new ri("Cannot cast "+G.string(t)+" to "+G.string(e))},oi.__nativeClassName=function(t){var e=oi.__toStr.call(t).slice(8,-1);return"Object"==e||"Function"==e||"Math"==e||"JSON"==e?null:e},oi.__isNativeObj=function(t){return null!=oi.__nativeClassName(t)},oi.__resolveNativeClass=function(t){return i[t]};var li=function(){};s["js.Browser"]=li,li.__name__=["js","Browser"],li.getLocalStorage=function(){try{var t=window.famobi.localStorage;return t.getItem(""),t}catch(e){return Ue.lastException=e,e instanceof ri&&(e=e.val),null}},li.alert=function(t){window.alert(oi.__string_rec(t,""))};var _i=function(){};s["js.html._CanvasElement.CanvasUtil"]=_i,_i.__name__=["js","html","_CanvasElement","CanvasUtil"],_i.getContextWebGL=function(t,e){for(var i=0,n=["webgl","experimental-webgl"];i<n.length;){var a=n[i];++i;var s=t.getContext(a,e);if(null!=s)return s}return null};var hi=function(t){if(t instanceof Array&&null==t.__enum__)this.a=t,this.byteLength=t.length;else{var e=t;this.a=[];for(var i=0;i<e;){var n=i++;this.a[n]=0}this.byteLength=e}};s["js.html.compat.ArrayBuffer"]=hi,hi.__name__=["js","html","compat","ArrayBuffer"],hi.sliceImpl=function(t,e){var i=new $l(this,t,null==e?null:e-t),n=new Jl(i.byteLength),a=new $l(n);return a.set(i),n},hi.prototype={slice:function(t,e){return new hi(this.a.slice(t,e))},__class__:hi};var ci=function(t,e,i){if(this.buf=t,null==e?this.offset=0:this.offset=e,null==i?this.length=t.byteLength-this.offset:this.length=i,this.offset<0||this.length<0||this.offset+this.length>t.byteLength)throw new ri(ii.OutsideBounds)};s["js.html.compat.DataView"]=ci,ci.__name__=["js","html","compat","DataView"],ci.prototype={getInt8:function(t){var e=this.buf.a[this.offset+t];return e>=128?e-256:e},getUint8:function(t){return this.buf.a[this.offset+t]},getInt16:function(t,e){var i=this.getUint16(t,e);return i>=32768?i-65536:i},getUint16:function(t,e){return e?this.buf.a[this.offset+t]|this.buf.a[this.offset+t+1]<<8:this.buf.a[this.offset+t]<<8|this.buf.a[this.offset+t+1]},getInt32:function(t,e){var i=this.offset+t,n=this.buf.a[i++],a=this.buf.a[i++],s=this.buf.a[i++],r=this.buf.a[i++];return e?n|a<<8|s<<16|r<<24:r|s<<8|a<<16|n<<24},getUint32:function(t,e){var i=this.getInt32(t,e);return i<0?i+4294967296:i},getFloat32:function(t,e){return ni.i32ToFloat(this.getInt32(t,e))},getFloat64:function(t,e){var i=this.getInt32(t,e),n=this.getInt32(t+4,e);return ni.i64ToDouble(e?i:n,e?n:i)},setInt8:function(t,e){e<0?this.buf.a[t+this.offset]=e+128&255:this.buf.a[t+this.offset]=255&e},setUint8:function(t,e){this.buf.a[t+this.offset]=255&e},setInt16:function(t,e,i){this.setUint16(t,e<0?e+65536:e,i)},setUint16:function(t,e,i){var n=t+this.offset;i?(this.buf.a[n]=255&e,this.buf.a[n++]=e>>8&255):(this.buf.a[n++]=e>>8&255,this.buf.a[n]=255&e)},setInt32:function(t,e,i){this.setUint32(t,e,i)},setUint32:function(t,e,i){var n=t+this.offset;i?(this.buf.a[n++]=255&e,this.buf.a[n++]=e>>8&255,this.buf.a[n++]=e>>16&255,this.buf.a[n++]=e>>>24):(this.buf.a[n++]=e>>>24,this.buf.a[n++]=e>>16&255,this.buf.a[n++]=e>>8&255,this.buf.a[n++]=255&e)},setFloat32:function(t,e,i){this.setUint32(t,ni.floatToI32(e),i)},setFloat64:function(t,e,i){var n=ni.doubleToI64(e);i?(this.setUint32(t,n.low),this.setUint32(t,n.high)):(this.setUint32(t,n.high),this.setUint32(t,n.low))},__class__:ci};var ui=function(){};s["js.html.compat.Uint8Array"]=ui,ui.__name__=["js","html","compat","Uint8Array"],ui._new=function(t,e,i){var n;if("number"==typeof t){n=[];for(var a=0;a<t;){var s=a++;n[s]=0}n.byteLength=n.length,n.byteOffset=0,n.buffer=new hi(n)}else if(oi.__instanceof(t,hi)){var r=t;null==e&&(e=0),null==i&&(i=r.byteLength-e),n=0==e?r.a:r.a.slice(e,e+i),n.byteLength=n.length,n.byteOffset=e,n.buffer=r}else{if(!(t instanceof Array&&null==t.__enum__))throw new ri("TODO "+G.string(t));n=t.slice(),n.byteLength=n.length,n.byteOffset=0,n.buffer=new hi(n)}return n.subarray=ui._subarray,n.set=ui._set,n},ui._set=function(t,e){var i=this;if(oi.__instanceof(t.buffer,hi)){var n=t;if(t.byteLength+e>i.byteLength)throw new ri("set() outside of range");for(var a=0,s=t.byteLength;a<s;){var r=a++;i[r+e]=n[r]}}else{if(!(t instanceof Array&&null==t.__enum__))throw new ri("TODO");var o=t;if(o.length+e>i.byteLength)throw new ri("set() outside of range");for(var l=0,_=o.length;l<_;){var h=l++;i[h+e]=o[h]}}},ui._subarray=function(t,e){var i=this,n=ui._new(i.slice(t,e));return n.byteOffset=t,n};var di=function(){this.enabled=!0,this.audio=new Qe,this.font=new Qe,this.image=new Qe,this.version=G["int"](1e6*Math.random())};s["lime.AssetCache"]=di,di.__name__=["lime","AssetCache"],di.prototype={clear:function(t){if(null==t)this.audio=new Qe,this.font=new Qe,this.image=new Qe;else{for(var e=this.audio.keys();e.hasNext();){var i=e.next();X.startsWith(i,t)&&this.audio.remove(i)}for(var n=this.font.keys();n.hasNext();){var a=n.next();X.startsWith(a,t)&&this.font.remove(a)}for(var s=this.image.keys();s.hasNext();){var r=s.next();X.startsWith(r,t)&&this.image.remove(r)}}},__class__:di};var mi=function(){this.canceled=!1,this.__listeners=[],this.__priorities=[],this.__repeat=[]};s["lime.app.Event_Void_Void"]=mi,mi.__name__=["lime","app","Event_Void_Void"],mi.prototype={add:function(t,e,i){null==i&&(i=0),null==e&&(e=!1);for(var n=0,a=this.__priorities.length;n<a;){var s=n++;if(i>this.__priorities[s])return this.__listeners.splice(s,0,t),this.__priorities.splice(s,0,i),void this.__repeat.splice(s,0,!e)}this.__listeners.push(t),this.__priorities.push(i),this.__repeat.push(!e)},cancel:function(){this.canceled=!0},has:function(t){for(var e=0,i=this.__listeners;e<i.length;){var n=i[e];if(++e,U.compareMethods(n,t))return!0}return!1},remove:function(t){for(var e=this.__listeners.length;--e>=0;)U.compareMethods(this.__listeners[e],t)&&(this.__listeners.splice(e,1),this.__priorities.splice(e,1),this.__repeat.splice(e,1))},dispatch:function(){this.canceled=!1;for(var t=this.__listeners,e=this.__repeat,i=0;i<t.length&&(t[i](),e[i]?i++:this.remove(t[i]),!this.canceled););},__class__:mi};var fi=function(){};s["lime.Assets"]=fi,fi.__name__=["lime","Assets"],fi.exists=function(t,e){fi.initialize(),null==e&&(e="BINARY");var i,n=t.substring(0,t.indexOf(":")),a=t.indexOf(":")+1;i=T.substr(t,a,null);var s=fi.getLibrary(n);return null!=s&&s.exists(i,e)},fi.getAudioBuffer=function(t,e){if(null==e&&(e=!0),fi.initialize(),e&&fi.cache.enabled&&fi.cache.audio.exists(t)){var i=fi.cache.audio.get(t);if(fi.isValidAudio(i))return i}var n,a=t.substring(0,t.indexOf(":")),s=t.indexOf(":")+1;n=T.substr(t,s,null);var r=fi.getLibrary(a);if(null!=r)if(r.exists(n,"SOUND")){if(r.isLocal(n,"SOUND")){var o=r.getAudioBuffer(n);return e&&fi.cache.enabled&&fi.cache.audio.set(t,o),o}We.trace('[Assets] Audio asset "'+t+'" exists, but only asynchronously',{fileName:"Assets.hx",lineNumber:122,className:"lime.Assets",methodName:"getAudioBuffer"})}else We.trace('[Assets] There is no audio asset with an ID of "'+t+'"',{fileName:"Assets.hx",lineNumber:128,className:"lime.Assets",methodName:"getAudioBuffer"});else We.trace('[Assets] There is no asset library named "'+a+'"',{fileName:"Assets.hx",lineNumber:134,className:"lime.Assets",methodName:"getAudioBuffer"});return null},fi.getBytes=function(t){fi.initialize();var e,i=t.substring(0,t.indexOf(":")),n=t.indexOf(":")+1;e=T.substr(t,n,null);var a=fi.getLibrary(i);if(null!=a)if(a.exists(e,"BINARY")){if(a.isLocal(e,"BINARY"))return a.getBytes(e);We.trace('[Assets] String or Bytes asset "'+t+'" exists, but only asynchronously',{fileName:"Assets.hx",lineNumber:171,className:"lime.Assets",methodName:"getBytes"})}else We.trace('[Assets] There is no String or Bytes asset with an ID of "'+t+'"',{fileName:"Assets.hx",lineNumber:177,className:"lime.Assets",methodName:"getBytes"});else We.trace('[Assets] There is no asset library named "'+i+'"',{fileName:"Assets.hx",lineNumber:183,className:"lime.Assets",methodName:"getBytes"});return null},fi.getFont=function(t,e){if(null==e&&(e=!0),fi.initialize(),e&&fi.cache.enabled&&fi.cache.font.exists(t))return fi.cache.font.get(t);var i,n=t.substring(0,t.indexOf(":")),a=t.indexOf(":")+1;i=T.substr(t,a,null);var s=fi.getLibrary(n);if(null!=s)if(s.exists(i,"FONT")){if(s.isLocal(i,"FONT")){var r=s.getFont(i);return e&&fi.cache.enabled&&fi.cache.font.set(t,r),r}We.trace('[Assets] Font asset "'+t+'" exists, but only asynchronously',{fileName:"Assets.hx",lineNumber:234,className:"lime.Assets",methodName:"getFont"})}else We.trace('[Assets] There is no Font asset with an ID of "'+t+'"',{fileName:"Assets.hx",lineNumber:240,className:"lime.Assets",methodName:"getFont"});else We.trace('[Assets] There is no asset library named "'+n+'"',{fileName:"Assets.hx",lineNumber:246,className:"lime.Assets",methodName:"getFont"});return null},fi.getImage=function(t,e){if(null==e&&(e=!0),fi.initialize(),e&&fi.cache.enabled&&fi.cache.image.exists(t)){var i=fi.cache.image.get(t);if(fi.isValidImage(i))return i}var n,a=t.substring(0,t.indexOf(":")),s=t.indexOf(":")+1;n=T.substr(t,s,null);var r=fi.getLibrary(a);if(null!=r)if(r.exists(n,"IMAGE")){if(r.isLocal(n,"IMAGE")){var o=r.getImage(n);return e&&fi.cache.enabled&&fi.cache.image.set(t,o),o}We.trace('[Assets] Image asset "'+t+'" exists, but only asynchronously',{fileName:"Assets.hx",lineNumber:304,className:"lime.Assets",methodName:"getImage"})}else We.trace('[Assets] There is no Image asset with an ID of "'+t+'"',{fileName:"Assets.hx",lineNumber:310,className:"lime.Assets",methodName:"getImage"});else We.trace('[Assets] There is no asset library named "'+a+'"',{fileName:"Assets.hx",lineNumber:316,className:"lime.Assets",methodName:"getImage"});return null},fi.getLibrary=function(t){return null!=t&&""!=t||(t="default"),fi.libraries.get(t)},fi.getPath=function(t){fi.initialize();var e,i=t.substring(0,t.indexOf(":")),n=t.indexOf(":")+1;e=T.substr(t,n,null);var a=fi.getLibrary(i);if(null!=a){if(a.exists(e,null))return a.getPath(e);We.trace('[Assets] There is no asset with an ID of "'+t+'"',{fileName:"Assets.hx",lineNumber:364,className:"lime.Assets",methodName:"getPath"})}else We.trace('[Assets] There is no asset library named "'+i+'"',{fileName:"Assets.hx",lineNumber:370,className:"lime.Assets",methodName:"getPath"});return null},fi.getText=function(t){fi.initialize();var e,i=t.substring(0,t.indexOf(":")),n=t.indexOf(":")+1;e=T.substr(t,n,null);var a=fi.getLibrary(i);if(null!=a)if(a.exists(e,"TEXT")){if(a.isLocal(e,"TEXT"))return a.getText(e);We.trace('[Assets] String asset "'+t+'" exists, but only asynchronously',{fileName:"Assets.hx",lineNumber:407,className:"lime.Assets",methodName:"getText"})}else We.trace('[Assets] There is no String asset with an ID of "'+t+'"',{fileName:"Assets.hx",lineNumber:413,className:"lime.Assets",methodName:"getText"});else We.trace('[Assets] There is no asset library named "'+i+'"',{fileName:"Assets.hx",lineNumber:419,className:"lime.Assets",methodName:"getText"});return null},fi.initialize=function(){fi.initialized||(fi.registerLibrary("default",new S),fi.initialized=!0)},fi.isLocal=function(t,e,i){if(null==i&&(i=!0),fi.initialize(),i&&fi.cache.enabled){if(("IMAGE"==e||null==e)&&fi.cache.image.exists(t))return!0;if(("FONT"==e||null==e)&&fi.cache.font.exists(t))return!0;if(("SOUND"==e||"MUSIC"==e||null==e)&&fi.cache.audio.exists(t))return!0}var n,a=t.substring(0,t.indexOf(":")),s=t.indexOf(":")+1;n=T.substr(t,s,null);var r=fi.getLibrary(a);return null!=r&&r.isLocal(n,e)},fi.isValidAudio=function(t){return null!=t},fi.isValidImage=function(t){return!0},fi.list=function(t){fi.initialize();for(var e=[],i=fi.libraries.iterator();i.hasNext();){var n=i.next(),a=n.list(t);null!=a&&(e=e.concat(a))}return e},fi.loadAudioBuffer=function(t,e){null==e&&(e=!0),fi.initialize();var i=new Xi;if(e&&fi.cache.enabled&&fi.cache.audio.exists(t)){var n=fi.cache.audio.get(t);if(fi.isValidAudio(n))return i.complete(n),i.future}var a,s=t.substring(0,t.indexOf(":")),r=t.indexOf(":")+1;a=T.substr(t,r,null);var o=fi.getLibrary(s);if(null!=o)if(o.exists(a,"SOUND")){var l=o.loadAudioBuffer(a);e&&fi.cache.enabled&&l.onComplete(function(e){fi.cache.audio.set(t,e)}),i.completeWith(l)}else i.error('[Assets] There is no audio asset with an ID of "'+t+'"');else i.error('[Assets] There is no asset library named "'+s+'"');return i.future},fi.loadBytes=function(t){fi.initialize();var e,i=new Xi,n=t.substring(0,t.indexOf(":")),a=t.indexOf(":")+1;e=T.substr(t,a,null);var s=fi.getLibrary(n);return null!=s?s.exists(e,"BINARY")?i.completeWith(s.loadBytes(e)):i.error('[Assets] There is no String or Bytes asset with an ID of "'+t+'"'):i.error('[Assets] There is no asset library named "'+n+'"'),i.future},fi.loadFont=function(t){fi.initialize();var e,i=new Xi,n=t.substring(0,t.indexOf(":")),a=t.indexOf(":")+1;e=T.substr(t,a,null);var s=fi.getLibrary(n);return null!=s?s.exists(e,"FONT")?i.completeWith(s.loadFont(e)):i.error('[Assets] There is no Font asset with an ID of "'+t+'"'):i.error('[Assets] There is no asset library named "'+n+'"'),i.future},fi.loadImage=function(t,e){null==e&&(e=!0),fi.initialize();var i=new Xi;if(e&&fi.cache.enabled&&fi.cache.image.exists(t)){var n=fi.cache.image.get(t);if(fi.isValidImage(n))return i.complete(n),i.future}var a,s=t.substring(0,t.indexOf(":")),r=t.indexOf(":")+1;a=T.substr(t,r,null);var o=fi.getLibrary(s);if(null!=o)if(o.exists(a,"IMAGE")){var l=o.loadImage(a);e&&fi.cache.enabled&&l.onComplete(function(e){fi.cache.image.set(t,e)}),i.completeWith(l)}else i.error('[Assets] There is no Image asset with an ID of "'+t+'"');else i.error('[Assets] There is no asset library named "'+s+'"');return i.future},fi.loadLibrary=function(t){fi.initialize();var e=new Xi,i=fi.getText("libraries/"+t+".json");if(null!=i&&""!=i){var n=JSON.parse(i),s=J.createInstance(J.resolveClass(n.type),n.args);fi.libraries.set(t,s),s.onChange.add((Gl=fi.onChange,a(Gl,Gl.dispatch))),e.completeWith(s.load())}else e.error('[Assets] There is no asset library named "'+t+'"');return e.future},fi.loadText=function(t){fi.initialize();var e,i=new Xi,n=t.substring(0,t.indexOf(":")),a=t.indexOf(":")+1;e=T.substr(t,a,null);var s=fi.getLibrary(n);return null!=s?s.exists(e,"TEXT")?i.completeWith(s.loadText(e)):i.error('[Assets] There is no String asset with an ID of "'+t+'"'):i.error('[Assets] There is no asset library named "'+n+'"'),i.future},fi.registerLibrary=function(t,e){if(fi.libraries.exists(t)){if(fi.libraries.get(t)==e)return;fi.unloadLibrary(t)}null!=e&&e.onChange.add(fi.library_onChange),fi.libraries.set(t,e)},fi.unloadLibrary=function(t){fi.initialize();var e=fi.libraries.get(t);null!=e&&(fi.cache.clear(t+":"),e.onChange.remove(fi.library_onChange),e.unload()),fi.libraries.remove(t)},fi.library_onChange=function(){fi.cache.clear(),fi.onChange.dispatch()};var pi=function(t){this.gameDeviceCache=new qe,this.parent=t,this.currentUpdate=0,this.lastUpdate=0,this.nextUpdate=0,this.framePeriod=-1,ji.init()};s["lime._backend.html5.HTML5Application"]=pi,pi.__name__=["lime","_backend","html5","HTML5Application"],pi.prototype={convertKeyCode:function(t){if(t>=65&&t<=90)return t+32;switch(t){case 16:return 1073742049;case 17:return 1073742048;case 18:return 1073742050;case 20:return 1073741881;case 144:return 1073741907;case 37:return 1073741904;case 38:return 1073741906;case 39:return 1073741903;case 40:return 1073741905;case 45:return 1073741897;case 46:return 127;case 36:return 1073741898;case 35:return 1073741901;case 33:return 1073741899;case 34:return 1073741902;case 112:return 1073741882;case 113:return 1073741883;case 114:return 1073741884;case 115:return 1073741885;case 116:return 1073741886;case 117:return 1073741887;case 118:return 1073741888;case 119:return 1073741889;case 120:return 1073741890;case 121:return 1073741891;case 122:return 1073741892;case 123:return 1073741893;case 124:return 1073741928;case 125:return 1073741929;case 126:return 1073741930;case 186:return 59;case 187:return 61;case 188:return 44;case 189:return 45;case 190:return 46;case 191:return 47;case 192:return 96;case 219:return 91;case 220:return 92;case 221:return 93;case 222:return 39}return t},create:function(t){},exec:function(){window.addEventListener("keydown",a(this,this.handleKeyEvent),!1),window.addEventListener("keyup",a(this,this.handleKeyEvent),!1),window.addEventListener("focus",a(this,this.handleWindowEvent),!1),window.addEventListener("blur",a(this,this.handleWindowEvent),!1),window.addEventListener("resize",a(this,this.handleWindowEvent),!1),window.addEventListener("beforeunload",a(this,this.handleWindowEvent),!1),CanvasRenderingContext2D.prototype.isPointInStroke||(CanvasRenderingContext2D.prototype.isPointInStroke=function(t,e,i){return!1});for(var t=0,e=["ms","moz","webkit","o"],i=0;i<e.length&&!window.requestAnimationFrame;++i)window.requestAnimationFrame=window[e[i]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[e[i]+"CancelAnimationFrame"]||window[e[i]+"CancelRequestAnimationFrame"];return window.requestAnimationFrame||(window.requestAnimationFrame=function(e,i){var n=(new Date).getTime(),a=Math.max(0,16-(n-t)),s=window.setTimeout(function(){e(n+a)},a);return t=n+a,s}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(t){clearTimeout(t)}),window.requestAnimFrame=window.requestAnimationFrame,this.lastUpdate=(new Date).getTime(),this.handleApplicationEvent(),0},exit:function(){},getFrameRate:function(){return this.framePeriod<0?60:1e3==this.framePeriod?0:1e3/this.framePeriod},handleApplicationEvent:function(t){this.updateGameDevices(),this.currentUpdate=(new Date).getTime(),this.currentUpdate>=this.nextUpdate&&(this.deltaTime=this.currentUpdate-this.lastUpdate,this.parent.onUpdate.dispatch(0|this.deltaTime),null!=this.parent.renderers[0]&&(this.parent.renderers[0].onRender.dispatch(),this.parent.renderers[0].flip()),this.framePeriod<0?(this.nextUpdate=this.currentUpdate,this.nextUpdate=this.currentUpdate):this.nextUpdate=this.currentUpdate+this.framePeriod,this.lastUpdate=this.currentUpdate),window.requestAnimationFrame(a(this,this.handleApplicationEvent))},handleKeyEvent:function(t){if(null!=this.parent.windows[0]){var e,i=this.convertKeyCode(null!=t.keyCode?t.keyCode:t.which);e=(t.shiftKey?3:0)|(t.ctrlKey?192:0)|(t.altKey?768:0)|(t.metaKey?3072:0),"keydown"==t.type?(this.parent.windows[0].onKeyDown.dispatch(i,e),this.parent.windows[0].onKeyDown.canceled&&t.preventDefault()):(this.parent.windows[0].onKeyUp.dispatch(i,e),this.parent.windows[0].onKeyUp.canceled&&t.preventDefault())}},handleWindowEvent:function(t){if(null!=this.parent.windows[0]){var e=t.type;switch(e){case"focus":this.parent.windows[0].onFocusIn.dispatch(),this.parent.windows[0].onActivate.dispatch();break;case"blur":this.parent.windows[0].onFocusOut.dispatch(),this.parent.windows[0].onDeactivate.dispatch();break;case"resize":var i=this.parent.windows[0].__width,n=this.parent.windows[0].__height;this.parent.windows[0].backend.handleResize(),this.parent.windows[0].__width==i&&this.parent.windows[0].__height==n||this.parent.windows[0].onResize.dispatch(this.parent.windows[0].__width,this.parent.windows[0].__height);break;case"beforeunload":this.parent.windows[0].onClose.dispatch()}}},setFrameRate:function(t){return t>=60?this.framePeriod=-1:t>0?this.framePeriod=1e3/t:this.framePeriod=1e3,t},updateGameDevices:function(){var t=ca.__getDeviceData();if(null!=t)for(var e,i,n,a,s,r=0,o=t.length;r<o;){var l=r++;if(e=l,a=t[e],null!=a){if(!this.gameDeviceCache.h.hasOwnProperty(e)){s=new gi,s.id=e,s.connected=a.connected;for(var _=0,h=a.buttons.length;_<h;){var c=_++;s.buttons.push(a.buttons[c].value)}for(var u=0,d=a.axes.length;u<d;){var m=u++;s.axes.push(a.axes[m])}"standard"==a.mapping&&(s.isGamepad=!0),this.gameDeviceCache.h[e]=s,a.connected&&(ca.__connect(e),s.isGamepad&&la.__connect(e))}if(s=this.gameDeviceCache.h[e],n=ca.devices.h[e],i=la.devices.h[e],
a.connected){for(var f,p,g=0,v=a.buttons.length;g<v;){var y=g++;if(p=a.buttons[y].value,p!=s.buttons[y]){if(6==y)n.onAxisMove.dispatch(a.axes.length,p),null!=i&&i.onAxisMove.dispatch(4,p);else if(7==y)n.onAxisMove.dispatch(a.axes.length+1,p),null!=i&&i.onAxisMove.dispatch(5,p);else if(p>0?n.onButtonDown.dispatch(y):n.onButtonUp.dispatch(y),null!=i){switch(y){case 0:f=0;break;case 1:f=1;break;case 2:f=2;break;case 3:f=3;break;case 4:f=9;break;case 5:f=10;break;case 8:f=4;break;case 9:f=6;break;case 10:f=7;break;case 11:f=8;break;case 12:f=11;break;case 13:f=12;break;case 14:f=13;break;case 15:f=14;break;case 16:f=5;break;default:continue}p>0?i.onButtonDown.dispatch(f):i.onButtonUp.dispatch(f)}s.buttons[y]=p}}for(var x=0,b=a.axes.length;x<b;){var w=x++;a.axes[w]!=s.axes[w]&&(n.onAxisMove.dispatch(w,a.axes[w]),null!=i&&i.onAxisMove.dispatch(w,a.axes[w]),s.axes[w]=a.axes[w])}}else s.connected&&(s.connected=!1,ca.__disconnect(e),la.__disconnect(e))}}},__class__:pi};var gi=function(){this.connected=!0,this.buttons=[],this.axes=[]};s["lime._backend.html5.GameDeviceData"]=gi,gi.__name__=["lime","_backend","html5","GameDeviceData"],gi.prototype={__class__:gi};var vi=function(){};s["lime._backend.html5.HTML5Mouse"]=vi,vi.__name__=["lime","_backend","html5","HTML5Mouse"],vi.__cursor=null,vi.__hidden=null,vi.hide=function(){if(!vi.__hidden){vi.__hidden=!0;for(var t=0,e=Ti.current.windows;t<e.length;){var i=e[t];++t,i.backend.element.style.cursor="none"}}},vi.show=function(){if(vi.__hidden){vi.__hidden=!1;var t=vi.__cursor;vi.__cursor=null,vi.set_cursor(t)}},vi.warp=function(t,e,i){},vi.get_cursor=function(){return null==vi.__cursor?pa.DEFAULT:vi.__cursor},vi.set_cursor=function(t){if(vi.__cursor!=t){if(!vi.__hidden)for(var e=0,i=Ti.current.windows;e<i.length;){var n=i[e];switch(++e,t[1]){case 0:n.backend.element.style.cursor="default";break;case 1:n.backend.element.style.cursor="crosshair";break;case 3:n.backend.element.style.cursor="move";break;case 4:n.backend.element.style.cursor="pointer";break;case 5:n.backend.element.style.cursor="nesw-resize";break;case 6:n.backend.element.style.cursor="ns-resize";break;case 7:n.backend.element.style.cursor="nwse-resize";break;case 8:n.backend.element.style.cursor="ew-resize";break;case 9:n.backend.element.style.cursor="text";break;case 10:n.backend.element.style.cursor="wait";break;case 11:n.backend.element.style.cursor="wait";break;default:n.backend.element.style.cursor="auto"}}vi.__cursor=t}return vi.__cursor},vi.get_lock=function(){return!1},vi.set_lock=function(t){return t};var yi=function(t){this.parent=t};s["lime._backend.html5.HTML5Renderer"]=yi,yi.__name__=["lime","_backend","html5","HTML5Renderer"],yi.prototype={create:function(){this.createContext();var t=this.parent.context;switch(t[1]){case 0:this.parent.window.backend.canvas.addEventListener("webglcontextlost",a(this,this.handleEvent),!1),this.parent.window.backend.canvas.addEventListener("webglcontextrestored",a(this,this.handleEvent),!1)}},createContext:function(){if(null!=this.parent.window.backend.div)this.parent.context=_n.DOM(this.parent.window.backend.div),this.parent.type=cn.DOM;else if(null!=this.parent.window.backend.canvas){var t=null,e={alpha:!1,antialias:!!Object.prototype.hasOwnProperty.call(this.parent.window.config,"antialiasing")&&this.parent.window.config.antialiasing>0,depth:!Object.prototype.hasOwnProperty.call(this.parent.window.config,"depthBuffer")||this.parent.window.config.depthBuffer,premultipliedAlpha:!1,stencil:!!Object.prototype.hasOwnProperty.call(this.parent.window.config,"stencilBuffer")&&this.parent.window.config.stencilBuffer,preserveDrawingBuffer:!1};t=_i.getContextWebGL(this.parent.window.backend.canvas,e),null==t?(this.parent.context=_n.CANVAS(this.parent.window.backend.canvas.getContext("2d")),this.parent.type=cn.CANVAS):(In.context=t,this.parent.context=_n.OPENGL(In.context),this.parent.type=cn.OPENGL)}},flip:function(){},handleEvent:function(t){var e=t.type;switch(e){case"webglcontextlost":t.preventDefault(),this.parent.context=null,this.parent.onContextLost.dispatch();break;case"webglcontextrestored":this.createContext(),this.parent.onContextRestored.dispatch(this.parent.context)}},readPixels:function(t){if(null!=this.parent.window.backend.canvas&&(null==t?t=new Nn(0,0,this.parent.window.backend.canvas.width,this.parent.window.backend.canvas.height):t.__contract(0,0,this.parent.window.backend.canvas.width,this.parent.window.backend.canvas.height),t.width>0&&t.height>0)){var e=window.document.createElement("canvas");e.width=0|t.width,e.height=0|t.height;var i=e.getContext("2d");return i.drawImage(this.parent.window.backend.canvas,-t.x,-t.y),sn.fromCanvas(e)}return null},render:function(){},__class__:yi};var xi=function(t){this.unusedTouchesPool=new P,this.currentTouches=new qe,this.parent=t,null!=t.config&&Object.prototype.hasOwnProperty.call(t.config,"element")&&(this.element=t.config.element)};s["lime._backend.html5.HTML5Window"]=xi,xi.__name__=["lime","_backend","html5","HTML5Window"],xi.textInput=null,xi.prototype={alert:function(t,e){null!=t&&li.alert(t)},close:function(){this.parent.application.removeWindow(this.parent)},create:function(t){if(this.setWidth=this.parent.__width,this.setHeight=this.parent.__height,this.parent.id=xi.windowID++,oi.__instanceof(this.element,HTMLCanvasElement)?this.canvas=this.element:this.canvas=window.document.createElement("canvas"),null!=this.canvas){var e=this.canvas.style;e.setProperty("-webkit-transform","translateZ(0)",null),e.setProperty("transform","translateZ(0)",null)}else if(null!=this.div){var i=this.div.style;i.setProperty("-webkit-transform","translate3D(0,0,0)",null),i.setProperty("transform","translate3D(0,0,0)",null),i.position="relative",i.overflow="hidden",i.setProperty("-webkit-user-select","none",null),i.setProperty("-moz-user-select","none",null),i.setProperty("-ms-user-select","none",null),i.setProperty("-o-user-select","none",null)}if(0==this.parent.__width&&0==this.parent.__height&&(null!=this.element?(this.parent.set_width(this.element.clientWidth),this.parent.set_height(this.element.clientHeight)):(this.parent.set_width(window.innerWidth),this.parent.set_height(window.innerHeight)),this.parent.set_fullscreen(!0)),null!=this.canvas?(this.canvas.width=this.parent.__width,this.canvas.height=this.parent.__height):(this.div.style.width=this.parent.__width+"px",this.div.style.height=this.parent.__height+"px"),this.handleResize(),null!=this.element){null!=this.canvas?this.element!=this.canvas&&this.element.appendChild(this.canvas):this.element.appendChild(this.div);for(var n=["mousedown","mouseenter","mouseleave","mousemove","mouseup","wheel"],s=0;s<n.length;){var r=n[s];++s,this.element.addEventListener(r,a(this,this.handleMouseEvent),!0)}window.document.addEventListener("dragstart",function(t){return"img"!=t.target.nodeName.toLowerCase()||(t.preventDefault(),!1)},!1),this.element.addEventListener("touchstart",a(this,this.handleTouchEvent),!0),this.element.addEventListener("touchmove",a(this,this.handleTouchEvent),!0),this.element.addEventListener("touchend",a(this,this.handleTouchEvent),!0),this.element.addEventListener("gamepadconnected",a(this,this.handleGamepadEvent),!0),this.element.addEventListener("gamepaddisconnected",a(this,this.handleGamepadEvent),!0)}},focus:function(){},getDisplay:function(){return Zn.getDisplay(0)},getEnableTextEvents:function(){return this.enableTextEvents},handleFocusEvent:function(t){this.enableTextEvents&&ze.delay(function(){xi.textInput.focus()},20)},handleGamepadEvent:function(t){var e=t.type;switch(e){case"gamepadconnected":ca.__connect(t.gamepad.index),"standard"==t.gamepad.mapping&&la.__connect(t.gamepad.index);break;case"gamepaddisconnected":ca.__disconnect(t.gamepad.index),la.__disconnect(t.gamepad.index)}},handleInputEvent:function(t){""!=xi.textInput.value&&(this.parent.onTextInput.dispatch(xi.textInput.value),xi.textInput.value="")},handleMouseEvent:function(t){var e=0,i=0;if("wheel"!=t.type){if(null!=this.element)if(null!=this.canvas){var n=this.canvas.getBoundingClientRect();e=(t.clientX-n.left)*(this.parent.__width/n.width),i=(t.clientY-n.top)*(this.parent.__height/n.height)}else if(null!=this.div){var a=this.div.getBoundingClientRect();e=t.clientX-a.left,i=t.clientY-a.top}else{var s=this.element.getBoundingClientRect();e=(t.clientX-s.left)*(this.parent.__width/s.width),i=(t.clientY-s.top)*(this.parent.__height/s.height)}else e=t.clientX,i=t.clientY;var r=t.type;switch(r){case"mousedown":this.parent.onMouseDown.dispatch(e,i,t.button);break;case"mouseenter":this.parent.onEnter.dispatch();break;case"mouseleave":this.parent.onLeave.dispatch();break;case"mouseup":this.parent.onMouseUp.dispatch(e,i,t.button);break;case"mousemove":this.parent.onMouseMove.dispatch(e,i)}}else this.parent.onMouseWheel.dispatch(t.deltaX,-t.deltaY)},handleResize:function(){var t=this.parent.__fullscreen||0==this.setWidth&&0==this.setHeight;if(null!=this.element&&(null==this.div||null!=this.div&&t))if(t)this.parent.__width==this.element.clientWidth&&this.parent.__height==this.element.clientHeight||(this.parent.set_width(this.element.clientWidth),this.parent.set_height(this.element.clientHeight),null!=this.canvas?this.element!=this.canvas&&(this.canvas.width=this.element.clientWidth,this.canvas.height=this.element.clientHeight):(this.div.style.width=this.element.clientWidth+"px",this.div.style.height=this.element.clientHeight+"px"));else{var e=window.innerWidth/this.setWidth,i=window.innerHeight/this.setHeight,n=Math.min(e,i);null!=this.canvas?this.element!=this.canvas&&(this.canvas.style.width=this.setWidth*n+"px",this.canvas.style.height=this.setHeight*n+"px",this.canvas.style.marginLeft=(window.innerWidth-this.setWidth*n)/2+"px",this.canvas.style.marginTop=(window.innerHeight-this.setHeight*n)/2+"px"):(this.div.style.width=this.setWidth*n+"px",this.div.style.height=this.setHeight*n+"px",this.div.style.marginLeft=(window.innerWidth-this.setWidth*n)/2+"px",this.div.style.marginTop=(window.innerHeight-this.setHeight*n)/2+"px"),window.scroll(0,0)}},handleTouchEvent:function(t){t.preventDefault();var e=null;null!=this.element&&(e=null!=this.canvas?this.canvas.getBoundingClientRect():null!=this.div?this.div.getBoundingClientRect():this.element.getBoundingClientRect());var i=this.setWidth,n=this.setHeight;0!=i&&0!=n||(null!=e?(i=e.width,n=e.height):(i=1,n=1));for(var a=0,s=t.changedTouches;a<s.length;){var r=s[a];++a;var o=0,l=0;null!=e?(o=(r.clientX-e.left)*(i/e.width),l=(r.clientY-e.top)*(n/e.height)):(o=r.clientX,l=r.clientY);var _=t.type;switch(_){case"touchstart":var h=this.unusedTouchesPool.pop();null==h?h=new ga(o/i,l/n,r.identifier,0,0,r.force,this.parent.id):(h.x=o/i,h.y=l/n,h.id=r.identifier,h.dx=0,h.dy=0,h.pressure=r.force,h.device=this.parent.id),this.currentTouches.h[r.identifier]=h,ga.onStart.dispatch(h),null==this.primaryTouch&&(this.primaryTouch=h),h==this.primaryTouch&&this.parent.onMouseDown.dispatch(o,l,0);break;case"touchend":var c=this.currentTouches.h[r.identifier];if(null!=c){var u=c.x,d=c.y;c.x=o/i,c.y=l/n,c.dx=c.x-u,c.dy=c.y-d,c.pressure=r.force,ga.onEnd.dispatch(c),this.currentTouches.remove(r.identifier),this.unusedTouchesPool.add(c),c==this.primaryTouch&&(this.parent.onMouseUp.dispatch(o,l,0),this.primaryTouch=null)}break;case"touchmove":var m=this.currentTouches.h[r.identifier];if(null!=m){var f=m.x,p=m.y;m.x=o/i,m.y=l/n,m.dx=m.x-f,m.dy=m.y-p,m.pressure=r.force,ga.onMove.dispatch(m),m==this.primaryTouch&&this.parent.onMouseMove.dispatch(o,l)}}}},move:function(t,e){},resize:function(t,e){},setBorderless:function(t){return t},setEnableTextEvents:function(t){return t?(null==xi.textInput&&(xi.textInput=window.document.createElement("input"),xi.textInput.type="text",xi.textInput.style.position="absolute",xi.textInput.style.opacity="0",xi.textInput.style.color="transparent",xi.textInput.value="",xi.textInput.autocapitalize="off",xi.textInput.autocorrect="off",xi.textInput.autocomplete="off",xi.textInput.style.left="0px",xi.textInput.style.top="50%",new I("(iPad|iPhone|iPod).*OS 8_","gi").match(window.navigator.userAgent)?(xi.textInput.style.fontSize="0px",xi.textInput.style.width="0px",xi.textInput.style.height="0px"):(xi.textInput.style.width="1px",xi.textInput.style.height="1px"),xi.textInput.style.pointerEvents="none",xi.textInput.style.zIndex="-10000000",window.document.body.appendChild(xi.textInput)),this.enableTextEvents||(xi.textInput.addEventListener("input",a(this,this.handleInputEvent),!0),xi.textInput.addEventListener("blur",a(this,this.handleFocusEvent),!0)),xi.textInput.focus()):null!=xi.textInput&&(xi.textInput.removeEventListener("input",a(this,this.handleInputEvent),!0),xi.textInput.removeEventListener("blur",a(this,this.handleFocusEvent),!0),xi.textInput.blur()),this.enableTextEvents=t},setFullscreen:function(t){return!1},setIcon:function(t){},setMaximized:function(t){return!1},setMinimized:function(t){return!1},setResizable:function(t){return t},setTitle:function(t){return t},__class__:xi};var bi=function(){};s["lime.app.IModule"]=bi,bi.__name__=["lime","app","IModule"],bi.prototype={__class__:bi};var wi=function(){this.onExit=new Mi};s["lime.app.Module"]=wi,wi.__name__=["lime","app","Module"],wi.__interfaces__=[bi],wi.prototype={onGamepadAxisMove:function(t,e,i){},onGamepadButtonDown:function(t,e){},onGamepadButtonUp:function(t,e){},onGamepadConnect:function(t){We.trace("onGamepadConnect (module)",{fileName:"Module.hx",lineNumber:64,className:"lime.app.Module",methodName:"onGamepadConnect"})},onGamepadDisconnect:function(t){},onJoystickAxisMove:function(t,e,i){},onJoystickButtonDown:function(t,e){},onJoystickButtonUp:function(t,e){},onJoystickConnect:function(t){},onJoystickDisconnect:function(t){},onJoystickHatMove:function(t,e,i){},onJoystickTrackballMove:function(t,e,i){},onKeyDown:function(t,e,i){},onKeyUp:function(t,e,i){},onModuleExit:function(t){},onMouseDown:function(t,e,i,n){},onMouseMove:function(t,e,i){},onMouseMoveRelative:function(t,e,i){},onMouseUp:function(t,e,i,n){},onMouseWheel:function(t,e,i){},onPreloadComplete:function(){},onPreloadProgress:function(t,e){},onRenderContextLost:function(t){},onRenderContextRestored:function(t,e){},onTextEdit:function(t,e,i,n){},onTextInput:function(t,e){},onTouchEnd:function(t){},onTouchMove:function(t){},onTouchStart:function(t){},onWindowActivate:function(t){},onWindowClose:function(t){},onWindowCreate:function(t){},onWindowDeactivate:function(t){},onWindowDropFile:function(t,e){},onWindowEnter:function(t){},onWindowFocusIn:function(t){},onWindowFocusOut:function(t){},onWindowFullscreen:function(t){},onWindowLeave:function(t){},onWindowMove:function(t,e,i){},onWindowMinimize:function(t){},onWindowResize:function(t,e,i){},onWindowRestore:function(t){},render:function(t){},update:function(t){},__class__:wi};var Ti=function(){this.onUpdate=new Mi,wi.call(this),null==Ti.current&&(Ti.current=this),this.modules=[],this.renderers=[],this.windows=[],this.windowByID=new qe,this.backend=new pi(this),this.onExit.add(a(this,this.onModuleExit)),this.onUpdate.add(a(this,this.update)),la.onConnect.add(a(this,this.__onGamepadConnect)),ca.onConnect.add(a(this,this.__onJoystickConnect)),ga.onStart.add(a(this,this.onTouchStart)),ga.onMove.add(a(this,this.onTouchMove)),ga.onEnd.add(a(this,this.onTouchEnd))};s["lime.app.Application"]=Ti,Ti.__name__=["lime","app","Application"],Ti.current=null,Ti.__super__=wi,Ti.prototype=n(wi.prototype,{addModule:function(t){if(this.modules.push(t),this.windows.length>0){for(var e=0,i=this.windows;e<i.length;){var n=i[e];++e,t.onWindowCreate(n)}(null==this.preloader||this.preloader.complete)&&t.onPreloadComplete()}},addRenderer:function(t){t.onRender.add(function(t,e){return function(){t(e)}}(a(this,this.render),t)),t.onContextLost.add(function(t,e){return function(){t(e)}}(a(this,this.onRenderContextLost),t)),t.onContextRestored.add(function(t,e){return function(i){t(e,i)}}(a(this,this.onRenderContextRestored),t)),this.renderers.push(t)},create:function(t){if(this.config=t,this.backend.create(t),null!=t){if(Object.prototype.hasOwnProperty.call(t,"fps")&&this.backend.setFrameRate(t.fps),Object.prototype.hasOwnProperty.call(t,"windows"))for(var e=0,i=t.windows;e<i.length;){var n=i[e];++e;var a=new va(n);this.createWindow(a);break}(null==this.preloader||this.preloader.complete)&&this.onPreloadComplete()}},createWindow:function(t){if(t.onActivate.add(function(t,e){return function(){t(e)}}(a(this,this.onWindowActivate),t)),t.onClose.add(function(t,e){return function(){t(e)}}(a(this,this.onWindowClose),t)),t.onCreate.add(function(t,e){return function(){t(e)}}(a(this,this.onWindowCreate),t)),t.onDeactivate.add(function(t,e){return function(){t(e)}}(a(this,this.onWindowDeactivate),t)),t.onDropFile.add(function(t,e){return function(i){t(e,i)}}(a(this,this.onWindowDropFile),t)),t.onEnter.add(function(t,e){return function(){t(e)}}(a(this,this.onWindowEnter),t)),t.onFocusIn.add(function(t,e){return function(){t(e)}}(a(this,this.onWindowFocusIn),t)),t.onFocusOut.add(function(t,e){return function(){t(e)}}(a(this,this.onWindowFocusOut),t)),t.onFullscreen.add(function(t,e){return function(){t(e)}}(a(this,this.onWindowFullscreen),t)),t.onKeyDown.add(function(t,e){return function(i,n){t(e,i,n)}}(a(this,this.onKeyDown),t)),t.onKeyUp.add(function(t,e){return function(i,n){t(e,i,n)}}(a(this,this.onKeyUp),t)),t.onLeave.add(function(t,e){return function(){t(e)}}(a(this,this.onWindowLeave),t)),t.onMinimize.add(function(t,e){return function(){t(e)}}(a(this,this.onWindowMinimize),t)),t.onMouseDown.add(function(t,e){return function(i,n,a){t(e,i,n,a)}}(a(this,this.onMouseDown),t)),t.onMouseMove.add(function(t,e){return function(i,n){t(e,i,n)}}(a(this,this.onMouseMove),t)),t.onMouseMoveRelative.add(function(t,e){return function(i,n){t(e,i,n)}}(a(this,this.onMouseMoveRelative),t)),t.onMouseUp.add(function(t,e){return function(i,n,a){t(e,i,n,a)}}(a(this,this.onMouseUp),t)),t.onMouseWheel.add(function(t,e){return function(i,n){t(e,i,n)}}(a(this,this.onMouseWheel),t)),t.onMove.add(function(t,e){return function(i,n){t(e,i,n)}}(a(this,this.onWindowMove),t)),t.onResize.add(function(t,e){return function(i,n){t(e,i,n)}}(a(this,this.onWindowResize),t)),t.onRestore.add(function(t,e){return function(){t(e)}}(a(this,this.onWindowRestore),t)),t.onTextEdit.add(function(t,e){return function(i,n,a){t(e,i,n,a)}}(a(this,this.onTextEdit),t)),t.onTextInput.add(function(t,e){return function(i){t(e,i)}}(a(this,this.onTextInput),t)),null==t.renderer){var e=new hn(t);this.addRenderer(e)}t.create(this),this.windows.push(t),this.windowByID.h[t.id]=t,t.onCreate.dispatch()},exec:function(){return Ti.current=this,this.backend.exec()},onGamepadAxisMove:function(t,e,i){for(var n=0,a=this.modules;n<a.length;){var s=a[n];++n,s.onGamepadAxisMove(t,e,i)}},onGamepadButtonDown:function(t,e){for(var i=0,n=this.modules;i<n.length;){var a=n[i];++i,a.onGamepadButtonDown(t,e)}},onGamepadButtonUp:function(t,e){for(var i=0,n=this.modules;i<n.length;){var a=n[i];++i,a.onGamepadButtonUp(t,e)}},onGamepadConnect:function(t){for(var e=0,i=this.modules;e<i.length;){var n=i[e];++e,n.onGamepadConnect(t)}},onGamepadDisconnect:function(t){for(var e=0,i=this.modules;e<i.length;){var n=i[e];++e,n.onGamepadDisconnect(t)}},onJoystickAxisMove:function(t,e,i){for(var n=0,a=this.modules;n<a.length;){var s=a[n];++n,s.onJoystickAxisMove(t,e,i)}},onJoystickButtonDown:function(t,e){for(var i=0,n=this.modules;i<n.length;){var a=n[i];++i,a.onJoystickButtonDown(t,e)}},onJoystickButtonUp:function(t,e){for(var i=0,n=this.modules;i<n.length;){var a=n[i];++i,a.onJoystickButtonUp(t,e)}},onJoystickConnect:function(t){for(var e=0,i=this.modules;e<i.length;){var n=i[e];++e,n.onJoystickConnect(t)}},onJoystickDisconnect:function(t){for(var e=0,i=this.modules;e<i.length;){var n=i[e];++e,n.onJoystickDisconnect(t)}},onJoystickHatMove:function(t,e,i){for(var n=0,a=this.modules;n<a.length;){var s=a[n];++n,s.onJoystickHatMove(t,e,i)}},onJoystickTrackballMove:function(t,e,i){for(var n=0,a=this.modules;n<a.length;){var s=a[n];++n,s.onJoystickTrackballMove(t,e,i)}},onKeyDown:function(t,e,i){for(var n=0,a=this.modules;n<a.length;){var s=a[n];++n,s.onKeyDown(t,e,i)}},onKeyUp:function(t,e,i){for(var n=0,a=this.modules;n<a.length;){var s=a[n];++n,s.onKeyUp(t,e,i)}},onModuleExit:function(t){for(var e=0,i=this.modules;e<i.length;){var n=i[e];++e,n.onModuleExit(t)}this.backend.exit()},onMouseDown:function(t,e,i,n){for(var a=0,s=this.modules;a<s.length;){var r=s[a];++a,r.onMouseDown(t,e,i,n)}},onMouseMove:function(t,e,i){for(var n=0,a=this.modules;n<a.length;){var s=a[n];++n,s.onMouseMove(t,e,i)}},onMouseMoveRelative:function(t,e,i){for(var n=0,a=this.modules;n<a.length;){var s=a[n];++n,s.onMouseMoveRelative(t,e,i)}},onMouseUp:function(t,e,i,n){for(var a=0,s=this.modules;a<s.length;){var r=s[a];++a,r.onMouseUp(t,e,i,n)}},onMouseWheel:function(t,e,i){for(var n=0,a=this.modules;n<a.length;){var s=a[n];++n,s.onMouseWheel(t,e,i)}},onPreloadComplete:function(){for(var t=0,e=this.modules;t<e.length;){var i=e[t];++t,i.onPreloadComplete()}},onPreloadProgress:function(t,e){for(var i=0,n=this.modules;i<n.length;){var a=n[i];++i,a.onPreloadProgress(t,e)}},onRenderContextLost:function(t){for(var e=0,i=this.modules;e<i.length;){var n=i[e];++e,n.onRenderContextLost(t)}},onRenderContextRestored:function(t,e){for(var i=0,n=this.modules;i<n.length;){var a=n[i];++i,a.onRenderContextRestored(t,e)}},onTextEdit:function(t,e,i,n){for(var a=0,s=this.modules;a<s.length;){var r=s[a];++a,r.onTextEdit(t,e,i,n)}},onTextInput:function(t,e){for(var i=0,n=this.modules;i<n.length;){var a=n[i];++i,a.onTextInput(t,e)}},onTouchEnd:function(t){for(var e=0,i=this.modules;e<i.length;){var n=i[e];++e,n.onTouchEnd(t)}},onTouchMove:function(t){for(var e=0,i=this.modules;e<i.length;){var n=i[e];++e,n.onTouchMove(t)}},onTouchStart:function(t){for(var e=0,i=this.modules;e<i.length;){var n=i[e];++e,n.onTouchStart(t)}},onWindowActivate:function(t){for(var e=0,i=this.modules;e<i.length;){var n=i[e];++e,n.onWindowActivate(t)}},onWindowClose:function(t){for(var e=0,i=this.modules;e<i.length;){var n=i[e];++e,n.onWindowClose(t)}this.removeWindow(t)},onWindowCreate:function(t){for(var e=0,i=this.modules;e<i.length;){var n=i[e];++e,n.onWindowCreate(t)}},onWindowDeactivate:function(t){for(var e=0,i=this.modules;e<i.length;){var n=i[e];++e,n.onWindowDeactivate(t)}},onWindowDropFile:function(t,e){for(var i=0,n=this.modules;i<n.length;){var a=n[i];++i,a.onWindowDropFile(t,e)}},onWindowEnter:function(t){for(var e=0,i=this.modules;e<i.length;){var n=i[e];++e,n.onWindowEnter(t)}},onWindowFocusIn:function(t){for(var e=0,i=this.modules;e<i.length;){var n=i[e];++e,n.onWindowFocusIn(t)}},onWindowFocusOut:function(t){for(var e=0,i=this.modules;e<i.length;){var n=i[e];++e,n.onWindowFocusOut(t)}},onWindowFullscreen:function(t){for(var e=0,i=this.modules;e<i.length;){var n=i[e];++e,n.onWindowFullscreen(t)}},onWindowLeave:function(t){for(var e=0,i=this.modules;e<i.length;){var n=i[e];++e,n.onWindowLeave(t)}},onWindowMinimize:function(t){for(var e=0,i=this.modules;e<i.length;){var n=i[e];++e,n.onWindowMinimize(t)}},onWindowMove:function(t,e,i){for(var n=0,a=this.modules;n<a.length;){var s=a[n];++n,s.onWindowMove(t,e,i)}},onWindowResize:function(t,e,i){for(var n=0,a=this.modules;n<a.length;){var s=a[n];++n,s.onWindowResize(t,e,i)}},onWindowRestore:function(t){for(var e=0,i=this.modules;e<i.length;){var n=i[e];++e,n.onWindowRestore(t)}},removeModule:function(t){null!=t&&(t.onModuleExit(0),T.remove(this.modules,t))},removeRenderer:function(t){null!=t&&T.indexOf(this.renderers,t,0)>-1&&T.remove(this.renderers,t)},removeWindow:function(t){null!=t&&this.windowByID.h.hasOwnProperty(t.id)&&(T.remove(this.windows,t),this.windowByID.remove(t.id),t.close(),this.windows[0]==t&&(this.window=null))},render:function(t){for(var e=0,i=this.modules;e<i.length;){var n=i[e];++e,n.render(t)}},setPreloader:function(t){null!=this.preloader&&(this.preloader.onProgress.remove(a(this,this.onPreloadProgress)),this.preloader.onComplete.remove(a(this,this.onPreloadComplete))),this.preloader=t,t.complete?this.onPreloadComplete():(t.onProgress.add(a(this,this.onPreloadProgress)),t.onComplete.add(a(this,this.onPreloadComplete)))},update:function(t){for(var e=0,i=this.modules;e<i.length;){var n=i[e];++e,n.update(t)}},__onGamepadConnect:function(t){this.onGamepadConnect(t),t.onAxisMove.add(function(t,e){return function(i,n){t(e,i,n)}}(a(this,this.onGamepadAxisMove),t)),t.onButtonDown.add(function(t,e){return function(i){t(e,i)}}(a(this,this.onGamepadButtonDown),t)),t.onButtonUp.add(function(t,e){return function(i){t(e,i)}}(a(this,this.onGamepadButtonUp),t)),t.onDisconnect.add(function(t,e){return function(){t(e)}}(a(this,this.onGamepadDisconnect),t))},__onJoystickConnect:function(t){this.onJoystickConnect(t),t.onAxisMove.add(function(t,e){return function(i,n){t(e,i,n)}}(a(this,this.onJoystickAxisMove),t)),t.onButtonDown.add(function(t,e){return function(i){t(e,i)}}(a(this,this.onJoystickButtonDown),t)),t.onButtonUp.add(function(t,e){return function(i){t(e,i)}}(a(this,this.onJoystickButtonUp),t)),t.onDisconnect.add(function(t,e){return function(){t(e)}}(a(this,this.onJoystickDisconnect),t)),t.onHatMove.add(function(t,e){return function(i,n){t(e,i,n)}}(a(this,this.onJoystickHatMove),t)),t.onTrackballMove.add(function(t,e){return function(i,n){t(e,i,n)}}(a(this,this.onJoystickTrackballMove),t))},get_frameRate:function(){return this.backend.getFrameRate()},set_frameRate:function(t){return this.backend.setFrameRate(t)},get_renderer:function(){return this.renderers[0]},get_window:function(){return this.windows[0]},__class__:Ti,__properties__:{get_window:"get_window",get_renderer:"get_renderer",set_frameRate:"set_frameRate",get_frameRate:"get_frameRate"}});var Ai=function(){this.canceled=!1,this.__listeners=[],this.__priorities=[],this.__repeat=[]};s["lime.app.Event"]=Ai,Ai.__name__=["lime","app","Event"],Ai.prototype={add:function(t,e,i){null==i&&(i=0),null==e&&(e=!1);for(var n=0,a=this.__priorities.length;n<a;){var s=n++;if(i>this.__priorities[s])return this.__listeners.splice(s,0,t),this.__priorities.splice(s,0,i),void this.__repeat.splice(s,0,!e)}this.__listeners.push(t),this.__priorities.push(i),this.__repeat.push(!e)},cancel:function(){this.canceled=!0},has:function(t){for(var e=0,i=this.__listeners;e<i.length;){var n=i[e];if(++e,U.compareMethods(n,t))return!0}return!1},remove:function(t){for(var e=this.__listeners.length;--e>=0;)U.compareMethods(this.__listeners[e],t)&&(this.__listeners.splice(e,1),this.__priorities.splice(e,1),this.__repeat.splice(e,1))},__class__:Ai};var Ei=function(){this.canceled=!1,this.__listeners=[],this.__priorities=[],this.__repeat=[]};s["lime.app.Event_Dynamic_Void"]=Ei,Ei.__name__=["lime","app","Event_Dynamic_Void"],Ei.prototype={add:function(t,e,i){null==i&&(i=0),null==e&&(e=!1);for(var n=0,a=this.__priorities.length;n<a;){var s=n++;if(i>this.__priorities[s])return this.__listeners.splice(s,0,t),this.__priorities.splice(s,0,i),void this.__repeat.splice(s,0,!e)}this.__listeners.push(t),this.__priorities.push(i),this.__repeat.push(!e)},cancel:function(){this.canceled=!0},has:function(t){for(var e=0,i=this.__listeners;e<i.length;){var n=i[e];if(++e,U.compareMethods(n,t))return!0}return!1},remove:function(t){for(var e=this.__listeners.length;--e>=0;)U.compareMethods(this.__listeners[e],t)&&(this.__listeners.splice(e,1),this.__priorities.splice(e,1),this.__repeat.splice(e,1))},dispatch:function(t){this.canceled=!1;for(var e=this.__listeners,i=this.__repeat,n=0;n<e.length&&(e[n](t),i[n]?n++:this.remove(e[n]),!this.canceled););},__class__:Ei};var Si=function(){this.canceled=!1,this.__listeners=[],this.__priorities=[],this.__repeat=[]};s["lime.app.Event_Float_Float_Int_Void"]=Si,Si.__name__=["lime","app","Event_Float_Float_Int_Void"],Si.prototype={add:function(t,e,i){null==i&&(i=0),null==e&&(e=!1);for(var n=0,a=this.__priorities.length;n<a;){var s=n++;if(i>this.__priorities[s])return this.__listeners.splice(s,0,t),this.__priorities.splice(s,0,i),void this.__repeat.splice(s,0,!e)}this.__listeners.push(t),this.__priorities.push(i),this.__repeat.push(!e)},cancel:function(){this.canceled=!0},has:function(t){for(var e=0,i=this.__listeners;e<i.length;){var n=i[e];if(++e,U.compareMethods(n,t))return!0}return!1},remove:function(t){for(var e=this.__listeners.length;--e>=0;)U.compareMethods(this.__listeners[e],t)&&(this.__listeners.splice(e,1),this.__priorities.splice(e,1),this.__repeat.splice(e,1))},dispatch:function(t,e,i){this.canceled=!1;for(var n=this.__listeners,a=this.__repeat,s=0;s<n.length&&(n[s](t,e,i),a[s]?s++:this.remove(n[s]),!this.canceled););},__class__:Si};var Ci=function(){this.canceled=!1,this.__listeners=[],this.__priorities=[],this.__repeat=[]};s["lime.app.Event_Float_Float_Void"]=Ci,Ci.__name__=["lime","app","Event_Float_Float_Void"],Ci.prototype={add:function(t,e,i){null==i&&(i=0),null==e&&(e=!1);for(var n=0,a=this.__priorities.length;n<a;){var s=n++;if(i>this.__priorities[s])return this.__listeners.splice(s,0,t),this.__priorities.splice(s,0,i),void this.__repeat.splice(s,0,!e)}this.__listeners.push(t),this.__priorities.push(i),this.__repeat.push(!e)},cancel:function(){this.canceled=!0},has:function(t){for(var e=0,i=this.__listeners;e<i.length;){var n=i[e];if(++e,U.compareMethods(n,t))return!0}return!1},remove:function(t){for(var e=this.__listeners.length;--e>=0;)U.compareMethods(this.__listeners[e],t)&&(this.__listeners.splice(e,1),this.__priorities.splice(e,1),this.__repeat.splice(e,1))},dispatch:function(t,e){this.canceled=!1;for(var i=this.__listeners,n=this.__repeat,a=0;a<i.length&&(i[a](t,e),n[a]?a++:this.remove(i[a]),!this.canceled););},__class__:Ci};var Ii=function(){this.canceled=!1,this.__listeners=[],this.__priorities=[],this.__repeat=[]};s["lime.app.Event_Int_Float_Void"]=Ii,Ii.__name__=["lime","app","Event_Int_Float_Void"],Ii.prototype={add:function(t,e,i){null==i&&(i=0),null==e&&(e=!1);for(var n=0,a=this.__priorities.length;n<a;){var s=n++;if(i>this.__priorities[s])return this.__listeners.splice(s,0,t),this.__priorities.splice(s,0,i),void this.__repeat.splice(s,0,!e)}this.__listeners.push(t),this.__priorities.push(i),this.__repeat.push(!e)},cancel:function(){this.canceled=!0},has:function(t){for(var e=0,i=this.__listeners;e<i.length;){var n=i[e];if(++e,U.compareMethods(n,t))return!0}return!1},remove:function(t){for(var e=this.__listeners.length;--e>=0;)U.compareMethods(this.__listeners[e],t)&&(this.__listeners.splice(e,1),this.__priorities.splice(e,1),this.__repeat.splice(e,1))},dispatch:function(t,e){this.canceled=!1;for(var i=this.__listeners,n=this.__repeat,a=0;a<i.length&&(i[a](t,e),n[a]?a++:this.remove(i[a]),!this.canceled););},__class__:Ii};var Li=function(){this.canceled=!1,this.__listeners=[],this.__priorities=[],this.__repeat=[]};s["lime.app.Event_Int_Int_Void"]=Li,Li.__name__=["lime","app","Event_Int_Int_Void"],Li.prototype={add:function(t,e,i){null==i&&(i=0),null==e&&(e=!1);for(var n=0,a=this.__priorities.length;n<a;){var s=n++;if(i>this.__priorities[s])return this.__listeners.splice(s,0,t),this.__priorities.splice(s,0,i),void this.__repeat.splice(s,0,!e)}this.__listeners.push(t),this.__priorities.push(i),this.__repeat.push(!e)},cancel:function(){this.canceled=!0},has:function(t){for(var e=0,i=this.__listeners;e<i.length;){var n=i[e];if(++e,U.compareMethods(n,t))return!0}return!1},remove:function(t){for(var e=this.__listeners.length;--e>=0;)U.compareMethods(this.__listeners[e],t)&&(this.__listeners.splice(e,1),this.__priorities.splice(e,1),this.__repeat.splice(e,1))},dispatch:function(t,e){this.canceled=!1;for(var i=this.__listeners,n=this.__repeat,a=0;a<i.length&&(i[a](t,e),n[a]?a++:this.remove(i[a]),!this.canceled););},__class__:Li};var Mi=function(){this.canceled=!1,this.__listeners=[],this.__priorities=[],this.__repeat=[]};s["lime.app.Event_Int_Void"]=Mi,Mi.__name__=["lime","app","Event_Int_Void"],Mi.prototype={add:function(t,e,i){null==i&&(i=0),null==e&&(e=!1);for(var n=0,a=this.__priorities.length;n<a;){var s=n++;if(i>this.__priorities[s])return this.__listeners.splice(s,0,t),
this.__priorities.splice(s,0,i),void this.__repeat.splice(s,0,!e)}this.__listeners.push(t),this.__priorities.push(i),this.__repeat.push(!e)},cancel:function(){this.canceled=!0},has:function(t){for(var e=0,i=this.__listeners;e<i.length;){var n=i[e];if(++e,U.compareMethods(n,t))return!0}return!1},remove:function(t){for(var e=this.__listeners.length;--e>=0;)U.compareMethods(this.__listeners[e],t)&&(this.__listeners.splice(e,1),this.__priorities.splice(e,1),this.__repeat.splice(e,1))},dispatch:function(t){this.canceled=!1;for(var e=this.__listeners,i=this.__repeat,n=0;n<e.length&&(e[n](t),i[n]?n++:this.remove(e[n]),!this.canceled););},__class__:Mi};var Bi=function(){this.canceled=!1,this.__listeners=[],this.__priorities=[],this.__repeat=[]};s["lime.app.Event_Int_lime_ui_JoystickHatPosition_Void"]=Bi,Bi.__name__=["lime","app","Event_Int_lime_ui_JoystickHatPosition_Void"],Bi.prototype={add:function(t,e,i){null==i&&(i=0),null==e&&(e=!1);for(var n=0,a=this.__priorities.length;n<a;){var s=n++;if(i>this.__priorities[s])return this.__listeners.splice(s,0,t),this.__priorities.splice(s,0,i),void this.__repeat.splice(s,0,!e)}this.__listeners.push(t),this.__priorities.push(i),this.__repeat.push(!e)},cancel:function(){this.canceled=!0},has:function(t){for(var e=0,i=this.__listeners;e<i.length;){var n=i[e];if(++e,U.compareMethods(n,t))return!0}return!1},remove:function(t){for(var e=this.__listeners.length;--e>=0;)U.compareMethods(this.__listeners[e],t)&&(this.__listeners.splice(e,1),this.__priorities.splice(e,1),this.__repeat.splice(e,1))},dispatch:function(t,e){this.canceled=!1;for(var i=this.__listeners,n=this.__repeat,a=0;a<i.length&&(i[a](t,e),n[a]?a++:this.remove(i[a]),!this.canceled););},__class__:Bi};var Ri=function(){this.canceled=!1,this.__listeners=[],this.__priorities=[],this.__repeat=[]};s["lime.app.Event_String_Int_Int_Void"]=Ri,Ri.__name__=["lime","app","Event_String_Int_Int_Void"],Ri.prototype={add:function(t,e,i){null==i&&(i=0),null==e&&(e=!1);for(var n=0,a=this.__priorities.length;n<a;){var s=n++;if(i>this.__priorities[s])return this.__listeners.splice(s,0,t),this.__priorities.splice(s,0,i),void this.__repeat.splice(s,0,!e)}this.__listeners.push(t),this.__priorities.push(i),this.__repeat.push(!e)},cancel:function(){this.canceled=!0},has:function(t){for(var e=0,i=this.__listeners;e<i.length;){var n=i[e];if(++e,U.compareMethods(n,t))return!0}return!1},remove:function(t){for(var e=this.__listeners.length;--e>=0;)U.compareMethods(this.__listeners[e],t)&&(this.__listeners.splice(e,1),this.__priorities.splice(e,1),this.__repeat.splice(e,1))},dispatch:function(t,e,i){this.canceled=!1;for(var n=this.__listeners,a=this.__repeat,s=0;s<n.length&&(n[s](t,e,i),a[s]?s++:this.remove(n[s]),!this.canceled););},__class__:Ri};var Di=function(){this.canceled=!1,this.__listeners=[],this.__priorities=[],this.__repeat=[]};s["lime.app.Event_String_Void"]=Di,Di.__name__=["lime","app","Event_String_Void"],Di.prototype={add:function(t,e,i){null==i&&(i=0),null==e&&(e=!1);for(var n=0,a=this.__priorities.length;n<a;){var s=n++;if(i>this.__priorities[s])return this.__listeners.splice(s,0,t),this.__priorities.splice(s,0,i),void this.__repeat.splice(s,0,!e)}this.__listeners.push(t),this.__priorities.push(i),this.__repeat.push(!e)},cancel:function(){this.canceled=!0},has:function(t){for(var e=0,i=this.__listeners;e<i.length;){var n=i[e];if(++e,U.compareMethods(n,t))return!0}return!1},remove:function(t){for(var e=this.__listeners.length;--e>=0;)U.compareMethods(this.__listeners[e],t)&&(this.__listeners.splice(e,1),this.__priorities.splice(e,1),this.__repeat.splice(e,1))},dispatch:function(t){this.canceled=!1;for(var e=this.__listeners,i=this.__repeat,n=0;n<e.length&&(e[n](t),i[n]?n++:this.remove(e[n]),!this.canceled););},__class__:Di};var Pi=function(){this.canceled=!1,this.__listeners=[],this.__priorities=[],this.__repeat=[]};s["lime.app.Event_lime_graphics_RenderContext_Void"]=Pi,Pi.__name__=["lime","app","Event_lime_graphics_RenderContext_Void"],Pi.prototype={add:function(t,e,i){null==i&&(i=0),null==e&&(e=!1);for(var n=0,a=this.__priorities.length;n<a;){var s=n++;if(i>this.__priorities[s])return this.__listeners.splice(s,0,t),this.__priorities.splice(s,0,i),void this.__repeat.splice(s,0,!e)}this.__listeners.push(t),this.__priorities.push(i),this.__repeat.push(!e)},cancel:function(){this.canceled=!0},has:function(t){for(var e=0,i=this.__listeners;e<i.length;){var n=i[e];if(++e,U.compareMethods(n,t))return!0}return!1},remove:function(t){for(var e=this.__listeners.length;--e>=0;)U.compareMethods(this.__listeners[e],t)&&(this.__listeners.splice(e,1),this.__priorities.splice(e,1),this.__repeat.splice(e,1))},dispatch:function(t){this.canceled=!1;for(var e=this.__listeners,i=this.__repeat,n=0;n<e.length&&(e[n](t),i[n]?n++:this.remove(e[n]),!this.canceled););},__class__:Pi};var Ni=function(){this.canceled=!1,this.__listeners=[],this.__priorities=[],this.__repeat=[]};s["lime.app.Event_lime_ui_GamepadAxis_Float_Void"]=Ni,Ni.__name__=["lime","app","Event_lime_ui_GamepadAxis_Float_Void"],Ni.prototype={add:function(t,e,i){null==i&&(i=0),null==e&&(e=!1);for(var n=0,a=this.__priorities.length;n<a;){var s=n++;if(i>this.__priorities[s])return this.__listeners.splice(s,0,t),this.__priorities.splice(s,0,i),void this.__repeat.splice(s,0,!e)}this.__listeners.push(t),this.__priorities.push(i),this.__repeat.push(!e)},cancel:function(){this.canceled=!0},has:function(t){for(var e=0,i=this.__listeners;e<i.length;){var n=i[e];if(++e,U.compareMethods(n,t))return!0}return!1},remove:function(t){for(var e=this.__listeners.length;--e>=0;)U.compareMethods(this.__listeners[e],t)&&(this.__listeners.splice(e,1),this.__priorities.splice(e,1),this.__repeat.splice(e,1))},dispatch:function(t,e){this.canceled=!1;for(var i=this.__listeners,n=this.__repeat,a=0;a<i.length&&(i[a](t,e),n[a]?a++:this.remove(i[a]),!this.canceled););},__class__:Ni};var Fi=function(){this.canceled=!1,this.__listeners=[],this.__priorities=[],this.__repeat=[]};s["lime.app.Event_lime_ui_GamepadButton_Void"]=Fi,Fi.__name__=["lime","app","Event_lime_ui_GamepadButton_Void"],Fi.prototype={add:function(t,e,i){null==i&&(i=0),null==e&&(e=!1);for(var n=0,a=this.__priorities.length;n<a;){var s=n++;if(i>this.__priorities[s])return this.__listeners.splice(s,0,t),this.__priorities.splice(s,0,i),void this.__repeat.splice(s,0,!e)}this.__listeners.push(t),this.__priorities.push(i),this.__repeat.push(!e)},cancel:function(){this.canceled=!0},has:function(t){for(var e=0,i=this.__listeners;e<i.length;){var n=i[e];if(++e,U.compareMethods(n,t))return!0}return!1},remove:function(t){for(var e=this.__listeners.length;--e>=0;)U.compareMethods(this.__listeners[e],t)&&(this.__listeners.splice(e,1),this.__priorities.splice(e,1),this.__repeat.splice(e,1))},dispatch:function(t){this.canceled=!1;for(var e=this.__listeners,i=this.__repeat,n=0;n<e.length&&(e[n](t),i[n]?n++:this.remove(e[n]),!this.canceled););},__class__:Fi};var ki=function(){this.canceled=!1,this.__listeners=[],this.__priorities=[],this.__repeat=[]};s["lime.app.Event_lime_ui_Gamepad_Void"]=ki,ki.__name__=["lime","app","Event_lime_ui_Gamepad_Void"],ki.prototype={add:function(t,e,i){null==i&&(i=0),null==e&&(e=!1);for(var n=0,a=this.__priorities.length;n<a;){var s=n++;if(i>this.__priorities[s])return this.__listeners.splice(s,0,t),this.__priorities.splice(s,0,i),void this.__repeat.splice(s,0,!e)}this.__listeners.push(t),this.__priorities.push(i),this.__repeat.push(!e)},cancel:function(){this.canceled=!0},has:function(t){for(var e=0,i=this.__listeners;e<i.length;){var n=i[e];if(++e,U.compareMethods(n,t))return!0}return!1},remove:function(t){for(var e=this.__listeners.length;--e>=0;)U.compareMethods(this.__listeners[e],t)&&(this.__listeners.splice(e,1),this.__priorities.splice(e,1),this.__repeat.splice(e,1))},dispatch:function(t){this.canceled=!1;for(var e=this.__listeners,i=this.__repeat,n=0;n<e.length&&(e[n](t),i[n]?n++:this.remove(e[n]),!this.canceled););},__class__:ki};var Oi=function(){this.canceled=!1,this.__listeners=[],this.__priorities=[],this.__repeat=[]};s["lime.app.Event_lime_ui_Joystick_Void"]=Oi,Oi.__name__=["lime","app","Event_lime_ui_Joystick_Void"],Oi.prototype={add:function(t,e,i){null==i&&(i=0),null==e&&(e=!1);for(var n=0,a=this.__priorities.length;n<a;){var s=n++;if(i>this.__priorities[s])return this.__listeners.splice(s,0,t),this.__priorities.splice(s,0,i),void this.__repeat.splice(s,0,!e)}this.__listeners.push(t),this.__priorities.push(i),this.__repeat.push(!e)},cancel:function(){this.canceled=!0},has:function(t){for(var e=0,i=this.__listeners;e<i.length;){var n=i[e];if(++e,U.compareMethods(n,t))return!0}return!1},remove:function(t){for(var e=this.__listeners.length;--e>=0;)U.compareMethods(this.__listeners[e],t)&&(this.__listeners.splice(e,1),this.__priorities.splice(e,1),this.__repeat.splice(e,1))},dispatch:function(t){this.canceled=!1;for(var e=this.__listeners,i=this.__repeat,n=0;n<e.length&&(e[n](t),i[n]?n++:this.remove(e[n]),!this.canceled););},__class__:Oi};var Ui=function(){this.canceled=!1,this.__listeners=[],this.__priorities=[],this.__repeat=[]};s["lime.app.Event_lime_ui_KeyCode_lime_ui_KeyModifier_Void"]=Ui,Ui.__name__=["lime","app","Event_lime_ui_KeyCode_lime_ui_KeyModifier_Void"],Ui.prototype={add:function(t,e,i){null==i&&(i=0),null==e&&(e=!1);for(var n=0,a=this.__priorities.length;n<a;){var s=n++;if(i>this.__priorities[s])return this.__listeners.splice(s,0,t),this.__priorities.splice(s,0,i),void this.__repeat.splice(s,0,!e)}this.__listeners.push(t),this.__priorities.push(i),this.__repeat.push(!e)},cancel:function(){this.canceled=!0},has:function(t){for(var e=0,i=this.__listeners;e<i.length;){var n=i[e];if(++e,U.compareMethods(n,t))return!0}return!1},remove:function(t){for(var e=this.__listeners.length;--e>=0;)U.compareMethods(this.__listeners[e],t)&&(this.__listeners.splice(e,1),this.__priorities.splice(e,1),this.__repeat.splice(e,1))},dispatch:function(t,e){this.canceled=!1;for(var i=this.__listeners,n=this.__repeat,a=0;a<i.length&&(i[a](t,e),n[a]?a++:this.remove(i[a]),!this.canceled););},__class__:Ui};var Vi=function(){this.canceled=!1,this.__listeners=[],this.__priorities=[],this.__repeat=[]};s["lime.app.Event_lime_ui_Touch_Void"]=Vi,Vi.__name__=["lime","app","Event_lime_ui_Touch_Void"],Vi.prototype={add:function(t,e,i){null==i&&(i=0),null==e&&(e=!1);for(var n=0,a=this.__priorities.length;n<a;){var s=n++;if(i>this.__priorities[s])return this.__listeners.splice(s,0,t),this.__priorities.splice(s,0,i),void this.__repeat.splice(s,0,!e)}this.__listeners.push(t),this.__priorities.push(i),this.__repeat.push(!e)},cancel:function(){this.canceled=!0},has:function(t){for(var e=0,i=this.__listeners;e<i.length;){var n=i[e];if(++e,U.compareMethods(n,t))return!0}return!1},remove:function(t){for(var e=this.__listeners.length;--e>=0;)U.compareMethods(this.__listeners[e],t)&&(this.__listeners.splice(e,1),this.__priorities.splice(e,1),this.__repeat.splice(e,1))},dispatch:function(t){this.canceled=!1;for(var e=this.__listeners,i=this.__repeat,n=0;n<e.length&&(e[n](t),i[n]?n++:this.remove(e[n]),!this.canceled););},__class__:Vi};var Gi=function(t){if(null!=t){null==Gi.__threadPool&&(Gi.__threadPool=new Qn,Gi.__threadPool.doWork.add(Gi.threadPool_doWork),Gi.__threadPool.onComplete.add(Gi.threadPool_onComplete),Gi.__threadPool.onError.add(Gi.threadPool_onError));var e=new Xi;e.future=this,Gi.__threadPool.queue({promise:e,work:t})}};s["lime.app.Future"]=Gi,Gi.__name__=["lime","app","Future"],Gi.__threadPool=null,Gi.threadPool_doWork=function(t){try{var e=t.work();Gi.__threadPool.sendComplete({promise:t.promise,result:e})}catch(i){Ue.lastException=i,i instanceof ri&&(i=i.val),Gi.__threadPool.sendError({promise:t.promise,error:i})}},Gi.threadPool_onComplete=function(t){t.promise.complete(t.result)},Gi.threadPool_onError=function(t){t.promise.error(t.error)},Gi.prototype={onComplete:function(t){return null!=t&&(this.__completed?t(this.value):this.__errored||(null==this.__completeListeners&&(this.__completeListeners=[]),this.__completeListeners.push(t))),this},onError:function(t){return null!=t&&(this.__errored?t(this.__errorMessage):this.__completed||(null==this.__errorListeners&&(this.__errorListeners=[]),this.__errorListeners.push(t))),this},onProgress:function(t){return null!=t&&(null==this.__progressListeners&&(this.__progressListeners=[]),this.__progressListeners.push(t)),this},then:function(t){if(this.__completed)return t(this.value);if(this.__errored){var e=new Gi;return e.onError(this.__errorMessage),e}var i=new Xi;return this.onError(a(i,i.error)),this.onProgress(a(i,i.progress)),this.onComplete(function(e){var n=t(e);n.onError(a(i,i.error)),n.onComplete(a(i,i.complete))}),i.future},get_isCompleted:function(){return this.__completed||this.__errored},__class__:Gi,__properties__:{get_isCompleted:"get_isCompleted"}};var Wi=function(){this.total=0,this.loaded=0,this.onProgress=new Li,this.onComplete=new mi,this.onProgress.add(a(this,this.update))};s["lime.app.Preloader"]=Wi,Wi.__name__=["lime","app","Preloader"],Wi.prototype={create:function(t){},load:function(t,e){for(var i=null,n=fi.cache.version,s=0,r=t.length;s<r;){var o=s++;i=t[o];var l=e[o];switch(l){case"IMAGE":if(!Wi.images.exists(i)){var _=new Image;Wi.images.set(i,_),_.onload=a(this,this.image_onLoad),_.src=i+"?"+n,this.total++}break;case"BINARY":if(!Wi.loaders.exists(i)){var h=new Gn;Wi.loaders.set(i,h),this.total++}break;case"TEXT":if(!Wi.loaders.exists(i)){var c=new Gn;Wi.loaders.set(i,c),this.total++}break;case"FONT":this.total++,this.loadFont(i)}}for(var u=Wi.loaders.keys();u.hasNext();){var d=u.next(),m=Wi.loaders.get(d),f=m.load(d+"?"+n);f.onComplete(a(this,this.loader_onComplete))}0==this.total&&this.start()},loadFont:function(t){var e=this;if(window.document.fonts&&(Gl=window.document.fonts,a(Gl,Gl.load)))window.document.fonts.load("1em '"+t+"'").then(function(t){e.loaded++,e.onProgress.dispatch(e.loaded,e.total),e.loaded==e.total&&e.start()});else{var i=window.document.createElement("span");i.innerHTML="giItT1WQy@!-/#";var n=i.style;n.position="absolute",n.left="-10000px",n.top="-10000px",n.fontSize="300px",n.fontFamily="sans-serif",n.fontVariant="normal",n.fontStyle="normal",n.fontWeight="normal",n.letterSpacing="0",window.document.body.appendChild(i);var s=i.offsetWidth;n.fontFamily="'"+t+"', sans-serif";var r=null,o=!1,l=function(){return i.offsetWidth!=s&&(o?(e.loaded++,null!=r&&window.clearInterval(r),i.parentNode.removeChild(i),i=null,e.onProgress.dispatch(e.loaded,e.total),e.loaded==e.total&&e.start(),!0):(o=!0,!1))};l()||(r=window.setInterval(l,50))}},start:function(){this.complete=!0,this.onComplete.dispatch()},update:function(t,e){},image_onLoad:function(t){this.loaded++,this.onProgress.dispatch(this.loaded,this.total),this.loaded==this.total&&this.start()},loader_onComplete:function(t){this.loaded++,this.onProgress.dispatch(this.loaded,this.total),this.loaded==this.total&&this.start()},__class__:Wi};var Xi=function(){this.future=new Gi};s["lime.app.Promise"]=Xi,Xi.__name__=["lime","app","Promise"],Xi.prototype={complete:function(t){if(!this.future.__errored&&(this.future.__completed=!0,this.future.value=t,null!=this.future.__completeListeners)){for(var e=0,i=this.future.__completeListeners;e<i.length;){var n=i[e];++e,n(t)}this.future.__completeListeners=null}return this},completeWith:function(t){return t.onComplete(a(this,this.complete)),t.onError(a(this,this.error)),t.onProgress(a(this,this.progress)),this},error:function(t){if(!this.future.__completed&&(this.future.__errored=!0,this.future.__errorMessage=t,null!=this.future.__errorListeners)){for(var e=0,i=this.future.__errorListeners;e<i.length;){var n=i[e];++e,n(t)}this.future.__errorListeners=null}return this},progress:function(t){if(!this.future.__errored&&!this.future.__completed&&null!=this.future.__progressListeners)for(var e=0,i=this.future.__progressListeners;e<i.length;){var n=i[e];++e,n(t)}return this},get_isCompleted:function(){return this.future.get_isCompleted()},__class__:Xi,__properties__:{get_isCompleted:"get_isCompleted"}};var zi=function(){this.EXPONENT_DISTANCE_CLAMPED=53254,this.EXPONENT_DISTANCE=53253,this.LINEAR_DISTANCE_CLAMPED=53252,this.LINEAR_DISTANCE=53251,this.INVERSE_DISTANCE_CLAMPED=53250,this.INVERSE_DISTANCE=53249,this.DISTANCE_MODEL=53248,this.DOPPLER_VELOCITY=49153,this.SPEED_OF_SOUND=49155,this.DOPPLER_FACTOR=49152,this.EXTENSIONS=45060,this.RENDERER=45059,this.VERSION=45058,this.VENDOR=45057,this.OUT_OF_MEMORY=40965,this.INVALID_OPERATION=40964,this.INVALID_VALUE=40963,this.INVALID_ENUM=40962,this.INVALID_NAME=40961,this.NO_ERROR=0,this.SIZE=8196,this.CHANNELS=8195,this.BITS=8194,this.FREQUENCY=8193,this.FORMAT_STEREO16=4355,this.FORMAT_STEREO8=4354,this.FORMAT_MONO16=4353,this.FORMAT_MONO8=4352,this.UNDETERMINED=4144,this.STREAMING=4137,this.STATIC=4136,this.SOURCE_TYPE=4135,this.BYTE_OFFSET=4134,this.SAMPLE_OFFSET=4133,this.SEC_OFFSET=4132,this.MAX_DISTANCE=4131,this.CONE_OUTER_GAIN=4130,this.ROLLOFF_FACTOR=4129,this.REFERENCE_DISTANCE=4128,this.BUFFERS_PROCESSED=4118,this.BUFFERS_QUEUED=4117,this.STOPPED=4116,this.PAUSED=4115,this.PLAYING=4114,this.INITIAL=4113,this.SOURCE_STATE=4112,this.ORIENTATION=4111,this.MAX_GAIN=4110,this.MIN_GAIN=4109,this.GAIN=4106,this.BUFFER=4105,this.LOOPING=4103,this.VELOCITY=4102,this.DIRECTION=4101,this.POSITION=4100,this.PITCH=4099,this.CONE_OUTER_ANGLE=4098,this.CONE_INNER_ANGLE=4097,this.SOURCE_RELATIVE=514,this.TRUE=1,this.FALSE=0,this.NONE=0};s["lime.audio.ALAudioContext"]=zi,zi.__name__=["lime","audio","ALAudioContext"],zi.prototype={bufferData:function(t,e,i,n,a){Qi.bufferData(t,e,i,n,a)},buffer3f:function(t,e,i,n,a){Qi.buffer3f(t,e,i,n,a)},buffer3i:function(t,e,i,n,a){Qi.buffer3i(t,e,i,n,a)},bufferf:function(t,e,i){Qi.bufferf(t,e,i)},bufferfv:function(t,e,i){Qi.bufferfv(t,e,i)},bufferi:function(t,e,i){Qi.bufferi(t,e,i)},bufferiv:function(t,e,i){Qi.bufferiv(t,e,i)},deleteBuffer:function(t){Qi.deleteBuffer(t)},deleteBuffers:function(t){Qi.deleteBuffers(t)},deleteSource:function(t){Qi.deleteSource(t)},deleteSources:function(t){Qi.deleteSources(t)},disable:function(t){Qi.disable(t)},distanceModel:function(t){Qi.distanceModel(t)},dopplerFactor:function(t){Qi.dopplerFactor(t)},dopplerVelocity:function(t){Qi.dopplerVelocity(t)},enable:function(t){Qi.enable(t)},genSource:function(){return Qi.genSource()},genSources:function(t){return Qi.genSources(t)},genBuffer:function(){return Qi.genBuffer()},genBuffers:function(t){return Qi.genBuffers(t)},getBoolean:function(t){return Qi.getBoolean(t)},getBooleanv:function(t,e){return null==e&&(e=1),Qi.getBooleanv(t,e)},getBuffer3f:function(t,e){return Qi.getBuffer3f(t,e)},getBuffer3i:function(t,e){return Qi.getBuffer3i(t,e)},getBufferf:function(t,e){return Qi.getBufferf(t,e)},getBufferfv:function(t,e,i){return null==i&&(i=1),Qi.getBufferfv(t,e,i)},getBufferi:function(t,e){return Qi.getBufferi(t,e)},getBufferiv:function(t,e,i){return null==i&&(i=1),Qi.getBufferiv(t,e,i)},getDouble:function(t){return Qi.getDouble(t)},getDoublev:function(t,e){return null==e&&(e=1),Qi.getDoublev(t,e)},getEnumValue:function(t){return Qi.getEnumValue(t)},getError:function(){return Qi.getError()},getErrorString:function(){return Qi.getErrorString()},getFloat:function(t){return Qi.getFloat(t)},getFloatv:function(t,e){return null==e&&(e=1),Qi.getFloatv(t,e)},getInteger:function(t){return Qi.getInteger(t)},getIntegerv:function(t,e){return null==e&&(e=1),Qi.getIntegerv(t,e)},getListener3f:function(t){return Qi.getListener3f(t)},getListener3i:function(t){return Qi.getListener3i(t)},getListenerf:function(t){return Qi.getListenerf(t)},getListenerfv:function(t,e){return null==e&&(e=1),Qi.getListenerfv(t,e)},getListeneri:function(t){return Qi.getListeneri(t)},getListeneriv:function(t,e){return null==e&&(e=1),Qi.getListeneriv(t,e)},getProcAddress:function(t){return Qi.getProcAddress(t)},getSource3f:function(t,e){return Qi.getSource3f(t,e)},getSourcef:function(t,e){return Qi.getSourcef(t,e)},getSource3i:function(t,e){return Qi.getSource3i(t,e)},getSourcefv:function(t,e,i){return null==i&&(i=1),Qi.getSourcefv(t,e)},getSourcei:function(t,e){return Qi.getSourcei(t,e)},getSourceiv:function(t,e,i){return null==i&&(i=1),Qi.getSourceiv(t,e,i)},getString:function(t){return Qi.getString(t)},isBuffer:function(t){return Qi.isBuffer(t)},isEnabled:function(t){return Qi.isEnabled(t)},isExtensionPresent:function(t){return Qi.isExtensionPresent(t)},isSource:function(t){return Qi.isSource(t)},listener3f:function(t,e,i,n){Qi.listener3f(t,e,i,n)},listener3i:function(t,e,i,n){Qi.listener3i(t,e,i,n)},listenerf:function(t,e){Qi.listenerf(t,e)},listenerfv:function(t,e){Qi.listenerfv(t,e)},listeneri:function(t,e){Qi.listeneri(t,e)},listeneriv:function(t,e){Qi.listeneriv(t,e)},source3f:function(t,e,i,n,a){Qi.source3f(t,e,i,n,a)},source3i:function(t,e,i,n,a){Qi.source3i(t,e,i,n,a)},sourcef:function(t,e,i){Qi.sourcef(t,e,i)},sourcefv:function(t,e,i){Qi.sourcefv(t,e,i)},sourcei:function(t,e,i){Qi.sourcei(t,e,i)},sourceiv:function(t,e,i){Qi.sourceiv(t,e,i)},sourcePlay:function(t){Qi.sourcePlay(t)},sourcePlayv:function(t){Qi.sourcePlayv(t)},sourceStop:function(t){Qi.sourceStop(t)},sourceStopv:function(t){Qi.sourceStopv(t)},sourceRewind:function(t){Qi.sourceRewind(t)},sourceRewindv:function(t){Qi.sourceRewindv(t)},sourcePause:function(t){Qi.sourcePause(t)},sourcePausev:function(t){Qi.sourcePausev(t)},sourceQueueBuffer:function(t,e){Qi.sourceQueueBuffer(t,e)},sourceQueueBuffers:function(t,e,i){Qi.sourceQueueBuffers(t,e,i)},sourceUnqueueBuffer:function(t){return Qi.sourceUnqueueBuffer(t)},sourceUnqueueBuffers:function(t,e){return Qi.sourceUnqueueBuffers(t,e)},speedOfSound:function(t){Qi.speedOfSound(t)},__class__:zi};var Hi=function(){this.ALL_DEVICES_SPECIFIER=4115,this.DEFAULT_ALL_DEVICES_SPECIFIER=4114,this.ENUMERATE_ALL_EXT=1,this.EXTENSIONS=4102,this.DEVICE_SPECIFIER=4101,this.DEFAULT_DEVICE_SPECIFIER=4100,this.ALL_ATTRIBUTES=4099,this.ATTRIBUTES_SIZE=4098,this.OUT_OF_MEMORY=40965,this.INVALID_VALUE=40964,this.INVALID_ENUM=40963,this.INVALID_CONTEXT=40962,this.INVALID_DEVICE=40961,this.NO_ERROR=0,this.STEREO_SOURCES=4113,this.MONO_SOURCES=4112,this.SYNC=4105,this.REFRESH=4104,this.FREQUENCY=4103,this.TRUE=1,this.FALSE=0};s["lime.audio.ALCAudioContext"]=Hi,Hi.__name__=["lime","audio","ALCAudioContext"],Hi.prototype={closeDevice:function(t){return $i.closeDevice(t)},createContext:function(t,e){return $i.createContext(t,e)},destroyContext:function(t){$i.destroyContext(t)},getContextsDevice:function(t){return $i.getContextsDevice(t)},getCurrentContext:function(){return $i.getCurrentContext()},getError:function(t){return $i.getError(t)},getErrorString:function(t){return $i.getErrorString(t)},getIntegerv:function(t,e,i){return null==i&&(i=1),$i.getIntegerv(t,e,i)},getString:function(t,e){return $i.getString(t,e)},makeContextCurrent:function(t){return $i.makeContextCurrent(t)},openDevice:function(t){return $i.openDevice(t)},processContext:function(t){$i.processContext(t)},suspendContext:function(t){$i.suspendContext(t)},__class__:Hi};var Yi=function(){this.id=0};s["lime.audio.AudioBuffer"]=Yi,Yi.__name__=["lime","audio","AudioBuffer"],Yi.fromBytes=function(t){return null},Yi.fromFile=function(t){return null},Yi.fromURL=function(t,e){null!=t&&t.indexOf("http://")==-1&&t.indexOf("https://")==-1&&e(Yi.fromFile(t))},Yi.prototype={dispose:function(){},__class__:Yi};var Ki=s["lime.audio.AudioContext"]={__ename__:["lime","audio","AudioContext"],__constructs__:["OPENAL","HTML5","WEB","FLASH","CUSTOM"]};Ki.OPENAL=function(t,e){var i=["OPENAL",0,t,e];return i.__enum__=Ki,i.toString=r,i},Ki.HTML5=function(t){var e=["HTML5",1,t];return e.__enum__=Ki,e.toString=r,e},Ki.WEB=function(t){var e=["WEB",2,t];return e.__enum__=Ki,e.toString=r,e},Ki.FLASH=function(t){var e=["FLASH",3,t];return e.__enum__=Ki,e.toString=r,e},Ki.CUSTOM=function(t){var e=["CUSTOM",4,t];return e.__enum__=Ki,e.toString=r,e};var ji=function(){};s["lime.audio.AudioManager"]=ji,ji.__name__=["lime","audio","AudioManager"],ji.context=null,ji.init=function(t){if(null==ji.context)if(null==t)try{window.AudioContext=window.AudioContext||window.webkitAudioContext,ji.context=Ki.WEB(new AudioContext)}catch(e){Ue.lastException=e,e instanceof ri&&(e=e.val),ji.context=Ki.HTML5(new Zi)}else ji.context=t},ji.resume=function(){if(null!=ji.context){var t=ji.context;switch(t[1]){case 0:var e=(t[3],t[2]);e.processContext(e.getCurrentContext())}}},ji.shutdown=function(){if(null!=ji.context){var t=ji.context;switch(t[1]){case 0:var e=(t[3],t[2]),i=e.getCurrentContext();if(null!=i){var n=e.getContextsDevice(i);e.makeContextCurrent(null),e.destroyContext(i),e.closeDevice(n)}}}},ji.suspend=function(){if(null!=ji.context){var t=ji.context;switch(t[1]){case 0:var e=(t[3],t[2]);e.suspendContext(e.getCurrentContext())}}};var qi=function(t,e,i,n){null==n&&(n=0),null==e&&(e=0),this.onComplete=new mi,this.buffer=t,this.offset=e,null!=i&&0!=i&&this.set_length(i),this.set_loops(n),this.id=0,null!=t&&this.init()};s["lime.audio.AudioSource"]=qi,qi.__name__=["lime","audio","AudioSource"],qi.prototype={dispose:function(){var t=ji.context;switch(t[1]){case 0:var e=t[3];t[2];0!=this.id&&e.deleteSource(this.id)}},init:function(){var t=ji.context;switch(t[1]){case 0:var e=t[3];t[2];if(0==this.buffer.id){this.buffer.id=e.genBuffer();var i=0;1==this.buffer.channels?8==this.buffer.bitsPerSample?i=e.FORMAT_MONO8:16==this.buffer.bitsPerSample&&(i=e.FORMAT_MONO16):2==this.buffer.channels&&(8==this.buffer.bitsPerSample?i=e.FORMAT_STEREO8:16==this.buffer.bitsPerSample&&(i=e.FORMAT_STEREO16)),e.bufferData(this.buffer.id,i,this.buffer.data,this.buffer.data.length,this.buffer.sampleRate)}this.id=e.genSource(),e.sourcei(this.id,e.BUFFER,this.buffer.id)}},play:function(){},pause:function(){},stop:function(){},timer_onRun:function(){},get_currentTime:function(){return 0},set_currentTime:function(t){return this.pauseTime=t},get_gain:function(){return 1},set_gain:function(t){return 1},get_length:function(){return null!=this.__length?this.__length:0},set_length:function(t){return this.__length=t},get_loops:function(){return this.__loops},set_loops:function(t){return this.__loops=t},__class__:qi,__properties__:{set_loops:"set_loops",get_loops:"get_loops",set_length:"set_length",get_length:"get_length",set_gain:"set_gain",get_gain:"get_gain",set_currentTime:"set_currentTime",get_currentTime:"get_currentTime"}};var Ji=function(){};s["lime.audio.FlashAudioContext"]=Ji,Ji.__name__=["lime","audio","FlashAudioContext"],Ji.prototype={createBuffer:function(t,e){return null},getBytesLoaded:function(t){return 0},getBytesTotal:function(t){return 0},getID3:function(t){return null},getIsBuffering:function(t){return!1},getIsURLInaccessible:function(t){return!1},getLength:function(t){return 0},getURL:function(t){return null},close:function(t){},extract:function(t,e,i,n){return null==n&&(n=-1),0},load:function(t,e,i){},loadCompressedDataFromByteArray:function(t,e,i){},loadPCMFromByteArray:function(t,e,i,n,a,s){null==s&&(s=44100),null==a&&(a=!0)},play:function(t,e,i,n){return null==i&&(i=0),null==e&&(e=0),null},__class__:Ji};var Zi=function(){this.NETWORK_NO_SOURCE=3,this.NETWORK_LOADING=2,this.NETWORK_IDLE=1,this.NETWORK_EMPTY=0,this.HAVE_NOTHING=0,this.HAVE_METADATA=1,this.HAVE_FUTURE_DATA=3,this.HAVE_ENOUGH_DATA=4,this.HAVE_CURRENT_DATA=2};s["lime.audio.HTML5AudioContext"]=Zi,Zi.__name__=["lime","audio","HTML5AudioContext"],Zi.prototype={canPlayType:function(t,e){return null!=t.src?t.src.canPlayType(e):null},createBuffer:function(t){var e=new Yi;return e.src=new Audio,e.src.src=t,e},getAutoplay:function(t){return null!=t.src&&t.src.autoplay},getBuffered:function(t){return null!=t.src?t.src.buffered:null},getCurrentSrc:function(t){return null!=t.src?t.src.currentSrc:null},getCurrentTime:function(t){return null!=t.src?t.src.currentTime:0},getDefaultPlaybackRate:function(t){return null!=t.src?t.src.defaultPlaybackRate:1},getDuration:function(t){return null!=t.src?t.src.duration:0},getEnded:function(t){return null!=t.src&&t.src.ended},getError:function(t){return null!=t.src?t.src.error:null},getLoop:function(t){return null!=t.src&&t.src.loop},getMuted:function(t){return null!=t.src&&t.src.muted},getNetworkState:function(t){return null!=t.src?t.src.networkState:0},getPaused:function(t){return null!=t.src&&t.src.paused},getPlaybackRate:function(t){return null!=t.src?t.src.playbackRate:1},getPlayed:function(t){return null!=t.src?t.src.played:null},getPreload:function(t){return null!=t.src?t.src.preload:null},getReadyState:function(t){return null!=t.src?t.src.readyState:0},getSeekable:function(t){return null!=t.src?t.src.seekable:null},getSeeking:function(t){return null!=t.src&&t.src.seeking},getSrc:function(t){return null!=t.src?t.src.src:null},getStartTime:function(t){return null!=t.src?t.src.playbackRate:0},getVolume:function(t){return null!=t.src?t.src.volume:1},load:function(t){if(null!=t.src)return t.src.load()},pause:function(t){if(null!=t.src)return t.src.pause()},play:function(t){if(null!=t.src)return t.src.play()},setAutoplay:function(t,e){null!=t.src&&(t.src.autoplay=e)},setCurrentTime:function(t,e){null!=t.src&&(t.src.currentTime=e)},setDefaultPlaybackRate:function(t,e){null!=t.src&&(t.src.defaultPlaybackRate=e)},setLoop:function(t,e){null!=t.src&&(t.src.loop=e)},setMuted:function(t,e){null!=t.src&&(t.src.muted=e)},setPlaybackRate:function(t,e){null!=t.src&&(t.src.playbackRate=e)},setPreload:function(t,e){null!=t.src&&(t.src.preload=e)},setSrc:function(t,e){null!=t.src&&(t.src.src=e)},setVolume:function(t,e){null!=t.src&&(t.src.volume=e)},__class__:Zi};var Qi=function(){};s["lime.audio.openal.AL"]=Qi,Qi.__name__=["lime","audio","openal","AL"],Qi.bufferData=function(t,e,i,n,a){},Qi.buffer3f=function(t,e,i,n,a){},Qi.buffer3i=function(t,e,i,n,a){},Qi.bufferf=function(t,e,i){},Qi.bufferfv=function(t,e,i){},Qi.bufferi=function(t,e,i){},Qi.bufferiv=function(t,e,i){},Qi.deleteBuffer=function(t){},Qi.deleteBuffers=function(t){},Qi.deleteSource=function(t){},Qi.deleteSources=function(t){},Qi.disable=function(t){},Qi.distanceModel=function(t){},Qi.dopplerFactor=function(t){},Qi.dopplerVelocity=function(t){},Qi.enable=function(t){},Qi.genSource=function(){return 0},Qi.genSources=function(t){return null},Qi.genBuffer=function(){return 0},Qi.genBuffers=function(t){return null},Qi.getBoolean=function(t){return!1},Qi.getBooleanv=function(t,e){return null==e&&(e=1),null},Qi.getBuffer3f=function(t,e){return null},Qi.getBuffer3i=function(t,e){return null},Qi.getBufferf=function(t,e){return 0},Qi.getBufferfv=function(t,e,i){return null==i&&(i=1),null},Qi.getBufferi=function(t,e){return 0},Qi.getBufferiv=function(t,e,i){return null==i&&(i=1),null},Qi.getDouble=function(t){return 0},Qi.getDoublev=function(t,e){return null==e&&(e=1),null},Qi.getEnumValue=function(t){return 0},Qi.getError=function(){return 0},Qi.getErrorString=function(){var t=Qi.getError();switch(t){case 40961:return"INVALID_NAME: Invalid parameter name";case 40962:return"INVALID_ENUM: Invalid enum value";case 40963:return"INVALID_VALUE: Invalid parameter value";case 40964:return"INVALID_OPERATION: Illegal operation or call";case 40965:return"OUT_OF_MEMORY: OpenAL has run out of memory";default:return""}},Qi.getFloat=function(t){return 0},Qi.getFloatv=function(t,e){return null==e&&(e=1),null},Qi.getInteger=function(t){return 0},Qi.getIntegerv=function(t,e){return null==e&&(e=1),null},Qi.getListener3f=function(t){return null},Qi.getListener3i=function(t){return null},Qi.getListenerf=function(t){return 0},Qi.getListenerfv=function(t,e){return null==e&&(e=1),null},Qi.getListeneri=function(t){return 0},Qi.getListeneriv=function(t,e){return null==e&&(e=1),null},Qi.getProcAddress=function(t){return null},Qi.getSource3f=function(t,e){return null},Qi.getSourcef=function(t,e){return 0},Qi.getSource3i=function(t,e){return null},Qi.getSourcefv=function(t,e,i){return null==i&&(i=1),null},Qi.getSourcei=function(t,e){return 0},Qi.getSourceiv=function(t,e,i){return null==i&&(i=1),null},Qi.getString=function(t){return null},Qi.isBuffer=function(t){
return!1},Qi.isEnabled=function(t){return!1},Qi.isExtensionPresent=function(t){return!1},Qi.isSource=function(t){return!1},Qi.listener3f=function(t,e,i,n){},Qi.listener3i=function(t,e,i,n){},Qi.listenerf=function(t,e){},Qi.listenerfv=function(t,e){},Qi.listeneri=function(t,e){},Qi.listeneriv=function(t,e){},Qi.source3f=function(t,e,i,n,a){},Qi.source3i=function(t,e,i,n,a){},Qi.sourcef=function(t,e,i){},Qi.sourcefv=function(t,e,i){},Qi.sourcei=function(t,e,i){},Qi.sourceiv=function(t,e,i){},Qi.sourcePlay=function(t){},Qi.sourcePlayv=function(t){},Qi.sourceStop=function(t){},Qi.sourceStopv=function(t){},Qi.sourceRewind=function(t){},Qi.sourceRewindv=function(t){},Qi.sourcePause=function(t){},Qi.sourcePausev=function(t){},Qi.sourceQueueBuffer=function(t,e){},Qi.sourceQueueBuffers=function(t,e,i){},Qi.sourceUnqueueBuffer=function(t){return 0},Qi.sourceUnqueueBuffers=function(t,e){return null},Qi.speedOfSound=function(t){};var $i=function(){};s["lime.audio.openal.ALC"]=$i,$i.__name__=["lime","audio","openal","ALC"],$i.closeDevice=function(t){return!1},$i.createContext=function(t,e){return null},$i.destroyContext=function(t){},$i.getContextsDevice=function(t){return null},$i.getCurrentContext=function(){return null},$i.getError=function(t){return 0},$i.getErrorString=function(t){var e=$i.getError(t);switch(e){case 40961:return"INVALID_DEVICE: Invalid device (or no device?)";case 40962:return"INVALID_CONTEXT: Invalid context (or no context?)";case 40963:return"INVALID_ENUM: Invalid enum value";case 40964:return"INVALID_VALUE: Invalid param value";case 40965:return"OUT_OF_MEMORY: OpenAL has run out of memory";default:return""}},$i.getIntegerv=function(t,e,i){return null},$i.getString=function(t,e){return null},$i.makeContextCurrent=function(t){return!1},$i.openDevice=function(t){return null},$i.processContext=function(t){},$i.suspendContext=function(t){};var tn={};s["lime.audio.openal._ALContext.ALContext_Impl_"]=tn,tn.__name__=["lime","audio","openal","_ALContext","ALContext_Impl_"],tn._new=function(t){return t};var en={};s["lime.audio.openal._ALDevice.ALDevice_Impl_"]=en,en.__name__=["lime","audio","openal","_ALDevice","ALDevice_Impl_"],en._new=function(t){return t};var nn=function(){};s["lime.graphics.ConsoleRenderContext"]=nn,nn.__name__=["lime","graphics","ConsoleRenderContext"],nn.prototype={createIndexBuffer:function(t,e){return new yn},createVertexBuffer:function(t,e){return new wn},lookupShader:function(t){return new bn},clear:function(t,e,i,n,a,s){null==s&&(s=0),null==a&&(a=1)},bindShader:function(t){},setViewport:function(t,e,i,n,a,s){null==s&&(s=1),null==a&&(a=0)},setVertexShaderConstantF:function(t,e,i){},setVertexSource:function(t){},setIndexSource:function(t){},draw:function(t,e,i){},drawIndexed:function(t,e,i,n){},get_width:function(){return 0},get_height:function(){return 0},__class__:nn,__properties__:{get_height:"get_height",get_width:"get_width"}};var an=function(){};s["lime.graphics.FlashRenderContext"]=an,an.__name__=["lime","graphics","FlashRenderContext"],an.prototype={addChild:function(t){return null},addChildAt:function(t,e){return null},addEventListener:function(t,e,i,n,a){null==a&&(a=!1),null==n&&(n=0),null==i&&(i=!1)},areInaccessibleObjectsUnderPoint:function(t){return!1},contains:function(t){return!1},dispatchEvent:function(t){return!1},getBounds:function(t){return null},getChildAt:function(t){return null},getChildByName:function(t){return null},getChildIndex:function(t){return 0},getObjectsUnderPoint:function(t){return null},getRect:function(t){return null},globalToLocal:function(t){return null},globalToLocal3D:function(t){return null},hasEventListener:function(t){return!1},hitTestObject:function(t){return!1},hitTestPoint:function(t,e,i){return null==i&&(i=!1),!1},local3DToGlobal:function(t){return null},localToGlobal:function(t){return null},removeChild:function(t){return null},removeChildAt:function(t){return null},removeChildren:function(t,e){null==e&&(e=2147483647),null==t&&(t=0)},removeEventListener:function(t,e,i){null==i&&(i=!1)},requestSoftKeyboard:function(){return!1},setChildIndex:function(t,e){},startDrag:function(t,e){null==t&&(t=!1)},startTouchDrag:function(t,e,i){null==e&&(e=!1)},stopAllMovieClips:function(){},stopDrag:function(){},stopTouchDrag:function(t){},swapChildren:function(t,e){},swapChildrenAt:function(t,e){},toString:function(){return null},willTrigger:function(t){return!1},__class__:an};var sn=function(t,e,i,n,a,s,r){if(null==a&&(a=-1),null==n&&(n=-1),null==i&&(i=0),null==e&&(e=0),this.offsetX=e,this.offsetY=i,this.width=n,this.height=a,null==r)if(null!=Ti.current&&null!=Ti.current.renderers[0]){var o=Ti.current.renderers[0].context;switch(o[1]){case 2:case 1:this.type=ln.CANVAS;break;case 3:this.type=ln.FLASH;break;default:this.type=ln.DATA}}else this.type=ln.DATA;else this.type=r;if(null==t){if(n>0&&a>0){var l=this.type;switch(l[1]){case 0:this.buffer=new rn(null,n,a),Ln.createCanvas(this,n,a),null!=s&&this.fillRect(new Nn(0,0,n,a),s);break;case 1:this.buffer=new rn(function(t){var e,i,s=n*a*4;return i=null!=s?new $l(s):null,e=i}(this),n,a),null!=s&&this.fillRect(new Nn(0,0,n,a),s);break;case 2:}}}else this.__fromImageBuffer(t)};s["lime.graphics.Image"]=sn,sn.__name__=["lime","graphics","Image"],sn.__base64Encoder=null,sn.fromBase64=function(t,e,i){if(null==t)return null;var n=new sn;return n.__fromBase64(t,e,i),n},sn.fromBitmapData=function(t){return null==t?null:t.image},sn.fromBytes=function(t,e){if(null==t)return null;var i=new sn;return i.__fromBytes(t,e),i},sn.fromCanvas=function(t){if(null==t)return null;var e=new rn(null,t.width,t.height);return e.set_src(t),new sn(e)},sn.fromFile=function(t,e,i){var n=new sn;return n.__fromFile(t,e,i),n},sn.fromImageElement=function(t){if(null==t)return null;var e=new rn(null,t.width,t.height);return e.set_src(t),new sn(e)},sn.__base64Encode=function(t){var e,i=t.length%3;switch(i){case 1:e="==";break;case 2:e="=";break;default:e=""}return null==sn.__base64Encoder&&(sn.__base64Encoder=new Ye(ti.ofString(sn.__base64Chars))),sn.__base64Encoder.encodeBytes(t).toString()+e},sn.__isJPG=function(t){return 255==t.b[0]&&216==t.b[1]},sn.__isPNG=function(t){return 137==t.b[0]&&80==t.b[1]&&78==t.b[2]&&71==t.b[3]&&13==t.b[4]&&10==t.b[5]&&26==t.b[6]&&10==t.b[7]},sn.__isGIF=function(t){if(71==t.b[0]&&73==t.b[1]&&70==t.b[2]&&56==t.b[3]){var e=t.b[4];return(55==e||57==e)&&97==t.b[5]}return!1},sn.prototype={clone:function(){if(null!=this.buffer){this.type==ln.CANVAS&&null==this.buffer.__srcImage&&(Ln.convertToCanvas(this),Ln.sync(this,!0));var t=new sn(this.buffer.clone(),this.offsetX,this.offsetY,this.width,this.height,null,this.type);return t.dirty=this.dirty,t}return new sn(null,this.offsetX,this.offsetY,this.width,this.height,null,this.type)},colorTransform:function(t,e){if(t=this.__clipRect(t),null!=this.buffer&&null!=t){var i=this.type;switch(i[1]){case 0:Ln.colorTransform(this,t,e);break;case 1:Ln.convertToData(this),Mn.colorTransform(this,t,e);break;case 2:t.offset(this.offsetX,this.offsetY),this.buffer.__srcBitmapData.colorTransform(t.__toFlashRectangle(),Rn.__toFlashColorTransform(e))}}},copyChannel:function(t,e,i,n,a){if(e=this.__clipRect(e),null!=this.buffer&&null!=e&&(a!=on.ALPHA||this.get_transparent())&&!(e.width<=0||e.height<=0)){e.x+e.width>t.width&&(e.width=t.width-e.x),e.y+e.height>t.height&&(e.height=t.height-e.y);var s=this.type;switch(s[1]){case 0:Ln.copyChannel(this,t,e,i,n,a);break;case 1:Ln.convertToData(this),Mn.copyChannel(this,t,e,i,n,a);break;case 2:var r;switch(n[1]){case 0:r=1;break;case 1:r=2;break;case 2:r=4;break;case 3:r=8}var o;switch(a[1]){case 0:o=1;break;case 1:o=2;break;case 2:o=4;break;case 3:o=8}e.offset(t.offsetX,t.offsetY),i.offset(this.offsetX,this.offsetY),this.buffer.__srcBitmapData.copyChannel(t.buffer.get_src(),e.__toFlashRectangle(),i.__toFlashPoint(),r,o)}}},copyPixels:function(t,e,i,n,a,s){if(null==s&&(s=!1),null!=this.buffer&&null!=t&&!(e.width<=0||e.height<=0||this.width<=0||this.height<=0)){e.x+e.width>t.width&&(e.width=t.width-e.x),e.y+e.height>t.height&&(e.height=t.height-e.y),e.x<0&&(e.width+=e.x,e.x=0),e.y<0&&(e.height+=e.y,e.y=0),i.x+e.width>this.width&&(e.width=this.width-i.x),i.y+e.height>this.height&&(e.height=this.height-i.y),i.x<0&&(e.width+=i.x,e.x=-i.x,i.x=0),i.y<0&&(e.height+=i.y,e.y=-i.y,i.y=0);var r=this.type;switch(r[1]){case 0:Ln.convertToCanvas(this),Ln.copyPixels(this,t,e,i,n,a,s);break;case 1:Ln.convertToData(this),Ln.convertToData(t),Mn.copyPixels(this,t,e,i,n,a,s);break;case 2:e.offset(t.offsetX,t.offsetY),i.offset(this.offsetX,this.offsetY),null!=n&&null!=a&&a.offset(n.offsetX,n.offsetY),this.buffer.__srcBitmapData.copyPixels(t.buffer.__srcBitmapData,e.__toFlashRectangle(),i.__toFlashPoint(),null!=n?n.buffer.get_src():null,null!=a?a.__toFlashPoint():null,s)}}},encode:function(t,e){switch(null==e&&(e=90),null==t&&(t="png"),t){case"png":return Cn.encode(this);case"jpg":case"jpeg":return Sn.encode(this,e);case"bmp":return An.encode(this)}return null},fillRect:function(t,e,i){if(t=this.__clipRect(t),null!=this.buffer&&null!=t){var n=this.type;switch(n[1]){case 0:Ln.fillRect(this,t,e,i);break;case 1:if(Ln.convertToData(this),0==this.buffer.data.length)return;Mn.fillRect(this,t,e,i);break;case 2:t.offset(this.offsetX,this.offsetY);var a;if(null!=i)switch(i){case 1:a=e;break;case 2:var s=e,r=0;r=(255&s&255)<<24|(s>>8&255&255)<<16|(s>>16&255&255)<<8|s>>24&255&255,a=r;break;default:var o=e,l=0;l=(255&o&255)<<24|(o>>24&255&255)<<16|(o>>16&255&255)<<8|o>>8&255&255,a=l}else{var _=e,h=0;h=(255&_&255)<<24|(_>>24&255&255)<<16|(_>>16&255&255)<<8|_>>8&255&255,a=h}this.buffer.__srcBitmapData.fillRect(t.__toFlashRectangle(),a)}}},floodFill:function(t,e,i,n){if(null!=this.buffer){var a=this.type;switch(a[1]){case 0:Ln.floodFill(this,t,e,i,n);break;case 1:Ln.convertToData(this),Mn.floodFill(this,t,e,i,n);break;case 2:var s;if(null!=n)switch(n){case 1:s=i;break;case 2:var r=i,o=0;o=(255&r&255)<<24|(r>>8&255&255)<<16|(r>>16&255&255)<<8|r>>24&255&255,s=o;break;default:var l=i,_=0;_=(255&l&255)<<24|(l>>24&255&255)<<16|(l>>16&255&255)<<8|l>>8&255&255,s=_}else{var h=i,c=0;c=(255&h&255)<<24|(h>>24&255&255)<<16|(h>>16&255&255)<<8|h>>8&255&255,s=c}this.buffer.__srcBitmapData.floodFill(t+this.offsetX,e+this.offsetY,s)}}},getColorBoundsRect:function(t,e,i,n){if(null==i&&(i=!0),null==this.buffer)return null;var a=this.type;switch(a[1]){case 0:return Ln.convertToData(this),Mn.getColorBoundsRect(this,t,e,i,n);case 1:return Mn.getColorBoundsRect(this,t,e,i,n);case 2:var s=this.buffer.__srcBitmapData.getColorBoundsRect(t,e,i);return new Nn(s.x,s.y,s.width,s.height);default:return null}},getPixel:function(t,e,i){if(null==this.buffer||t<0||e<0||t>=this.width||e>=this.height)return 0;var n=this.type;switch(n[1]){case 0:return Ln.getPixel(this,t,e,i);case 1:return Ln.convertToData(this),Mn.getPixel(this,t,e,i);case 2:var a=this.buffer.__srcBitmapData.getPixel(t+this.offsetX,e+this.offsetY);if(null==i){var s,r=0;return r=(a>>16&255&255)<<24|(a>>8&255&255)<<16|(255&a&255)<<8|a>>24&255&255,s=r}switch(i){case 1:return a;case 2:var o,l=0;return l=(255&a&255)<<24|(a>>8&255&255)<<16|(a>>16&255&255)<<8|a>>24&255&255,o=l;default:var _,h=0;return h=(a>>16&255&255)<<24|(a>>8&255&255)<<16|(255&a&255)<<8|a>>24&255&255,_=h}break;default:return 0}},getPixel32:function(t,e,i){if(null==this.buffer||t<0||e<0||t>=this.width||e>=this.height)return 0;var n=this.type;switch(n[1]){case 0:return Ln.getPixel32(this,t,e,i);case 1:return Ln.convertToData(this),Mn.getPixel32(this,t,e,i);case 2:var a=this.buffer.__srcBitmapData.getPixel32(t+this.offsetX,e+this.offsetY);if(null==i){var s,r=0;return r=(a>>16&255&255)<<24|(a>>8&255&255)<<16|(255&a&255)<<8|a>>24&255&255,s=r}switch(i){case 1:return a;case 2:var o,l=0;return l=(255&a&255)<<24|(a>>8&255&255)<<16|(a>>16&255&255)<<8|a>>24&255&255,o=l;default:var _,h=0;return h=(a>>16&255&255)<<24|(a>>8&255&255)<<16|(255&a&255)<<8|a>>24&255&255,_=h}break;default:return 0}},getPixels:function(t,e){if(null==this.buffer)return null;var i=this.type;switch(i[1]){case 0:return Ln.getPixels(this,t,e);case 1:return Ln.convertToData(this),Mn.getPixels(this,t,e);case 2:return null;default:return null}},merge:function(t,e,i,n,a,s,r){if(null!=this.buffer&&null!=t){var o=this.type;switch(o[1]){case 0:Ln.convertToCanvas(this),Ln.merge(this,t,e,i,n,a,s,r);break;case 1:Ln.convertToData(this),Ln.convertToData(t),Mn.merge(this,t,e,i,n,a,s,r);break;case 2:e.offset(this.offsetX,this.offsetY),this.buffer.__srcBitmapData.merge(t.buffer.__srcBitmapData,e.__toFlashRectangle(),i.__toFlashPoint(),n,a,s,r);break;default:return null}}},resize:function(t,e){var i=this.type;switch(i[1]){case 0:Ln.resize(this,t,e);break;case 1:Mn.resize(this,t,e);break;case 2:}this.buffer.width=t,this.buffer.height=e,this.offsetX=0,this.offsetY=0,this.width=t,this.height=e},scroll:function(t,e){if(null!=this.buffer){var i=this.type;switch(i[1]){case 0:Ln.scroll(this,t,e);break;case 1:this.copyPixels(this,this.get_rect(),new Fn(t,e));break;case 2:this.buffer.__srcBitmapData.scroll(t+this.offsetX,e+this.offsetX)}}},setPixel:function(t,e,i,n){if(!(null==this.buffer||t<0||e<0||t>=this.width||e>=this.height)){var a=this.type;switch(a[1]){case 0:Ln.setPixel(this,t,e,i,n);break;case 1:Ln.convertToData(this),Mn.setPixel(this,t,e,i,n);break;case 2:var s;if(null!=n)switch(n){case 1:s=i;break;case 2:var r=i,o=0;o=(255&r&255)<<24|(r>>8&255&255)<<16|(r>>16&255&255)<<8|r>>24&255&255,s=o;break;default:var l=i,_=0;_=(255&l&255)<<24|(l>>24&255&255)<<16|(l>>16&255&255)<<8|l>>8&255&255,s=_}else{var h=i,c=0;c=(255&h&255)<<24|(h>>24&255&255)<<16|(h>>16&255&255)<<8|h>>8&255&255,s=c}this.buffer.__srcBitmapData.setPixel(t+this.offsetX,e+this.offsetX,s)}}},setPixel32:function(t,e,i,n){if(!(null==this.buffer||t<0||e<0||t>=this.width||e>=this.height)){var a=this.type;switch(a[1]){case 0:Ln.setPixel32(this,t,e,i,n);break;case 1:Ln.convertToData(this),Mn.setPixel32(this,t,e,i,n);break;case 2:var s;if(null!=n)switch(n){case 1:s=i;break;case 2:var r=i,o=0;o=(255&r&255)<<24|(r>>8&255&255)<<16|(r>>16&255&255)<<8|r>>24&255&255,s=o;break;default:var l=i,_=0;_=(255&l&255)<<24|(l>>24&255&255)<<16|(l>>16&255&255)<<8|l>>8&255&255,s=_}else{var h=i,c=0;c=(255&h&255)<<24|(h>>24&255&255)<<16|(h>>16&255&255)<<8|h>>8&255&255,s=c}this.buffer.__srcBitmapData.setPixel32(t+this.offsetX,e+this.offsetY,s)}}},setPixels:function(t,e,i){if(t=this.__clipRect(t),null!=this.buffer&&null!=t){var n=this.type;switch(n[1]){case 0:Ln.setPixels(this,t,e,i);break;case 1:Ln.convertToData(this),Mn.setPixels(this,t,e,i);break;case 2:}}},threshold:function(t,e,i,n,a,s,r,o,l){if(null==o&&(o=!1),null==r&&(r=-1),null==s&&(s=0),null==this.buffer||null==t||null==e)return 0;var _=this.type;switch(_[1]){case 0:case 1:return Ln.convertToData(this),Mn.threshold(this,t,e,i,n,a,s,r,o,l);case 2:var h;if(null!=l)switch(l){case 1:h=s;break;case 2:var c=s,u=0;u=(255&c&255)<<24|(c>>8&255&255)<<16|(c>>16&255&255)<<8|c>>24&255&255,h=u;break;default:var d=s,m=0;m=(255&d&255)<<24|(d>>24&255&255)<<16|(d>>16&255&255)<<8|d>>8&255&255,h=m}else{var f=s,p=0;p=(255&f&255)<<24|(f>>24&255&255)<<16|(f>>16&255&255)<<8|f>>8&255&255,h=p}var g;if(null!=l)switch(l){case 1:g=r;break;case 2:var v=r,y=0;y=(255&v&255)<<24|(v>>8&255&255)<<16|(v>>16&255&255)<<8|v>>24&255&255,g=y;break;default:var x=r,b=0;b=(255&x&255)<<24|(x>>24&255&255)<<16|(x>>16&255&255)<<8|x>>8&255&255,g=b}else{var w=r,T=0;T=(255&w&255)<<24|(w>>24&255&255)<<16|(w>>16&255&255)<<8|w>>8&255&255,g=T}return e.offset(t.offsetX,t.offsetY),i.offset(this.offsetX,this.offsetY),this.buffer.__srcBitmapData.threshold(t.buffer.get_src(),e.__toFlashRectangle(),i.__toFlashPoint(),n,a,h,g,o)}return 0},__clipRect:function(t){return null==t?null:t.x<0&&(t.width-=-t.x,t.x=0,t.x+t.width<=0)?null:t.y<0&&(t.height-=-t.y,t.y=0,t.y+t.height<=0)?null:t.x+t.width>=this.width&&(t.width-=t.x+t.width-this.width,t.width<=0)?null:t.y+t.height>=this.height&&(t.height-=t.y+t.height-this.height,t.height<=0)?null:t},__fromBase64:function(t,e,i){var n=this,a=new Image;a.crossOrigin="Anonymous";var s=function(t){n.buffer=new rn(null,a.width,a.height),n.buffer.__srcImage=a,n.offsetX=0,n.offsetY=0,n.width=n.buffer.width,n.height=n.buffer.height,null!=i&&i(n)};a.addEventListener("load",s,!1),a.src="data:"+e+";base64,"+t},__fromBytes:function(t,e){var i="";if(sn.__isPNG(t))i="image/png";else if(sn.__isJPG(t))i="image/jpeg";else{if(!sn.__isGIF(t))throw new ri("Image tried to read PNG/JPG Bytes, but found an invalid header.");i="image/gif"}this.__fromBase64(sn.__base64Encode(t),i,e)},__fromFile:function(t,e,i){var n=this,a=new Image;a.crossOrigin="Anonymous",a.onload=function(t){n.buffer=new rn(null,a.width,a.height),n.buffer.__srcImage=a,n.width=a.width,n.height=a.height,null!=e&&e(n)},a.onerror=function(t){null!=i&&i()},a.src=t,a.complete},__fromImageBuffer:function(t){this.buffer=t,null!=t&&(this.width==-1&&(this.width=t.width),this.height==-1&&(this.height=t.height))},get_data:function(){return null==this.buffer.data&&this.buffer.width>0&&this.buffer.height>0&&(Ln.convertToCanvas(this),Ln.sync(this,!1),Ln.createImageData(this)),this.buffer.data},set_data:function(t){return this.buffer.data=t},get_format:function(){return this.buffer.format},set_format:function(t){if(this.buffer.format!=t){var e=this.type;switch(e[1]){case 1:Mn.setFormat(this,t)}}return this.buffer.format=t},get_powerOfTwo:function(){return 0!=this.buffer.width&&(this.buffer.width&~this.buffer.width+1)==this.buffer.width&&0!=this.buffer.height&&(this.buffer.height&~this.buffer.height+1)==this.buffer.height},set_powerOfTwo:function(t){if(t!=this.get_powerOfTwo()){for(var e=1,i=1;e<this.buffer.width;)e<<=1;for(;i<this.buffer.height;)i<<=1;var n=this.type;switch(n[1]){case 0:break;case 1:Mn.resizeBuffer(this,e,i);break;case 2:}}return t},get_premultiplied:function(){return this.buffer.premultiplied},set_premultiplied:function(t){if(t&&!this.buffer.premultiplied){var e=this.type;switch(e[1]){case 1:Ln.convertToData(this),Mn.multiplyAlpha(this)}}else if(!t&&this.buffer.premultiplied){var i=this.type;switch(i[1]){case 1:Ln.convertToData(this),Mn.unmultiplyAlpha(this)}}return t},get_rect:function(){return new Nn(0,0,this.width,this.height)},get_src:function(){return null==this.buffer.__srcCanvas&&Ln.convertToCanvas(this),this.buffer.get_src()},set_src:function(t){return this.buffer.set_src(t)},get_transparent:function(){return null!=this.buffer&&this.buffer.transparent},set_transparent:function(t){return null!=this.buffer&&(this.buffer.transparent=t)},__class__:sn,__properties__:{set_transparent:"set_transparent",get_transparent:"get_transparent",set_src:"set_src",get_src:"get_src",get_rect:"get_rect",set_premultiplied:"set_premultiplied",get_premultiplied:"get_premultiplied",set_powerOfTwo:"set_powerOfTwo",get_powerOfTwo:"get_powerOfTwo",set_format:"set_format",get_format:"get_format",set_data:"set_data",get_data:"get_data"}};var rn=function(t,e,i,n,a){null==n&&(n=32),null==i&&(i=0),null==e&&(e=0),this.data=t,this.width=e,this.height=i,this.bitsPerPixel=n,null==a?this.format=0:this.format=a,this.transparent=!0};s["lime.graphics.ImageBuffer"]=rn,rn.__name__=["lime","graphics","ImageBuffer"],rn.prototype={clone:function(){var t=new rn(this.data,this.width,this.height,this.bitsPerPixel);if(null!=this.data){var e,i=this.data.byteLength;e=null!=i?new $l(i):null,t.data=e;var n,a,s=this.data;a=null!=s?new $l(s):null,n=a,t.data.set(n)}else if(null!=this.__srcImageData){t.__srcCanvas=window.document.createElement("canvas"),t.__srcContext=t.__srcCanvas.getContext("2d"),t.__srcCanvas.width=this.__srcImageData.width,t.__srcCanvas.height=this.__srcImageData.height,t.__srcImageData=t.__srcContext.createImageData(this.__srcImageData.width,this.__srcImageData.height);var r=new Uint8ClampedArray(this.__srcImageData.data);t.__srcImageData.data.set(r)}else null!=this.__srcCanvas?(t.__srcCanvas=window.document.createElement("canvas"),t.__srcContext=t.__srcCanvas.getContext("2d"),t.__srcCanvas.width=this.__srcCanvas.width,t.__srcCanvas.height=this.__srcCanvas.height,t.__srcContext.drawImage(this.__srcCanvas,0,0)):t.__srcImage=this.__srcImage;return t.bitsPerPixel=this.bitsPerPixel,t.format=this.format,t.premultiplied=this.premultiplied,t.transparent=this.transparent,t},get_src:function(){return null!=this.__srcImage?this.__srcImage:this.__srcCanvas},set_src:function(t){return oi.__instanceof(t,Image)?this.__srcImage=t:oi.__instanceof(t,HTMLCanvasElement)&&(this.__srcCanvas=t,this.__srcContext=this.__srcCanvas.getContext("2d")),t},get_stride:function(){return 4*this.width},__class__:rn,__properties__:{get_stride:"get_stride",set_src:"set_src",get_src:"get_src"}};var on=s["lime.graphics.ImageChannel"]={__ename__:["lime","graphics","ImageChannel"],__constructs__:["RED","GREEN","BLUE","ALPHA"]};on.RED=["RED",0],on.RED.toString=r,on.RED.__enum__=on,on.GREEN=["GREEN",1],on.GREEN.toString=r,on.GREEN.__enum__=on,on.BLUE=["BLUE",2],on.BLUE.toString=r,on.BLUE.__enum__=on,on.ALPHA=["ALPHA",3],on.ALPHA.toString=r,on.ALPHA.__enum__=on;var ln=s["lime.graphics.ImageType"]={__ename__:["lime","graphics","ImageType"],__constructs__:["CANVAS","DATA","FLASH","CUSTOM"]};ln.CANVAS=["CANVAS",0],ln.CANVAS.toString=r,ln.CANVAS.__enum__=ln,ln.DATA=["DATA",1],ln.DATA.toString=r,ln.DATA.__enum__=ln,ln.FLASH=["FLASH",2],ln.FLASH.toString=r,ln.FLASH.__enum__=ln,ln.CUSTOM=["CUSTOM",3],ln.CUSTOM.toString=r,ln.CUSTOM.__enum__=ln;var _n=s["lime.graphics.RenderContext"]={__ename__:["lime","graphics","RenderContext"],__constructs__:["OPENGL","CANVAS","DOM","FLASH","CAIRO","CONSOLE","CUSTOM","NONE"]};_n.OPENGL=function(t){var e=["OPENGL",0,t];return e.__enum__=_n,e.toString=r,e},_n.CANVAS=function(t){var e=["CANVAS",1,t];return e.__enum__=_n,e.toString=r,e},_n.DOM=function(t){var e=["DOM",2,t];return e.__enum__=_n,e.toString=r,e},_n.FLASH=function(t){var e=["FLASH",3,t];return e.__enum__=_n,e.toString=r,e},_n.CAIRO=function(t){var e=["CAIRO",4,t];return e.__enum__=_n,e.toString=r,e},_n.CONSOLE=function(t){var e=["CONSOLE",5,t];return e.__enum__=_n,e.toString=r,e},_n.CUSTOM=function(t){var e=["CUSTOM",6,t];return e.__enum__=_n,e.toString=r,e},_n.NONE=["NONE",7],_n.NONE.toString=r,_n.NONE.__enum__=_n;var hn=function(t){this.onRender=new mi,this.onContextRestored=new Pi,this.onContextLost=new mi,this.window=t,this.backend=new yi(this),this.window.renderer=this};s["lime.graphics.Renderer"]=hn,hn.__name__=["lime","graphics","Renderer"],hn.prototype={create:function(){this.backend.create()},flip:function(){this.backend.flip()},readPixels:function(t){return this.backend.readPixels(t)},render:function(){this.backend.render()},__class__:hn};var cn=s["lime.graphics.RendererType"]={__ename__:["lime","graphics","RendererType"],__constructs__:["OPENGL","CANVAS","DOM","FLASH","CAIRO","CONSOLE","CUSTOM"]};cn.OPENGL=["OPENGL",0],cn.OPENGL.toString=r,cn.OPENGL.__enum__=cn,cn.CANVAS=["CANVAS",1],cn.CANVAS.toString=r,cn.CANVAS.__enum__=cn,cn.DOM=["DOM",2],cn.DOM.toString=r,cn.DOM.__enum__=cn,cn.FLASH=["FLASH",3],cn.FLASH.toString=r,cn.FLASH.__enum__=cn,cn.CAIRO=["CAIRO",4],cn.CAIRO.toString=r,cn.CAIRO.__enum__=cn,cn.CONSOLE=["CONSOLE",5],cn.CONSOLE.toString=r,cn.CONSOLE.__enum__=cn,cn.CUSTOM=["CUSTOM",6],cn.CUSTOM.toString=r,cn.CUSTOM.__enum__=cn;var un=function(t){};s["lime.graphics.cairo.Cairo"]=un,un.__name__=["lime","graphics","cairo","Cairo"],un.__properties__={get_versionString:"get_versionString",get_version:"get_version"},un.version=null,un.versionString=null,un.get_version=function(){return 0},un.get_versionString=function(){return""},un.prototype={arc:function(t,e,i,n,a){},arcNegative:function(t,e,i,n,a){},clip:function(){},clipExtents:function(t,e,i,n){},clipPreserve:function(){},closePath:function(){},copyPage:function(){},curveTo:function(t,e,i,n,a,s){},fill:function(){},fillExtents:function(t,e,i,n){},fillPreserve:function(){},identityMatrix:function(){},inClip:function(t,e){return!1},inFill:function(t,e){return!1},inStroke:function(t,e){return!1},lineTo:function(t,e){},moveTo:function(t,e){},mask:function(t){},maskSurface:function(t,e,i){},newPath:function(){},paint:function(){},paintWithAlpha:function(t){},popGroup:function(){return null},popGroupToSource:function(){},pushGroup:function(){},pushGroupWithContent:function(t){},recreate:function(t){},rectangle:function(t,e,i,n){},relCurveTo:function(t,e,i,n,a,s){},relLineTo:function(t,e){},relMoveTo:function(t,e){},resetClip:function(){},restore:function(){},save:function(){},setFontSize:function(t){},setSourceRGB:function(t,e,i){},setSourceRGBA:function(t,e,i,n){},setSourceSurface:function(t,e,i){},showPage:function(){},showText:function(t){},status:function(){return 0},stroke:function(){},strokeExtents:function(t,e,i,n){},strokePreserve:function(){},transform:function(t){},rotate:function(t){},scale:function(t,e){},translate:function(t,e){},get_antialias:function(){return 0},set_antialias:function(t){return t},get_currentPoint:function(){return null},get_dash:function(){return[]},set_dash:function(t){return t},get_dashCount:function(){return 0},get_fillRule:function(){return 0},set_fillRule:function(t){return t},get_fontFace:function(){return 0},set_fontFace:function(t){return t},get_fontOptions:function(){return null},set_fontOptions:function(t){return t},get_groupTarget:function(){return 0},get_hasCurrentPoint:function(){return!1},get_lineCap:function(){return 0},set_lineCap:function(t){return t},get_lineJoin:function(){return 0},set_lineJoin:function(t){return t},get_lineWidth:function(){return 0},set_lineWidth:function(t){return t},get_matrix:function(){return null},set_matrix:function(t){return t},get_miterLimit:function(){return 0},set_miterLimit:function(t){return t},get_operator:function(){return 0},set_operator:function(t){return t},get_source:function(){return 0},set_source:function(t){return t},get_target:function(){return 0},get_tolerance:function(){return 0},set_tolerance:function(t){return t},__class__:un,__properties__:{set_tolerance:"set_tolerance",get_tolerance:"get_tolerance",get_target:"get_target",set_source:"set_source",get_source:"get_source",set_operator:"set_operator",get_operator:"get_operator",set_miterLimit:"set_miterLimit",get_miterLimit:"get_miterLimit",set_matrix:"set_matrix",get_matrix:"get_matrix",set_lineWidth:"set_lineWidth",get_lineWidth:"get_lineWidth",set_lineJoin:"set_lineJoin",get_lineJoin:"get_lineJoin",set_lineCap:"set_lineCap",get_lineCap:"get_lineCap",get_hasCurrentPoint:"get_hasCurrentPoint",get_groupTarget:"get_groupTarget",set_fontOptions:"set_fontOptions",get_fontOptions:"get_fontOptions",set_fontFace:"set_fontFace",get_fontFace:"get_fontFace",set_fillRule:"set_fillRule",get_fillRule:"get_fillRule",get_dashCount:"get_dashCount",set_dash:"set_dash",get_dash:"get_dash",get_currentPoint:"get_currentPoint",set_antialias:"set_antialias",get_antialias:"get_antialias"}};var dn={};s["lime.graphics.cairo._CairoFTFontFace.CairoFTFontFace_Impl_"]=dn,dn.__name__=["lime","graphics","cairo","_CairoFTFontFace","CairoFTFontFace_Impl_"],dn._new=function(){return 0},dn.create=function(t,e){return 0};var mn={};s["lime.graphics.cairo._CairoFontFace.CairoFontFace_Impl_"]=mn,mn.__name__=["lime","graphics","cairo","_CairoFontFace","CairoFontFace_Impl_"],mn._new=function(){return null},mn.status=function(t){return 0};var fn={};s["lime.graphics.cairo._CairoFontOptions.CairoFontOptions_Impl_"]=fn,fn.__name__=["lime","graphics","cairo","_CairoFontOptions","CairoFontOptions_Impl_"],fn.__properties__={set_subpixelOrder:"set_subpixelOrder",get_subpixelOrder:"get_subpixelOrder",set_hintStyle:"set_hintStyle",get_hintStyle:"get_hintStyle",set_hintMetrics:"set_hintMetrics",get_hintMetrics:"get_hintMetrics",set_antialias:"set_antialias",get_antialias:"get_antialias"},fn._new=function(){return null},fn.get_antialias=function(t){return 0},fn.set_antialias=function(t,e){return e},fn.get_hintMetrics=function(t){return 0},fn.set_hintMetrics=function(t,e){return e},fn.get_hintStyle=function(t){return 0},fn.set_hintStyle=function(t,e){return e},fn.get_subpixelOrder=function(t){return 0},fn.set_subpixelOrder=function(t,e){return e};var pn={};s["lime.graphics.cairo._CairoImageSurface.CairoImageSurface_Impl_"]=pn,pn.__name__=["lime","graphics","cairo","_CairoImageSurface","CairoImageSurface_Impl_"],pn.__properties__={get_width:"get_width",get_stride:"get_stride",get_height:"get_height",get_format:"get_format",get_data:"get_data"},pn._new=function(t,e,i){return 0},pn.create=function(t,e,i,n,a){return 0},pn.fromImage=function(t){return null},pn.get_data=function(t){return null},pn.get_format=function(t){return 0},pn.get_height=function(t){return 0},pn.get_stride=function(t){return 0},pn.get_width=function(t){return 0};var gn={};s["lime.graphics.cairo._CairoPattern.CairoPattern_Impl_"]=gn,gn.__name__=["lime","graphics","cairo","_CairoPattern","CairoPattern_Impl_"],gn.__properties__={set_matrix:"set_matrix",get_matrix:"get_matrix",set_filter:"set_filter",get_filter:"get_filter",set_extend:"set_extend",get_extend:"get_extend",get_colorStopCount:"get_colorStopCount"},gn._new=function(t){return t},gn.addColorStopRGB=function(t,e,i,n,a){},gn.addColorStopRGBA=function(t,e,i,n,a,s){},gn.createForSurface=function(t){return 0},gn.createLinear=function(t,e,i,n){return 0},gn.createRadial=function(t,e,i,n,a,s){return 0},gn.createRGB=function(t,e,i){return 0},gn.createRGBA=function(t,e,i,n){return 0},gn.get_colorStopCount=function(t){return 0},gn.get_extend=function(t){return 0},gn.set_extend=function(t,e){return e},gn.get_filter=function(t){return 0},gn.set_filter=function(t,e){return e},gn.get_matrix=function(t){return null},gn.set_matrix=function(t,e){return e};var vn={};s["lime.graphics.cairo._CairoSurface.CairoSurface_Impl_"]=vn,vn.__name__=["lime","graphics","cairo","_CairoSurface","CairoSurface_Impl_"],vn.flush=function(t){};var yn=function(){};s["lime.graphics.console.IndexBuffer"]=yn,yn.__name__=["lime","graphics","console","IndexBuffer"],yn.prototype={__class__:yn};var xn=s["lime.graphics.console.Primitive"]={__ename__:["lime","graphics","console","Primitive"],__constructs__:["Point","Line","LineStrip","Triangle","TriangleStrip"]};xn.Point=["Point",0],xn.Point.toString=r,xn.Point.__enum__=xn,xn.Line=["Line",1],xn.Line.toString=r,xn.Line.__enum__=xn,xn.LineStrip=["LineStrip",2],xn.LineStrip.toString=r,xn.LineStrip.__enum__=xn,xn.Triangle=["Triangle",3],xn.Triangle.toString=r,xn.Triangle.__enum__=xn,xn.TriangleStrip=["TriangleStrip",4],xn.TriangleStrip.toString=r,xn.TriangleStrip.__enum__=xn;var bn=function(){};s["lime.graphics.console.Shader"]=bn,bn.__name__=["lime","graphics","console","Shader"],bn.prototype={__class__:bn};var wn=function(){};s["lime.graphics.console.VertexBuffer"]=wn,wn.__name__=["lime","graphics","console","VertexBuffer"],wn.prototype={lock:function(){return new Tn},unlock:function(){},__class__:wn};var Tn=function(){};s["lime.graphics.console.VertexOutput"]=Tn,Tn.__name__=["lime","graphics","console","VertexOutput"],Tn.prototype={vec2:function(t,e){},vec3:function(t,e,i){},color:function(t,e,i,n){},__class__:Tn};var An=function(){};s["lime.graphics.format.BMP"]=An,An.__name__=["lime","graphics","format","BMP"],An.encode=function(t,e){(t.get_premultiplied()||0!=t.get_format())&&(t=t.clone(),t.set_premultiplied(!1),t.set_format(0)),null==e&&(e=En.RGB);var i=14,n=40,a=t.width*t.height*4;if(null!=e)switch(e[1]){case 1:n=108;break;case 2:i=0,a+=t.width*t.height;break;case 0:a=3*t.width+3*t.width%4+3*t.height+3*t.height}var s=ti.alloc(i+n+a),r=0;if(i>0&&(s.set(r++,66),s.set(r++,77),s.setInt32(r,s.length),r+=4,s.setUInt16(r,0),r+=2,s.setUInt16(r,0),r+=2,s.setInt32(r,i+n),r+=4),s.setInt32(r,n),r+=4,s.setInt32(r,t.width),r+=4,s.setInt32(r,e==En.ICO?2*t.height:t.height),r+=4,s.setUInt16(r,1),r+=2,s.setUInt16(r,e==En.RGB?24:32),r+=2,s.setInt32(r,e==En.BITFIELD?3:0),r+=4,s.setInt32(r,a),r+=4,s.setInt32(r,11824),r+=4,s.setInt32(r,11824),r+=4,s.setInt32(r,0),r+=4,s.setInt32(r,0),r+=4,e==En.BITFIELD){s.setInt32(r,16711680),r+=4,s.setInt32(r,65280),r+=4,s.setInt32(r,255),r+=4,s.setInt32(r,-16777216),r+=4,s.set(r++,32),s.set(r++,110),
s.set(r++,105),s.set(r++,87);for(var o=0;o<48;){o++;s.set(r++,0)}}var l,_,h,c,u=t.getPixels(new Nn(0,0,t.width,t.height),1),d=0;if(null!=e)switch(e[1]){case 1:for(var m=0,f=t.height;m<f;){var p=m++;d=4*(t.height-1-p)*t.width;for(var g=0,v=t.width;g<v;){g++;l=u.get(d++),_=u.get(d++),h=u.get(d++),c=u.get(d++),s.set(r++,c),s.set(r++,h),s.set(r++,_),s.set(r++,l)}}break;case 2:for(var y=ti.alloc(t.width*t.height),x=0,b=0,w=t.height;b<w;){var T=b++;d=4*(t.height-1-T)*t.width;for(var A=0,E=t.width;A<E;){A++;l=u.get(d++),_=u.get(d++),h=u.get(d++),c=u.get(d++),s.set(r++,c),s.set(r++,h),s.set(r++,_),s.set(r++,l),y.set(x++,0)}}s.blit(r,y,0,t.width*t.height);break;case 0:for(var S=0,C=t.height;S<C;){var I=S++;d=4*(t.height-1-I)*t.width;for(var L=0,M=t.width;L<M;){L++;l=u.get(d++),_=u.get(d++),h=u.get(d++),c=u.get(d++),s.set(r++,c),s.set(r++,h),s.set(r++,_)}for(var B=0,R=3*t.width%4;B<R;){B++;s.set(r++,0)}}}return s};var En=s["lime.graphics.format.BMPType"]={__ename__:["lime","graphics","format","BMPType"],__constructs__:["RGB","BITFIELD","ICO"]};En.RGB=["RGB",0],En.RGB.toString=r,En.RGB.__enum__=En,En.BITFIELD=["BITFIELD",1],En.BITFIELD.toString=r,En.BITFIELD.__enum__=En,En.ICO=["ICO",2],En.ICO.toString=r,En.ICO.__enum__=En;var Sn=function(){};s["lime.graphics.format.JPEG"]=Sn,Sn.__name__=["lime","graphics","format","JPEG"],Sn.decodeBytes=function(t,e){return null==e&&(e=!0),null},Sn.decodeFile=function(t,e){return null==e&&(e=!0),null},Sn.encode=function(t,e){if((t.get_premultiplied()||0!=t.get_format())&&(t=t.clone(),t.set_premultiplied(!1),t.set_format(0)),Ln.sync(t,!1),null!=t.buffer.__srcCanvas){for(var i=t.buffer.__srcCanvas.toDataURL("image/jpeg",e/100),n=window.atob(i.split(";base64,")[1]),a=ti.alloc(n.length),s=0,r=n.length;s<r;){var o=s++;a.set(o,T.cca(n,o))}return a}return null};var Cn=function(){};s["lime.graphics.format.PNG"]=Cn,Cn.__name__=["lime","graphics","format","PNG"],Cn.decodeBytes=function(t,e){return null==e&&(e=!0),null},Cn.decodeFile=function(t,e){return null==e&&(e=!0),null},Cn.encode=function(t){return(t.get_premultiplied()||0!=t.get_format())&&(t=t.clone(),t.set_premultiplied(!1),t.set_format(0)),null};var In=function(){};s["lime.graphics.opengl.GL"]=In,In.__name__=["lime","graphics","opengl","GL"],In.__properties__={get_version:"get_version"},In.version=null,In.context=null,In.activeTexture=function(t){In.context.activeTexture(t)},In.attachShader=function(t,e){In.context.attachShader(t,e)},In.bindAttribLocation=function(t,e,i){In.context.bindAttribLocation(t,e,i)},In.bindBuffer=function(t,e){In.context.bindBuffer(t,e)},In.bindFramebuffer=function(t,e){In.context.bindFramebuffer(t,e)},In.bindRenderbuffer=function(t,e){In.context.bindRenderbuffer(t,e)},In.bindTexture=function(t,e){In.context.bindTexture(t,e)},In.blendColor=function(t,e,i,n){In.context.blendColor(t,e,i,n)},In.blendEquation=function(t){In.context.blendEquation(t)},In.blendEquationSeparate=function(t,e){In.context.blendEquationSeparate(t,e)},In.blendFunc=function(t,e){In.context.blendFunc(t,e)},In.blendFuncSeparate=function(t,e,i,n){In.context.blendFuncSeparate(t,e,i,n)},In.bufferData=function(t,e,i){In.context.bufferData(t,e,i)},In.bufferSubData=function(t,e,i){In.context.bufferSubData(t,e,i)},In.checkFramebufferStatus=function(t){return In.context.checkFramebufferStatus(t)},In.clear=function(t){In.context.clear(t)},In.clearColor=function(t,e,i,n){In.context.clearColor(t,e,i,n)},In.clearDepth=function(t){In.context.clearDepth(t)},In.clearStencil=function(t){In.context.clearStencil(t)},In.colorMask=function(t,e,i,n){In.context.colorMask(t,e,i,n)},In.compileShader=function(t){In.context.compileShader(t)},In.compressedTexImage2D=function(t,e,i,n,a,s,r){In.context.compressedTexImage2D(t,e,i,n,a,s,r)},In.compressedTexSubImage2D=function(t,e,i,n,a,s,r,o){In.context.compressedTexSubImage2D(t,e,i,n,a,s,r,o)},In.copyTexImage2D=function(t,e,i,n,a,s,r,o){In.context.copyTexImage2D(t,e,i,n,a,s,r,o)},In.copyTexSubImage2D=function(t,e,i,n,a,s,r,o){In.context.copyTexSubImage2D(t,e,i,n,a,s,r,o)},In.createBuffer=function(){return In.context.createBuffer()},In.createFramebuffer=function(){return In.context.createFramebuffer()},In.createProgram=function(){return In.context.createProgram()},In.createRenderbuffer=function(){return In.context.createRenderbuffer()},In.createShader=function(t){return In.context.createShader(t)},In.createTexture=function(){return In.context.createTexture()},In.cullFace=function(t){In.context.cullFace(t)},In.deleteBuffer=function(t){In.context.deleteBuffer(t)},In.deleteFramebuffer=function(t){In.context.deleteFramebuffer(t)},In.deleteProgram=function(t){In.context.deleteProgram(t)},In.deleteRenderbuffer=function(t){In.context.deleteRenderbuffer(t)},In.deleteShader=function(t){In.context.deleteShader(t)},In.deleteTexture=function(t){In.context.deleteTexture(t)},In.depthFunc=function(t){In.context.depthFunc(t)},In.depthMask=function(t){In.context.depthMask(t)},In.depthRange=function(t,e){In.context.depthRange(t,e)},In.detachShader=function(t,e){In.context.detachShader(t,e)},In.disable=function(t){In.context.disable(t)},In.disableVertexAttribArray=function(t){In.context.disableVertexAttribArray(t)},In.drawArrays=function(t,e,i){In.context.drawArrays(t,e,i)},In.drawElements=function(t,e,i,n){In.context.drawElements(t,e,i,n)},In.enable=function(t){In.context.enable(t)},In.enableVertexAttribArray=function(t){In.context.enableVertexAttribArray(t)},In.finish=function(){In.context.finish()},In.flush=function(){In.context.flush()},In.framebufferRenderbuffer=function(t,e,i,n){In.context.framebufferRenderbuffer(t,e,i,n)},In.framebufferTexture2D=function(t,e,i,n,a){In.context.framebufferTexture2D(t,e,i,n,a)},In.frontFace=function(t){In.context.frontFace(t)},In.generateMipmap=function(t){In.context.generateMipmap(t)},In.getActiveAttrib=function(t,e){return In.context.getActiveAttrib(t,e)},In.getActiveUniform=function(t,e){return In.context.getActiveUniform(t,e)},In.getAttachedShaders=function(t){return In.context.getAttachedShaders(t)},In.getAttribLocation=function(t,e){return In.context.getAttribLocation(t,e)},In.getBufferParameter=function(t,e){return In.context.getBufferParameter(t,e)},In.getContextAttributes=function(){return In.context.getContextAttributes()},In.getError=function(){return In.context.getError()},In.getExtension=function(t){return In.context.getExtension(t)},In.getFramebufferAttachmentParameter=function(t,e,i){return In.context.getFramebufferAttachmentParameter(t,e,i)},In.getParameter=function(t){return In.context.getParameter(t)},In.getProgramInfoLog=function(t){return In.context.getProgramInfoLog(t)},In.getProgramParameter=function(t,e){return In.context.getProgramParameter(t,e)},In.getRenderbufferParameter=function(t,e){return In.context.getRenderbufferParameter(t,e)},In.getShaderInfoLog=function(t){return In.context.getShaderInfoLog(t)},In.getShaderParameter=function(t,e){return In.context.getShaderParameter(t,e)},In.getShaderPrecisionFormat=function(t,e){return In.context.getShaderPrecisionFormat(t,e)},In.getShaderSource=function(t){return In.context.getShaderSource(t)},In.getSupportedExtensions=function(){return In.context.getSupportedExtensions()},In.getTexParameter=function(t,e){return In.context.getTexParameter(t,e)},In.getUniform=function(t,e){return In.context.getUniform(t,e)},In.getUniformLocation=function(t,e){return In.context.getUniformLocation(t,e)},In.getVertexAttrib=function(t,e){return In.context.getVertexAttrib(t,e)},In.getVertexAttribOffset=function(t,e){return In.context.getVertexAttribOffset(t,e)},In.hint=function(t,e){In.context.hint(t,e)},In.isBuffer=function(t){return In.context.isBuffer(t)},In.isContextLost=function(){return In.context.isContextLost()},In.isEnabled=function(t){return In.context.isEnabled(t)},In.isFramebuffer=function(t){return In.context.isFramebuffer(t)},In.isProgram=function(t){return In.context.isProgram(t)},In.isRenderbuffer=function(t){return In.context.isRenderbuffer(t)},In.isShader=function(t){return In.context.isShader(t)},In.isTexture=function(t){return In.context.isTexture(t)},In.lineWidth=function(t){In.context.lineWidth(t)},In.linkProgram=function(t){In.context.linkProgram(t)},In.pixelStorei=function(t,e){In.context.pixelStorei(t,e)},In.polygonOffset=function(t,e){In.context.polygonOffset(t,e)},In.readPixels=function(t,e,i,n,a,s,r){In.context.readPixels(t,e,i,n,a,s,r)},In.renderbufferStorage=function(t,e,i,n){In.context.renderbufferStorage(t,e,i,n)},In.sampleCoverage=function(t,e){In.context.sampleCoverage(t,e)},In.scissor=function(t,e,i,n){In.context.scissor(t,e,i,n)},In.shaderSource=function(t,e){In.context.shaderSource(t,e)},In.stencilFunc=function(t,e,i){In.context.stencilFunc(t,e,i)},In.stencilFuncSeparate=function(t,e,i,n){In.context.stencilFuncSeparate(t,e,i,n)},In.stencilMask=function(t){In.context.stencilMask(t)},In.stencilMaskSeparate=function(t,e){In.context.stencilMaskSeparate(t,e)},In.stencilOp=function(t,e,i){In.context.stencilOp(t,e,i)},In.stencilOpSeparate=function(t,e,i,n){In.context.stencilOpSeparate(t,e,i,n)},In.texImage2D=function(t,e,i,n,a,s,r,o,l){In.context.texImage2D(t,e,i,n,a,s,r,o,l)},In.texParameterf=function(t,e,i){In.context.texParameterf(t,e,i)},In.texParameteri=function(t,e,i){In.context.texParameteri(t,e,i)},In.texSubImage2D=function(t,e,i,n,a,s,r,o,l){In.context.texSubImage2D(t,e,i,n,a,s,r,o,l)},In.uniform1f=function(t,e){In.context.uniform1f(t,e)},In.uniform1fv=function(t,e){In.context.uniform1fv(t,e)},In.uniform1i=function(t,e){In.context.uniform1i(t,e)},In.uniform1iv=function(t,e){In.context.uniform1iv(t,e)},In.uniform2f=function(t,e,i){In.context.uniform2f(t,e,i)},In.uniform2fv=function(t,e){In.context.uniform2fv(t,e)},In.uniform2i=function(t,e,i){In.context.uniform2i(t,e,i)},In.uniform2iv=function(t,e){In.context.uniform2iv(t,e)},In.uniform3f=function(t,e,i,n){In.context.uniform3f(t,e,i,n)},In.uniform3fv=function(t,e){In.context.uniform3fv(t,e)},In.uniform3i=function(t,e,i,n){In.context.uniform3i(t,e,i,n)},In.uniform3iv=function(t,e){In.context.uniform3iv(t,e)},In.uniform4f=function(t,e,i,n,a){In.context.uniform4f(t,e,i,n,a)},In.uniform4fv=function(t,e){In.context.uniform4fv(t,e)},In.uniform4i=function(t,e,i,n,a){In.context.uniform4i(t,e,i,n,a)},In.uniform4iv=function(t,e){In.context.uniform4iv(t,e)},In.uniformMatrix2fv=function(t,e,i){In.context.uniformMatrix2fv(t,e,i)},In.uniformMatrix3fv=function(t,e,i){In.context.uniformMatrix3fv(t,e,i)},In.uniformMatrix4fv=function(t,e,i){In.context.uniformMatrix4fv(t,e,i)},In.useProgram=function(t){In.context.useProgram(t)},In.validateProgram=function(t){In.context.validateProgram(t)},In.vertexAttrib1f=function(t,e){In.context.vertexAttrib1f(t,e)},In.vertexAttrib1fv=function(t,e){In.context.vertexAttrib1fv(t,e)},In.vertexAttrib2f=function(t,e,i){In.context.vertexAttrib2f(t,e,i)},In.vertexAttrib2fv=function(t,e){In.context.vertexAttrib2fv(t,e)},In.vertexAttrib3f=function(t,e,i,n){In.context.vertexAttrib3f(t,e,i,n)},In.vertexAttrib3fv=function(t,e){In.context.vertexAttrib3fv(t,e)},In.vertexAttrib4f=function(t,e,i,n,a){In.context.vertexAttrib4f(t,e,i,n,a)},In.vertexAttrib4fv=function(t,e){In.context.vertexAttrib4fv(t,e)},In.vertexAttribPointer=function(t,e,i,n,a,s){In.context.vertexAttribPointer(t,e,i,n,a,s)},In.viewport=function(t,e,i,n){In.context.viewport(t,e,i,n)},In.get_version=function(){return 2};var Ln=function(){};s["lime.graphics.utils.ImageCanvasUtil"]=Ln,Ln.__name__=["lime","graphics","utils","ImageCanvasUtil"],Ln.colorTransform=function(t,e,i){Ln.convertToCanvas(t),Ln.createImageData(t),Mn.colorTransform(t,e,i)},Ln.convertToCanvas=function(t){var e=t.buffer;null!=e.__srcImage?(null==e.__srcCanvas&&(Ln.createCanvas(t,e.__srcImage.width,e.__srcImage.height),e.__srcContext.drawImage(e.__srcImage,0,0)),e.__srcImage=null):null!=e.data&&null==e.__srcCanvas?(Ln.createCanvas(t,e.width,e.height),Ln.createImageData(t)):null==e.data&&null!=e.__srcImageData&&(e.data=e.__srcImageData.data)},Ln.convertToData=function(t){null==t.buffer.data&&(Ln.convertToCanvas(t),Ln.sync(t,!1),Ln.createImageData(t),t.buffer.__srcCanvas=null,t.buffer.__srcContext=null)},Ln.copyChannel=function(t,e,i,n,a,s){Ln.convertToCanvas(e),Ln.createImageData(e),Ln.convertToCanvas(t),Ln.createImageData(t),Mn.copyChannel(t,e,i,n,a,s)},Ln.copyPixels=function(t,e,i,n,a,s,r){if(null==r&&(r=!1),!(null==n||n.x>=t.width||n.y>=t.height||null==i||i.width<1||i.height<1)){if(null!=a&&a.get_transparent()){null==s&&(s=new Fn);var o=t.clone();o.copyChannel(a,new Nn(s.x,s.y,i.width,i.height),new Fn(i.x,i.y),on.ALPHA,on.ALPHA),e=o}Ln.sync(t,!0),r||t.get_transparent()&&e.get_transparent()&&t.buffer.__srcContext.clearRect(n.x+t.offsetX,n.y+t.offsetY,i.width+t.offsetX,i.height+t.offsetY),Ln.sync(e,!1),null!=e.buffer.get_src()&&t.buffer.__srcContext.drawImage(e.buffer.get_src(),i.x+e.offsetX|0,i.y+e.offsetY|0,0|i.width,0|i.height,n.x+t.offsetX|0,n.y+t.offsetY|0,0|i.width,0|i.height)}},Ln.createCanvas=function(t,e,i){var n=t.buffer;null==n.__srcCanvas&&(n.__srcCanvas=window.document.createElement("canvas"),n.__srcCanvas.width=e,n.__srcCanvas.height=i,t.get_transparent()?n.__srcContext=n.__srcCanvas.getContext("2d"):(t.get_transparent()||n.__srcCanvas.setAttribute("moz-opaque","true"),n.__srcContext=n.__srcCanvas.getContext("2d",{alpha:!1})),n.__srcContext.mozImageSmoothingEnabled=!1,n.__srcContext.msImageSmoothingEnabled=!1,n.__srcContext.imageSmoothingEnabled=!1)},Ln.createImageData=function(t){var e=t.buffer;if(null==e.__srcImageData){null==e.data?e.__srcImageData=e.__srcContext.getImageData(0,0,e.width,e.height):(e.__srcImageData=e.__srcContext.createImageData(e.width,e.height),e.__srcImageData.data.set(e.data));var i,n=e.__srcImageData.data.buffer;i=null!=n?new $l(n):null,e.data=i}},Ln.fillRect=function(t,e,i,n){if(Ln.convertToCanvas(t),Ln.sync(t,!0),0==e.x&&0==e.y&&e.width==t.width&&e.height==t.height&&t.get_transparent()&&0==(255&i))return void(t.buffer.__srcCanvas.width=t.buffer.width);var a,s,r,o;1==n?(a=i>>16&255,s=i>>8&255,r=255&i,o=t.get_transparent()?i>>24&255:255):(a=i>>24&255,s=i>>16&255,r=i>>8&255,o=t.get_transparent()?255&i:255),t.buffer.__srcContext.fillStyle="rgba("+a+", "+s+", "+r+", "+o/255+")",t.buffer.__srcContext.fillRect(e.x+t.offsetX,e.y+t.offsetY,e.width+t.offsetX,e.height+t.offsetY)},Ln.floodFill=function(t,e,i,n,a){Ln.convertToCanvas(t),Ln.createImageData(t),Mn.floodFill(t,e,i,n,a)},Ln.getPixel=function(t,e,i,n){return Ln.convertToCanvas(t),Ln.createImageData(t),Mn.getPixel(t,e,i,n)},Ln.getPixel32=function(t,e,i,n){return Ln.convertToCanvas(t),Ln.createImageData(t),Mn.getPixel32(t,e,i,n)},Ln.getPixels=function(t,e,i){return Ln.convertToCanvas(t),Ln.createImageData(t),Mn.getPixels(t,e,i)},Ln.merge=function(t,e,i,n,a,s,r,o){Ln.convertToCanvas(e),Ln.createImageData(e),Ln.convertToCanvas(t),Ln.createImageData(t),Mn.merge(t,e,i,n,a,s,r,o)},Ln.resize=function(t,e,i){var n=t.buffer;if(null==n.__srcCanvas)Ln.createCanvas(t,e,i),n.__srcContext.drawImage(n.get_src(),0,0,e,i);else{Ln.sync(t,!0);var a=n.__srcCanvas;n.__srcCanvas=null,Ln.createCanvas(t,e,i),n.__srcContext.drawImage(a,0,0,e,i)}},Ln.scroll=function(t,e,i){e%t.width==0&&i%t.height==0||(Ln.convertToCanvas(t),Ln.sync(t,!0),t.buffer.__srcContext.clearRect(e,i,t.width,t.height),t.buffer.__srcContext.drawImage(t.buffer.__srcCanvas,e,i))},Ln.setPixel=function(t,e,i,n,a){Ln.convertToCanvas(t),Ln.createImageData(t),Mn.setPixel(t,e,i,n,a)},Ln.setPixel32=function(t,e,i,n,a){Ln.convertToCanvas(t),Ln.createImageData(t),Mn.setPixel32(t,e,i,n,a)},Ln.setPixels=function(t,e,i,n){Ln.convertToCanvas(t),Ln.createImageData(t),Mn.setPixels(t,e,i,n)},Ln.sync=function(t,e){t.dirty&&null!=t.buffer.__srcImageData&&t.type!=ln.DATA&&(t.buffer.__srcContext.putImageData(t.buffer.__srcImageData,0,0),t.buffer.data=null,t.dirty=!1),e&&(t.buffer.__srcImageData=null,t.buffer.data=null)};var Mn=function(){};s["lime.graphics.utils.ImageDataUtil"]=Mn,Mn.__name__=["lime","graphics","utils","ImageDataUtil"],Mn.colorTransform=function(t,e,i){var n=t.buffer.data;if(null!=n){for(var a,s,r,o=t.buffer.format,l=t.buffer.premultiplied,_=new Bn(t,e),h=Rn.getAlphaTable(i),c=Rn.getRedTable(i),u=Rn.getGreenTable(i),d=Rn.getBlueTable(i),m=0,f=_.height;m<f;){var p=m++;a=_.offset+_.stride*p;for(var g=0,v=_.width;g<v;){var y=g++;switch(s=a+4*y,o){case 2:r=(255&n[s+2])<<24|(255&n[s+1])<<16|(255&n[s])<<8|255&n[s+3];break;case 0:r=(255&n[s])<<24|(255&n[s+1])<<16|(255&n[s+2])<<8|255&n[s+3];break;case 1:r=(255&n[s+1])<<24|(255&n[s+2])<<16|(255&n[s+3])<<8|255&n[s]}if(l&&0!=(255&r)&&255!=(255&r)){Vn.unmult=255/(255&r);var x,b=Math.round((r>>24&255)*Vn.unmult);x=Vn.__clamp[b];var w,T=Math.round((r>>16&255)*Vn.unmult);w=Vn.__clamp[T];var A,E=Math.round((r>>8&255)*Vn.unmult);A=Vn.__clamp[E],r=(255&x)<<24|(255&w)<<16|(255&A)<<8|255&r&255}switch(r=(255&c[r>>24&255])<<24|(255&u[r>>16&255])<<16|(255&d[r>>8&255])<<8|255&h[255&r],l&&(0==(255&r)?0!=r&&(r=0):255!=(255&r)&&(Vn.a16=Vn.__alpha16[255&r],r=((r>>24&255)*Vn.a16>>16&255)<<24|((r>>16&255)*Vn.a16>>16&255)<<16|((r>>8&255)*Vn.a16>>16&255)<<8|255&r&255)),o){case 2:n[s]=r>>8&255,n[s+1]=r>>16&255,n[s+2]=r>>24&255,n[s+3]=255&r;break;case 0:n[s]=r>>24&255,n[s+1]=r>>16&255,n[s+2]=r>>8&255,n[s+3]=255&r;break;case 1:n[s]=255&r,n[s+1]=r>>24&255,n[s+2]=r>>16&255,n[s+3]=r>>8&255}}}t.dirty=!0}},Mn.copyChannel=function(t,e,i,n,a,s){var r;switch(s[1]){case 0:r=0;break;case 1:r=1;break;case 2:r=2;break;case 3:r=3}var o;switch(a[1]){case 0:o=0;break;case 1:o=1;break;case 2:o=2;break;case 3:o=3}var l=e.buffer.data,_=t.buffer.data;if(null!=l&&null!=_){for(var h,c,u,d,m=new Bn(e,i),f=new Bn(t,new Nn(n.x,n.y,m.width,m.height)),p=e.buffer.format,g=t.buffer.format,v=e.buffer.premultiplied,y=t.buffer.premultiplied,x=0,b=0,w=f.height;b<w;){var T=b++;h=m.offset+m.stride*T,c=f.offset+f.stride*T;for(var A=0,E=f.width;A<E;){A++;switch(p){case 2:u=(255&l[h+2])<<24|(255&l[h+1])<<16|(255&l[h])<<8|255&l[h+3];break;case 0:u=(255&l[h])<<24|(255&l[h+1])<<16|(255&l[h+2])<<8|255&l[h+3];break;case 1:u=(255&l[h+1])<<24|(255&l[h+2])<<16|(255&l[h+3])<<8|255&l[h]}if(v&&0!=(255&u)&&255!=(255&u)){Vn.unmult=255/(255&u);var S,C=Math.round((u>>24&255)*Vn.unmult);S=Vn.__clamp[C];var I,L=Math.round((u>>16&255)*Vn.unmult);I=Vn.__clamp[L];var M,B=Math.round((u>>8&255)*Vn.unmult);M=Vn.__clamp[B],u=(255&S)<<24|(255&I)<<16|(255&M)<<8|255&u&255}switch(g){case 2:d=(255&_[c+2])<<24|(255&_[c+1])<<16|(255&_[c])<<8|255&_[c+3];break;case 0:d=(255&_[c])<<24|(255&_[c+1])<<16|(255&_[c+2])<<8|255&_[c+3];break;case 1:d=(255&_[c+1])<<24|(255&_[c+2])<<16|(255&_[c+3])<<8|255&_[c]}if(y&&0!=(255&d)&&255!=(255&d)){Vn.unmult=255/(255&d);var R,D=Math.round((d>>24&255)*Vn.unmult);R=Vn.__clamp[D];var P,N=Math.round((d>>16&255)*Vn.unmult);P=Vn.__clamp[N];var F,k=Math.round((d>>8&255)*Vn.unmult);F=Vn.__clamp[k],d=(255&R)<<24|(255&P)<<16|(255&F)<<8|255&d&255}switch(o){case 0:x=u>>24&255;break;case 1:x=u>>16&255;break;case 2:x=u>>8&255;break;case 3:x=255&u}switch(r){case 0:d=(255&x)<<24|(d>>16&255&255)<<16|(d>>8&255&255)<<8|255&d&255;break;case 1:d=(d>>24&255&255)<<24|(255&x)<<16|(d>>8&255&255)<<8|255&d&255;break;case 2:d=(d>>24&255&255)<<24|(d>>16&255&255)<<16|(255&x)<<8|255&d&255;break;case 3:d=(d>>24&255&255)<<24|(d>>16&255&255)<<16|(d>>8&255&255)<<8|255&x}switch(y&&(0==(255&d)?0!=d&&(d=0):255!=(255&d)&&(Vn.a16=Vn.__alpha16[255&d],d=((d>>24&255)*Vn.a16>>16&255)<<24|((d>>16&255)*Vn.a16>>16&255)<<16|((d>>8&255)*Vn.a16>>16&255)<<8|255&d&255)),g){case 2:_[c]=d>>8&255,_[c+1]=d>>16&255,_[c+2]=d>>24&255,_[c+3]=255&d;break;case 0:_[c]=d>>24&255,_[c+1]=d>>16&255,_[c+2]=d>>8&255,_[c+3]=255&d;break;case 1:_[c]=255&d,_[c+1]=d>>24&255,_[c+2]=d>>16&255,_[c+3]=d>>8&255}h+=4,c+=4}}t.dirty=!0}},Mn.copyPixels=function(t,e,i,n,a,s,r){null==r&&(r=!1);var o=e.buffer.data,l=t.buffer.data;if(null!=o&&null!=l){var _,h,c,u=new Bn(e,i),d=new Bn(t,new Nn(n.x,n.y,u.width,u.height)),m=e.buffer.format,f=t.buffer.format,p=e.buffer.premultiplied,g=t.buffer.premultiplied;if(r&&e.get_transparent()){var v,y,x,b,w;if(null==a)for(var T=0,A=d.height;T<A;){var E=T++;_=u.offset+u.stride*E,h=d.offset+d.stride*E;for(var S=0,C=d.width;S<C;){S++;switch(m){case 2:c=(255&o[_+2])<<24|(255&o[_+1])<<16|(255&o[_])<<8|255&o[_+3];break;case 0:c=(255&o[_])<<24|(255&o[_+1])<<16|(255&o[_+2])<<8|255&o[_+3];break;case 1:c=(255&o[_+1])<<24|(255&o[_+2])<<16|(255&o[_+3])<<8|255&o[_]}if(p&&0!=(255&c)&&255!=(255&c)){Vn.unmult=255/(255&c);var I,L=Math.round((c>>24&255)*Vn.unmult);I=Vn.__clamp[L];var M,B=Math.round((c>>16&255)*Vn.unmult);M=Vn.__clamp[B];var R,D=Math.round((c>>8&255)*Vn.unmult);R=Vn.__clamp[D],c=(255&I)<<24|(255&M)<<16|(255&R)<<8|255&c&255}switch(f){case 2:w=(255&l[h+2])<<24|(255&l[h+1])<<16|(255&l[h])<<8|255&l[h+3];break;case 0:w=(255&l[h])<<24|(255&l[h+1])<<16|(255&l[h+2])<<8|255&l[h+3];break;case 1:w=(255&l[h+1])<<24|(255&l[h+2])<<16|(255&l[h+3])<<8|255&l[h]}if(g&&0!=(255&w)&&255!=(255&w)){Vn.unmult=255/(255&w);var P,N=Math.round((w>>24&255)*Vn.unmult);P=Vn.__clamp[N];var F,k=Math.round((w>>16&255)*Vn.unmult);F=Vn.__clamp[k];var O,U=Math.round((w>>8&255)*Vn.unmult);O=Vn.__clamp[U],w=(255&P)<<24|(255&F)<<16|(255&O)<<8|255&w&255}if(v=(255&c)/255,y=(255&w)/255,x=1-v,b=v+y*x,0==b)w=0;else{var V,G=Math.round(((c>>24&255)*v+(w>>24&255)*y*x)/b);V=Vn.__clamp[G],w=(255&V)<<24|(w>>16&255&255)<<16|(w>>8&255&255)<<8|255&w&255;var W,X=Math.round(((c>>16&255)*v+(w>>16&255)*y*x)/b);W=Vn.__clamp[X],w=(w>>24&255&255)<<24|(255&W)<<16|(w>>8&255&255)<<8|255&w&255;var z,H=Math.round(((c>>8&255)*v+(w>>8&255)*y*x)/b);z=Vn.__clamp[H],w=(w>>24&255&255)<<24|(w>>16&255&255)<<16|(255&z)<<8|255&w&255;var Y,K=Math.round(255*b);Y=Vn.__clamp[K],w=(w>>24&255&255)<<24|(w>>16&255&255)<<16|(w>>8&255&255)<<8|255&Y}switch(g&&(0==(255&w)?0!=w&&(w=0):255!=(255&w)&&(Vn.a16=Vn.__alpha16[255&w],w=((w>>24&255)*Vn.a16>>16&255)<<24|((w>>16&255)*Vn.a16>>16&255)<<16|((w>>8&255)*Vn.a16>>16&255)<<8|255&w&255)),f){case 2:l[h]=w>>8&255,l[h+1]=w>>16&255,l[h+2]=w>>24&255,l[h+3]=255&w;break;case 0:l[h]=w>>24&255,l[h+1]=w>>16&255,l[h+2]=w>>8&255,l[h+3]=255&w;break;case 1:l[h]=255&w,l[h+1]=w>>24&255,l[h+2]=w>>16&255,l[h+3]=w>>8&255}_+=4,h+=4}}else{null==s&&(s=new Fn);for(var j,q,J=a.buffer.data,Z=a.buffer.format,Q=a.buffer.premultiplied,$=new Bn(a,new Nn(s.x,s.y,d.width,d.height)),tt=0,et=$.height;tt<et;){var it=tt++;_=u.offset+u.stride*it,h=d.offset+d.stride*it,j=$.offset+$.stride*it;for(var nt=0,at=$.width;nt<at;){nt++;switch(m){case 2:c=(255&o[_+2])<<24|(255&o[_+1])<<16|(255&o[_])<<8|255&o[_+3];break;case 0:c=(255&o[_])<<24|(255&o[_+1])<<16|(255&o[_+2])<<8|255&o[_+3];break;case 1:c=(255&o[_+1])<<24|(255&o[_+2])<<16|(255&o[_+3])<<8|255&o[_]}if(p&&0!=(255&c)&&255!=(255&c)){Vn.unmult=255/(255&c);var st,rt=Math.round((c>>24&255)*Vn.unmult);st=Vn.__clamp[rt];var ot,lt=Math.round((c>>16&255)*Vn.unmult);ot=Vn.__clamp[lt];var _t,ht=Math.round((c>>8&255)*Vn.unmult);_t=Vn.__clamp[ht],c=(255&st)<<24|(255&ot)<<16|(255&_t)<<8|255&c&255}switch(f){case 2:w=(255&l[h+2])<<24|(255&l[h+1])<<16|(255&l[h])<<8|255&l[h+3];break;case 0:w=(255&l[h])<<24|(255&l[h+1])<<16|(255&l[h+2])<<8|255&l[h+3];break;case 1:w=(255&l[h+1])<<24|(255&l[h+2])<<16|(255&l[h+3])<<8|255&l[h]}if(g&&0!=(255&w)&&255!=(255&w)){Vn.unmult=255/(255&w);var ct,ut=Math.round((w>>24&255)*Vn.unmult);ct=Vn.__clamp[ut];var dt,mt=Math.round((w>>16&255)*Vn.unmult);dt=Vn.__clamp[mt];var ft,pt=Math.round((w>>8&255)*Vn.unmult);ft=Vn.__clamp[pt],w=(255&ct)<<24|(255&dt)<<16|(255&ft)<<8|255&w&255}switch(Z){case 2:q=(255&J[j+2])<<24|(255&J[j+1])<<16|(255&J[j])<<8|255&J[j+3];break;case 0:q=(255&J[j])<<24|(255&J[j+1])<<16|(255&J[j+2])<<8|255&J[j+3];break;case 1:q=(255&J[j+1])<<24|(255&J[j+2])<<16|(255&J[j+3])<<8|255&J[j]}if(Q&&0!=(255&q)&&255!=(255&q)){Vn.unmult=255/(255&q);var gt,vt=Math.round((q>>24&255)*Vn.unmult);gt=Vn.__clamp[vt];var yt,xt=Math.round((q>>16&255)*Vn.unmult);yt=Vn.__clamp[xt];var bt,wt=Math.round((q>>8&255)*Vn.unmult);bt=Vn.__clamp[wt],q=(255&gt)<<24|(255&yt)<<16|(255&bt)<<8|255&q&255}if(v=(255&q)/255,y=(255&w)/255,x=1-v,b=v+y*x,0==b)w=0;else{var Tt,At=Math.round(((c>>24&255)*v+(w>>24&255)*y*x)/b);Tt=Vn.__clamp[At],w=(255&Tt)<<24|(w>>16&255&255)<<16|(w>>8&255&255)<<8|255&w&255;var Et,St=Math.round(((c>>16&255)*v+(w>>16&255)*y*x)/b);Et=Vn.__clamp[St],w=(w>>24&255&255)<<24|(255&Et)<<16|(w>>8&255&255)<<8|255&w&255;var Ct,It=Math.round(((c>>8&255)*v+(w>>8&255)*y*x)/b);Ct=Vn.__clamp[It],w=(w>>24&255&255)<<24|(w>>16&255&255)<<16|(255&Ct)<<8|255&w&255;var Lt,Mt=Math.round(255*b);Lt=Vn.__clamp[Mt],w=(w>>24&255&255)<<24|(w>>16&255&255)<<16|(w>>8&255&255)<<8|255&Lt}switch(g&&(0==(255&w)?0!=w&&(w=0):255!=(255&w)&&(Vn.a16=Vn.__alpha16[255&w],w=((w>>24&255)*Vn.a16>>16&255)<<24|((w>>16&255)*Vn.a16>>16&255)<<16|((w>>8&255)*Vn.a16>>16&255)<<8|255&w&255)),f){case 2:l[h]=w>>8&255,l[h+1]=w>>16&255,l[h+2]=w>>24&255,l[h+3]=255&w;break;case 0:l[h]=w>>24&255,l[h+1]=w>>16&255,l[h+2]=w>>8&255,l[h+3]=255&w;break;case 1:l[h]=255&w,l[h+1]=w>>24&255,l[h+2]=w>>16&255,l[h+3]=w>>8&255}_+=4,h+=4}}}}else for(var Bt=0,Rt=d.height;Bt<Rt;){var Dt=Bt++;_=u.offset+u.stride*Dt,h=d.offset+d.stride*Dt;for(var Pt=0,Nt=d.width;Pt<Nt;){Pt++;switch(m){case 2:c=(255&o[_+2])<<24|(255&o[_+1])<<16|(255&o[_])<<8|255&o[_+3];break;case 0:c=(255&o[_])<<24|(255&o[_+1])<<16|(255&o[_+2])<<8|255&o[_+3];break;case 1:c=(255&o[_+1])<<24|(255&o[_+2])<<16|(255&o[_+3])<<8|255&o[_]}if(p&&0!=(255&c)&&255!=(255&c)){Vn.unmult=255/(255&c);var Ft,kt=Math.round((c>>24&255)*Vn.unmult);Ft=Vn.__clamp[kt];var Ot,Ut=Math.round((c>>16&255)*Vn.unmult);Ot=Vn.__clamp[Ut];var Vt,Gt=Math.round((c>>8&255)*Vn.unmult);Vt=Vn.__clamp[Gt],c=(255&Ft)<<24|(255&Ot)<<16|(255&Vt)<<8|255&c&255}switch(g&&(0==(255&c)?0!=c&&(c=0):255!=(255&c)&&(Vn.a16=Vn.__alpha16[255&c],c=((c>>24&255)*Vn.a16>>16&255)<<24|((c>>16&255)*Vn.a16>>16&255)<<16|((c>>8&255)*Vn.a16>>16&255)<<8|255&c&255)),f){case 2:l[h]=c>>8&255,l[h+1]=c>>16&255,l[h+2]=c>>24&255,l[h+3]=255&c;break;case 0:l[h]=c>>24&255,l[h+1]=c>>16&255,l[h+2]=c>>8&255,l[h+3]=255&c;break;case 1:l[h]=255&c,l[h+1]=c>>24&255,l[h+2]=c>>16&255,l[h+3]=c>>8&255}_+=4,h+=4}}t.dirty=!0}},Mn.fillRect=function(t,e,i,n){var a;switch(n){case 1:var s=i,r=0;r=(s>>16&255&255)<<24|(s>>8&255&255)<<16|(255&s&255)<<8|s>>24&255&255,a=r;break;case 2:var o=i,l=0;l=(o>>8&255&255)<<24|(o>>16&255&255)<<16|(o>>24&255&255)<<8|255&o&255,a=l;break;default:a=i}t.get_transparent()||(a=(a>>24&255&255)<<24|(a>>16&255&255)<<16|(a>>8&255&255)<<8|255);var _=t.buffer.data;if(null!=_){for(var h,c=t.buffer.format,u=t.buffer.premultiplied,d=new Bn(t,e),m=0,f=d.height;m<f;){var p=m++;h=d.offset+d.stride*p;for(var g=0,v=d.width;g<v;){var y=g++,x=h+4*y;switch(u&&(0==(255&a)?0!=a&&(a=0):255!=(255&a)&&(Vn.a16=Vn.__alpha16[255&a],a=((a>>24&255)*Vn.a16>>16&255)<<24|((a>>16&255)*Vn.a16>>16&255)<<16|((a>>8&255)*Vn.a16>>16&255)<<8|255&a&255)),c){case 2:_[x]=a>>8&255,_[x+1]=a>>16&255,_[x+2]=a>>24&255,_[x+3]=255&a;break;case 0:_[x]=a>>24&255,_[x+1]=a>>16&255,_[x+2]=a>>8&255,_[x+3]=255&a;break;case 1:_[x]=255&a,_[x+1]=a>>24&255,_[x+2]=a>>16&255,_[x+3]=a>>8&255}}}t.dirty=!0}},Mn.floodFill=function(t,e,i,n,a){var s=t.buffer.data;if(null!=s){1==a&&(n=(16777215&n)<<8|n>>24&255);var r,o=t.buffer.format,l=t.buffer.premultiplied,_=n,h=(i+t.offsetY)*(4*t.buffer.width)+4*(e+t.offsetX);switch(o){case 2:r=(255&s[h+2])<<24|(255&s[h+1])<<16|(255&s[h])<<8|255&s[h+3];break;case 0:r=(255&s[h])<<24|(255&s[h+1])<<16|(255&s[h+2])<<8|255&s[h+3];break;case 1:r=(255&s[h+1])<<24|(255&s[h+2])<<16|(255&s[h+3])<<8|255&s[h]}if(l&&0!=(255&r)&&255!=(255&r)){Vn.unmult=255/(255&r);var c,u=Math.round((r>>24&255)*Vn.unmult);c=Vn.__clamp[u];var d,m=Math.round((r>>16&255)*Vn.unmult);d=Vn.__clamp[m];var f,p=Math.round((r>>8&255)*Vn.unmult);f=Vn.__clamp[p],r=(255&c)<<24|(255&d)<<16|(255&f)<<8|255&r&255}if(t.get_transparent()||(_=(_>>24&255&255)<<24|(_>>16&255&255)<<16|(_>>8&255&255)<<8|255,r=(r>>24&255&255)<<24|(r>>16&255&255)<<16|(r>>8&255&255)<<8|255),_!=r){var g=[0,-1,1,0],v=[-1,0,0,1],y=-t.offsetX,x=-t.offsetY,b=y+t.width,w=x+t.height,T=[];T.push(e),T.push(i);for(var A,E,S,C,I,L;T.length>0;){E=T.pop(),A=T.pop();for(var M=0;M<4;){var B=M++;if(S=A+g[B],C=E+v[B],!(S<y||C<x||S>=b||C>=w)){switch(I=4*(C*t.width+S),o){case 2:L=(255&s[I+2])<<24|(255&s[I+1])<<16|(255&s[I])<<8|255&s[I+3];break;case 0:L=(255&s[I])<<24|(255&s[I+1])<<16|(255&s[I+2])<<8|255&s[I+3];break;case 1:L=(255&s[I+1])<<24|(255&s[I+2])<<16|(255&s[I+3])<<8|255&s[I]}if(l&&0!=(255&L)&&255!=(255&L)){Vn.unmult=255/(255&L);var R,D=Math.round((L>>24&255)*Vn.unmult);R=Vn.__clamp[D];var P,N=Math.round((L>>16&255)*Vn.unmult);P=Vn.__clamp[N];var F,k=Math.round((L>>8&255)*Vn.unmult);F=Vn.__clamp[k],L=(255&R)<<24|(255&P)<<16|(255&F)<<8|255&L&255}if(L==r){switch(l&&(0==(255&_)?0!=_&&(_=0):255!=(255&_)&&(Vn.a16=Vn.__alpha16[255&_],_=((_>>24&255)*Vn.a16>>16&255)<<24|((_>>16&255)*Vn.a16>>16&255)<<16|((_>>8&255)*Vn.a16>>16&255)<<8|255&_&255)),o){case 2:s[I]=_>>8&255,s[I+1]=_>>16&255,s[I+2]=_>>24&255,s[I+3]=255&_;break;case 0:s[I]=_>>24&255,s[I+1]=_>>16&255,s[I+2]=_>>8&255,s[I+3]=255&_;break;case 1:s[I]=255&_,s[I+1]=_>>24&255,s[I+2]=_>>16&255,s[I+3]=_>>8&255}T.push(S),T.push(C)}}}}t.dirty=!0}}},Mn.getColorBoundsRect=function(t,e,i,n,a){null==n&&(n=!0);var s,r,o=t.width+1,l=0,_=t.height+1,h=0;switch(a){case 1:var c=i,u=0;u=(c>>16&255&255)<<24|(c>>8&255&255)<<16|(255&c&255)<<8|c>>24&255&255,s=u;var d=e,m=0;m=(d>>16&255&255)<<24|(d>>8&255&255)<<16|(255&d&255)<<8|d>>24&255&255,r=m;break;case 2:var f=i,p=0;p=(f>>8&255&255)<<24|(f>>16&255&255)<<16|(f>>24&255&255)<<8|255&f&255,s=p;var g=e,v=0;v=(g>>8&255&255)<<24|(g>>16&255&255)<<16|(g>>24&255&255)<<8|255&g&255,r=v;break;default:s=i,r=e}t.get_transparent()||(s=(s>>24&255&255)<<24|(s>>16&255&255)<<16|(s>>8&255&255)<<8|255,r=(r>>24&255&255)<<24|(r>>16&255&255)<<16|(r>>8&255&255)<<8|255);for(var y,x,b=0,w=t.width;b<w;){var T=b++;x=!1;for(var A=0,E=t.height;A<E;){var S=A++;if(y=t.getPixel32(T,S,0),x=n?(y&r)==s:(y&r)!=s){T<o&&(o=T);break}}if(x)break}for(var C,I=0,L=t.width;I<L;){var M=I++;C=t.width-1-M,x=!1;for(var B=0,R=t.height;B<R;){var D=B++;if(y=t.getPixel32(C,D,0),x=n?(y&r)==s:(y&r)!=s){C>l&&(l=C);break}}if(x)break}for(var P=0,N=t.height;P<N;){var F=P++;x=!1;for(var k=0,O=t.width;k<O;){var U=k++;if(y=t.getPixel32(U,F,0),x=n?(y&r)==s:(y&r)!=s){F<_&&(_=F);break}}if(x)break}for(var V,G=0,W=t.height;G<W;){var X=G++;V=t.height-1-X,x=!1;for(var z=0,H=t.width;z<H;){var Y=z++;if(y=t.getPixel32(Y,V,0),x=n?(y&r)==s:(y&r)!=s){V>h&&(h=V);break}}if(x)break}var K=l-o,j=h-_;return K>0&&K++,j>0&&j++,K<0&&(K=0),j<0&&(j=0),o==l&&(K=1),_==h&&(j=1),o>t.width&&(o=0),_>t.height&&(_=0),new Nn(o,_,K,j)},Mn.getPixel=function(t,e,i,n){var a,s=t.buffer.data,r=4*(i+t.offsetY)*t.buffer.width+4*(e+t.offsetX);switch(t.buffer.format){case 2:a=(255&s[r+2])<<24|(255&s[r+1])<<16|(255&s[r])<<8|255&s[r+3];break;case 0:a=(255&s[r])<<24|(255&s[r+1])<<16|(255&s[r+2])<<8|255&s[r+3];break;case 1:a=(255&s[r+1])<<24|(255&s[r+2])<<16|(255&s[r+3])<<8|255&s[r]}if(t.buffer.premultiplied&&0!=(255&a)&&255!=(255&a)){Vn.unmult=255/(255&a);var o,l=Math.round((a>>24&255)*Vn.unmult);o=Vn.__clamp[l];var _,h=Math.round((a>>16&255)*Vn.unmult);_=Vn.__clamp[h];var c,u=Math.round((a>>8&255)*Vn.unmult);c=Vn.__clamp[u],a=(255&o)<<24|(255&_)<<16|(255&c)<<8|255&a&255}switch(a=(a>>24&255&255)<<24|(a>>16&255&255)<<16|(a>>8&255&255)<<8|0,n){case 1:return function(t){var e,i=0;return i=(255&a&255)<<24|(a>>24&255&255)<<16|(a>>16&255&255)<<8|a>>8&255&255,e=i}(this);case 2:return function(t){var e,i=0;return i=(a>>8&255&255)<<24|(a>>16&255&255)<<16|(a>>24&255&255)<<8|255&a&255,e=i}(this);default:return a}},Mn.getPixel32=function(t,e,i,n){var a,s=t.buffer.data,r=4*(i+t.offsetY)*t.buffer.width+4*(e+t.offsetX);switch(t.buffer.format){case 2:a=(255&s[r+2])<<24|(255&s[r+1])<<16|(255&s[r])<<8|255&s[r+3];break;case 0:a=(255&s[r])<<24|(255&s[r+1])<<16|(255&s[r+2])<<8|255&s[r+3];break;case 1:a=(255&s[r+1])<<24|(255&s[r+2])<<16|(255&s[r+3])<<8|255&s[r]}if(t.buffer.premultiplied&&0!=(255&a)&&255!=(255&a)){Vn.unmult=255/(255&a);var o,l=Math.round((a>>24&255)*Vn.unmult);o=Vn.__clamp[l];var _,h=Math.round((a>>16&255)*Vn.unmult);_=Vn.__clamp[h];var c,u=Math.round((a>>8&255)*Vn.unmult);c=Vn.__clamp[u],a=(255&o)<<24|(255&_)<<16|(255&c)<<8|255&a&255;
}switch(n){case 1:return function(t){var e,i=0;return i=(255&a&255)<<24|(a>>24&255&255)<<16|(a>>16&255&255)<<8|a>>8&255&255,e=i}(this);case 2:return function(t){var e,i=0;return i=(a>>8&255&255)<<24|(a>>16&255&255)<<16|(a>>24&255&255)<<8|255&a&255,e=i}(this);default:return a}},Mn.getPixels=function(t,e,i){if(null==t.buffer.data)return null;for(var n,a,s,r,o=e.width*e.height|0,l=ti.alloc(4*o),_=t.buffer.data,h=t.buffer.format,c=t.buffer.premultiplied,u=new Bn(t,e),d=0,m=0,f=u.height;m<f;){var p=m++;n=u.offset+u.stride*p;for(var g=0,v=u.width;g<v;){g++;switch(h){case 2:r=(255&_[n+2])<<24|(255&_[n+1])<<16|(255&_[n])<<8|255&_[n+3];break;case 0:r=(255&_[n])<<24|(255&_[n+1])<<16|(255&_[n+2])<<8|255&_[n+3];break;case 1:r=(255&_[n+1])<<24|(255&_[n+2])<<16|(255&_[n+3])<<8|255&_[n]}if(c&&0!=(255&r)&&255!=(255&r)){Vn.unmult=255/(255&r);var y,x=Math.round((r>>24&255)*Vn.unmult);y=Vn.__clamp[x];var b,w=Math.round((r>>16&255)*Vn.unmult);b=Vn.__clamp[w];var T,A=Math.round((r>>8&255)*Vn.unmult);T=Vn.__clamp[A],r=(255&y)<<24|(255&b)<<16|(255&T)<<8|255&r&255}switch(i){case 1:var E=0;E=(255&r&255)<<24|(r>>24&255&255)<<16|(r>>16&255&255)<<8|r>>8&255&255,a=E,r=a;break;case 2:var S=0;S=(r>>8&255&255)<<24|(r>>16&255&255)<<16|(r>>24&255&255)<<8|255&r&255,s=S,r=s}l.set(d++,r>>24&255),l.set(d++,r>>16&255),l.set(d++,r>>8&255),l.set(d++,255&r),n+=4}}return l},Mn.merge=function(t,e,i,n,a,s,r,o){if(null!=t.buffer.data&&null!=e.buffer.data){for(var l,_,h,c,u=new Bn(e,i),d=new Bn(t,new Nn(n.x,n.y,u.width,u.height)),m=e.buffer.data,f=t.buffer.data,p=e.buffer.format,g=t.buffer.format,v=e.buffer.premultiplied,y=t.buffer.premultiplied,x=0,b=d.height;x<b;){var w=x++;l=u.offset+u.stride*w,_=d.offset+d.stride*w;for(var T=0,A=d.width;T<A;){T++;switch(p){case 2:h=(255&m[l+2])<<24|(255&m[l+1])<<16|(255&m[l])<<8|255&m[l+3];break;case 0:h=(255&m[l])<<24|(255&m[l+1])<<16|(255&m[l+2])<<8|255&m[l+3];break;case 1:h=(255&m[l+1])<<24|(255&m[l+2])<<16|(255&m[l+3])<<8|255&m[l]}if(v&&0!=(255&h)&&255!=(255&h)){Vn.unmult=255/(255&h);var E,S=Math.round((h>>24&255)*Vn.unmult);E=Vn.__clamp[S];var C,I=Math.round((h>>16&255)*Vn.unmult);C=Vn.__clamp[I];var L,M=Math.round((h>>8&255)*Vn.unmult);L=Vn.__clamp[M],h=(255&E)<<24|(255&C)<<16|(255&L)<<8|255&h&255}switch(g){case 2:c=(255&f[_+2])<<24|(255&f[_+1])<<16|(255&f[_])<<8|255&f[_+3];break;case 0:c=(255&f[_])<<24|(255&f[_+1])<<16|(255&f[_+2])<<8|255&f[_+3];break;case 1:c=(255&f[_+1])<<24|(255&f[_+2])<<16|(255&f[_+3])<<8|255&f[_]}if(y&&0!=(255&c)&&255!=(255&c)){Vn.unmult=255/(255&c);var B,R=Math.round((c>>24&255)*Vn.unmult);B=Vn.__clamp[R];var D,P=Math.round((c>>16&255)*Vn.unmult);D=Vn.__clamp[P];var N,F=Math.round((c>>8&255)*Vn.unmult);N=Vn.__clamp[F],c=(255&B)<<24|(255&D)<<16|(255&N)<<8|255&c&255}var k=((h>>24&255)*a+(c>>24&255)*(256-a))/256|0;c=(255&k)<<24|(c>>16&255&255)<<16|(c>>8&255&255)<<8|255&c&255;var O=((h>>16&255)*s+(c>>16&255)*(256-s))/256|0;c=(c>>24&255&255)<<24|(255&O)<<16|(c>>8&255&255)<<8|255&c&255;var U=((h>>8&255)*r+(c>>8&255)*(256-r))/256|0;c=(c>>24&255&255)<<24|(c>>16&255&255)<<16|(255&U)<<8|255&c&255;var V=((255&h)*o+(255&c)*(256-o))/256|0;switch(c=(c>>24&255&255)<<24|(c>>16&255&255)<<16|(c>>8&255&255)<<8|255&V,y&&(0==(255&c)?0!=c&&(c=0):255!=(255&c)&&(Vn.a16=Vn.__alpha16[255&c],c=((c>>24&255)*Vn.a16>>16&255)<<24|((c>>16&255)*Vn.a16>>16&255)<<16|((c>>8&255)*Vn.a16>>16&255)<<8|255&c&255)),g){case 2:f[_]=c>>8&255,f[_+1]=c>>16&255,f[_+2]=c>>24&255,f[_+3]=255&c;break;case 0:f[_]=c>>24&255,f[_+1]=c>>16&255,f[_+2]=c>>8&255,f[_+3]=255&c;break;case 1:f[_]=255&c,f[_+1]=c>>24&255,f[_+2]=c>>16&255,f[_+3]=c>>8&255}l+=4,_+=4}}t.dirty=!0}},Mn.multiplyAlpha=function(t){var e=t.buffer.data;if(null!=e&&t.buffer.transparent){for(var i,n=t.buffer.format,a=e.length/4|0,s=0;s<a;){var r=s++,o=4*r;switch(n){case 2:i=(255&e[o+2])<<24|(255&e[o+1])<<16|(255&e[o])<<8|255&e[o+3];break;case 0:i=(255&e[o])<<24|(255&e[o+1])<<16|(255&e[o+2])<<8|255&e[o+3];break;case 1:i=(255&e[o+1])<<24|(255&e[o+2])<<16|(255&e[o+3])<<8|255&e[o]}var l=4*r;switch(0==(255&i)?0!=i&&(i=0):255!=(255&i)&&(Vn.a16=Vn.__alpha16[255&i],i=((i>>24&255)*Vn.a16>>16&255)<<24|((i>>16&255)*Vn.a16>>16&255)<<16|((i>>8&255)*Vn.a16>>16&255)<<8|255&i&255),n){case 2:e[l]=i>>8&255,e[l+1]=i>>16&255,e[l+2]=i>>24&255,e[l+3]=255&i;break;case 0:e[l]=i>>24&255,e[l+1]=i>>16&255,e[l+2]=i>>8&255,e[l+3]=255&i;break;case 1:e[l]=255&i,e[l+1]=i>>24&255,e[l+2]=i>>16&255,e[l+3]=i>>8&255}}t.buffer.premultiplied=!0,t.dirty=!0}},Mn.resize=function(t,e,i){var n=t.buffer;if(n.width!=e||n.height!=i){for(var a,s,r,o,l,_,h,c,u,d,m,f,p,g=new rn(function(t){var n,a,s=e*i*4;return a=null!=s?new $l(s):null,n=a}(this),e,i),v=t.width,y=t.height,x=t.get_data(),b=g.data,w=0;w<i;)for(var T=w++,A=0;A<e;){var E=A++;c=(E+.5)/e*v-.5,u=(T+.5)/i*y-.5,_=0|c,h=0|u,a=4*(h*v+_),s=_<v-1?a+4:a,r=h<y-1?a+4*v:a,o=s!=a?r+4:r,l=4*(T*e+E),d=c-_,m=u-h,f=1-d,p=1-m;var S=G["int"]((Z.toFloat(x[a])*f+Z.toFloat(x[s])*d)*p+(Z.toFloat(x[r])*f+Z.toFloat(x[o])*d)*m);b[l]=S;var C=G["int"]((Z.toFloat(x[a+1])*f+Z.toFloat(x[s+1])*d)*p+(Z.toFloat(x[r+1])*f+Z.toFloat(x[o+1])*d)*m);b[l+1]=C;var I=G["int"]((Z.toFloat(x[a+2])*f+Z.toFloat(x[s+2])*d)*p+(Z.toFloat(x[r+2])*f+Z.toFloat(x[o+2])*d)*m);b[l+2]=I,0==x[s+3]||0==x[r+3]||0==x[o+3]?b[l+3]=0:b[l+3]=x[a+3]}n.data=g.data,n.width=e,n.height=i}},Mn.resizeBuffer=function(t,e,i){var n,a,s=t.buffer,r=t.get_data(),o=e*i*4;a=null!=o?new $l(o):null,n=a;for(var l,_,h=0,c=s.height;h<c;)for(var u=h++,d=0,m=s.width;d<m;){var f=d++;l=4*(u*s.width+f),_=4*(u*e+f),n[_]=r[l],n[_+1]=r[l+1],n[_+2]=r[l+2],n[_+3]=r[l+3]}s.data=n,s.width=e,s.height=i},Mn.setFormat=function(t,e){var i=t.buffer.data;if(null!=i){var n,a,s,r,o,l,_,h,c,u,d,m,f,p=i.length/4|0,g=t.get_format();switch(g){case 0:a=0,s=1,r=2,o=3;break;case 1:a=1,s=2,r=3,o=0;break;case 2:a=2,s=1,r=0,o=3}switch(e){case 0:l=0,_=1,h=2,c=3;break;case 1:l=1,_=2,h=3,c=0;break;case 2:l=2,_=1,h=0,c=3}for(var v=0;v<p;){var y=v++;n=4*y,u=i[n+a],d=i[n+s],m=i[n+r],f=i[n+o],i[n+l]=u,i[n+_]=d,i[n+h]=m,i[n+c]=f}t.buffer.format=e,t.dirty=!0}},Mn.setPixel=function(t,e,i,n,a){var s;switch(a){case 1:var r=n,o=0;o=(r>>16&255&255)<<24|(r>>8&255&255)<<16|(255&r&255)<<8|r>>24&255&255,s=o;break;case 2:var l=n,_=0;_=(l>>8&255&255)<<24|(l>>16&255&255)<<16|(l>>24&255&255)<<8|255&l&255,s=_;break;default:s=n}var h=0,c=t.buffer.data,u=4*(i+t.offsetY)*t.buffer.width+4*(e+t.offsetX);switch(t.buffer.format){case 2:h=(255&c[u+2])<<24|(255&c[u+1])<<16|(255&c[u])<<8|255&c[u+3];break;case 0:h=(255&c[u])<<24|(255&c[u+1])<<16|(255&c[u+2])<<8|255&c[u+3];break;case 1:h=(255&c[u+1])<<24|(255&c[u+2])<<16|(255&c[u+3])<<8|255&c[u]}if(t.buffer.premultiplied&&0!=(255&h)&&255!=(255&h)){Vn.unmult=255/(255&h);var d,m=Math.round((h>>24&255)*Vn.unmult);d=Vn.__clamp[m];var f,p=Math.round((h>>16&255)*Vn.unmult);f=Vn.__clamp[p];var g,v=Math.round((h>>8&255)*Vn.unmult);g=Vn.__clamp[v],h=(255&d)<<24|(255&f)<<16|(255&g)<<8|255&h&255}var y=255&h;s=(s>>24&255&255)<<24|(s>>16&255&255)<<16|(s>>8&255&255)<<8|255&y;var x=t.buffer.data,b=4*(i+t.offsetY)*t.buffer.width+4*(e+t.offsetX);switch(t.buffer.premultiplied&&(0==(255&s)?0!=s&&(s=0):255!=(255&s)&&(Vn.a16=Vn.__alpha16[255&s],s=((s>>24&255)*Vn.a16>>16&255)<<24|((s>>16&255)*Vn.a16>>16&255)<<16|((s>>8&255)*Vn.a16>>16&255)<<8|255&s&255)),t.buffer.format){case 2:x[b]=s>>8&255,x[b+1]=s>>16&255,x[b+2]=s>>24&255,x[b+3]=255&s;break;case 0:x[b]=s>>24&255,x[b+1]=s>>16&255,x[b+2]=s>>8&255,x[b+3]=255&s;break;case 1:x[b]=255&s,x[b+1]=s>>24&255,x[b+2]=s>>16&255,x[b+3]=s>>8&255}t.dirty=!0},Mn.setPixel32=function(t,e,i,n,a){var s;switch(a){case 1:var r=n,o=0;o=(r>>16&255&255)<<24|(r>>8&255&255)<<16|(255&r&255)<<8|r>>24&255&255,s=o;break;case 2:var l=n,_=0;_=(l>>8&255&255)<<24|(l>>16&255&255)<<16|(l>>24&255&255)<<8|255&l&255,s=_;break;default:s=n}t.get_transparent()||(s=(s>>24&255&255)<<24|(s>>16&255&255)<<16|(s>>8&255&255)<<8|255);var h=t.buffer.data,c=4*(i+t.offsetY)*t.buffer.width+4*(e+t.offsetX);switch(t.buffer.premultiplied&&(0==(255&s)?0!=s&&(s=0):255!=(255&s)&&(Vn.a16=Vn.__alpha16[255&s],s=((s>>24&255)*Vn.a16>>16&255)<<24|((s>>16&255)*Vn.a16>>16&255)<<16|((s>>8&255)*Vn.a16>>16&255)<<8|255&s&255)),t.buffer.format){case 2:h[c]=s>>8&255,h[c+1]=s>>16&255,h[c+2]=s>>24&255,h[c+3]=255&s;break;case 0:h[c]=s>>24&255,h[c+1]=s>>16&255,h[c+2]=s>>8&255,h[c+3]=255&s;break;case 1:h[c]=255&s,h[c+1]=s>>24&255,h[c+2]=s>>16&255,h[c+3]=s>>8&255}t.dirty=!0},Mn.setPixels=function(t,e,i,n){if(null!=t.buffer.data){for(var a,s,r,o=t.buffer.data,l=t.buffer.format,_=t.buffer.premultiplied,h=new Bn(t,e),c=t.get_transparent(),u=0,d=0,m=h.height;d<m;){var f=d++;a=h.offset+h.stride*f;for(var p=0,g=h.width;p<g;){var v=p++;switch(s=i.b[u+3]|i.b[u+2]<<8|i.b[u+1]<<16|i.b[u]<<24,u+=4,n){case 1:var y=s,x=0;x=(y>>16&255&255)<<24|(y>>8&255&255)<<16|(255&y&255)<<8|y>>24&255&255,r=x;break;case 2:var b=s,w=0;w=(b>>8&255&255)<<24|(b>>16&255&255)<<16|(b>>24&255&255)<<8|255&b&255,r=w;break;default:r=s}c||(r=(r>>24&255&255)<<24|(r>>16&255&255)<<16|(r>>8&255&255)<<8|255);var T=a+4*v;switch(_&&(0==(255&r)?0!=r&&(r=0):255!=(255&r)&&(Vn.a16=Vn.__alpha16[255&r],r=((r>>24&255)*Vn.a16>>16&255)<<24|((r>>16&255)*Vn.a16>>16&255)<<16|((r>>8&255)*Vn.a16>>16&255)<<8|255&r&255)),l){case 2:o[T]=r>>8&255,o[T+1]=r>>16&255,o[T+2]=r>>24&255,o[T+3]=255&r;break;case 0:o[T]=r>>24&255,o[T+1]=r>>16&255,o[T+2]=r>>8&255,o[T+3]=255&r;break;case 1:o[T]=255&r,o[T+1]=r>>24&255,o[T+2]=r>>16&255,o[T+3]=r>>8&255}}}t.dirty=!0}},Mn.threshold=function(t,e,i,n,a,s,r,o,l,_){var h,c,u;switch(_){case 1:var d=r,m=0;m=(d>>16&255&255)<<24|(d>>8&255&255)<<16|(255&d&255)<<8|d>>24&255&255,h=m;var f=o,p=0;p=(f>>16&255&255)<<24|(f>>8&255&255)<<16|(255&f&255)<<8|f>>24&255&255,c=p;var g=s,v=0;v=(g>>16&255&255)<<24|(g>>8&255&255)<<16|(255&g&255)<<8|g>>24&255&255,u=v;break;case 2:var y=r,x=0;x=(y>>8&255&255)<<24|(y>>16&255&255)<<16|(y>>24&255&255)<<8|255&y&255,h=x;var b=o,w=0;w=(b>>8&255&255)<<24|(b>>16&255&255)<<16|(b>>24&255&255)<<8|255&b&255,c=w;var T=s,A=0;A=(T>>8&255&255)<<24|(T>>16&255&255)<<16|(T>>24&255&255)<<8|255&T&255,u=A;break;default:h=r,c=o,u=s}var E;switch(a){case"!=":E=0;break;case"==":E=1;break;case"<":E=2;break;case"<=":E=3;break;case">":E=4;break;case">=":E=5;break;default:E=-1}if(E==-1)return 0;var S=e.buffer.data,C=t.buffer.data;if(null==S||null==C)return 0;for(var I,L,M,B,R,D,P=0,N=new Bn(e,i),F=new Bn(t,new Nn(n.x,n.y,N.width,N.height)),k=e.buffer.format,O=t.buffer.format,U=e.buffer.premultiplied,V=t.buffer.premultiplied,G=0,W=F.height;G<W;){var X=G++;I=N.offset+N.stride*X,L=F.offset+F.stride*X;for(var z=0,H=F.width;z<H;){z++;switch(k){case 2:M=(255&S[I+2])<<24|(255&S[I+1])<<16|(255&S[I])<<8|255&S[I+3];break;case 0:M=(255&S[I])<<24|(255&S[I+1])<<16|(255&S[I+2])<<8|255&S[I+3];break;case 1:M=(255&S[I+1])<<24|(255&S[I+2])<<16|(255&S[I+3])<<8|255&S[I]}if(U&&0!=(255&M)&&255!=(255&M)){Vn.unmult=255/(255&M);var Y,K=Math.round((M>>24&255)*Vn.unmult);Y=Vn.__clamp[K];var j,q=Math.round((M>>16&255)*Vn.unmult);j=Vn.__clamp[q];var J,Z=Math.round((M>>8&255)*Vn.unmult);J=Vn.__clamp[Z],M=(255&Y)<<24|(255&j)<<16|(255&J)<<8|255&M&255}switch(B=M&c,D=Mn.__pixelCompare(B,u),E){case 0:R=0!=D;break;case 1:R=0==D;break;case 2:R=D==-1;break;case 3:R=0==D||D==-1;break;case 4:R=1==D;break;case 5:R=0==D||1==D;break;default:R=!1}if(R){switch(V&&(0==(255&h)?0!=h&&(h=0):255!=(255&h)&&(Vn.a16=Vn.__alpha16[255&h],h=((h>>24&255)*Vn.a16>>16&255)<<24|((h>>16&255)*Vn.a16>>16&255)<<16|((h>>8&255)*Vn.a16>>16&255)<<8|255&h&255)),O){case 2:C[L]=h>>8&255,C[L+1]=h>>16&255,C[L+2]=h>>24&255,C[L+3]=255&h;break;case 0:C[L]=h>>24&255,C[L+1]=h>>16&255,C[L+2]=h>>8&255,C[L+3]=255&h;break;case 1:C[L]=255&h,C[L+1]=h>>24&255,C[L+2]=h>>16&255,C[L+3]=h>>8&255}P++}else if(l)switch(V&&(0==(255&M)?0!=M&&(M=0):255!=(255&M)&&(Vn.a16=Vn.__alpha16[255&M],M=((M>>24&255)*Vn.a16>>16&255)<<24|((M>>16&255)*Vn.a16>>16&255)<<16|((M>>8&255)*Vn.a16>>16&255)<<8|255&M&255)),O){case 2:C[L]=M>>8&255,C[L+1]=M>>16&255,C[L+2]=M>>24&255,C[L+3]=255&M;break;case 0:C[L]=M>>24&255,C[L+1]=M>>16&255,C[L+2]=M>>8&255,C[L+3]=255&M;break;case 1:C[L]=255&M,C[L+1]=M>>24&255,C[L+2]=M>>16&255,C[L+3]=M>>8&255}I+=4,L+=4}}return P>0&&(t.dirty=!0),P},Mn.unmultiplyAlpha=function(t){var e=t.buffer.data;if(null!=e){for(var i,n=t.buffer.format,a=e.length/4|0,s=0;s<a;){var r=s++,o=4*r;switch(n){case 2:i=(255&e[o+2])<<24|(255&e[o+1])<<16|(255&e[o])<<8|255&e[o+3];break;case 0:i=(255&e[o])<<24|(255&e[o+1])<<16|(255&e[o+2])<<8|255&e[o+3];break;case 1:i=(255&e[o+1])<<24|(255&e[o+2])<<16|(255&e[o+3])<<8|255&e[o]}if(0!=(255&i)&&255!=(255&i)){Vn.unmult=255/(255&i);var l,_=Math.round((i>>24&255)*Vn.unmult);l=Vn.__clamp[_];var h,c=Math.round((i>>16&255)*Vn.unmult);h=Vn.__clamp[c];var u,d=Math.round((i>>8&255)*Vn.unmult);u=Vn.__clamp[d],i=(255&l)<<24|(255&h)<<16|(255&u)<<8|255&i&255}var m=4*r;switch(n){case 2:e[m]=i>>8&255,e[m+1]=i>>16&255,e[m+2]=i>>24&255,e[m+3]=255&i;break;case 0:e[m]=i>>24&255,e[m+1]=i>>16&255,e[m+2]=i>>8&255,e[m+3]=255&i;break;case 1:e[m]=255&i,e[m+1]=i>>24&255,e[m+2]=i>>16&255,e[m+3]=i>>8&255}}t.buffer.premultiplied=!1,t.dirty=!0}},Mn.__pixelCompare=function(t,e){var i,n;return i=t>>24&255,n=e>>24&255,i!=n?i>n?1:-1:(i=t>>16&255,n=e>>16&255,i!=n?i>n?1:-1:(i=t>>8&255,n=e>>8&255,i!=n?i>n?1:-1:(i=255&t,n=255&e,i!=n?i>n?1:-1:0)))};var Bn=function(t,e){this.image=t,null==e?this.rect=t.get_rect():(e.x<0&&(e.x=0),e.y<0&&(e.y=0),e.x+e.width>t.width&&(e.width=t.width-e.x),e.y+e.height>t.height&&(e.height=t.height-e.y),e.width<0&&(e.width=0),e.height<0&&(e.height=0),this.rect=e),this.stride=t.buffer.get_stride(),this.x=Math.ceil(this.rect.x),this.y=Math.ceil(this.rect.y),this.width=Math.floor(this.rect.width),this.height=Math.floor(this.rect.height),this.offset=this.stride*(this.y+t.offsetY)+4*(this.x+t.offsetX)};s["lime.graphics.utils._ImageDataUtil.ImageDataView"]=Bn,Bn.__name__=["lime","graphics","utils","_ImageDataUtil","ImageDataView"],Bn.prototype={clip:function(t,e,i,n){this.rect.__contract(t,e,i,n),this.x=Math.ceil(this.rect.x),this.y=Math.ceil(this.rect.y),this.width=Math.floor(this.rect.width),this.height=Math.floor(this.rect.height),this.offset=this.stride*(this.y+this.image.offsetY)+4*(this.x+this.image.offsetX)},row:function(t){return this.offset+this.stride*t},__class__:Bn};var Rn={};s["lime.math._ColorMatrix.ColorMatrix_Impl_"]=Rn,Rn.__name__=["lime","math","_ColorMatrix","ColorMatrix_Impl_"],Rn.__properties__={set_redOffset:"set_redOffset",get_redOffset:"get_redOffset",set_redMultiplier:"set_redMultiplier",get_redMultiplier:"get_redMultiplier",set_greenOffset:"set_greenOffset",get_greenOffset:"get_greenOffset",set_greenMultiplier:"set_greenMultiplier",get_greenMultiplier:"get_greenMultiplier",set_color:"set_color",get_color:"get_color",set_blueOffset:"set_blueOffset",get_blueOffset:"get_blueOffset",set_blueMultiplier:"set_blueMultiplier",get_blueMultiplier:"get_blueMultiplier",set_alphaOffset:"set_alphaOffset",get_alphaOffset:"get_alphaOffset",set_alphaMultiplier:"set_alphaMultiplier",get_alphaMultiplier:"get_alphaMultiplier"},Rn._new=function(t){var e;if(null!=t&&20==t.length)e=t;else{var i,n=Rn.__identity;i=null!=n?new Float32Array(n):null,e=i}return e},Rn.clone=function(t){return Rn._new(function(e){var i,n;return n=null!=t?new Float32Array(t):null,i=n}(this))},Rn.concat=function(t,e){var i=t;i[0]=i[0]+e[0];var n=t;n[6]=n[6]+e[6];var a=t;a[12]=a[12]+e[12];var s=t;s[18]=s[18]+e[18]},Rn.copyFrom=function(t,e){t.set(e)},Rn.identity=function(t){t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=0,t[6]=1,t[7]=0,t[8]=0,t[9]=0,t[10]=0,t[11]=0,t[12]=1,t[13]=0,t[14]=0,t[15]=0,t[16]=0,t[17]=0,t[18]=1,t[19]=0},Rn.getAlphaTable=function(t){var e,i;i=new $l(256),e=i;for(var n,a=t[18],s=255*t[19],r=0;r<256;){var o=r++;n=Math.floor(o*a+s),n>255&&(n=255),n<0&&(n=0),e[o]=n}return e},Rn.getBlueTable=function(t){var e,i;i=new $l(256),e=i;for(var n,a=t[12],s=255*t[14],r=0;r<256;){var o=r++;n=Math.floor(o*a+s),n>255&&(n=255),n<0&&(n=0),e[o]=n}return e},Rn.getGreenTable=function(t){var e,i;i=new $l(256),e=i;for(var n,a=t[6],s=255*t[9],r=0;r<256;){var o=r++;n=Math.floor(o*a+s),n>255&&(n=255),n<0&&(n=0),e[o]=n}return e},Rn.getRedTable=function(t){var e,i;i=new $l(256),e=i;for(var n,a=t[0],s=255*t[4],r=0;r<256;){var o=r++;n=Math.floor(o*a+s),n>255&&(n=255),n<0&&(n=0),e[o]=n}return e},Rn.__toFlashColorTransform=function(t){return null},Rn.get_alphaMultiplier=function(t){return t[18]},Rn.set_alphaMultiplier=function(t,e){return t[18]=e},Rn.get_alphaOffset=function(t){return 255*t[19]},Rn.set_alphaOffset=function(t,e){return t[19]=e/255},Rn.get_blueMultiplier=function(t){return t[12]},Rn.set_blueMultiplier=function(t,e){return t[12]=e},Rn.get_blueOffset=function(t){return 255*t[14]},Rn.set_blueOffset=function(t,e){return t[14]=e/255},Rn.get_color=function(t){return(255*t[4]|0)<<16|(255*t[9]|0)<<8|(255*t[14]|0)},Rn.set_color=function(t,e){return t[4]=(e>>16&255)/255,t[9]=(e>>8&255)/255,t[14]=(255&e)/255,t[0]=0,t[6]=0,t[12]=0,Rn.get_color(t)},Rn.get_greenMultiplier=function(t){return t[6]},Rn.set_greenMultiplier=function(t,e){return t[6]=e},Rn.get_greenOffset=function(t){return 255*t[9]},Rn.set_greenOffset=function(t,e){return t[9]=e/255},Rn.get_redMultiplier=function(t){return t[0]},Rn.set_redMultiplier=function(t,e){return t[0]=e},Rn.get_redOffset=function(t){return 255*t[4]},Rn.set_redOffset=function(t,e){return t[4]=e/255},Rn.get=function(t,e){return t[e]},Rn.set=function(t,e,i){return t[e]=i};var Dn=function(t,e,i,n,a,s){null==s&&(s=0),null==a&&(a=0),null==n&&(n=1),null==i&&(i=0),null==e&&(e=0),null==t&&(t=1),this.a=t,this.b=e,this.c=i,this.d=n,this.tx=a,this.ty=s};s["lime.math.Matrix3"]=Dn,Dn.__name__=["lime","math","Matrix3"],Dn.prototype={clone:function(){return new Dn(this.a,this.b,this.c,this.d,this.tx,this.ty)},concat:function(t){var e=this.a*t.a+this.b*t.c;this.b=this.a*t.b+this.b*t.d,this.a=e;var i=this.c*t.a+this.d*t.c;this.d=this.c*t.b+this.d*t.d,this.c=i;var n=this.tx*t.a+this.ty*t.c+t.tx;this.ty=this.tx*t.b+this.ty*t.d+t.ty,this.tx=n},copyColumnFrom:function(t,e){if(t>2)throw new ri("Column "+t+" out of bounds (2)");0==t?(this.a=e.x,this.c=e.y):1==t?(this.b=e.x,this.d=e.y):(this.tx=e.x,this.ty=e.y)},copyColumnTo:function(t,e){if(t>2)throw new ri("Column "+t+" out of bounds (2)");0==t?(e.x=this.a,e.y=this.c,e.z=0):1==t?(e.x=this.b,e.y=this.d,e.z=0):(e.x=this.tx,e.y=this.ty,e.z=1)},copyFrom:function(t){this.a=t.a,this.b=t.b,this.c=t.c,this.d=t.d,this.tx=t.tx,this.ty=t.ty},copyRowFrom:function(t,e){if(t>2)throw new ri("Row "+t+" out of bounds (2)");0==t?(this.a=e.x,this.c=e.y):1==t?(this.b=e.x,this.d=e.y):(this.tx=e.x,this.ty=e.y)},copyRowTo:function(t,e){if(t>2)throw new ri("Row "+t+" out of bounds (2)");0==t?(e.x=this.a,e.y=this.b,e.z=this.tx):1==t?(e.x=this.c,e.y=this.d,e.z=this.ty):(e.x=0,e.y=0,e.z=1)},createBox:function(t,e,i,n,a){null==a&&(a=0),null==n&&(n=0),null==i&&(i=0),this.a=t,this.d=e,this.b=i,this.tx=n,this.ty=a},createGradientBox:function(t,e,i,n,a){if(null==a&&(a=0),null==n&&(n=0),null==i&&(i=0),this.a=t/1638.4,this.d=e/1638.4,0!=i){var s=Math.cos(i),r=Math.sin(i);this.b=r*this.d,this.c=-r*this.a,this.a*=s,this.d*=s}else this.b=0,this.c=0;this.tx=n+t/2,this.ty=a+e/2},equals:function(t){return null!=t&&this.tx==t.tx&&this.ty==t.ty&&this.a==t.a&&this.b==t.b&&this.c==t.c&&this.d==t.d},deltaTransformVector2:function(t){return new Fn(t.x*this.a+t.y*this.c,t.x*this.b+t.y*this.d)},identity:function(){this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0},invert:function(){var t=this.a*this.d-this.b*this.c;if(0==t)this.a=this.b=this.c=this.d=0,this.tx=-this.tx,this.ty=-this.ty;else{t=1/t;var e=this.d*t;this.d=this.a*t,this.a=e,this.b*=-t,this.c*=-t;var i=-this.a*this.tx-this.c*this.ty;this.ty=-this.b*this.tx-this.d*this.ty,this.tx=i}return this},mult:function(t){var e=new Dn(this.a,this.b,this.c,this.d,this.tx,this.ty);return e.concat(t),e},rotate:function(t){var e=Math.cos(t),i=Math.sin(t),n=this.a*e-this.b*i;this.b=this.a*i+this.b*e,this.a=n;var a=this.c*e-this.d*i;this.d=this.c*i+this.d*e,this.c=a;var s=this.tx*e-this.ty*i;this.ty=this.tx*i+this.ty*e,this.tx=s},scale:function(t,e){this.a*=t,this.b*=e,this.c*=t,this.d*=e,this.tx*=t,this.ty*=e},setRotation:function(t,e){null==e&&(e=1),this.a=Math.cos(t)*e,this.c=Math.sin(t)*e,this.b=-this.c,this.d=this.a},setTo:function(t,e,i,n,a,s){this.a=t,this.b=e,this.c=i,this.d=n,this.tx=a,this.ty=s},to3DString:function(t){return null==t&&(t=!1),t?"Matrix33d("+this.a+", "+this.b+", 0, 0, "+this.c+", "+this.d+", 0, 0, 0, 0, 1, 0, "+(0|this.tx)+", "+(0|this.ty)+", 0, 1)":"Matrix33d("+this.a+", "+this.b+", 0, 0, "+this.c+", "+this.d+", 0, 0, 0, 0, 1, 0, "+this.tx+", "+this.ty+", 0, 1)"},toMozString:function(){return"Matrix3("+this.a+", "+this.b+", "+this.c+", "+this.d+", "+this.tx+"px, "+this.ty+"px)"},toString:function(){return"Matrix3("+this.a+", "+this.b+", "+this.c+", "+this.d+", "+this.tx+", "+this.ty+")"},transformVector2:function(t){return new Fn(t.x*this.a+t.y*this.c+this.tx,t.x*this.b+t.y*this.d+this.ty)},translate:function(t,e){this.tx+=t,this.ty+=e},__cleanValues:function(){this.a=Math.round(1e3*this.a)/1e3,this.b=Math.round(1e3*this.b)/1e3,this.c=Math.round(1e3*this.c)/1e3,this.d=Math.round(1e3*this.d)/1e3,this.tx=Math.round(10*this.tx)/10,this.ty=Math.round(10*this.ty)/10},__transformX:function(t){return t.x*this.a+t.y*this.c+this.tx},__transformY:function(t){return t.x*this.b+t.y*this.d+this.ty},__translateTransformed:function(t){this.tx=t.x*this.a+t.y*this.c+this.tx,this.ty=t.x*this.b+t.y*this.d+this.ty},__class__:Dn};var Pn={};s["lime.math._Matrix4.Matrix4_Impl_"]=Pn,Pn.__name__=["lime","math","_Matrix4","Matrix4_Impl_"],Pn.__properties__={set_position:"set_position",get_position:"get_position",get_determinant:"get_determinant"},Pn._new=function(t){var e;if(null!=t&&16==t.length)e=t;else{var i,n=Pn.__identity;i=null!=n?new Float32Array(n):null,e=i}return e},Pn.append=function(t,e){var i=t[0],n=t[4],a=t[8],s=t[12],r=t[1],o=t[5],l=t[9],_=t[13],h=t[2],c=t[6],u=t[10],d=t[14],m=t[3],f=t[7],p=t[11],g=t[15],v=Pn.get(e,0),y=Pn.get(e,4),x=Pn.get(e,8),b=Pn.get(e,12),w=Pn.get(e,1),T=Pn.get(e,5),A=Pn.get(e,9),E=Pn.get(e,13),S=Pn.get(e,2),C=Pn.get(e,6),I=Pn.get(e,10),L=Pn.get(e,14),M=Pn.get(e,3),B=Pn.get(e,7),R=Pn.get(e,11),D=Pn.get(e,15);t[0]=i*v+r*y+h*x+m*b,t[1]=i*w+r*T+h*A+m*E,t[2]=i*S+r*C+h*I+m*L,t[3]=i*M+r*B+h*R+m*D,t[4]=n*v+o*y+c*x+f*b,t[5]=n*w+o*T+c*A+f*E,t[6]=n*S+o*C+c*I+f*L,t[7]=n*M+o*B+c*R+f*D,t[8]=a*v+l*y+u*x+p*b,t[9]=a*w+l*T+u*A+p*E,t[10]=a*S+l*C+u*I+p*L,t[11]=a*M+l*B+u*R+p*D,t[12]=s*v+_*y+d*x+g*b,t[13]=s*w+_*T+d*A+g*E,t[14]=s*S+_*C+d*I+g*L,t[15]=s*M+_*B+d*R+g*D},Pn.appendRotation=function(t,e,i,n){var a=Pn.getAxisRotation(i.x,i.y,i.z,e);if(null!=n){var s=n;Pn.appendTranslation(a,s.x,s.y,s.z)}Pn.append(t,a)},Pn.appendScale=function(t,e,i,n){Pn.append(t,Pn._new(function(t){var a,s,r=[e,0,0,0,0,i,0,0,0,0,n,0,0,0,0,1];return s=null!=r?new Float32Array(r):null,a=s}(this)))},Pn.appendTranslation=function(t,e,i,n){t[12]=t[12]+e,t[13]=t[13]+i,t[14]=t[14]+n},Pn.clone=function(t){return Pn._new(function(e){var i,n;return n=null!=t?new Float32Array(t):null,i=n}(this))},Pn.copyColumnFrom=function(t,e,i){switch(e){case 0:t[0]=i.x,t[1]=i.y,t[2]=i.z,t[3]=i.w;break;case 1:t[4]=i.x,t[5]=i.y,t[6]=i.z,t[7]=i.w;break;case 2:t[8]=i.x,t[9]=i.y,t[10]=i.z,t[11]=i.w;break;case 3:t[12]=i.x,t[13]=i.y,t[14]=i.z,t[15]=i.w;break;default:throw new ri("Error, Column "+e+" out of bounds [0, ..., 3]")}},Pn.copyColumnTo=function(t,e,i){switch(e){case 0:i.x=t[0],i.y=t[1],i.z=t[2],i.w=t[3];break;case 1:i.x=t[4],i.y=t[5],i.z=t[6],i.w=t[7];break;case 2:i.x=t[8],i.y=t[9],i.z=t[10],i.w=t[11];break;case 3:i.x=t[12],i.y=t[13],i.z=t[14],i.w=t[15];break;default:throw new ri("Error, Column "+e+" out of bounds [0, ..., 3]")}},Pn.copyFrom=function(t,e){t.set(e)},Pn.copythisFrom=function(t,e,i,n){null==n&&(n=!1),null==i&&(i=0),n&&Pn.transpose(t);for(var a=e.length-i,s=0;s<a;){var r=s++;t[r]=e[r+i]}n&&Pn.transpose(t)},Pn.copythisTo=function(t,e,i,n){null==n&&(n=!1),null==i&&(i=0),n&&Pn.transpose(t);for(var a=t.length,s=0;s<a;){var r=s++;e[r+i]=t[r]}n&&Pn.transpose(t)},Pn.copyRowFrom=function(t,e,i){switch(e){case 0:t[0]=i.x,t[4]=i.y,t[8]=i.z,t[12]=i.w;break;case 1:t[1]=i.x,t[5]=i.y,t[9]=i.z,t[13]=i.w;break;case 2:t[2]=i.x,t[6]=i.y,t[10]=i.z,t[14]=i.w;break;case 3:t[3]=i.x,t[7]=i.y,t[11]=i.z,t[15]=i.w;break;default:throw new ri("Error, Row "+G.string(Z.toFloat(e))+" out of bounds [0, ..., 3]")}},Pn.create2D=function(t,e,i,n){null==n&&(n=0),null==i&&(i=1);var a=n*Math.PI/180,s=Math.cos(a),r=Math.sin(a);return Pn._new(function(n){var a,o,l=[s*i,-r*i,0,0,r*i,s*i,0,0,0,0,1,0,t,e,0,1];return o=null!=l?new Float32Array(l):null,a=o}(this))},Pn.createABCD=function(t,e,i,n,a,s){return Pn._new(function(r){var o,l,_=[t,e,0,0,i,n,0,0,0,0,1,0,a,s,0,1];return l=null!=_?new Float32Array(_):null,o=l}(this))},Pn.createOrtho=function(t,e,i,n,a,s){var r=1/(e-t),o=1/(n-i),l=1/(s-a);return Pn._new(function(_){var h,c,u=[2*r,0,0,0,0,2*o,0,0,0,0,-2*l,0,-(t+e)*r,-(i+n)*o,-(a+s)*l,1];return c=null!=u?new Float32Array(u):null,h=c}(this))},Pn.copyRowTo=function(t,e,i){switch(e){case 0:i.x=t[0],i.y=t[4],i.z=t[8],i.w=t[12];break;case 1:i.x=t[1],i.y=t[5],i.z=t[9],i.w=t[13];break;case 2:i.x=t[2],i.y=t[6],i.z=t[10],i.w=t[14];break;case 3:i.x=t[3],i.y=t[7],i.z=t[11],i.w=t[15];break;default:throw new ri("Error, Row "+e+" out of bounds [0, ..., 3]")}},Pn.copyToMatrix4=function(t,e){oi.__cast(e,Float32Array).set(t)},Pn.deltaTransformVector=function(t,e){var i=e.x,n=e.y,a=e.z;return new kn(i*t[0]+n*t[4]+a*t[8]+t[3],i*t[1]+n*t[5]+a*t[9]+t[7],i*t[2]+n*t[6]+a*t[10]+t[11],0)},Pn.identity=function(t){t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1},Pn.interpolate=function(t,e,i){for(var n=Pn._new(),a=0;a<16;){var s=a++;Pn.set(n,s,Pn.get(t,s)+(Pn.get(e,s)-Pn.get(t,s))*i)}return n},Pn.interpolateTo=function(t,e,i){for(var n=0;n<16;){var a=n++,s=t[a]+(Pn.get(e,a)-t[a])*i;t[a]=s}},Pn.invert=function(t){var e=Pn.get_determinant(t),i=Math.abs(e)>1e-11;if(i){e=1/e;var n=t[0],a=t[4],s=t[8],r=t[12],o=t[1],l=t[5],_=t[9],h=t[13],c=t[2],u=t[6],d=t[10],m=t[14],f=t[3],p=t[7],g=t[11],v=t[15];t[0]=e*(l*(d*v-m*g)-_*(u*v-m*p)+h*(u*g-d*p)),t[1]=-e*(o*(d*v-m*g)-_*(c*v-m*f)+h*(c*g-d*f)),t[2]=e*(o*(u*v-m*p)-l*(c*v-m*f)+h*(c*p-u*f)),t[3]=-e*(o*(u*g-d*p)-l*(c*g-d*f)+_*(c*p-u*f)),t[4]=-e*(a*(d*v-m*g)-s*(u*v-m*p)+r*(u*g-d*p)),t[5]=e*(n*(d*v-m*g)-s*(c*v-m*f)+r*(c*g-d*f)),t[6]=-e*(n*(u*v-m*p)-a*(c*v-m*f)+r*(c*p-u*f)),t[7]=e*(n*(u*g-d*p)-a*(c*g-d*f)+s*(c*p-u*f)),t[8]=e*(a*(_*v-h*g)-s*(l*v-h*p)+r*(l*g-_*p)),t[9]=-e*(n*(_*v-h*g)-s*(o*v-h*f)+r*(o*g-_*f)),t[10]=e*(n*(l*v-h*p)-a*(o*v-h*f)+r*(o*p-l*f)),t[11]=-e*(n*(l*g-_*p)-a*(o*g-_*f)+s*(o*p-l*f)),t[12]=-e*(a*(_*m-h*d)-s*(l*m-h*u)+r*(l*d-_*u)),t[13]=e*(n*(_*m-h*d)-s*(o*m-h*c)+r*(o*d-_*c)),t[14]=-e*(n*(l*m-h*u)-a*(o*m-h*c)+r*(o*u-l*c)),t[15]=e*(n*(l*d-_*u)-a*(o*d-_*c)+s*(o*u-l*c))}return i},Pn.pointAt=function(t,e,i,n){null==i&&(i=new kn(0,0,(-1))),null==n&&(n=new kn(0,(-1),0));var a,s=new kn(i.x-e.x,i.y-e.y,i.z-e.z),r=new kn(n.x,n.y,n.z,n.w);s.normalize(),r.normalize();var o=new kn(s.x,s.y,s.z,s.w);o.scaleBy(r.x*s.x+r.y*s.y+r.z*s.z),r=new kn(r.x-o.x,r.y-o.y,r.z-o.z),Math.sqrt(r.x*r.x+r.y*r.y+r.z*r.z)>0?r.normalize():r=0!=s.x?new kn((-s.y),s.x,0):new kn(1,0,0),a=new kn(r.y*s.z-r.z*s.y,r.z*s.x-r.x*s.z,r.x*s.y-r.y*s.x,1),a.normalize(),t[0]=a.x,t[4]=a.y,t[8]=a.z,t[12]=0,t[1]=r.x,t[5]=r.y,t[9]=r.z,t[13]=0,t[2]=s.x,t[6]=s.y,t[10]=s.z,t[14]=0,t[3]=e.x,t[7]=e.y,t[11]=e.z,t[15]=1},Pn.prepend=function(t,e){var i=Pn.get(e,0),n=Pn.get(e,4),a=Pn.get(e,8),s=Pn.get(e,12),r=Pn.get(e,1),o=Pn.get(e,5),l=Pn.get(e,9),_=Pn.get(e,13),h=Pn.get(e,2),c=Pn.get(e,6),u=Pn.get(e,10),d=Pn.get(e,14),m=Pn.get(e,3),f=Pn.get(e,7),p=Pn.get(e,11),g=Pn.get(e,15),v=t[0],y=t[4],x=t[8],b=t[12],w=t[1],T=t[5],A=t[9],E=t[13],S=t[2],C=t[6],I=t[10],L=t[14],M=t[3],B=t[7],R=t[11],D=t[15];t[0]=i*v+r*y+h*x+m*b,t[1]=i*w+r*T+h*A+m*E,t[2]=i*S+r*C+h*I+m*L,t[3]=i*M+r*B+h*R+m*D,t[4]=n*v+o*y+c*x+f*b,t[5]=n*w+o*T+c*A+f*E,t[6]=n*S+o*C+c*I+f*L,t[7]=n*M+o*B+c*R+f*D,t[8]=a*v+l*y+u*x+p*b,t[9]=a*w+l*T+u*A+p*E,t[10]=a*S+l*C+u*I+p*L,t[11]=a*M+l*B+u*R+p*D,t[12]=s*v+_*y+d*x+g*b,t[13]=s*w+_*T+d*A+g*E,t[14]=s*S+_*C+d*I+g*L,t[15]=s*M+_*B+d*R+g*D},Pn.prependRotation=function(t,e,i,n){var a=Pn.getAxisRotation(i.x,i.y,i.z,e);if(null!=n){var s=n;Pn.appendTranslation(a,s.x,s.y,s.z)}Pn.prepend(t,a)},Pn.prependScale=function(t,e,i,n){Pn.prepend(t,Pn._new(function(t){var a,s,r=[e,0,0,0,0,i,0,0,0,0,n,0,0,0,0,1];return s=null!=r?new Float32Array(r):null,a=s}(this)))},Pn.prependTranslation=function(t,e,i,n){var a=Pn._new();Pn.set_position(a,new kn(e,i,n)),Pn.prepend(t,a)},Pn.transformVector=function(t,e){var i=e.x,n=e.y,a=e.z;return new kn(i*t[0]+n*t[4]+a*t[8]+t[12],i*t[1]+n*t[5]+a*t[9]+t[13],i*t[2]+n*t[6]+a*t[10]+t[14],i*t[3]+n*t[7]+a*t[11]+t[15])},Pn.transformVectors=function(t,e,i){for(var n=0;n+3<=e.length;){var a=e[n],s=e[n+1],r=e[n+2];i[n]=a*t[0]+s*t[4]+r*t[8]+t[12],i[n+1]=a*t[1]+s*t[5]+r*t[9]+t[13],i[n+2]=a*t[2]+s*t[6]+r*t[10]+t[14],n+=3}},Pn.transpose=function(t){var e,i;i=null!=t?new Float32Array(t):null,e=i,t[1]=e[4],t[2]=e[8],t[3]=e[12],t[4]=e[1],t[6]=e[9],t[7]=e[13],t[8]=e[2],t[9]=e[6],t[11]=e[14],t[12]=e[3],t[13]=e[7],t[14]=e[11]},Pn.getAxisRotation=function(t,e,i,n){var a=Pn._new(),s=new kn(t,e,i),r=-n*(Math.PI/180),o=Math.cos(r),l=Math.sin(r),_=1-o;Pn.set(a,0,o+s.x*s.x*_),Pn.set(a,5,o+s.y*s.y*_),Pn.set(a,10,o+s.z*s.z*_);var h=s.x*s.y*_,c=s.z*l;return Pn.set(a,4,h+c),Pn.set(a,1,h-c),h=s.x*s.z*_,c=s.y*l,Pn.set(a,8,h-c),Pn.set(a,2,h+c),h=s.y*s.z*_,c=s.x*l,Pn.set(a,9,h+c),Pn.set(a,6,h-c),a},Pn.get_determinant=function(t){return(t[0]*t[5]-t[4]*t[1])*(t[10]*t[15]-t[14]*t[11])-(t[0]*t[9]-t[8]*t[1])*(t[6]*t[15]-t[14]*t[7])+(t[0]*t[13]-t[12]*t[1])*(t[6]*t[11]-t[10]*t[7])+(t[4]*t[9]-t[8]*t[5])*(t[2]*t[15]-t[14]*t[3])-(t[4]*t[13]-t[12]*t[5])*(t[2]*t[11]-t[10]*t[3])+(t[8]*t[13]-t[12]*t[9])*(t[2]*t[7]-t[6]*t[3])},Pn.get_position=function(t){return new kn(t[12],t[13],t[14])},Pn.set_position=function(t,e){return t[12]=e.x,t[13]=e.y,t[14]=e.z,e},Pn.get=function(t,e){return t[e]},Pn.set=function(t,e,i){return t[e]=i,i};var Nn=function(t,e,i,n){null==n&&(n=0),null==i&&(i=0),null==e&&(e=0),null==t&&(t=0),this.x=t,this.y=e,this.width=i,this.height=n};s["lime.math.Rectangle"]=Nn,Nn.__name__=["lime","math","Rectangle"],Nn.prototype={clone:function(){return new Nn(this.x,this.y,this.width,this.height)},contains:function(t,e){return t>=this.x&&e>=this.y&&t<this.get_right()&&e<this.get_bottom()},containsPoint:function(t){return this.contains(t.x,t.y)},containsRect:function(t){return t.width<=0||t.height<=0?t.x>this.x&&t.y>this.y&&t.get_right()<this.get_right()&&t.get_bottom()<this.get_bottom():t.x>=this.x&&t.y>=this.y&&t.get_right()<=this.get_right()&&t.get_bottom()<=this.get_bottom()},copyFrom:function(t){this.x=t.x,this.y=t.y,this.width=t.width,this.height=t.height},equals:function(t){return null!=t&&this.x==t.x&&this.y==t.y&&this.width==t.width&&this.height==t.height},inflate:function(t,e){this.x-=t,this.width+=2*t,this.y-=e,this.height+=2*e},inflatePoint:function(t){this.inflate(t.x,t.y)},intersection:function(t){var e;e=this.x<t.x?t.x:this.x;var i;if(i=this.get_right()>t.get_right()?t.get_right():this.get_right(),i<=e)return new Nn;var n;n=this.y<t.y?t.y:this.y;var a;return a=this.get_bottom()>t.get_bottom()?t.get_bottom():this.get_bottom(),a<=n?new Nn:new Nn(e,n,i-e,a-n)},intersects:function(t){var e;e=this.x<t.x?t.x:this.x;var i;if(i=this.get_right()>t.get_right()?t.get_right():this.get_right(),i<=e)return!1;var n;n=this.y<t.y?t.y:this.y;var a;return a=this.get_bottom()>t.get_bottom()?t.get_bottom():this.get_bottom(),a>n},isEmpty:function(){return this.width<=0||this.height<=0},offset:function(t,e){this.x+=t,this.y+=e},offsetPoint:function(t){this.x+=t.x,this.y+=t.y},setEmpty:function(){this.x=this.y=this.width=this.height=0},setTo:function(t,e,i,n){this.x=t,this.y=e,this.width=i,this.height=n},transform:function(t){var e=t.a*this.x+t.c*this.y,i=e,n=t.b*this.x+t.d*this.y,a=n,s=t.a*(this.x+this.width)+t.c*this.y,r=t.b*(this.x+this.width)+t.d*this.y;return s<e&&(e=s),r<n&&(n=r),s>i&&(i=s),r>a&&(a=r),s=t.a*(this.x+this.width)+t.c*(this.y+this.height),r=t.b*(this.x+this.width)+t.d*(this.y+this.height),
s<e&&(e=s),r<n&&(n=r),s>i&&(i=s),r>a&&(a=r),s=t.a*this.x+t.c*(this.y+this.height),r=t.b*this.x+t.d*(this.y+this.height),s<e&&(e=s),r<n&&(n=r),s>i&&(i=s),r>a&&(a=r),new Nn(e+t.tx,n+t.ty,i-e,a-n)},union:function(t){if(0==this.width||0==this.height)return t.clone();if(0==t.width||0==t.height)return this.clone();var e;e=this.x>t.x?t.x:this.x;var i;i=this.get_right()<t.get_right()?t.get_right():this.get_right();var n;n=this.y>t.y?t.y:this.y;var a;return a=this.get_bottom()<t.get_bottom()?t.get_bottom():this.get_bottom(),new Nn(e,n,i-e,a-n)},__contract:function(t,e,i,n){0==this.width&&0==this.height||(this.x<t&&(this.x=t),this.y<e&&(this.y=e),this.get_right()>t+i&&(this.width=t+i-this.x),this.get_bottom()>e+n&&(this.height=e+n-this.y))},__expand:function(t,e,i,n){if(0==this.width&&0==this.height)return this.x=t,this.y=e,this.width=i,void(this.height=n);var a=this.get_right(),s=this.get_bottom();this.x>t&&(this.x=t),this.y>e&&(this.y=e),a<t+i&&(this.width=t+i-this.x),s<e+n&&(this.height=e+n-this.y)},__toFlashRectangle:function(){return null},get_bottom:function(){return this.y+this.height},set_bottom:function(t){return this.height=t-this.y,t},get_bottomRight:function(){return new Fn(this.x+this.width,this.y+this.height)},set_bottomRight:function(t){return this.width=t.x-this.x,this.height=t.y-this.y,t.clone()},get_left:function(){return this.x},set_left:function(t){return this.width-=t-this.x,this.x=t,t},get_right:function(){return this.x+this.width},set_right:function(t){return this.width=t-this.x,t},get_size:function(){return new Fn(this.width,this.height)},set_size:function(t){return this.width=t.x,this.height=t.y,t.clone()},get_top:function(){return this.y},set_top:function(t){return this.height-=t-this.y,this.y=t,t},get_topLeft:function(){return new Fn(this.x,this.y)},set_topLeft:function(t){return this.x=t.x,this.y=t.y,t.clone()},__class__:Nn,__properties__:{set_topLeft:"set_topLeft",get_topLeft:"get_topLeft",set_top:"set_top",get_top:"get_top",set_size:"set_size",get_size:"get_size",set_right:"set_right",get_right:"get_right",set_left:"set_left",get_left:"get_left",set_bottomRight:"set_bottomRight",get_bottomRight:"get_bottomRight",set_bottom:"set_bottom",get_bottom:"get_bottom"}};var Fn=function(t,e){null==e&&(e=0),null==t&&(t=0),this.x=t,this.y=e};s["lime.math.Vector2"]=Fn,Fn.__name__=["lime","math","Vector2"],Fn.distance=function(t,e){var i=t.x-e.x,n=t.y-e.y;return Math.sqrt(i*i+n*n)},Fn.interpolate=function(t,e,i){return new Fn(e.x+i*(t.x-e.x),e.y+i*(t.y-e.y))},Fn.polar=function(t,e){return new Fn(t*Math.cos(e),t*Math.sin(e))},Fn.prototype={add:function(t){return new Fn(t.x+this.x,t.y+this.y)},clone:function(){return new Fn(this.x,this.y)},equals:function(t){return null!=t&&t.x==this.x&&t.y==this.y},normalize:function(t){if(0!=this.x||0!=this.y){var e=t/Math.sqrt(this.x*this.x+this.y*this.y);this.x*=e,this.y*=e}},offset:function(t,e){this.x+=t,this.y+=e},setTo:function(t,e){this.x=t,this.y=e},subtract:function(t){return new Fn(this.x-t.x,this.y-t.y)},__toFlashPoint:function(){return null},get_length:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},__class__:Fn,__properties__:{get_length:"get_length"}};var kn=function(t,e,i,n){null==n&&(n=0),null==i&&(i=0),null==e&&(e=0),null==t&&(t=0),this.w=n,this.x=t,this.y=e,this.z=i};s["lime.math.Vector4"]=kn,kn.__name__=["lime","math","Vector4"],kn.__properties__={get_Z_AXIS:"get_Z_AXIS",get_Y_AXIS:"get_Y_AXIS",get_X_AXIS:"get_X_AXIS"},kn.X_AXIS=null,kn.Y_AXIS=null,kn.Z_AXIS=null,kn.angleBetween=function(t,e){var i=new kn(t.x,t.y,t.z,t.w);i.normalize();var n=new kn(e.x,e.y,e.z,e.w);return n.normalize(),Math.acos(i.x*n.x+i.y*n.y+i.z*n.z)},kn.distance=function(t,e){var i=e.x-t.x,n=e.y-t.y,a=e.z-t.z;return Math.sqrt(i*i+n*n+a*a)},kn.get_X_AXIS=function(){return new kn(1,0,0)},kn.get_Y_AXIS=function(){return new kn(0,1,0)},kn.get_Z_AXIS=function(){return new kn(0,0,1)},kn.prototype={add:function(t){return new kn(this.x+t.x,this.y+t.y,this.z+t.z)},clone:function(){return new kn(this.x,this.y,this.z,this.w)},copyFrom:function(t){this.x=t.x,this.y=t.y,this.z=t.z},crossProduct:function(t){return new kn(this.y*t.z-this.z*t.y,this.z*t.x-this.x*t.z,this.x*t.y-this.y*t.x,1)},decrementBy:function(t){this.x-=t.x,this.y-=t.y,this.z-=t.z},dotProduct:function(t){return this.x*t.x+this.y*t.y+this.z*t.z},equals:function(t,e){return null==e&&(e=!1),this.x==t.x&&this.y==t.y&&this.z==t.z&&(!e||this.w==t.w)},incrementBy:function(t){this.x+=t.x,this.y+=t.y,this.z+=t.z},nearEquals:function(t,e,i){return null==i&&(i=!1),Math.abs(this.x-t.x)<e&&Math.abs(this.y-t.y)<e&&Math.abs(this.z-t.z)<e&&(!i||Math.abs(this.w-t.w)<e)},negate:function(){this.x*=-1,this.y*=-1,this.z*=-1},normalize:function(){var t=Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z);return 0!=t&&(this.x/=t,this.y/=t,this.z/=t),t},project:function(){this.x/=this.w,this.y/=this.w,this.z/=this.w},scaleBy:function(t){this.x*=t,this.y*=t,this.z*=t},setTo:function(t,e,i){this.x=t,this.y=e,this.z=i},subtract:function(t){return new kn(this.x-t.x,this.y-t.y,this.z-t.z)},toString:function(){return"Vector4("+this.x+", "+this.y+", "+this.z+")"},get_length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)},get_lengthSquared:function(){return this.x*this.x+this.y*this.y+this.z*this.z},__class__:kn,__properties__:{get_lengthSquared:"get_lengthSquared",get_length:"get_length"}};var On={};s["lime.math.color._ARGB.ARGB_Impl_"]=On,On.__name__=["lime","math","color","_ARGB","ARGB_Impl_"],On.__properties__={set_r:"set_r",get_r:"get_r",set_g:"set_g",get_g:"get_g",set_b:"set_b",get_b:"get_b",set_a:"set_a",get_a:"get_a"},On.a16=null,On.unmult=null,On._new=function(t){return null==t&&(t=0),t},On.create=function(t,e,i,n){var a=0;return a=(255&t)<<24|(255&e)<<16|(255&i)<<8|255&n},On.multiplyAlpha=function(t){0==(t>>24&255)?t=0:255!=(t>>24&255)&&(On.a16=Vn.__alpha16[t>>24&255],t=(t>>24&255&255)<<24|((t>>16&255)*On.a16>>16&255)<<16|((t>>8&255)*On.a16>>16&255)<<8|(255&t)*On.a16>>16&255)},On.readUInt8=function(t,e,i,n,a){switch(null==a&&(a=!1),null==n&&(n=0),n){case 2:t=(255&e[i+1])<<24|(255&e[i])<<16|(255&e[i+3])<<8|255&e[i+2];break;case 0:t=(255&e[i+1])<<24|(255&e[i+2])<<16|(255&e[i+3])<<8|255&e[i];break;case 1:t=(255&e[i+2])<<24|(255&e[i+3])<<16|(255&e[i])<<8|255&e[i+1]}if(a&&0!=(t>>24&255)&&255!=(t>>24&255)){On.unmult=255/(t>>24&255);var s,r=Math.floor((t>>16&255)*On.unmult);s=Vn.__clamp[r];var o,l=Math.floor((t>>8&255)*On.unmult);o=Vn.__clamp[l];var _,h=Math.floor((255&t)*On.unmult);_=Vn.__clamp[h],t=(t>>24&255&255)<<24|(255&s)<<16|(255&o)<<8|255&_}},On.set=function(t,e,i,n,a){t=(255&e)<<24|(255&i)<<16|(255&n)<<8|255&a},On.unmultiplyAlpha=function(t){if(0!=(t>>24&255)&&255!=(t>>24&255)){On.unmult=255/(t>>24&255);var e,i=Math.floor((t>>16&255)*On.unmult);e=Vn.__clamp[i];var n,a=Math.floor((t>>8&255)*On.unmult);n=Vn.__clamp[a];var s,r=Math.floor((255&t)*On.unmult);s=Vn.__clamp[r],t=(t>>24&255&255)<<24|(255&e)<<16|(255&n)<<8|255&s}},On.writeUInt8=function(t,e,i,n,a){switch(null==a&&(a=!1),null==n&&(n=0),a&&(0==(t>>24&255)?t=0:255!=(t>>24&255)&&(On.a16=Vn.__alpha16[t>>24&255],t=(t>>24&255&255)<<24|((t>>16&255)*On.a16>>16&255)<<16|((t>>8&255)*On.a16>>16&255)<<8|(255&t)*On.a16>>16&255)),n){case 2:e[i]=255&t,e[i+1]=t>>8&255,e[i+2]=t>>16&255,e[i+3]=t>>24&255;break;case 0:e[i]=t>>16&255,e[i+1]=t>>8&255,e[i+2]=255&t,e[i+3]=t>>24&255;break;case 1:e[i]=t>>24&255,e[i+1]=t>>16&255,e[i+2]=t>>8&255,e[i+3]=255&t}},On.__fromBGRA=function(t){var e=0;return e=(255&t&255)<<24|(t>>8&255&255)<<16|(t>>16&255&255)<<8|t>>24&255&255},On.__fromRGBA=function(t){var e=0;return e=(255&t&255)<<24|(t>>24&255&255)<<16|(t>>16&255&255)<<8|t>>8&255&255},On.get_a=function(t){return t>>24&255},On.set_a=function(t,e){return t=(255&e)<<24|(t>>16&255&255)<<16|(t>>8&255&255)<<8|255&t&255,e},On.get_b=function(t){return 255&t},On.set_b=function(t,e){return t=(t>>24&255&255)<<24|(t>>16&255&255)<<16|(t>>8&255&255)<<8|255&e,e},On.get_g=function(t){return t>>8&255},On.set_g=function(t,e){return t=(t>>24&255&255)<<24|(t>>16&255&255)<<16|(255&e)<<8|255&t&255,e},On.get_r=function(t){return t>>16&255},On.set_r=function(t,e){return t=(t>>24&255&255)<<24|(255&e)<<16|(t>>8&255&255)<<8|255&t&255,e};var Un={};s["lime.math.color._BGRA.BGRA_Impl_"]=Un,Un.__name__=["lime","math","color","_BGRA","BGRA_Impl_"],Un.__properties__={set_r:"set_r",get_r:"get_r",set_g:"set_g",get_g:"get_g",set_b:"set_b",get_b:"get_b",set_a:"set_a",get_a:"get_a"},Un.a16=null,Un.unmult=null,Un._new=function(t){return null==t&&(t=0),t},Un.create=function(t,e,i,n){var a=0;return a=(255&t)<<24|(255&e)<<16|(255&i)<<8|255&n},Un.multiplyAlpha=function(t){0==(255&t)?t=0:255!=(255&t)&&(Un.a16=Vn.__alpha16[255&t],t=((t>>24&255)*Un.a16>>16&255)<<24|((t>>16&255)*Un.a16>>16&255)<<16|((t>>8&255)*Un.a16>>16&255)<<8|255&t&255)},Un.readUInt8=function(t,e,i,n,a){switch(null==a&&(a=!1),null==n&&(n=0),n){case 2:t=(255&e[i])<<24|(255&e[i+1])<<16|(255&e[i+2])<<8|255&e[i+3];break;case 0:t=(255&e[i+2])<<24|(255&e[i+1])<<16|(255&e[i])<<8|255&e[i+3];break;case 1:t=(255&e[i+3])<<24|(255&e[i+2])<<16|(255&e[i+1])<<8|255&e[i]}if(a&&0!=(255&t)&&255!=(255&t)){Un.unmult=255/(255&t);var s,r=Math.floor((t>>24&255)*Un.unmult);s=Vn.__clamp[r];var o,l=Math.floor((t>>16&255)*Un.unmult);o=Vn.__clamp[l];var _,h=Math.floor((t>>8&255)*Un.unmult);_=Vn.__clamp[h],t=(255&s)<<24|(255&o)<<16|(255&_)<<8|255&t&255}},Un.set=function(t,e,i,n,a){t=(255&e)<<24|(255&i)<<16|(255&n)<<8|255&a},Un.unmultiplyAlpha=function(t){if(0!=(255&t)&&255!=(255&t)){Un.unmult=255/(255&t);var e,i=Math.floor((t>>24&255)*Un.unmult);e=Vn.__clamp[i];var n,a=Math.floor((t>>16&255)*Un.unmult);n=Vn.__clamp[a];var s,r=Math.floor((t>>8&255)*Un.unmult);s=Vn.__clamp[r],t=(255&e)<<24|(255&n)<<16|(255&s)<<8|255&t&255}},Un.writeUInt8=function(t,e,i,n,a){switch(null==a&&(a=!1),null==n&&(n=0),a&&(0==(255&t)?t=0:255!=(255&t)&&(Un.a16=Vn.__alpha16[255&t],t=((t>>24&255)*Un.a16>>16&255)<<24|((t>>16&255)*Un.a16>>16&255)<<16|((t>>8&255)*Un.a16>>16&255)<<8|255&t&255)),n){case 2:e[i]=t>>24&255,e[i+1]=t>>16&255,e[i+2]=t>>8&255,e[i+3]=255&t;break;case 0:e[i]=t>>8&255,e[i+1]=t>>16&255,e[i+2]=t>>24&255,e[i+3]=255&t;break;case 1:e[i]=255&t,e[i+1]=t>>8&255,e[i+2]=t>>16&255,e[i+3]=t>>24&255}},Un.__fromARGB=function(t){var e=0;return e=(255&t&255)<<24|(t>>8&255&255)<<16|(t>>16&255&255)<<8|t>>24&255&255},Un.__fromRGBA=function(t){var e=0;return e=(t>>8&255&255)<<24|(t>>16&255&255)<<16|(t>>24&255&255)<<8|255&t&255},Un.get_a=function(t){return 255&t},Un.set_a=function(t,e){return t=(t>>24&255&255)<<24|(t>>16&255&255)<<16|(t>>8&255&255)<<8|255&e,e},Un.get_b=function(t){return t>>24&255},Un.set_b=function(t,e){return t=(255&e)<<24|(t>>16&255&255)<<16|(t>>8&255&255)<<8|255&t&255,e},Un.get_g=function(t){return t>>16&255},Un.set_g=function(t,e){return t=(t>>24&255&255)<<24|(255&e)<<16|(t>>8&255&255)<<8|255&t&255,e},Un.get_r=function(t){return t>>8&255},Un.set_r=function(t,e){return t=(t>>24&255&255)<<24|(t>>16&255&255)<<16|(255&e)<<8|255&t&255,e};var Vn={};s["lime.math.color._RGBA.RGBA_Impl_"]=Vn,Vn.__name__=["lime","math","color","_RGBA","RGBA_Impl_"],Vn.__properties__={set_r:"set_r",get_r:"get_r",set_g:"set_g",get_g:"get_g",set_b:"set_b",get_b:"get_b",set_a:"set_a",get_a:"get_a"},Vn.__alpha16=null,Vn.__clamp=null,Vn.a16=null,Vn.unmult=null,Vn._new=function(t){return null==t&&(t=0),t},Vn.create=function(t,e,i,n){var a=0;return a=(255&t)<<24|(255&e)<<16|(255&i)<<8|255&n},Vn.multiplyAlpha=function(t){0==(255&t)?0!=t&&(t=0):255!=(255&t)&&(Vn.a16=Vn.__alpha16[255&t],t=((t>>24&255)*Vn.a16>>16&255)<<24|((t>>16&255)*Vn.a16>>16&255)<<16|((t>>8&255)*Vn.a16>>16&255)<<8|255&t&255)},Vn.readUInt8=function(t,e,i,n,a){switch(null==a&&(a=!1),null==n&&(n=0),n){case 2:t=(255&e[i+2])<<24|(255&e[i+1])<<16|(255&e[i])<<8|255&e[i+3];break;case 0:t=(255&e[i])<<24|(255&e[i+1])<<16|(255&e[i+2])<<8|255&e[i+3];break;case 1:t=(255&e[i+1])<<24|(255&e[i+2])<<16|(255&e[i+3])<<8|255&e[i]}if(a&&0!=(255&t)&&255!=(255&t)){Vn.unmult=255/(255&t);var s,r=Math.round((t>>24&255)*Vn.unmult);s=Vn.__clamp[r];var o,l=Math.round((t>>16&255)*Vn.unmult);o=Vn.__clamp[l];var _,h=Math.round((t>>8&255)*Vn.unmult);_=Vn.__clamp[h],t=(255&s)<<24|(255&o)<<16|(255&_)<<8|255&t&255}},Vn.set=function(t,e,i,n,a){t=(255&e)<<24|(255&i)<<16|(255&n)<<8|255&a},Vn.unmultiplyAlpha=function(t){if(0!=(255&t)&&255!=(255&t)){Vn.unmult=255/(255&t);var e,i=Math.round((t>>24&255)*Vn.unmult);e=Vn.__clamp[i];var n,a=Math.round((t>>16&255)*Vn.unmult);n=Vn.__clamp[a];var s,r=Math.round((t>>8&255)*Vn.unmult);s=Vn.__clamp[r],t=(255&e)<<24|(255&n)<<16|(255&s)<<8|255&t&255}},Vn.writeUInt8=function(t,e,i,n,a){switch(null==a&&(a=!1),null==n&&(n=0),a&&(0==(255&t)?0!=t&&(t=0):255!=(255&t)&&(Vn.a16=Vn.__alpha16[255&t],t=((t>>24&255)*Vn.a16>>16&255)<<24|((t>>16&255)*Vn.a16>>16&255)<<16|((t>>8&255)*Vn.a16>>16&255)<<8|255&t&255)),n){case 2:e[i]=t>>8&255,e[i+1]=t>>16&255,e[i+2]=t>>24&255,e[i+3]=255&t;break;case 0:e[i]=t>>24&255,e[i+1]=t>>16&255,e[i+2]=t>>8&255,e[i+3]=255&t;break;case 1:e[i]=255&t,e[i+1]=t>>24&255,e[i+2]=t>>16&255,e[i+3]=t>>8&255}},Vn.__fromARGB=function(t){var e=0;return e=(t>>16&255&255)<<24|(t>>8&255&255)<<16|(255&t&255)<<8|t>>24&255&255},Vn.__fromBGRA=function(t){var e=0;return e=(t>>8&255&255)<<24|(t>>16&255&255)<<16|(t>>24&255&255)<<8|255&t&255},Vn.get_a=function(t){return 255&t},Vn.set_a=function(t,e){return t=(t>>24&255&255)<<24|(t>>16&255&255)<<16|(t>>8&255&255)<<8|255&e,e},Vn.get_b=function(t){return t>>8&255},Vn.set_b=function(t,e){return t=(t>>24&255&255)<<24|(t>>16&255&255)<<16|(255&e)<<8|255&t&255,e},Vn.get_g=function(t){return t>>16&255},Vn.set_g=function(t,e){return t=(t>>24&255&255)<<24|(255&e)<<16|(t>>8&255&255)<<8|255&t&255,e},Vn.get_r=function(t){return t>>24&255},Vn.set_r=function(t,e){return t=(255&e)<<24|(t>>16&255&255)<<16|(t>>8&255&255)<<8|255&t&255,e};var Gn=function(){this.promise=new Xi};s["lime.net.HTTPRequest"]=Gn,Gn.__name__=["lime","net","HTTPRequest"],Gn.prototype={load:function(t){var e=this;this.bytesLoaded=0,this.bytesTotal=0;var i=new XMLHttpRequest;return i.addEventListener("progress",a(this,this.request_onProgress),!1),i.onreadystatechange=function(){4==i.readyState&&(null!=i.status&&i.status>=200&&i.status<=400?(e.bytes=xa.ofData(i.response),e.promise.complete(e.bytes)):e.promise.error(i.status))},i.open("GET",t,!0),i.responseType="arraybuffer",i.send(""),this.promise.future},curl_onProgress:function(t,e,i,n){return(n>this.bytesLoaded||e>this.bytesLoaded||i>this.bytesTotal||t>this.bytesTotal)&&(n>this.bytesLoaded&&(this.bytesLoaded=0|n),e>this.bytesLoaded&&(this.bytesLoaded=0|e),i>this.bytesTotal&&(this.bytesTotal=0|i),t>this.bytesTotal&&(this.bytesTotal=0|t),this.promise.progress(this.bytesLoaded/this.bytesTotal)),0},curl_onWrite:function(t,e,i){var n=this.bytes;return this.bytes=xa.alloc(this.bytes.length+t.length),this.bytes.blit(0,n,0,n.length),this.bytes.blit(n.length,t,0,t.length),e*i},request_onProgress:function(t){this.promise.progress(t.loaded/t.total)},__class__:Gn};var Wn={};s["lime.net.curl._CURL.CURL_Impl_"]=Wn,Wn.__name__=["lime","net","curl","_CURL","CURL_Impl_"],Wn.getDate=function(t,e){return 0},Wn.globalCleanup=function(){},Wn.globalInit=function(t){return 0},Wn.version=function(){return null},Wn.versionInfo=function(t){return null},Wn.intGt=function(t,e){return t>e};var Xn=function(){};s["lime.net.curl.CURLEasy"]=Xn,Xn.__name__=["lime","net","curl","CURLEasy"],Xn.cleanup=function(t){},Xn.duphandle=function(t){return 0},Xn.escape=function(t,e,i){return null},Xn.getinfo=function(t,e){return null},Xn.init=function(){return 0},Xn.pause=function(t,e){return 0},Xn.perform=function(t){return 0},Xn.reset=function(t){},Xn.setopt=function(t,e,i){return 0},Xn.strerror=function(t){return null},Xn.unescape=function(t,e,i,n){return null},Xn.__writeCallback=function(t,e,i,n){return 0};var zn=function(){this.onProgress=new Ei,this.onError=new Ei,this.onComplete=new Ei,this.doWork=new Ei};s["lime.system.BackgroundWorker"]=zn,zn.__name__=["lime","system","BackgroundWorker"],zn.prototype={cancel:function(){this.canceled=!0},run:function(t){this.canceled=!1,this.__runMessage=t,this.__doWork()},sendComplete:function(t){this.canceled||(this.canceled=!0,this.onComplete.dispatch(t))},sendError:function(t){this.canceled||(this.canceled=!0,this.onError.dispatch(t))},sendProgress:function(t){this.canceled||this.onProgress.dispatch(t)},__doWork:function(){this.doWork.dispatch(this.__runMessage)},__update:function(t){},__class__:zn};var Hn=function(){};s["lime.system.CFFI"]=Hn,Hn.__name__=["lime","system","CFFI"],Hn.available=null,Hn.enabled=null,Hn.load=function(t,e,i,n){if(null==n&&(n=!1),null==i&&(i=0),!Hn.enabled)return U.makeVarArgs(function(t){return{}});var a=null;return a},Hn.__findHaxelib=function(t){return""},Hn.__loaderTrace=function(t){},Hn.__sysName=function(){return null},Hn.__tryLoad=function(t,e,i,n){return null};var Yn={};s["lime.system._CFFIPointer.CFFIPointer_Impl_"]=Yn,Yn.__name__=["lime","system","_CFFIPointer","CFFIPointer_Impl_"],Yn._new=function(t){return t},Yn.get=function(t){return 0},Yn.equals=function(t,e){return Yn.get(t)==e},Yn.equalsPointer=function(t,e){return Yn.get(t)==Yn.get(e)},Yn.greaterThan=function(t,e){return Yn.get(t)>e},Yn.greaterThanPointer=function(t,e){return Yn.get(t)>Yn.get(e)},Yn.greaterThanOrEqual=function(t,e){return Yn.get(t)>=e},Yn.greaterThanOrEqualPointer=function(t,e){return Yn.get(t)>=Yn.get(e)},Yn.lessThan=function(t,e){return Yn.get(t)<e},Yn.lessThanPointer=function(t,e){return Yn.get(t)<Yn.get(e)},Yn.lessThanOrEqual=function(t,e){return Yn.get(t)<=e},Yn.lessThanOrEqualPointer=function(t,e){return Yn.get(t)<=Yn.get(e)},Yn.notEquals=function(t,e){return Yn.get(t)!=e},Yn.notEqualsPointer=function(t,e){return Yn.get(t)!=Yn.get(e)};var Kn=function(){};s["lime.system.Clipboard"]=Kn,Kn.__name__=["lime","system","Clipboard"],Kn.__properties__={set_text:"set_text",get_text:"get_text"},Kn.get_text=function(){return null},Kn.set_text=function(t){return null};var jn=function(){};s["lime.system.Display"]=jn,jn.__name__=["lime","system","Display"],jn.prototype={__class__:jn};var qn=function(t,e,i,n){this.width=t,this.height=e,this.refreshRate=i,this.pixelFormat=n};s["lime.system.DisplayMode"]=qn,qn.__name__=["lime","system","DisplayMode"],qn.prototype={__class__:qn};var Jn=s["lime.system.Endian"]={__ename__:["lime","system","Endian"],__constructs__:["LITTLE_ENDIAN","BIG_ENDIAN"]};Jn.LITTLE_ENDIAN=["LITTLE_ENDIAN",0],Jn.LITTLE_ENDIAN.toString=r,Jn.LITTLE_ENDIAN.__enum__=Jn,Jn.BIG_ENDIAN=["BIG_ENDIAN",1],Jn.BIG_ENDIAN.toString=r,Jn.BIG_ENDIAN.__enum__=Jn;var Zn=function(){};s["lime.system.System"]=Zn,Zn.__name__=["lime","system","System"],Zn.__properties__={get_userDirectory:"get_userDirectory",get_numDisplays:"get_numDisplays",get_fontsDirectory:"get_fontsDirectory",get_endianness:"get_endianness",get_documentsDirectory:"get_documentsDirectory",get_desktopDirectory:"get_desktopDirectory",get_applicationStorageDirectory:"get_applicationStorageDirectory",get_applicationDirectory:"get_applicationDirectory",set_allowScreenTimeout:"set_allowScreenTimeout",get_allowScreenTimeout:"get_allowScreenTimeout"},Zn.applicationDirectory=null,Zn.applicationStorageDirectory=null,Zn.desktopDirectory=null,Zn.disableCFFI=null,Zn.documentsDirectory=null,Zn.endianness=null,Zn.fontsDirectory=null,Zn.numDisplays=null,Zn.userDirectory=null,Zn.embed=e.lime.embed=function(t,e,i,n,a){var s=null;s="string"==typeof t?window.document.getElementById(oi.__cast(t,String)):null==t?window.document.createElement("div"):t;var r=null;null!=n&&(n=X.replace(n,"#",""),r=n.indexOf("0x")>-1?G.parseInt(n):G.parseInt("0x"+n)),null==e&&(e=0),null==i&&(i=0),o.config.windows[0].background=r,o.config.windows[0].element=s,o.config.windows[0].width=e,o.config.windows[0].height=i,o.config.assetsPrefix=a,o.create()},Zn.exit=function(t){},Zn.getDisplay=function(t){if(0==t){var e=new jn;return e.id=0,e.name="Generic Display",e.dpi=96,e.currentMode=new qn(window.screen.width,window.screen.height,60,1),e.supportedModes=[e.currentMode],e.bounds=new Nn(0,0,e.currentMode.width,e.currentMode.height),e}return null},Zn.getTimer=function(){return(new Date).getTime()},Zn.load=function(t,e,i,n){return null==n&&(n=!1),null==i&&(i=0),Hn.load(t,e,i,n)},Zn.get_allowScreenTimeout=function(){return!0},Zn.set_allowScreenTimeout=function(t){return!0},Zn.get_applicationDirectory=function(){return null},Zn.get_applicationStorageDirectory=function(){var t="MyCompany",e="MyApplication";return null!=Ti.current&&null!=Ti.current.config&&(null!=Ti.current.config.company&&(t=Ti.current.config.company),null!=Ti.current.config.file&&(e=Ti.current.config.file)),null},Zn.get_desktopDirectory=function(){return null},Zn.get_documentsDirectory=function(){return null},Zn.get_fontsDirectory=function(){return null},Zn.get_numDisplays=function(){return 1},Zn.get_userDirectory=function(){return null},Zn.get_endianness=function(){return Jn.LITTLE_ENDIAN};var Qn=function(t,e){null==e&&(e=1),null==t&&(t=0),this.onProgress=new Ei,this.onError=new Ei,this.onComplete=new Ei,this.doWork=new Ei,this.minThreads=t,this.maxThreads=e,this.currentThreads=0};s["lime.system.ThreadPool"]=Qn,Qn.__name__=["lime","system","ThreadPool"],Qn.prototype={queue:function(t){this.doWork.dispatch(t)},sendComplete:function(t){this.onComplete.dispatch(t)},sendError:function(t){this.onError.dispatch(t)},sendProgress:function(t){this.onProgress.dispatch(t)},__class__:Qn};var $n=s["lime.system._ThreadPool.ThreadPoolMessageType"]={__ename__:["lime","system","_ThreadPool","ThreadPoolMessageType"],__constructs__:["COMPLETE","ERROR","EXIT","PROGRESS","WORK"]};$n.COMPLETE=["COMPLETE",0],$n.COMPLETE.toString=r,$n.COMPLETE.__enum__=$n,$n.ERROR=["ERROR",1],$n.ERROR.toString=r,$n.ERROR.__enum__=$n,$n.EXIT=["EXIT",2],$n.EXIT.toString=r,$n.EXIT.__enum__=$n,$n.PROGRESS=["PROGRESS",3],$n.PROGRESS.toString=r,$n.PROGRESS.__enum__=$n,$n.WORK=["WORK",4],$n.WORK.toString=r,$n.WORK.__enum__=$n;var ta=function(t,e){this.type=t,this.state=e};s["lime.system._ThreadPool.ThreadPoolMessage"]=ta,ta.__name__=["lime","system","_ThreadPool","ThreadPoolMessage"],ta.prototype={__class__:ta};var ea=function(t){null!=t&&(this.name=t),null!=this.__fontPath&&this.__fromFile(this.__fontPath)};s["lime.text.Font"]=ea,ea.__name__=["lime","text","Font"],ea.fromBytes=function(t){var e=new ea;return e.__fromBytes(t),e},ea.fromFile=function(t){var e=new ea;return e.__fromFile(t),e},ea.prototype={decompose:function(){return null},getGlyph:function(t){return-1},getGlyphs:function(t){return null==t&&(t="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789!@#$%^`'\"/\\&*()[]{}<>|:;_-+=?,. "),null},getGlyphMetrics:function(t){return null},renderGlyph:function(t,e){return null},renderGlyphs:function(t,e){return null},__fromBytes:function(t){this.__fontPath=null},__fromFile:function(t){this.__fontPath=t},__setSize:function(t){},get_ascender:function(){return 0},get_descender:function(){return 0},get_height:function(){return 0},get_numGlyphs:function(){return 0},get_underlinePosition:function(){return 0},get_underlineThickness:function(){return 0},get_unitsPerEM:function(){return 0},__class__:ea,__properties__:{get_unitsPerEM:"get_unitsPerEM",get_underlineThickness:"get_underlineThickness",get_underlinePosition:"get_underlinePosition",get_numGlyphs:"get_numGlyphs",get_height:"get_height",get_descender:"get_descender",get_ascender:"get_ascender"}};var ia={};s["lime.text._Glyph.Glyph_Impl_"]=ia,ia.__name__=["lime","text","_Glyph","Glyph_Impl_"],ia._new=function(t){return t};var na=function(){};s["lime.text.GlyphMetrics"]=na,na.__name__=["lime","text","GlyphMetrics"],na.prototype={__class__:na};var aa=function(t,e,i){this.glyph=t,this.advance=e,null!=i?this.offset=i:this.offset=new Fn};s["lime.text.GlyphPosition"]=aa,aa.__name__=["lime","text","GlyphPosition"],aa.prototype={__class__:aa};var sa={};s["lime.text._TextDirection.TextDirection_Impl_"]=sa,sa.__name__=["lime","text","_TextDirection","TextDirection_Impl_"],sa.__properties__={get_vertical:"get_vertical",get_horizontal:"get_horizontal",get_forward:"get_forward",get_backward:"get_backward"},sa.reverse=function(t){t=1^t},sa.toString=function(t){switch(t){case 4:return"leftToRight";case 5:return"rightToLeft";case 6:return"topToBottom";case 7:return"bottomToTop";default:return""}},sa.get_backward=function(t){return 5==(t&-3)},sa.get_forward=function(t){return 4==(t&-3)},sa.get_horizontal=function(t){return 4==(t&-2)},sa.get_vertical=function(t){return 6==(t&-2)};var ra=function(t,e,i,n,a,s){null==s&&(s="en"),null==a&&(a="Zyyy"),null==n&&(n=4),null==i&&(i=12),null==t&&(t=""),this.set_text(t),this.set_font(e),this.set_size(i),this.__direction=n,this.__script=a,this.__language=s,this.positions=[],this.__dirty=!0};s["lime.text.TextLayout"]=ra,ra.__name__=["lime","text","TextLayout"],ra.prototype={__position:function(){this.positions=[]},get_positions:function(){return this.__dirty&&(this.__dirty=!1,this.__position()),this.positions},get_direction:function(){return this.__direction},set_direction:function(t){return t==this.__direction?t:(this.__direction=t,this.__dirty=!0,t)},set_font:function(t){return t==this.font?t:(this.font=t,this.__dirty=!0,t)},get_glyphs:function(){for(var t=[],e=0,i=this.get_positions();e<i.length;){var n=i[e];++e,t.push(n.glyph)}return t},get_language:function(){return this.__language},set_language:function(t){return t==this.__language?t:(this.__language=t,this.__dirty=!0,t)},get_script:function(){return this.__script},set_script:function(t){return t==this.__script?t:(this.__script=t,this.__dirty=!0,t)},set_size:function(t){return t==this.size?t:(this.size=t,this.__dirty=!0,t)},set_text:function(t){return t==this.text?t:(this.text=t,this.__dirty=!0,t)},__class__:ra,__properties__:{set_text:"set_text",set_size:"set_size",set_script:"set_script",get_script:"get_script",get_positions:"get_positions",set_language:"set_language",get_language:"get_language",get_glyphs:"get_glyphs",set_font:"set_font",set_direction:"set_direction",get_direction:"get_direction"}};var oa={};s["lime.text._TextScript.TextScript_Impl_"]=oa,oa.__name__=["lime","text","_TextScript","TextScript_Impl_"],oa.__properties__={get_rightToLeft:"get_rightToLeft"},oa.get_rightToLeft=function(t){switch(t){case"Hebr":case"Arab":case"Syrc":case"Thaa":case"Nkoo":case"Samr":case"Mand":case"Armi":case"Phnx":case"Lydi":case"Cprt":case"Khar":case"Sarb":case"Avst":case"Phli":case"Phlp":case"Orkh":return!0;default:return!1}};var la=function(t){this.onDisconnect=new mi,this.onButtonUp=new Fi,this.onButtonDown=new Fi,this.onAxisMove=new Ni,this.id=t,this.connected=!0};s["lime.ui.Gamepad"]=la,la.__name__=["lime","ui","Gamepad"],la.addMappings=function(t){},la.__connect=function(t){if(!la.devices.h.hasOwnProperty(t)){var e=new la(t);la.devices.h[t]=e,la.onConnect.dispatch(e)}},la.__disconnect=function(t){var e=la.devices.h[t];null!=e&&(e.connected=!1),la.devices.remove(t),null!=e&&e.onDisconnect.dispatch()},la.prototype={get_guid:function(){var t=ca.__getDeviceData();return t[this.id].id},get_name:function(){var t=ca.__getDeviceData();return t[this.id].id},__class__:la,__properties__:{get_name:"get_name",get_guid:"get_guid"}};var _a={};s["lime.ui._GamepadAxis.GamepadAxis_Impl_"]=_a,_a.__name__=["lime","ui","_GamepadAxis","GamepadAxis_Impl_"],_a.toString=function(t){switch(t){case 0:return"LEFT_X";case 1:return"LEFT_Y";case 2:return"RIGHT_X";case 3:return"RIGHT_Y";case 4:return"TRIGGER_LEFT";case 5:return"TRIGGER_RIGHT";default:return"UNKNOWN ("+t+")"}};var ha={};s["lime.ui._GamepadButton.GamepadButton_Impl_"]=ha,ha.__name__=["lime","ui","_GamepadButton","GamepadButton_Impl_"],ha.toString=function(t){switch(t){case 0:return"A";case 1:return"B";case 2:return"X";case 3:return"Y";case 4:return"BACK";case 5:return"GUIDE";case 6:return"START";case 7:return"LEFT_STICK";case 8:return"RIGHT_STICK";case 9:return"LEFT_SHOULDER";case 10:return"RIGHT_SHOULDER";case 11:return"DPAD_UP";case 12:return"DPAD_DOWN";case 13:return"DPAD_LEFT";case 14:return"DPAD_RIGHT";default:return"UNKNOWN ("+t+")"}};var ca=function(t){this.onTrackballMove=new Ii,this.onHatMove=new Bi,this.onDisconnect=new mi,this.onButtonUp=new Mi,this.onButtonDown=new Mi,this.onAxisMove=new Ii,this.id=t,this.connected=!0};s["lime.ui.Joystick"]=ca,ca.__name__=["lime","ui","Joystick"],ca.__connect=function(t){if(!ca.devices.h.hasOwnProperty(t)){var e=new ca(t);ca.devices.h[t]=e,ca.onConnect.dispatch(e)}},ca.__disconnect=function(t){var e=ca.devices.h[t];null!=e&&(e.connected=!1),ca.devices.remove(t),null!=e&&e.onDisconnect.dispatch()},ca.__getDeviceData=function(){return navigator.getGamepads?navigator.getGamepads():navigator.webkitGetGamepads?navigator.webkitGetGamepads():null},ca.prototype={get_guid:function(){var t=ca.__getDeviceData();return t[this.id].id},get_name:function(){var t=ca.__getDeviceData();return t[this.id].id},get_numAxes:function(){var t=ca.__getDeviceData();return t[this.id].axes.length},get_numButtons:function(){var t=ca.__getDeviceData();return t[this.id].buttons.length},get_numHats:function(){return 0},get_numTrackballs:function(){return 0},__class__:ca,__properties__:{get_numTrackballs:"get_numTrackballs",get_numHats:"get_numHats",get_numButtons:"get_numButtons",get_numAxes:"get_numAxes",get_name:"get_name",get_guid:"get_guid"}};var ua={};s["lime.ui._JoystickHatPosition.JoystickHatPosition_Impl_"]=ua,ua.__name__=["lime","ui","_JoystickHatPosition","JoystickHatPosition_Impl_"],ua.__properties__={set_up:"set_up",get_up:"get_up",set_right:"set_right",get_right:"get_right",set_left:"set_left",get_left:"get_left",set_down:"set_down",get_down:"get_down",set_center:"set_center",get_center:"get_center"},ua._new=function(t){return t},ua.get_center=function(t){return 0==t},ua.set_center=function(t,e){return e&&(t=0),e},ua.get_down=function(t){return(4&t)>0},ua.set_down=function(t,e){return e?t|=4:t&=268435451,e},ua.get_left=function(t){return(8&t)>0},ua.set_left=function(t,e){return e?t|=8:t&=268435447,e},ua.get_right=function(t){return(2&t)>0},ua.set_right=function(t,e){return e?t|=2:t&=268435453,e},ua.get_up=function(t){return(1&t)>0},ua.set_up=function(t,e){return e?t|=1:t&=268435454,e};var da={};s["lime.ui._KeyCode.KeyCode_Impl_"]=da,da.__name__=["lime","ui","_KeyCode","KeyCode_Impl_"],da.gt=function(t,e){return t>e},da.gte=function(t,e){return t>=e},da.lt=function(t,e){return t<e},da.lte=function(t,e){return t<=e},da.plus=function(t,e){return t+e};var ma={};s["lime.ui._KeyModifier.KeyModifier_Impl_"]=ma,ma.__name__=["lime","ui","_KeyModifier","KeyModifier_Impl_"],ma.__properties__={set_shiftKey:"set_shiftKey",get_shiftKey:"get_shiftKey",set_numLock:"set_numLock",get_numLock:"get_numLock",set_metaKey:"set_metaKey",get_metaKey:"get_metaKey",set_ctrlKey:"set_ctrlKey",get_ctrlKey:"get_ctrlKey",set_capsLock:"set_capsLock",get_capsLock:"get_capsLock",set_altKey:"set_altKey",get_altKey:"get_altKey"},ma.get_altKey=function(t){return(256&t)>0||(512&t)>0},ma.set_altKey=function(t,e){return e?t|=768:t&=268434687,e},ma.get_capsLock=function(t){return(8192&t)>0||(8192&t)>0},ma.set_capsLock=function(t,e){return e?t|=8192:t&=268427263,e},ma.get_ctrlKey=function(t){return(64&t)>0||(128&t)>0},ma.set_ctrlKey=function(t,e){return e?t|=192:t&=268435263,e},ma.get_metaKey=function(t){return(1024&t)>0||(2048&t)>0},ma.set_metaKey=function(t,e){return e?t|=3072:t&=268432383,e},ma.get_numLock=function(t){return(4096&t)>0||(4096&t)>0},ma.set_numLock=function(t,e){return e?t|=4096:t&=268431359,e},ma.get_shiftKey=function(t){return(1&t)>0||(2&t)>0},ma.set_shiftKey=function(t,e){return e?t|=3:t&=268435452,e};var fa=function(){};s["lime.ui.Mouse"]=fa,fa.__name__=["lime","ui","Mouse"],fa.__properties__={set_lock:"set_lock",get_lock:"get_lock",set_cursor:"set_cursor",get_cursor:"get_cursor"},fa.hide=function(){vi.hide()},fa.show=function(){vi.show()},fa.warp=function(t,e,i){vi.warp(t,e,i)},fa.get_cursor=function(){return vi.get_cursor()},fa.set_cursor=function(t){return vi.set_cursor(t)},fa.get_lock=function(){return vi.get_lock()},fa.set_lock=function(t){return vi.set_lock(t)};var pa=s["lime.ui.MouseCursor"]={
__ename__:["lime","ui","MouseCursor"],__constructs__:["ARROW","CROSSHAIR","DEFAULT","MOVE","POINTER","RESIZE_NESW","RESIZE_NS","RESIZE_NWSE","RESIZE_WE","TEXT","WAIT","WAIT_ARROW","CUSTOM"]};pa.ARROW=["ARROW",0],pa.ARROW.toString=r,pa.ARROW.__enum__=pa,pa.CROSSHAIR=["CROSSHAIR",1],pa.CROSSHAIR.toString=r,pa.CROSSHAIR.__enum__=pa,pa.DEFAULT=["DEFAULT",2],pa.DEFAULT.toString=r,pa.DEFAULT.__enum__=pa,pa.MOVE=["MOVE",3],pa.MOVE.toString=r,pa.MOVE.__enum__=pa,pa.POINTER=["POINTER",4],pa.POINTER.toString=r,pa.POINTER.__enum__=pa,pa.RESIZE_NESW=["RESIZE_NESW",5],pa.RESIZE_NESW.toString=r,pa.RESIZE_NESW.__enum__=pa,pa.RESIZE_NS=["RESIZE_NS",6],pa.RESIZE_NS.toString=r,pa.RESIZE_NS.__enum__=pa,pa.RESIZE_NWSE=["RESIZE_NWSE",7],pa.RESIZE_NWSE.toString=r,pa.RESIZE_NWSE.__enum__=pa,pa.RESIZE_WE=["RESIZE_WE",8],pa.RESIZE_WE.toString=r,pa.RESIZE_WE.__enum__=pa,pa.TEXT=["TEXT",9],pa.TEXT.toString=r,pa.TEXT.__enum__=pa,pa.WAIT=["WAIT",10],pa.WAIT.toString=r,pa.WAIT.__enum__=pa,pa.WAIT_ARROW=["WAIT_ARROW",11],pa.WAIT_ARROW.toString=r,pa.WAIT_ARROW.__enum__=pa,pa.CUSTOM=["CUSTOM",12],pa.CUSTOM.toString=r,pa.CUSTOM.__enum__=pa;var ga=function(t,e,i,n,a,s,r){this.x=t,this.y=e,this.id=i,this.dx=n,this.dy=a,this.pressure=s,this.device=r};s["lime.ui.Touch"]=ga,ga.__name__=["lime","ui","Touch"],ga.prototype={__class__:ga};var va=function(t){this.onTextInput=new Di,this.onTextEdit=new Ri,this.onRestore=new mi,this.onResize=new Li,this.onMove=new Ci,this.onMouseWheel=new Ci,this.onMouseUp=new Si,this.onMouseMoveRelative=new Ci,this.onMouseMove=new Ci,this.onMouseDown=new Si,this.onMinimize=new mi,this.onLeave=new mi,this.onKeyUp=new Ui,this.onKeyDown=new Ui,this.onFullscreen=new mi,this.onFocusOut=new mi,this.onFocusIn=new mi,this.onEnter=new mi,this.onDropFile=new Di,this.onDeactivate=new mi,this.onCreate=new mi,this.onClose=new mi,this.onActivate=new mi,this.config=t,this.__width=0,this.__height=0,this.__fullscreen=!1,this.__scale=1,this.__x=0,this.__y=0,this.__title="",this.id=-1,null!=t&&(Object.prototype.hasOwnProperty.call(t,"width")&&(this.__width=t.width),Object.prototype.hasOwnProperty.call(t,"height")&&(this.__height=t.height),Object.prototype.hasOwnProperty.call(t,"x")&&(this.__x=t.x),Object.prototype.hasOwnProperty.call(t,"y")&&(this.__y=t.y),Object.prototype.hasOwnProperty.call(t,"fullscreen")&&(this.__fullscreen=t.fullscreen),Object.prototype.hasOwnProperty.call(t,"borderless")&&(this.__borderless=t.borderless),Object.prototype.hasOwnProperty.call(t,"resizable")&&(this.__resizable=t.resizable),Object.prototype.hasOwnProperty.call(t,"title")&&(this.__title=t.title)),this.backend=new xi(this)};s["lime.ui.Window"]=va,va.__name__=["lime","ui","Window"],va.prototype={alert:function(t,e){this.backend.alert(t,e)},close:function(){this.backend.close()},create:function(t){this.application=t,this.backend.create(t),null!=this.renderer&&this.renderer.create()},focus:function(){this.backend.focus()},move:function(t,e){this.backend.move(t,e),this.__x=t,this.__y=e},resize:function(t,e){this.backend.resize(t,e),this.__width=t,this.__height=e},setIcon:function(t){null!=t&&this.backend.setIcon(t)},toString:function(){return"[object Window]"},get_display:function(){return this.backend.getDisplay()},get_borderless:function(){return this.__borderless},set_borderless:function(t){return this.__borderless=this.backend.setBorderless(t)},get_enableTextEvents:function(){return this.backend.getEnableTextEvents()},set_enableTextEvents:function(t){return this.backend.setEnableTextEvents(t)},get_fullscreen:function(){return this.__fullscreen},set_fullscreen:function(t){return this.__fullscreen=this.backend.setFullscreen(t)},get_height:function(){return this.__height},set_height:function(t){return this.resize(this.__width,t),this.__height},get_maximized:function(){return this.__maximized},set_maximized:function(t){return this.__minimized=!1,this.__maximized=this.backend.setMaximized(t)},get_minimized:function(){return this.__minimized},set_minimized:function(t){return this.__maximized=!1,this.__minimized=this.backend.setMinimized(t)},get_resizable:function(){return this.__resizable},set_resizable:function(t){return this.__resizable=this.backend.setResizable(t),this.__resizable},get_scale:function(){return this.__scale},get_title:function(){return this.__title},set_title:function(t){return this.__title=this.backend.setTitle(this.__title)},get_width:function(){return this.__width},set_width:function(t){return this.resize(t,this.__height),this.__width},get_x:function(){return this.__x},set_x:function(t){return this.move(t,this.__y),this.__x},get_y:function(){return this.__y},set_y:function(t){return this.move(this.__x,t),this.__y},__class__:va,__properties__:{set_y:"set_y",get_y:"get_y",set_x:"set_x",get_x:"get_x",set_width:"set_width",get_width:"get_width",set_title:"set_title",get_title:"get_title",get_scale:"get_scale",set_resizable:"set_resizable",get_resizable:"get_resizable",set_minimized:"set_minimized",get_minimized:"get_minimized",set_maximized:"set_maximized",get_maximized:"get_maximized",set_height:"set_height",get_height:"get_height",set_fullscreen:"set_fullscreen",get_fullscreen:"get_fullscreen",set_enableTextEvents:"set_enableTextEvents",get_enableTextEvents:"get_enableTextEvents",get_display:"get_display",set_borderless:"set_borderless",get_borderless:"get_borderless"}};var ya=s["lime.utils.TAError"]={__ename__:["lime","utils","TAError"],__constructs__:["RangeError"]};ya.RangeError=["RangeError",0],ya.RangeError.toString=r,ya.RangeError.__enum__=ya;var xa=function(t,e){ti.call(this,e)};s["lime.utils.Bytes"]=xa,xa.__name__=["lime","utils","Bytes"],xa.alloc=function(t){var e=ti.alloc(t);return new xa(e.length,e.b.bufferValue)},xa.fastGet=function(t,e){return t.bytes[e]},xa.ofData=function(t){var e=ti.ofData(t);return new xa(e.length,e.b.bufferValue)},xa.ofString=function(t){var e=ti.ofString(t);return new xa(e.length,e.b.bufferValue)},xa.readFile=function(t){return null},xa.lime_bytes_from_data_pointer=function(t,e){return xa.cffi_lime_bytes_from_data_pointer(t,e)},xa.lime_bytes_get_data_pointer=function(t){return xa.cffi_lime_bytes_get_data_pointer(t)},xa.lime_bytes_read_file=function(t){return xa.cffi_lime_bytes_read_file(t)},xa.__super__=ti,xa.prototype=n(ti.prototype,{__class__:xa});var ba={};s["lime.utils._Float32Array.Float32Array_Impl_"]=ba,ba.__name__=["lime","utils","_Float32Array","Float32Array_Impl_"],ba.__set=function(t,e,i){return t[e]=i},ba.__get=function(t,e){return t[e]},ba.fromBytes=function(t,e,i){return null==e&&(e=0),null==e?new Float32Array(t.b.bufferValue):null==i?new Float32Array(t.b.bufferValue,e):new Float32Array(t.b.bufferValue,e,i)},ba.toBytes=function(t){return new ti(new $l(t.buffer))},ba.toString=function(t){return null!=t?"Float32Array [byteLength:"+t.byteLength+", length:"+t.length+"]":null};var wa=function(){};s["lime.utils.GLUtils"]=wa,wa.__name__=["lime","utils","GLUtils"],wa.compileShader=function(t,e){var i=In.context.createShader(e);if(In.context.shaderSource(i,t),In.context.compileShader(i),0==In.context.getShaderParameter(i,35713))switch(e){case 35633:throw new ri("Error compiling vertex shader");case 35632:throw new ri("Error compiling fragment shader");default:throw new ri("Error compiling unknown shader type")}return i},wa.createProgram=function(t,e){var i=wa.compileShader(t,35633),n=wa.compileShader(e,35632),a=In.context.createProgram();if(In.context.attachShader(a,i),In.context.attachShader(a,n),In.context.linkProgram(a),0==In.context.getProgramParameter(a,35714))throw new ri("Unable to initialize the shader program.");return a};var Ta={};s["lime.utils._Int16Array.Int16Array_Impl_"]=Ta,Ta.__name__=["lime","utils","_Int16Array","Int16Array_Impl_"],Ta.__set=function(t,e,i){return t[e]=i},Ta.__get=function(t,e){return t[e]},Ta.fromBytes=function(t,e,i){return null==e&&(e=0),null==e?new Int16Array(t.b.bufferValue):null==i?new Int16Array(t.b.bufferValue,e):new Int16Array(t.b.bufferValue,e,i)},Ta.toBytes=function(t){return new ti(new $l(t.buffer))},Ta.toString=function(t){return null!=t?"Int16Array [byteLength:"+t.byteLength+", length:"+t.length+"]":null};var Aa={};s["lime.utils._Int32Array.Int32Array_Impl_"]=Aa,Aa.__name__=["lime","utils","_Int32Array","Int32Array_Impl_"],Aa.__set=function(t,e,i){return t[e]=i},Aa.__get=function(t,e){return t[e]},Aa.fromBytes=function(t,e,i){return null==e&&(e=0),null==e?new Int32Array(t.b.bufferValue):null==i?new Int32Array(t.b.bufferValue,e):new Int32Array(t.b.bufferValue,e,i)},Aa.toBytes=function(t){return new ti(new $l(t.buffer))},Aa.toString=function(t){return null!=t?"Int32Array [byteLength:"+t.byteLength+", length:"+t.length+"]":null};var Ea=function(){};s["lime.utils.LZMA"]=Ea,Ea.__name__=["lime","utils","LZMA"],Ea.decode=function(t){return null},Ea.encode=function(t){return null};var Sa={};s["lime.utils._UInt16Array.UInt16Array_Impl_"]=Sa,Sa.__name__=["lime","utils","_UInt16Array","UInt16Array_Impl_"],Sa.__set=function(t,e,i){return t[e]=i},Sa.__get=function(t,e){return t[e]},Sa.fromBytes=function(t,e,i){return null==e&&(e=0),null==e?new Uint16Array(t.b.bufferValue):null==i?new Uint16Array(t.b.bufferValue,e):new Uint16Array(t.b.bufferValue,e,i)},Sa.toBytes=function(t){return new ti(new $l(t.buffer))},Sa.toString=function(t){return null!=t?"UInt16Array [byteLength:"+t.byteLength+", length:"+t.length+"]":null};var Ca={};s["lime.utils._UInt32Array.UInt32Array_Impl_"]=Ca,Ca.__name__=["lime","utils","_UInt32Array","UInt32Array_Impl_"],Ca.__set=function(t,e,i){return t[e]=i},Ca.__get=function(t,e){return t[e]},Ca.fromBytes=function(t,e,i){return null==e&&(e=0),null==e?new Uint32Array(t.b.bufferValue):null==i?new Uint32Array(t.b.bufferValue,e):new Uint32Array(t.b.bufferValue,e,i)},Ca.toBytes=function(t){return new ti(new $l(t.buffer))},Ca.toString=function(t){return null!=t?"UInt32Array [byteLength:"+t.byteLength+", length:"+t.length+"]":null};var Ia={};s["lime.utils._UInt8Array.UInt8Array_Impl_"]=Ia,Ia.__name__=["lime","utils","_UInt8Array","UInt8Array_Impl_"],Ia.__set=function(t,e,i){return t[e]=i},Ia.__get=function(t,e){return t[e]},Ia.fromBytes=function(t,e,i){return null==e?new $l(t.b.bufferValue):null==i?new $l(t.b.bufferValue,e):new $l(t.b.bufferValue,e,i)},Ia.toBytes=function(t){return new ti(new $l(t.buffer))},Ia.toString=function(t){return null!=t?"UInt8Array [byteLength:"+t.byteLength+", length:"+t.length+"]":null};var La=function(){};s["openfl.IAssetCache"]=La,La.__name__=["openfl","IAssetCache"],La.prototype={__class__:La,__properties__:{set_enabled:"set_enabled",get_enabled:"get_enabled"}};var Ma=function(){this.__enabled=!0,this.bitmapData=new Qe,this.font=new Qe,this.sound=new Qe};s["openfl.AssetCache"]=Ma,Ma.__name__=["openfl","AssetCache"],Ma.__interfaces__=[La],Ma.prototype={clear:function(t){if(null==t)this.bitmapData=new Qe,this.font=new Qe,this.sound=new Qe;else{for(var e=this.bitmapData.keys();e.hasNext();){var i=e.next();X.startsWith(i,t)&&this.bitmapData.remove(i)}for(var n=this.font.keys();n.hasNext();){var a=n.next();X.startsWith(a,t)&&this.font.remove(a)}for(var s=this.sound.keys();s.hasNext();){var r=s.next();X.startsWith(r,t)&&this.sound.remove(r)}}},getBitmapData:function(t){return this.bitmapData.get(t)},getFont:function(t){return this.font.get(t)},getSound:function(t){return this.sound.get(t)},hasBitmapData:function(t){return this.bitmapData.exists(t)},hasFont:function(t){return this.font.exists(t)},hasSound:function(t){return this.sound.exists(t)},removeBitmapData:function(t){return this.bitmapData.remove(t)},removeFont:function(t){return this.font.remove(t)},removeSound:function(t){return this.sound.remove(t)},setBitmapData:function(t,e){this.bitmapData.set(t,e)},setFont:function(t,e){this.font.set(t,e)},setSound:function(t,e){this.sound.set(t,e)},get_enabled:function(){return this.__enabled},set_enabled:function(t){return this.__enabled=t},__class__:Ma,__properties__:{set_enabled:"set_enabled",get_enabled:"get_enabled"}};var Ba=function(){};s["openfl.Assets"]=Ba,Ba.__name__=["openfl","Assets"],Ba.addEventListener=function(t,e,i,n,a){null==a&&(a=!1),null==n&&(n=0),null==i&&(i=!1),fi.onChange.has(Ba.LimeAssets_onChange)||fi.onChange.add(Ba.LimeAssets_onChange),Ba.dispatcher.addEventListener(t,e,i,n,a)},Ba.dispatchEvent=function(t){return Ba.dispatcher.dispatchEvent(t)},Ba.exists=function(t,e){return fi.exists(t,e)},Ba.getBitmapData=function(t,e){if(null==e&&(e=!0),e&&Ba.cache.get_enabled()&&Ba.cache.hasBitmapData(t)){var i=Ba.cache.getBitmapData(t);if(Ba.isValidBitmapData(i))return i}var n=fi.getImage(t,!1);if(null!=n){var a=vr.fromImage(n);return e&&Ba.cache.get_enabled()&&Ba.cache.setBitmapData(t,a),a}return null},Ba.getBytes=function(t){return Rl.fromBytes(fi.getBytes(t))},Ba.getFont=function(t,e){if(null==e&&(e=!0),e&&Ba.cache.get_enabled()&&Ba.cache.hasFont(t))return Ba.cache.getFont(t);var i=fi.getFont(t,!1);if(null!=i){var n=pl.__fromLimeFont(i);return e&&Ba.cache.get_enabled()&&Ba.cache.setFont(t,n),n}return new pl},Ba.getLibrary=function(t){return fi.getLibrary(t)},Ba.getMovieClip=function(t){var e,i=t.substring(0,t.indexOf(":")),n=t.indexOf(":")+1;e=T.substr(t,n,null);var a=Ba.getLibrary(i);if(null!=a)if(a.exists(e,"MOVIE_CLIP")){if(a.isLocal(e,"MOVIE_CLIP"))return a.getMovieClip(e);We.trace('[openfl.Assets] MovieClip asset "'+t+'" exists, but only asynchronously',{fileName:"Assets.hx",lineNumber:223,className:"openfl.Assets",methodName:"getMovieClip"})}else We.trace('[openfl.Assets] There is no MovieClip asset with an ID of "'+t+'"',{fileName:"Assets.hx",lineNumber:229,className:"openfl.Assets",methodName:"getMovieClip"});else We.trace('[openfl.Assets] There is no asset library named "'+i+'"',{fileName:"Assets.hx",lineNumber:235,className:"openfl.Assets",methodName:"getMovieClip"});return null},Ba.getMusic=function(t,e){null==e&&(e=!0);var i=fi.getPath(t);return null!=i?new tl(new _l(i)):null},Ba.getPath=function(t){return fi.getPath(t)},Ba.getSound=function(t,e){if(null==e&&(e=!0),e&&Ba.cache.get_enabled()&&Ba.cache.hasSound(t)){var i=Ba.cache.getSound(t);if(Ba.isValidSound(i))return i}var n=fi.getPath(t);return null!=n?new tl(new _l(n)):null},Ba.getText=function(t){return fi.getText(t)},Ba.hasEventListener=function(t){return Ba.dispatcher.hasEventListener(t)},Ba.isLocal=function(t,e,i){if(null==i&&(i=!0),i&&Ba.cache.get_enabled()){if(("IMAGE"==e||null==e)&&Ba.cache.hasBitmapData(t))return!0;if(("FONT"==e||null==e)&&Ba.cache.hasFont(t))return!0;if(("SOUND"==e||"MUSIC"==e||null==e)&&Ba.cache.hasSound(t))return!0}var n,a=t.substring(0,t.indexOf(":")),s=t.indexOf(":")+1;n=T.substr(t,s,null);var r=Ba.getLibrary(a);return null!=r&&r.isLocal(n,e)},Ba.isValidBitmapData=function(t){return null!=t&&null!=t.image},Ba.isValidSound=function(t){return!0},Ba.list=function(t){return fi.list(t)},Ba.loadBitmapData=function(t,e,i){null==e&&(e=!0),null==e&&(e=!0);var n=new Xi;if(null!=i&&(n.future.onComplete(i),n.future.onError(function(t){i(null)})),e&&Ba.cache.get_enabled()&&Ba.cache.hasBitmapData(t)){var s=Ba.cache.getBitmapData(t);if(Ba.isValidBitmapData(s))return n.complete(s),n.future}return fi.loadImage(t,!1).onComplete(function(i){if(null!=i){var a=vr.fromImage(i);e&&Ba.cache.get_enabled()&&Ba.cache.setBitmapData(t,a),n.complete(a)}else n.error('[Assets] Could not load Image "'+t+'"')}).onError(a(n,n.error)).onProgress(a(n,n.progress)),n.future},Ba.loadBytes=function(t,e){var i=new Xi,n=fi.loadBytes(t);return null!=e&&(i.future.onComplete(e),i.future.onError(function(t){e(null)}),n.onComplete(function(t){i.complete(Rl.fromBytes(t))}),n.onProgress(function(t){i.progress(t)}),n.onError(function(t){i.error(t)})),i.future},Ba.loadFont=function(t,e,i){null==e&&(e=!0),null==e&&(e=!0);var n=new Xi;return null!=i&&(n.future.onComplete(i),n.future.onError(function(t){i(null)})),e&&Ba.cache.get_enabled()&&Ba.cache.hasFont(t)?(n.complete(Ba.cache.getFont(t)),n.future):(fi.loadFont(t).onComplete(function(i){var a=pl.__fromLimeFont(i);e&&Ba.cache.get_enabled()&&Ba.cache.setFont(t,a),n.complete(a)}).onError(a(n,n.error)).onProgress(a(n,n.progress)),n.future)},Ba.loadLibrary=function(t,e){var i=fi.loadLibrary(t);return null!=e&&(i.onComplete(e),i.onError(function(t){e(null)})),i},Ba.loadMusic=function(t,e,i){return null==e&&(e=!0),null==e&&(e=!0),new Gi(function(){return Ba.getMusic(t,e)})},Ba.loadMovieClip=function(t,e){var i=new Xi;null!=e&&(i.future.onComplete(e),i.future.onError(function(t){e(null)}));var n,a=t.substring(0,t.indexOf(":")),s=t.indexOf(":")+1;n=T.substr(t,s,null);var r=Ba.getLibrary(a);return null!=r?r.exists(n,"MOVIE_CLIP")?i.completeWith(r.loadMovieClip(n)):i.error('[Assets] There is no MovieClip asset with an ID of "'+t+'"'):i.error('[Assets] There is no asset library named "'+a+'"'),i.future},Ba.loadSound=function(t,e,i){return null==e&&(e=!0),null==e&&(e=!0),new Gi(function(){return Ba.getSound(t,e)})},Ba.loadText=function(t,e){var i=fi.loadText(t);return null!=e&&(i.onComplete(e),i.onError(function(t){e(null)})),i},Ba.registerLibrary=function(t,e){fi.registerLibrary(t,e)},Ba.removeEventListener=function(t,e,i){null==i&&(i=!1),Ba.dispatcher.removeEventListener(t,e,i)},Ba.resolveClass=function(t){return J.resolveClass(t)},Ba.resolveEnum=function(t){var e=J.resolveEnum(t);return e},Ba.unloadLibrary=function(t){fi.unloadLibrary(t)},Ba.LimeAssets_onChange=function(){Ba.dispatchEvent(new Ro("change"))};var Ra=function(){E.call(this)};s["openfl.AssetLibrary"]=Ra,Ra.__name__=["openfl","AssetLibrary"],Ra.__super__=E,Ra.prototype=n(E.prototype,{getMovieClip:function(t){return null},loadMovieClip:function(t){var e=this;return new Gi(function(){return e.getMovieClip(t)})},__class__:Ra});var Da=function(){m.call(this),this.__currentFrame=0,this.__currentLabels=[],this.__totalFrames=0,this.enabled=!0};s["openfl.display.MovieClip"]=Da,Da.__name__=["openfl","display","MovieClip"],Da.__super__=m,Da.prototype=n(m.prototype,{addFrameScript:function(t,e){null!=e?(null==this.__frameScripts&&(this.__frameScripts=new qe),this.__frameScripts.h[t]=e):null!=this.__frameScripts&&this.__frameScripts.remove(t)},gotoAndPlay:function(t,e){},gotoAndStop:function(t,e){},nextFrame:function(){},play:function(){},prevFrame:function(){},stop:function(){},get_currentFrame:function(){return this.__currentFrame},get_currentFrameLabel:function(){return this.__currentFrameLabel},get_currentLabel:function(){return this.__currentLabel},get_currentLabels:function(){return this.__currentLabels},get_framesLoaded:function(){return this.__totalFrames},get_totalFrames:function(){return this.__totalFrames},__class__:Da,__properties__:n(m.prototype.__properties__,{get_totalFrames:"get_totalFrames",get_framesLoaded:"get_framesLoaded",get_currentLabels:"get_currentLabels",get_currentLabel:"get_currentLabel",get_currentFrameLabel:"get_currentFrameLabel",get_currentFrame:"get_currentFrame"})});var Pa=function(){_.call(this),this.applicationDomain=Na.currentDomain,this.bytesLoaded=0,this.bytesTotal=0,this.childAllowsParent=!0,this.parameters={}};s["openfl.display.LoaderInfo"]=Pa,Pa.__name__=["openfl","display","LoaderInfo"],Pa.create=function(t){var e=new Pa;return e.uncaughtErrorEvents=new Fa,null!=t?e.loader=t:e.url=Pa.__rootURL,e},Pa.__super__=_,Pa.prototype=n(_.prototype,{__class__:Pa});var Na=function(t){null!=t?this.parentDomain=t:this.parentDomain=Na.currentDomain};s["openfl.system.ApplicationDomain"]=Na,Na.__name__=["openfl","system","ApplicationDomain"],Na.prototype={getDefinition:function(t){return J.resolveClass(t)},hasDefinition:function(t){return null!=J.resolveClass(t)},__class__:Na};var Fa=function(){_.call(this)};s["openfl.events.UncaughtErrorEvents"]=Fa,Fa.__name__=["openfl","events","UncaughtErrorEvents"],Fa.__super__=_,Fa.prototype=n(_.prototype,{__class__:Fa});var ka=function(t,e,i,n,a,s){null==s&&(s=0),null==a&&(a=0),null==n&&(n=1),null==i&&(i=0),null==e&&(e=0),null==t&&(t=1),this.a=t,this.b=e,this.c=i,this.d=n,this.tx=a,this.ty=s};s["openfl.geom.Matrix"]=ka,ka.__name__=["openfl","geom","Matrix"],ka.prototype={clone:function(){return new ka(this.a,this.b,this.c,this.d,this.tx,this.ty)},concat:function(t){var e=this.a*t.a+this.b*t.c;this.b=this.a*t.b+this.b*t.d,this.a=e;var i=this.c*t.a+this.d*t.c;this.d=this.c*t.b+this.d*t.d,this.c=i;var n=this.tx*t.a+this.ty*t.c+t.tx;this.ty=this.tx*t.b+this.ty*t.d+t.ty,this.tx=n},copyColumnFrom:function(t,e){if(t>2)throw new ri("Column "+t+" out of bounds (2)");0==t?(this.a=e.x,this.c=e.y):1==t?(this.b=e.x,this.d=e.y):(this.tx=e.x,this.ty=e.y)},copyColumnTo:function(t,e){if(t>2)throw new ri("Column "+t+" out of bounds (2)");0==t?(e.x=this.a,e.y=this.c,e.z=0):1==t?(e.x=this.b,e.y=this.d,e.z=0):(e.x=this.tx,e.y=this.ty,e.z=1)},copyFrom:function(t){this.a=t.a,this.b=t.b,this.c=t.c,this.d=t.d,this.tx=t.tx,this.ty=t.ty},copyRowFrom:function(t,e){if(t>2)throw new ri("Row "+t+" out of bounds (2)");0==t?(this.a=e.x,this.c=e.y):1==t?(this.b=e.x,this.d=e.y):(this.tx=e.x,this.ty=e.y)},copyRowTo:function(t,e){if(t>2)throw new ri("Row "+t+" out of bounds (2)");0==t?(e.x=this.a,e.y=this.b,e.z=this.tx):1==t?(e.x=this.c,e.y=this.d,e.z=this.ty):e.setTo(0,0,1)},createBox:function(t,e,i,n,a){if(null==a&&(a=0),null==n&&(n=0),null==i&&(i=0),0!=i){var s=Math.cos(i),r=Math.sin(i);this.a=s*t,this.b=r*e,this.c=-r*t,this.d=s*e}else this.a=t,this.b=0,this.c=0,this.d=e;this.tx=n,this.ty=a},createGradientBox:function(t,e,i,n,a){if(null==a&&(a=0),null==n&&(n=0),null==i&&(i=0),this.a=t/1638.4,this.d=e/1638.4,0!=i){var s=Math.cos(i),r=Math.sin(i);this.b=r*this.d,this.c=-r*this.a,this.a*=s,this.d*=s}else this.b=0,this.c=0;this.tx=n+t/2,this.ty=a+e/2},deltaTransformPoint:function(t){return new Oa(t.x*this.a+t.y*this.c,t.x*this.b+t.y*this.d)},equals:function(t){return null!=t&&this.tx==t.tx&&this.ty==t.ty&&this.a==t.a&&this.b==t.b&&this.c==t.c&&this.d==t.d},identity:function(){this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0},invert:function(){var t=this.a*this.d-this.b*this.c;if(0==t)this.a=this.b=this.c=this.d=0,this.tx=-this.tx,this.ty=-this.ty;else{t=1/t;var e=this.d*t;this.d=this.a*t,this.a=e,this.b*=-t,this.c*=-t;var i=-this.a*this.tx-this.c*this.ty;this.ty=-this.b*this.tx-this.d*this.ty,this.tx=i}return this},rotate:function(t){var e=Math.cos(t),i=Math.sin(t),n=this.a*e-this.b*i;this.b=this.a*i+this.b*e,this.a=n;var a=this.c*e-this.d*i;this.d=this.c*i+this.d*e,this.c=a;var s=this.tx*e-this.ty*i;this.ty=this.tx*i+this.ty*e,this.tx=s},scale:function(t,e){this.a*=t,this.b*=e,this.c*=t,this.d*=e,this.tx*=t,this.ty*=e},setRotation:function(t,e){null==e&&(e=1),this.a=Math.cos(t)*e,this.c=Math.sin(t)*e,this.b=-this.c,this.d=this.a},setTo:function(t,e,i,n,a,s){this.a=t,this.b=e,this.c=i,this.d=n,this.tx=a,this.ty=s},to3DString:function(t){return null==t&&(t=!1),t?"matrix3d("+this.a+", "+this.b+", 0, 0, "+this.c+", "+this.d+", 0, 0, 0, 0, 1, 0, "+(0|this.tx)+", "+(0|this.ty)+", 0, 1)":"matrix3d("+this.a+", "+this.b+", 0, 0, "+this.c+", "+this.d+", 0, 0, 0, 0, 1, 0, "+this.tx+", "+this.ty+", 0, 1)"},toMozString:function(){return"matrix("+this.a+", "+this.b+", "+this.c+", "+this.d+", "+this.tx+"px, "+this.ty+"px)"},toString:function(){return"matrix("+this.a+", "+this.b+", "+this.c+", "+this.d+", "+this.tx+", "+this.ty+")"},transformPoint:function(t){return new Oa(t.x*this.a+t.y*this.c+this.tx,t.x*this.b+t.y*this.d+this.ty)},translate:function(t,e){this.tx+=t,this.ty+=e},toArray:function(t){if(null==t&&(t=!1),null==this.__array){var e;e=new Float32Array(9),this.__array=e}return t?(this.__array[0]=this.a,this.__array[1]=this.b,this.__array[2]=0,this.__array[3]=this.c,this.__array[4]=this.d,this.__array[5]=0,this.__array[6]=this.tx,this.__array[7]=this.ty,this.__array[8]=1):(this.__array[0]=this.a,this.__array[1]=this.c,this.__array[2]=this.tx,this.__array[3]=this.b,this.__array[4]=this.d,this.__array[5]=this.ty,this.__array[6]=0,this.__array[7]=0,this.__array[8]=1),this.__array},__cleanValues:function(){this.a=Math.round(1e3*this.a)/1e3,this.b=Math.round(1e3*this.b)/1e3,this.c=Math.round(1e3*this.c)/1e3,this.d=Math.round(1e3*this.d)/1e3,this.tx=Math.round(10*this.tx)/10,this.ty=Math.round(10*this.ty)/10},__toMatrix3:function(){return new Dn(this.a,this.b,this.c,this.d,this.tx,this.ty)},__transformInversePoint:function(t){var e=this.a*this.d-this.b*this.c;if(0==e)t.x=-this.tx,t.y=-this.ty;else{var i=1/e*(this.c*(this.ty-t.y)+this.d*(t.x-this.tx));t.y=1/e*(this.a*(t.y-this.ty)+this.b*(this.tx-t.x)),t.x=i}},__transformInverseX:function(t,e){var i=this.a*this.d-this.b*this.c;return 0==i?-this.tx:1/i*(this.c*(this.ty-e)+this.d*(t-this.tx))},__transformInverseY:function(t,e){var i=this.a*this.d-this.b*this.c;return 0==i?-this.ty:1/i*(this.a*(e-this.ty)+this.b*(this.tx-t))},__transformPoint:function(t){var e=t.x,i=t.y;t.x=e*this.a+i*this.c+this.tx,t.y=e*this.b+i*this.d+this.ty},__transformX:function(t,e){return t*this.a+e*this.c+this.tx},__transformY:function(t,e){return t*this.b+e*this.d+this.ty},__translateTransformed:function(t,e){this.tx=t*this.a+e*this.c+this.tx,this.ty=t*this.b+e*this.d+this.ty},__class__:ka};var Oa=function(t,e){null==e&&(e=0),null==t&&(t=0),this.x=t,this.y=e};s["openfl.geom.Point"]=Oa,Oa.__name__=["openfl","geom","Point"],Oa.distance=function(t,e){var i=t.x-e.x,n=t.y-e.y;return Math.sqrt(i*i+n*n)},Oa.interpolate=function(t,e,i){return new Oa(e.x+i*(t.x-e.x),e.y+i*(t.y-e.y))},Oa.polar=function(t,e){return new Oa(t*Math.cos(e),t*Math.sin(e))},Oa.prototype={add:function(t){return new Oa(t.x+this.x,t.y+this.y)},clone:function(){return new Oa(this.x,this.y)},copyFrom:function(t){this.x=t.x,this.y=t.y},equals:function(t){return null!=t&&t.x==this.x&&t.y==this.y},normalize:function(t){if(0!=this.x||0!=this.y){var e=t/Math.sqrt(this.x*this.x+this.y*this.y);this.x*=e,this.y*=e}},offset:function(t,e){this.x+=t,this.y+=e},setTo:function(t,e){this.x=t,this.y=e},subtract:function(t){return new Oa(this.x-t.x,this.y-t.y)},toString:function(){return"(x="+this.x+", y="+this.y+")"},__toLimeVector2:function(){return new Fn(this.x,this.y)},get_length:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},__class__:Oa,__properties__:{get_length:"get_length"}};var Ua=function(t,e,i,n,a,s,r,o){null==o&&(o=0),null==r&&(r=0),null==s&&(s=0),null==a&&(a=0),null==n&&(n=1),null==i&&(i=1),null==e&&(e=1),null==t&&(t=1),this.redMultiplier=t,this.greenMultiplier=e,this.blueMultiplier=i,this.alphaMultiplier=n,this.redOffset=a,this.greenOffset=s,this.blueOffset=r,this.alphaOffset=o};s["openfl.geom.ColorTransform"]=Ua,Ua.__name__=["openfl","geom","ColorTransform"],Ua.prototype={concat:function(t){this.redMultiplier*=t.redMultiplier,this.greenMultiplier*=t.greenMultiplier,this.blueMultiplier*=t.blueMultiplier,this.alphaMultiplier*=t.alphaMultiplier,this.redOffset=t.redMultiplier*this.redOffset+t.redOffset,this.greenOffset=t.greenMultiplier*this.greenOffset+t.greenOffset,this.blueOffset=t.blueMultiplier*this.blueOffset+t.blueOffset,this.alphaOffset=t.alphaMultiplier*this.alphaOffset+t.alphaOffset},toString:function(){return"(redMultiplier="+this.redMultiplier+", greenMultiplier="+this.greenMultiplier+", blueMultiplier="+this.blueMultiplier+", alphaMultiplier="+this.alphaMultiplier+", redOffset="+this.redOffset+", greenOffset="+this.greenOffset+", blueOffset="+this.blueOffset+", alphaOffset="+this.alphaOffset+")"},__clone:function(){return new Ua(this.redMultiplier,this.greenMultiplier,this.blueMultiplier,this.alphaMultiplier,this.redOffset,this.greenOffset,this.blueOffset,this.alphaOffset)},__combine:function(t){this.redMultiplier*=t.redMultiplier,this.greenMultiplier*=t.greenMultiplier,this.blueMultiplier*=t.blueMultiplier,this.alphaMultiplier*=t.alphaMultiplier,this.redOffset+=t.redOffset,this.greenOffset+=t.greenOffset,this.blueOffset+=t.blueOffset,this.alphaOffset+=t.alphaOffset},__equals:function(t,e){return null==e&&(e=!1),null!=t&&this.redMultiplier==t.redMultiplier&&this.greenMultiplier==t.greenMultiplier&&this.blueMultiplier==t.blueMultiplier&&(e||this.alphaMultiplier==t.alphaMultiplier)&&this.redOffset==t.redOffset&&this.greenOffset==t.greenOffset&&this.blueOffset==t.blueOffset&&this.alphaOffset==t.alphaOffset},__isDefault:function(){return 1==this.redMultiplier&&1==this.greenMultiplier&&1==this.blueMultiplier&&1==this.alphaMultiplier&&0==this.redOffset&&0==this.greenOffset&&0==this.blueOffset&&0==this.alphaOffset},get_color:function(){return(0|this.redOffset)<<16|(0|this.greenOffset)<<8|(0|this.blueOffset)},set_color:function(t){return this.redOffset=t>>16&255,this.greenOffset=t>>8&255,this.blueOffset=255&t,this.redMultiplier=0,this.greenMultiplier=0,this.blueMultiplier=0,this.get_color()},__toLimeColorMatrix:function(){return function(t){var e,i,n=[t.redMultiplier,0,0,0,t.redOffset/255,0,t.greenMultiplier,0,0,t.greenOffset/255,0,0,t.blueMultiplier,0,t.blueOffset/255,0,0,0,t.alphaMultiplier,t.alphaOffset/255];return i=null!=n?new Float32Array(n):null,e=i}(this)},__class__:Ua,__properties__:{set_color:"set_color",get_color:"get_color"}};var Va=function(){};s["openfl.Lib"]=Va,Va.__name__=["openfl","Lib"],Va.application=null,Va.as=function(t,e){return oi.__instanceof(t,e)?t:null},Va.attach=function(t){return new Da},Va.embed=e.openfl.embed=function(t,e,i,n,a){Zn.embed(t,e,i,n,a)},Va.getTimer=function(){return Zn.getTimer()},Va.getURL=function(t,e){null==e&&(e="_blank"),window.open(t.url,e)},Va.notImplemented=function(t){Va.__sentWarnings.exists(t)||(Va.__sentWarnings.set(t,!0),We.trace("Warning: "+t+" is not implemented",{fileName:"Lib.hx",lineNumber:113,className:"openfl.Lib",methodName:"notImplemented"}))},Va.preventDefaultTouchMove=function(){window.document.addEventListener("touchmove",function(t){t.preventDefault()},!1)},Va.trace=function(t){We.trace(t,{fileName:"Lib.hx",lineNumber:144,className:"openfl.Lib",methodName:"trace"})};var Ga={};s["openfl._Vector.Vector_Impl_"]=Ga,Ga.__name__=["openfl","_Vector","Vector_Impl_"],Ga.__properties__={set_fixed:"set_fixed",get_fixed:"get_fixed",set_length:"set_length",get_length:"get_length"},Ga._new=function(t,e){null==e&&(e=!1),null==t&&(t=0);var i;i=new Wa;var n;return n=new Array(t),i.data=n,i.length=t,i.fixed=e,i},Ga.concat=function(t,e){var i=new Wa;null!=e?i.length=t.length+e.length:i.length=t.length,i.fixed=!1;var n;return n=new Array(i.length),i.data=n,$e.blit(t.data,0,i.data,0,t.length),null!=e&&$e.blit(e.data,0,i.data,t.length,e.length),i},Ga.copy=function(t){var e=new Wa;e.length=t.length,e.fixed=t.fixed;var i;return i=new Array(t.length),e.data=i,$e.blit(t.data,0,e.data,0,t.length),e},Ga.iterator=function(t){return new Xa(t)},Ga.join=function(t,e){for(var i="",n=0,a=t.length;n<a;){var s=n++;s>0&&(i+=e),i+=G.string(t.data[s])}return i},Ga.pop=function(t){var e=null;return t.fixed||t.length>0&&(t.length--,e=t.data[t.length]),e},Ga.push=function(t,e){if(!t.fixed){if(t.length++,t.data.length<t.length){var i,n;n=new Array(t.data.length+10),i=n,$e.blit(t.data,0,i,0,t.data.length),t.data=i}t.data[t.length-1]=e}return t.length},Ga.reverse=function(t){var e,i;i=new Array(t.length),e=i;for(var n=0,a=t.length;n<a;){var s=n++;e[t.length-1-s]=t.data[s]}t.data=e},Ga.shift=function(t){if(!t.fixed&&t.length>0){t.length--;var e=t.data[0];return $e.blit(t.data,1,t.data,0,t.length),e}return null},Ga.unshift=function(t,e){if(!t.fixed){if(t.length++,t.data.length<t.length){var i,n;n=new Array(t.length+10),i=n,$e.blit(t.data,0,i,1,t.data.length),t.data=i}else $e.blit(t.data,0,t.data,1,t.length-1);t.data[0]=e}},Ga.slice=function(t,e,i){null==i&&(i=0),null==e&&(e=0),e<0&&(e+=t.length),i<=0&&(i+=t.length),i>t.length&&(i=t.length);var n=i-e;(n<=0||n>t.length)&&(n=t.length);var a=new Wa;a.length=i-e,a.fixed=!0;var s;return s=new Array(n),a.data=s,$e.blit(t.data,e,a.data,0,n),a},Ga.sort=function(t,e){var i=$e.toArray(t.data);i.sort(e);var n,a;a=new Array(i.length),n=a;for(var s=0,r=i.length;s<r;){var o=s++;n[o]=i[o]}t.data=n},Ga.splice=function(t,e,i){e<0&&(e+=t.length),e+i>t.length&&(i=t.length-e),i<0&&(i=0);var n=new Wa;n.length=i,n.fixed=!1;var a;return a=new Array(i),n.data=a,$e.blit(t.data,e,n.data,0,i),i>0&&(t.length-=i,$e.blit(t.data,e+i,t.data,e,t.length-e)),n},Ga.toString=function(t){return $e.toArray(t.data).toString();
},Ga.indexOf=function(t,e,i){null==i&&(i=0);for(var n=-1,a=i,s=t.length;a<s;){var r=a++;if(t.data[r]==e){n=r;break}}return n},Ga.lastIndexOf=function(t,e,i){null==i&&(i=0);for(var n=-1,a=t.length-1;a>=i;){if(t.data[a]==e){n=a;break}a--}return n},Ga.ofArray=function(t){var e=new Wa;e.length=t.length,e.fixed=!0;var i,n;n=new Array(t.length),i=n;for(var a=0,s=t.length;a<s;){var r=a++;i[r]=t[r]}return e.data=i,e},Ga.convert=function(t){return t},Ga.get=function(t,e){return t.data[e]},Ga.set=function(t,e,i){if(!t.fixed&&(e>=t.length&&(t.length=e+1),t.data.length<t.length)){var n,a;a=new Array(t.data.length+10),n=a,$e.blit(t.data,0,n,0,t.data.length),t.data=n}return t.data[e]=i},Ga.fromArray=function(t){var e=new Wa;e.length=t.length,e.fixed=!0;var i,n;n=new Array(t.length),i=n;for(var a=0,s=t.length;a<s;){var r=a++;i[r]=t[r]}return e.data=i,e},Ga.toArray=function(t){for(var e=[],i=0,n=t.data.length;i<n;){var a=i++;e.push(t.data[a])}return e},Ga.fromHaxeVector=function(t){var e=new Wa;return e.length=t.length,e.fixed=!0,e.data=t,e},Ga.toHaxeVector=function(t){return t.data},Ga.fromVectorData=function(t){return t},Ga.toVectorData=function(t){return t},Ga.get_length=function(t){return t.length},Ga.set_length=function(t,e){if(!t.fixed){if(e>t.length){var i,n;n=new Array(e),i=n,$e.blit(t.data,0,i,0,G["int"](Math.min(t.data.length,e))),t.data=i}t.length=e}return e},Ga.get_fixed=function(t){return t.fixed},Ga.set_fixed=function(t,e){return t.fixed=e};var Wa=function(){this.length=0};s["openfl.VectorData"]=Wa,Wa.__name__=["openfl","VectorData"],Wa.prototype={__class__:Wa};var Xa=function(t){this.index=0,this.vectorData=t};s["openfl.VectorDataIterator"]=Xa,Xa.__name__=["openfl","VectorDataIterator"],Xa.prototype={hasNext:function(){return this.index<this.vectorData.length},next:function(){var t=this.index++;return this.vectorData.data[t]},__class__:Xa};var za=function(t){this.renderSession=t};s["openfl._internal.renderer.AbstractMaskManager"]=za,za.__name__=["openfl","_internal","renderer","AbstractMaskManager"],za.prototype={pushMask:function(t){},pushRect:function(t,e){},popMask:function(){},popRect:function(){},saveState:function(){},restoreState:function(){},__class__:za};var Ha=function(t,e){this.width=t,this.height=e};s["openfl._internal.renderer.AbstractRenderer"]=Ha,Ha.__name__=["openfl","_internal","renderer","AbstractRenderer"],Ha.prototype={render:function(t){},renderShape:function(t){},setViewport:function(t,e,i,n){},resize:function(t,e){},__class__:Ha};var Ya=function(){this.types=[],this.b=[],this.i=[],this.f=[],this.o=[],this.ff=[],this.ii=[],this.ts=[]};s["openfl._internal.renderer.DrawCommandBuffer"]=Ya,Ya.__name__=["openfl","_internal","renderer","DrawCommandBuffer"],Ya.prototype={append:function(t){for(var e=new Ka(t),i=0,n=t.types;i<n.length;){var a=n[i];switch(++i,a[1]){case 0:var s=e.readBeginBitmapFill();this.beginBitmapFill(ja.get_bitmap(s),ja.get_matrix(s),ja.get_repeat(s),ja.get_smooth(s));break;case 1:var r=e.readBeginFill();this.beginFill(qa.get_color(r),qa.get_alpha(r));break;case 2:var o=e.readBeginGradientFill();this.beginGradientFill(Ja.get_type(o),Ja.get_colors(o),Ja.get_alphas(o),Ja.get_ratios(o),Ja.get_matrix(o),Ja.get_spreadMethod(o),Ja.get_interpolationMethod(o),Ja.get_focalPointRatio(o));break;case 3:var l=e.readCubicCurveTo();this.cubicCurveTo(Za.get_controlX1(l),Za.get_controlY1(l),Za.get_controlX2(l),Za.get_controlY2(l),Za.get_anchorX(l),Za.get_anchorY(l));break;case 4:var _=e.readCurveTo();this.curveTo(Qa.get_controlX(_),Qa.get_controlY(_),Qa.get_anchorX(_),Qa.get_anchorY(_));break;case 5:var h=e.readDrawCircle();this.drawCircle($a.get_x(h),$a.get_y(h),$a.get_radius(h));break;case 6:var c=e.readDrawEllipse();this.drawEllipse(ts.get_x(c),ts.get_y(c),ts.get_width(c),ts.get_height(c));break;case 7:var u=e.readDrawPath();this.drawPath(es.get_commands(u),es.get_data(u),es.get_winding(u));break;case 8:var d=e.readDrawRect();this.drawRect(is.get_x(d),is.get_y(d),is.get_width(d),is.get_height(d));break;case 9:var m=e.readDrawRoundRect();this.drawRoundRect(ns.get_x(m),ns.get_y(m),ns.get_width(m),ns.get_height(m),ns.get_ellipseWidth(m),ns.get_ellipseHeight(m));break;case 10:var f=e.readDrawTiles();this.drawTiles(as.get_sheet(f),as.get_tileData(f),as.get_smooth(f),as.get_flags(f),as.get_shader(f),as.get_count(f));break;case 11:var p=e.readDrawTriangles();this.drawTriangles(ss.get_vertices(p),ss.get_indices(p),ss.get_uvtData(p),ss.get_culling(p));break;case 12:e.readEndFill();this.endFill();break;case 13:var g=e.readLineBitmapStyle();this.lineBitmapStyle(os.get_bitmap(g),os.get_matrix(g),os.get_repeat(g),os.get_smooth(g));break;case 14:var v=e.readLineGradientStyle();this.lineGradientStyle(ls.get_type(v),ls.get_colors(v),ls.get_alphas(v),ls.get_ratios(v),ls.get_matrix(v),ls.get_spreadMethod(v),ls.get_interpolationMethod(v),ls.get_focalPointRatio(v));break;case 15:var y=e.readLineStyle();this.lineStyle(_s.get_thickness(y),_s.get_color(y),_s.get_alpha(y),_s.get_pixelHinting(y),_s.get_scaleMode(y),_s.get_caps(y),_s.get_joints(y),_s.get_miterLimit(y));break;case 16:var x=e.readLineTo();this.lineTo(hs.get_x(x),hs.get_y(x));break;case 17:var b=e.readMoveTo();this.moveTo(cs.get_x(b),cs.get_y(b));break;case 18:var w=e.readOverrideMatrix();this.overrideMatrix(us.get_matrix(w))}}return e.destroy(),t},beginBitmapFill:function(t,e,i,n){this.types.push(ds.BEGIN_BITMAP_FILL),this.o.push(t),this.o.push(e),this.b.push(i),this.b.push(n)},beginFill:function(t,e){this.types.push(ds.BEGIN_FILL),this.i.push(t),this.f.push(e)},beginGradientFill:function(t,e,i,n,a,s,r,o){this.types.push(ds.BEGIN_GRADIENT_FILL),this.o.push(t),this.ii.push(e),this.ff.push(i),this.ii.push(n),this.o.push(a),this.o.push(s),this.o.push(r),this.f.push(o)},clear:function(){this.types.splice(0,this.types.length),this.b.splice(0,this.b.length),this.i.splice(0,this.i.length),this.f.splice(0,this.f.length),this.o.splice(0,this.o.length),this.ff.splice(0,this.ff.length),this.ii.splice(0,this.ii.length),this.ts.splice(0,this.ts.length)},copy:function(){var t=new Ya;return t.append(this),t},cubicCurveTo:function(t,e,i,n,a,s){this.types.push(ds.CUBIC_CURVE_TO),this.f.push(t),this.f.push(e),this.f.push(i),this.f.push(n),this.f.push(a),this.f.push(s)},curveTo:function(t,e,i,n){this.types.push(ds.CURVE_TO),this.f.push(t),this.f.push(e),this.f.push(i),this.f.push(n)},destroy:function(){this.clear(),this.types=null,this.b=null,this.i=null,this.f=null,this.o=null,this.ff=null,this.ii=null,this.ts=null},drawCircle:function(t,e,i){this.types.push(ds.DRAW_CIRCLE),this.f.push(t),this.f.push(e),this.f.push(i)},drawEllipse:function(t,e,i,n){this.types.push(ds.DRAW_ELLIPSE),this.f.push(t),this.f.push(e),this.f.push(i),this.f.push(n)},drawPath:function(t,e,i){this.types.push(ds.DRAW_PATH),this.o.push(t),this.o.push(e),this.o.push(i)},drawRect:function(t,e,i,n){this.types.push(ds.DRAW_RECT),this.f.push(t),this.f.push(e),this.f.push(i),this.f.push(n)},drawRoundRect:function(t,e,i,n,a,s){this.types.push(ds.DRAW_ROUND_RECT),this.f.push(t),this.f.push(e),this.f.push(i),this.f.push(n),this.f.push(a),this.o.push(s)},drawTiles:function(t,e,i,n,a,s){this.types.push(ds.DRAW_TILES),this.ts.push(t),this.ff.push(e),this.b.push(i),this.i.push(n),this.o.push(a),this.i.push(s)},drawTriangles:function(t,e,i,n){this.types.push(ds.DRAW_TRIANGLES),this.o.push(t),this.o.push(e),this.o.push(i),this.o.push(n)},endFill:function(){this.types.push(ds.END_FILL)},lineBitmapStyle:function(t,e,i,n){this.types.push(ds.LINE_BITMAP_STYLE),this.o.push(t),this.o.push(e),this.b.push(i),this.b.push(n)},lineGradientStyle:function(t,e,i,n,a,s,r,o){this.types.push(ds.LINE_GRADIENT_STYLE),this.o.push(t),this.ii.push(e),this.ff.push(i),this.ii.push(n),this.o.push(a),this.o.push(s),this.o.push(r),this.f.push(o)},lineStyle:function(t,e,i,n,a,s,r,o){this.types.push(ds.LINE_STYLE),this.o.push(t),this.i.push(e),this.f.push(i),this.b.push(n),this.o.push(a),this.o.push(s),this.o.push(r),this.f.push(o)},lineTo:function(t,e){this.types.push(ds.LINE_TO),this.f.push(t),this.f.push(e)},moveTo:function(t,e){this.types.push(ds.MOVE_TO),this.f.push(t),this.f.push(e)},overrideMatrix:function(t){this.types.push(ds.OVERRIDE_MATRIX),this.o.push(t)},get_length:function(){return this.types.length},__class__:Ya,__properties__:{get_length:"get_length"}};var Ka=function(t){this.buffer=t,this.bPos=this.iPos=this.fPos=this.oPos=this.ffPos=this.iiPos=this.tsPos=0,this.prev=ds.UNKNOWN};s["openfl._internal.renderer.DrawCommandReader"]=Ka,Ka.__name__=["openfl","_internal","renderer","DrawCommandReader"],Ka.prototype={advance:function(){var t=this.prev;switch(t[1]){case 0:this.oPos+=2,this.bPos+=2;break;case 1:this.iPos+=1,this.fPos+=1;break;case 2:this.oPos+=4,this.iiPos+=2,this.ffPos+=1,this.fPos+=1;break;case 3:this.fPos+=6;break;case 4:this.fPos+=4;break;case 5:this.fPos+=3;break;case 6:this.fPos+=4;break;case 7:this.oPos+=3;break;case 8:this.fPos+=4;break;case 9:this.fPos+=5,this.oPos+=1;break;case 10:this.tsPos+=1,this.ffPos+=1,this.bPos+=1,this.iPos+=2,this.oPos+=1;break;case 11:this.oPos+=4;break;case 12:break;case 13:this.oPos+=2,this.bPos+=2;break;case 14:this.oPos+=4,this.iiPos+=2,this.ffPos+=1,this.fPos+=1;break;case 15:this.oPos+=4,this.iPos+=1,this.fPos+=2,this.bPos+=1;break;case 16:this.fPos+=2;break;case 17:this.fPos+=2;break;case 18:this.oPos+=1}},bool:function(t){return this.buffer.b[this.bPos+t]},destroy:function(){this.buffer=null,this.reset()},fArr:function(t){return this.buffer.ff[this.ffPos+t]},"float":function(t){return this.buffer.f[this.fPos+t]},iArr:function(t){return this.buffer.ii[this.iiPos+t]},"int":function(t){return this.buffer.i[this.iPos+t]},obj:function(t){return this.buffer.o[this.oPos+t]},readBeginBitmapFill:function(){return this.advance(),this.prev=ds.BEGIN_BITMAP_FILL,ja._new(this)},readBeginFill:function(){return this.advance(),this.prev=ds.BEGIN_FILL,qa._new(this)},readBeginGradientFill:function(){return this.advance(),this.prev=ds.BEGIN_GRADIENT_FILL,Ja._new(this)},readCubicCurveTo:function(){return this.advance(),this.prev=ds.CUBIC_CURVE_TO,Za._new(this)},readCurveTo:function(){return this.advance(),this.prev=ds.CURVE_TO,Qa._new(this)},readDrawCircle:function(){return this.advance(),this.prev=ds.DRAW_CIRCLE,$a._new(this)},readDrawEllipse:function(){return this.advance(),this.prev=ds.DRAW_ELLIPSE,ts._new(this)},readDrawPath:function(){return this.advance(),this.prev=ds.DRAW_PATH,es._new(this)},readDrawRect:function(){return this.advance(),this.prev=ds.DRAW_RECT,is._new(this)},readDrawRoundRect:function(){return this.advance(),this.prev=ds.DRAW_ROUND_RECT,ns._new(this)},readDrawTiles:function(){return this.advance(),this.prev=ds.DRAW_TILES,as._new(this)},readDrawTriangles:function(){return this.advance(),this.prev=ds.DRAW_TRIANGLES,ss._new(this)},readEndFill:function(){return this.advance(),this.prev=ds.END_FILL,rs._new(this)},readLineBitmapStyle:function(){return this.advance(),this.prev=ds.LINE_BITMAP_STYLE,os._new(this)},readLineGradientStyle:function(){return this.advance(),this.prev=ds.LINE_GRADIENT_STYLE,ls._new(this)},readLineStyle:function(){return this.advance(),this.prev=ds.LINE_STYLE,_s._new(this)},readLineTo:function(){return this.advance(),this.prev=ds.LINE_TO,hs._new(this)},readMoveTo:function(){return this.advance(),this.prev=ds.MOVE_TO,cs._new(this)},readOverrideMatrix:function(){return this.advance(),this.prev=ds.OVERRIDE_MATRIX,us._new(this)},reset:function(){this.bPos=this.iPos=this.fPos=this.oPos=this.ffPos=this.iiPos=this.tsPos=0},skip:function(t){this.advance(),this.prev=t},tileSheet:function(t){return this.buffer.ts[this.tsPos+t]},__class__:Ka};var ja={};s["openfl._internal.renderer._DrawCommandReader.BeginBitmapFillView_Impl_"]=ja,ja.__name__=["openfl","_internal","renderer","_DrawCommandReader","BeginBitmapFillView_Impl_"],ja.__properties__={get_smooth:"get_smooth",get_repeat:"get_repeat",get_matrix:"get_matrix",get_bitmap:"get_bitmap"},ja._new=function(t){return t},ja.get_bitmap=function(t){return t.obj(0)},ja.get_matrix=function(t){return t.obj(1)},ja.get_repeat=function(t){return t.bool(0)},ja.get_smooth=function(t){return t.bool(1)};var qa={};s["openfl._internal.renderer._DrawCommandReader.BeginFillView_Impl_"]=qa,qa.__name__=["openfl","_internal","renderer","_DrawCommandReader","BeginFillView_Impl_"],qa.__properties__={get_alpha:"get_alpha",get_color:"get_color"},qa._new=function(t){return t},qa.get_color=function(t){return t["int"](0)},qa.get_alpha=function(t){return t["float"](0)};var Ja={};s["openfl._internal.renderer._DrawCommandReader.BeginGradientFillView_Impl_"]=Ja,Ja.__name__=["openfl","_internal","renderer","_DrawCommandReader","BeginGradientFillView_Impl_"],Ja.__properties__={get_focalPointRatio:"get_focalPointRatio",get_interpolationMethod:"get_interpolationMethod",get_spreadMethod:"get_spreadMethod",get_matrix:"get_matrix",get_ratios:"get_ratios",get_alphas:"get_alphas",get_colors:"get_colors",get_type:"get_type"},Ja._new=function(t){return t},Ja.get_type=function(t){return t.obj(0)},Ja.get_colors=function(t){return t.iArr(0)},Ja.get_alphas=function(t){return t.fArr(0)},Ja.get_ratios=function(t){return t.iArr(1)},Ja.get_matrix=function(t){return t.obj(1)},Ja.get_spreadMethod=function(t){return t.obj(2)},Ja.get_interpolationMethod=function(t){return t.obj(3)},Ja.get_focalPointRatio=function(t){return t["float"](0)};var Za={};s["openfl._internal.renderer._DrawCommandReader.CubicCurveToView_Impl_"]=Za,Za.__name__=["openfl","_internal","renderer","_DrawCommandReader","CubicCurveToView_Impl_"],Za.__properties__={get_anchorY:"get_anchorY",get_anchorX:"get_anchorX",get_controlY2:"get_controlY2",get_controlX2:"get_controlX2",get_controlY1:"get_controlY1",get_controlX1:"get_controlX1"},Za._new=function(t){return t},Za.get_controlX1=function(t){return t["float"](0)},Za.get_controlY1=function(t){return t["float"](1)},Za.get_controlX2=function(t){return t["float"](2)},Za.get_controlY2=function(t){return t["float"](3)},Za.get_anchorX=function(t){return t["float"](4)},Za.get_anchorY=function(t){return t["float"](5)};var Qa={};s["openfl._internal.renderer._DrawCommandReader.CurveToView_Impl_"]=Qa,Qa.__name__=["openfl","_internal","renderer","_DrawCommandReader","CurveToView_Impl_"],Qa.__properties__={get_anchorY:"get_anchorY",get_anchorX:"get_anchorX",get_controlY:"get_controlY",get_controlX:"get_controlX"},Qa._new=function(t){return t},Qa.get_controlX=function(t){return t["float"](0)},Qa.get_controlY=function(t){return t["float"](1)},Qa.get_anchorX=function(t){return t["float"](2)},Qa.get_anchorY=function(t){return t["float"](3)};var $a={};s["openfl._internal.renderer._DrawCommandReader.DrawCircleView_Impl_"]=$a,$a.__name__=["openfl","_internal","renderer","_DrawCommandReader","DrawCircleView_Impl_"],$a.__properties__={get_radius:"get_radius",get_y:"get_y",get_x:"get_x"},$a._new=function(t){return t},$a.get_x=function(t){return t["float"](0)},$a.get_y=function(t){return t["float"](1)},$a.get_radius=function(t){return t["float"](2)};var ts={};s["openfl._internal.renderer._DrawCommandReader.DrawEllipseView_Impl_"]=ts,ts.__name__=["openfl","_internal","renderer","_DrawCommandReader","DrawEllipseView_Impl_"],ts.__properties__={get_height:"get_height",get_width:"get_width",get_y:"get_y",get_x:"get_x"},ts._new=function(t){return t},ts.get_x=function(t){return t["float"](0)},ts.get_y=function(t){return t["float"](1)},ts.get_width=function(t){return t["float"](2)},ts.get_height=function(t){return t["float"](3)};var es={};s["openfl._internal.renderer._DrawCommandReader.DrawPathView_Impl_"]=es,es.__name__=["openfl","_internal","renderer","_DrawCommandReader","DrawPathView_Impl_"],es.__properties__={get_winding:"get_winding",get_data:"get_data",get_commands:"get_commands"},es._new=function(t){return t},es.get_commands=function(t){return t.obj(0)},es.get_data=function(t){return t.obj(1)},es.get_winding=function(t){return t.obj(2)};var is={};s["openfl._internal.renderer._DrawCommandReader.DrawRectView_Impl_"]=is,is.__name__=["openfl","_internal","renderer","_DrawCommandReader","DrawRectView_Impl_"],is.__properties__={get_height:"get_height",get_width:"get_width",get_y:"get_y",get_x:"get_x"},is._new=function(t){return t},is.get_x=function(t){return t["float"](0)},is.get_y=function(t){return t["float"](1)},is.get_width=function(t){return t["float"](2)},is.get_height=function(t){return t["float"](3)};var ns={};s["openfl._internal.renderer._DrawCommandReader.DrawRoundRectView_Impl_"]=ns,ns.__name__=["openfl","_internal","renderer","_DrawCommandReader","DrawRoundRectView_Impl_"],ns.__properties__={get_ellipseHeight:"get_ellipseHeight",get_ellipseWidth:"get_ellipseWidth",get_height:"get_height",get_width:"get_width",get_y:"get_y",get_x:"get_x"},ns._new=function(t){return t},ns.get_x=function(t){return t["float"](0)},ns.get_y=function(t){return t["float"](1)},ns.get_width=function(t){return t["float"](2)},ns.get_height=function(t){return t["float"](3)},ns.get_ellipseWidth=function(t){return t["float"](4)},ns.get_ellipseHeight=function(t){return t.obj(0)};var as={};s["openfl._internal.renderer._DrawCommandReader.DrawTilesView_Impl_"]=as,as.__name__=["openfl","_internal","renderer","_DrawCommandReader","DrawTilesView_Impl_"],as.__properties__={get_count:"get_count",get_shader:"get_shader",get_flags:"get_flags",get_smooth:"get_smooth",get_tileData:"get_tileData",get_sheet:"get_sheet"},as._new=function(t){return t},as.get_sheet=function(t){return t.tileSheet(0)},as.get_tileData=function(t){return t.fArr(0)},as.get_smooth=function(t){return t.bool(0)},as.get_flags=function(t){return t["int"](0)},as.get_shader=function(t){return t.obj(0)},as.get_count=function(t){return t["int"](1)};var ss={};s["openfl._internal.renderer._DrawCommandReader.DrawTrianglesView_Impl_"]=ss,ss.__name__=["openfl","_internal","renderer","_DrawCommandReader","DrawTrianglesView_Impl_"],ss.__properties__={get_culling:"get_culling",get_uvtData:"get_uvtData",get_indices:"get_indices",get_vertices:"get_vertices"},ss._new=function(t){return t},ss.get_vertices=function(t){return t.obj(0)},ss.get_indices=function(t){return t.obj(1)},ss.get_uvtData=function(t){return t.obj(2)},ss.get_culling=function(t){return t.obj(3)};var rs={};s["openfl._internal.renderer._DrawCommandReader.EndFillView_Impl_"]=rs,rs.__name__=["openfl","_internal","renderer","_DrawCommandReader","EndFillView_Impl_"],rs._new=function(t){return t};var os={};s["openfl._internal.renderer._DrawCommandReader.LineBitmapStyleView_Impl_"]=os,os.__name__=["openfl","_internal","renderer","_DrawCommandReader","LineBitmapStyleView_Impl_"],os.__properties__={get_smooth:"get_smooth",get_repeat:"get_repeat",get_matrix:"get_matrix",get_bitmap:"get_bitmap"},os._new=function(t){return t},os.get_bitmap=function(t){return t.obj(0)},os.get_matrix=function(t){return t.obj(1)},os.get_repeat=function(t){return t.bool(0)},os.get_smooth=function(t){return t.bool(1)};var ls={};s["openfl._internal.renderer._DrawCommandReader.LineGradientStyleView_Impl_"]=ls,ls.__name__=["openfl","_internal","renderer","_DrawCommandReader","LineGradientStyleView_Impl_"],ls.__properties__={get_focalPointRatio:"get_focalPointRatio",get_interpolationMethod:"get_interpolationMethod",get_spreadMethod:"get_spreadMethod",get_matrix:"get_matrix",get_ratios:"get_ratios",get_alphas:"get_alphas",get_colors:"get_colors",get_type:"get_type"},ls._new=function(t){return t},ls.get_type=function(t){return t.obj(0)},ls.get_colors=function(t){return t.iArr(0)},ls.get_alphas=function(t){return t.fArr(0)},ls.get_ratios=function(t){return t.iArr(1)},ls.get_matrix=function(t){return t.obj(1)},ls.get_spreadMethod=function(t){return t.obj(2)},ls.get_interpolationMethod=function(t){return t.obj(3)},ls.get_focalPointRatio=function(t){return t["float"](0)};var _s={};s["openfl._internal.renderer._DrawCommandReader.LineStyleView_Impl_"]=_s,_s.__name__=["openfl","_internal","renderer","_DrawCommandReader","LineStyleView_Impl_"],_s.__properties__={get_miterLimit:"get_miterLimit",get_joints:"get_joints",get_caps:"get_caps",get_scaleMode:"get_scaleMode",get_pixelHinting:"get_pixelHinting",get_alpha:"get_alpha",get_color:"get_color",get_thickness:"get_thickness"},_s._new=function(t){return t},_s.get_thickness=function(t){return t.obj(0)},_s.get_color=function(t){return t["int"](0)},_s.get_alpha=function(t){return t["float"](0)},_s.get_pixelHinting=function(t){return t.bool(0)},_s.get_scaleMode=function(t){return t.obj(1)},_s.get_caps=function(t){return t.obj(2)},_s.get_joints=function(t){return t.obj(3)},_s.get_miterLimit=function(t){return t["float"](1)};var hs={};s["openfl._internal.renderer._DrawCommandReader.LineToView_Impl_"]=hs,hs.__name__=["openfl","_internal","renderer","_DrawCommandReader","LineToView_Impl_"],hs.__properties__={get_y:"get_y",get_x:"get_x"},hs._new=function(t){return t},hs.get_x=function(t){return t["float"](0)},hs.get_y=function(t){return t["float"](1)};var cs={};s["openfl._internal.renderer._DrawCommandReader.MoveToView_Impl_"]=cs,cs.__name__=["openfl","_internal","renderer","_DrawCommandReader","MoveToView_Impl_"],cs.__properties__={get_y:"get_y",get_x:"get_x"},cs._new=function(t){return t},cs.get_x=function(t){return t["float"](0)},cs.get_y=function(t){return t["float"](1)};var us={};s["openfl._internal.renderer._DrawCommandReader.OverrideMatrixView_Impl_"]=us,us.__name__=["openfl","_internal","renderer","_DrawCommandReader","OverrideMatrixView_Impl_"],us.__properties__={get_matrix:"get_matrix"},us._new=function(t){return t},us.get_matrix=function(t){return t.obj(0)};var ds=s["openfl._internal.renderer.DrawCommandType"]={__ename__:["openfl","_internal","renderer","DrawCommandType"],__constructs__:["BEGIN_BITMAP_FILL","BEGIN_FILL","BEGIN_GRADIENT_FILL","CUBIC_CURVE_TO","CURVE_TO","DRAW_CIRCLE","DRAW_ELLIPSE","DRAW_PATH","DRAW_RECT","DRAW_ROUND_RECT","DRAW_TILES","DRAW_TRIANGLES","END_FILL","LINE_BITMAP_STYLE","LINE_GRADIENT_STYLE","LINE_STYLE","LINE_TO","MOVE_TO","OVERRIDE_MATRIX","UNKNOWN"]};ds.BEGIN_BITMAP_FILL=["BEGIN_BITMAP_FILL",0],ds.BEGIN_BITMAP_FILL.toString=r,ds.BEGIN_BITMAP_FILL.__enum__=ds,ds.BEGIN_FILL=["BEGIN_FILL",1],ds.BEGIN_FILL.toString=r,ds.BEGIN_FILL.__enum__=ds,ds.BEGIN_GRADIENT_FILL=["BEGIN_GRADIENT_FILL",2],ds.BEGIN_GRADIENT_FILL.toString=r,ds.BEGIN_GRADIENT_FILL.__enum__=ds,ds.CUBIC_CURVE_TO=["CUBIC_CURVE_TO",3],ds.CUBIC_CURVE_TO.toString=r,ds.CUBIC_CURVE_TO.__enum__=ds,ds.CURVE_TO=["CURVE_TO",4],ds.CURVE_TO.toString=r,ds.CURVE_TO.__enum__=ds,ds.DRAW_CIRCLE=["DRAW_CIRCLE",5],ds.DRAW_CIRCLE.toString=r,ds.DRAW_CIRCLE.__enum__=ds,ds.DRAW_ELLIPSE=["DRAW_ELLIPSE",6],ds.DRAW_ELLIPSE.toString=r,ds.DRAW_ELLIPSE.__enum__=ds,ds.DRAW_PATH=["DRAW_PATH",7],ds.DRAW_PATH.toString=r,ds.DRAW_PATH.__enum__=ds,ds.DRAW_RECT=["DRAW_RECT",8],ds.DRAW_RECT.toString=r,ds.DRAW_RECT.__enum__=ds,ds.DRAW_ROUND_RECT=["DRAW_ROUND_RECT",9],ds.DRAW_ROUND_RECT.toString=r,ds.DRAW_ROUND_RECT.__enum__=ds,ds.DRAW_TILES=["DRAW_TILES",10],ds.DRAW_TILES.toString=r,ds.DRAW_TILES.__enum__=ds,ds.DRAW_TRIANGLES=["DRAW_TRIANGLES",11],ds.DRAW_TRIANGLES.toString=r,ds.DRAW_TRIANGLES.__enum__=ds,ds.END_FILL=["END_FILL",12],ds.END_FILL.toString=r,ds.END_FILL.__enum__=ds,ds.LINE_BITMAP_STYLE=["LINE_BITMAP_STYLE",13],ds.LINE_BITMAP_STYLE.toString=r,ds.LINE_BITMAP_STYLE.__enum__=ds,ds.LINE_GRADIENT_STYLE=["LINE_GRADIENT_STYLE",14],ds.LINE_GRADIENT_STYLE.toString=r,ds.LINE_GRADIENT_STYLE.__enum__=ds,ds.LINE_STYLE=["LINE_STYLE",15],ds.LINE_STYLE.toString=r,ds.LINE_STYLE.__enum__=ds,ds.LINE_TO=["LINE_TO",16],ds.LINE_TO.toString=r,ds.LINE_TO.__enum__=ds,ds.MOVE_TO=["MOVE_TO",17],ds.MOVE_TO.toString=r,ds.MOVE_TO.__enum__=ds,ds.OVERRIDE_MATRIX=["OVERRIDE_MATRIX",18],ds.OVERRIDE_MATRIX.toString=r,ds.OVERRIDE_MATRIX.__enum__=ds,ds.UNKNOWN=["UNKNOWN",19],ds.UNKNOWN.toString=r,ds.UNKNOWN.__enum__=ds;var ms=function(){};s["openfl._internal.renderer.GraphicsPaths"]=ms,ms.__name__=["openfl","_internal","renderer","GraphicsPaths"],ms.ellipse=function(t,e,i,n,a,s){for(var r=2*Math.PI/s,o=0,l=s+1;o<l;){var _=o++;t.push(e+Math.sin(r*_)*n),t.push(i+Math.cos(r*_)*a)}},ms.cubicCurveTo=function(t,e,i,n,a,s,r){for(var o=20,l=0,_=0,h=0,c=0,u=0,d=t[t.length-2],m=t[t.length-1],f=0,p=0,g=0,v=1,y=o+1;v<y;){var x=v++;g=x/o,l=1-g,_=l*l,h=_*l,c=g*g,u=c*g,f=h*d+3*_*g*e+3*l*c*n+u*s,p=h*m+3*_*g*i+3*l*c*a+u*r,t.push(f),t.push(p)}},ms.curveTo=function(t,e,i,n,a){for(var s=0,r=0,o=20,l=t[t.length-2],_=t[t.length-1],h=0,c=0,u=0,d=1,m=o+1;d<m;){var f=d++;u=f/o,s=l+(e-l)*u,r=_+(i-_)*u,h=s+(e+(n-e)*u-s)*u,c=r+(i+(a-i)*u-r)*u,t.push(h),t.push(c)}},ms.roundRectangle=function(t,e,i,n,a,s,r){var o=e+n,l=i+a,_=-s+s*ms.SIN45,h=-s+s*ms.TAN22,c=-r+r*ms.SIN45,u=-r+r*ms.TAN22;t.push(o),t.push(l-r),ms.curveTo(t,o,l+u,o+_,l+c),ms.curveTo(t,o+h,l,o-s,l),t.push(e+s),t.push(l),ms.curveTo(t,e-h,l,e-_,l+c),ms.curveTo(t,e,l+u,e,l-r),t.push(e),t.push(i+r),ms.curveTo(t,e,i-u,e-_,i-c),ms.curveTo(t,e-h,i,e+s,i),t.push(o-s),t.push(i),ms.curveTo(t,o+h,i,o+_,i-c),ms.curveTo(t,o,i-u,o,i+r),t.push(o),t.push(l-r)};var fs=function(){};s["openfl._internal.renderer.PolyK"]=fs,fs.__name__=["openfl","_internal","renderer","PolyK"],fs.triangulate=function(t,e){var i=!0,n=e.length>>1;if(n<3)return[];for(var a,s=[],r=0;r<n;){var o=r++;s.push(o)}a=s;for(var l=0,_=n,h=!1;_>3;){var c=a[l%_],u=a[(l+1)%_],d=a[(l+2)%_],m=e[2*c],f=e[2*c+1],p=e[2*u],g=e[2*u+1],v=e[2*d],y=e[2*d+1];if(h=!1,fs._convex(m,f,p,g,v,y,i)){h=!0;for(var x=0;x<_;){var b=x++,w=a[b];if(w!=c&&w!=u&&w!=d&&fs._PointInTriangle(e[2*w],e[2*w+1],m,f,p,g,v,y)){h=!1;break}}}if(h)t.push(c),t.push(u),t.push(d),a.splice((l+1)%_,1),_--,l=0;else if(l++>3*_){if(!i)return We.trace("Warning: shape too complex to fill",{fileName:"PolyK.hx",lineNumber:104,className:"openfl._internal.renderer.PolyK",methodName:"triangulate"}),[];t=[];for(var T=[],A=0;A<n;){var E=A++;T.push(E)}a=T,l=0,_=n,i=!1}}return t.push(a[0]),t.push(a[1]),t.push(a[2]),t},fs._PointInTriangle=function(t,e,i,n,a,s,r,o){var l=r-i|0,_=o-n|0,h=a-i|0,c=s-n|0,u=t-i|0,d=e-n|0,m=l*l+_*_,f=l*h+_*c,p=l*u+_*d,g=h*h+c*c,v=h*u+c*d,y=1/(m*g-f*f),x=(g*p-f*v)*y,b=(m*v-f*p)*y;return x>=0&&b>=0&&x+b<1},fs._convex=function(t,e,i,n,a,s,r){return(e-n)*(a-i)+(i-t)*(s-n)>=0==r};var ps=function(){this.activeTextures=0};s["openfl._internal.renderer.RenderSession"]=ps,ps.__name__=["openfl","_internal","renderer","RenderSession"],ps.prototype={__class__:ps};var gs=function(){};s["openfl._internal.renderer.cairo.CairoBitmap"]=gs,gs.__name__=["openfl","_internal","renderer","cairo","CairoBitmap"],gs.render=function(t,e){if(t.__renderable&&!(t.__worldAlpha<=0)){var i=e.cairo;if(null!=t.bitmapData&&t.bitmapData.__isValid){null!=t.__mask&&e.maskManager.pushMask(t.__mask);var n=t.__renderTransform,a=t.get_scrollRect();if(e.roundPixels){var s=n.__toMatrix3();s.tx=Math.round(s.tx),s.ty=Math.round(s.ty),i.set_matrix(s)}else i.set_matrix(n.__toMatrix3());var r=t.bitmapData.getSurface();if(null!=r){var o=gn.createForSurface(r);gn.set_filter(o,t.smoothing?1:3),null!=a?(i.pushGroup(),i.set_source(o),i.newPath(),i.rectangle(a.x,a.y,a.width,a.height),i.fill(),i.popGroupToSource()):i.set_source(o),1==t.__worldAlpha?i.paint():i.paintWithAlpha(t.__worldAlpha)}null!=t.__mask&&e.maskManager.popMask()}}};var vs=function(){};s["openfl._internal.renderer.cairo.CairoGraphics"]=vs,vs.__name__=["openfl","_internal","renderer","cairo","CairoGraphics"],vs.bitmapFill=null,vs.bitmapRepeat=null,vs.bounds=null,vs.cairo=null,vs.fillPattern=null,vs.fillPatternMatrix=null,vs.graphics=null,vs.hasFill=null,vs.hasStroke=null,vs.hitTesting=null,vs.inversePendingMatrix=null,vs.pendingMatrix=null,vs.strokePattern=null,vs.closePath=function(){null!=vs.strokePattern&&(vs.cairo.closePath(),vs.cairo.set_source(vs.strokePattern),vs.hitTesting||vs.cairo.strokePreserve(),vs.cairo.newPath())},vs.createGradientPattern=function(t,e,i,n,a,s,r,o){var l=null;switch(t){case 1:null==a&&(a=new ka);var _=a.transformPoint(new Oa(1638.4,0)),h=a.tx+vs.graphics.__bounds.x,c=a.ty+vs.graphics.__bounds.y;l=gn.createRadial(h,c,0,h,c,(_.x-a.tx)/2);break;case 0:null==a&&(a=new ka);var u=a.transformPoint(new Oa((-819.2),0)),d=a.transformPoint(new Oa(819.2,0));u.x+=vs.graphics.__bounds.x,d.x+=vs.graphics.__bounds.x,u.y+=vs.graphics.__bounds.y,d.y+=vs.graphics.__bounds.y,l=gn.createLinear(u.x,u.y,d.x,d.y)}for(var m=0,f=e.length;m<f;){var p=m++,g=e[p],v=i[p],y=((16711680&g)>>>16)/255,x=((65280&g)>>>8)/255,b=(255&g)/255,w=n[p]/255;w<0&&(w=0),w>1&&(w=1),gn.addColorStopRGBA(l,w,y,x,b,v)}var T=gn.get_matrix(l);return T.tx=vs.bounds.x,T.ty=vs.bounds.y,gn.set_matrix(l,T),l},vs.createImagePattern=function(t,e,i){var n=gn.createForSurface(t.getSurface());return i&&gn.set_extend(n,1),vs.fillPatternMatrix=e,n},vs.drawRoundRect=function(t,e,i,n,a,s){null==s&&(s=a),a*=.5,s*=.5,a>i/2&&(a=i/2),s>n/2&&(s=n/2);var r=t+i,o=e+n,l=-a+a*vs.SIN45,_=-a+a*vs.TAN22,h=-s+s*vs.SIN45,c=-s+s*vs.TAN22;vs.cairo.moveTo(r,o-s),vs.quadraticCurveTo(r,o+c,r+l,o+h),vs.quadraticCurveTo(r+_,o,r-a,o),vs.cairo.lineTo(t+a,o),vs.quadraticCurveTo(t-_,o,t-l,o+h),vs.quadraticCurveTo(t,o+c,t,o-s),vs.cairo.lineTo(t,e+s),vs.quadraticCurveTo(t,e-c,t-l,e-h),vs.quadraticCurveTo(t-_,e,t+a,e),vs.cairo.lineTo(r-a,e),vs.quadraticCurveTo(r+_,e,r+l,e-h),vs.quadraticCurveTo(r,e-c,r,e+s),vs.cairo.lineTo(r,o-s)},vs.endFill=function(){vs.cairo.newPath(),vs.playCommands(vs.fillCommands,!1),vs.fillCommands.clear()},vs.endStroke=function(){vs.cairo.newPath(),vs.playCommands(vs.strokeCommands,!0),vs.cairo.closePath(),vs.strokeCommands.clear()},vs.hitTest=function(t,e,i){return!1},vs.isCCW=function(t,e,i,n,a,s){return(i-t)*(s-e)-(n-e)*(a-t)<0},vs.normalizeUVT=function(t,e){null==e&&(e=!1);for(var i=-(1/0),n=-(1/0),a=t.length,s=1,r=a+1;s<r;){var o=s++;e&&o%3==0||(n=t.data[o-1],i<n&&(i=n))}var l,_;_=new Wa;var h;h=new Array(0),_.data=h,_.length=0,_.fixed=!1,l=_;for(var c=1,u=a+1;c<u;){var d=c++;if(!e||d%3!=0){if(!l.fixed){if(l.length++,l.data.length<l.length){var m,f;f=new Array(l.data.length+10),m=f,$e.blit(l.data,0,m,0,l.data.length),l.data=m}l.data[l.length-1]=t.data[d-1]/i}l.length}}return{max:i,uvt:l}},vs.playCommands=function(t,e){if(null==e&&(e=!1),0!=t.get_length()){vs.bounds=vs.graphics.__bounds;var i=vs.bounds.x,n=vs.bounds.y,a=0,s=0,r=!1,o=0,l=0;vs.cairo.set_fillRule(1),vs.cairo.set_antialias(3);var _=!1,h=new Ka(t),c=0,u=t.types;try{for(;c<u.length;){var d=u[c];switch(++c,d[1]){case 3:var m=h.readCubicCurveTo();_=!0,vs.cairo.curveTo(Za.get_controlX1(m)-i,Za.get_controlY1(m)-n,Za.get_controlX2(m)-i,Za.get_controlY2(m)-n,Za.get_anchorX(m)-i,Za.get_anchorY(m)-n);break;case 4:var f=h.readCurveTo();_=!0,vs.quadraticCurveTo(Qa.get_controlX(f)-i,Qa.get_controlY(f)-n,Qa.get_anchorX(f)-i,Qa.get_anchorY(f)-n);break;case 5:var p=h.readDrawCircle();_=!0,vs.cairo.moveTo($a.get_x(p)-i+$a.get_radius(p),$a.get_y(p)-n),vs.cairo.arc($a.get_x(p)-i,$a.get_y(p)-n,$a.get_radius(p),0,2*Math.PI);break;case 8:var g=h.readDrawRect();_=!0,vs.cairo.rectangle(is.get_x(g)-i,is.get_y(g)-n,is.get_width(g),is.get_height(g));break;case 6:var v=h.readDrawEllipse();_=!0;var y=ts.get_x(v),x=ts.get_y(v),b=ts.get_width(v),w=ts.get_height(v);y-=i,x-=n;var T=.5522848,A=b/2*T,E=w/2*T,S=y+b,C=x+w,I=y+b/2,L=x+w/2;vs.cairo.moveTo(y,L),vs.cairo.curveTo(y,L-E,I-A,x,I,x),vs.cairo.curveTo(I+A,x,S,L-E,S,L),vs.cairo.curveTo(S,L+E,I+A,C,I,C),vs.cairo.curveTo(I-A,C,y,L+E,y,L);break;case 9:var M=h.readDrawRoundRect();_=!0,vs.drawRoundRect(ns.get_x(M)-i,ns.get_y(M)-n,ns.get_width(M),ns.get_height(M),ns.get_ellipseWidth(M),ns.get_ellipseHeight(M));break;case 16:var B=h.readLineTo();_=!0,vs.cairo.lineTo(hs.get_x(B)-i,hs.get_y(B)-n),a=hs.get_x(B),s=hs.get_y(B);break;case 17:var R=h.readMoveTo();vs.cairo.moveTo(cs.get_x(R)-i,cs.get_y(R)-n),a=cs.get_x(R),s=cs.get_y(R),r=!0,o=cs.get_x(R),l=cs.get_y(R);break;case 15:var D=h.readLineStyle();if(e&&vs.hasStroke&&vs.closePath(),vs.cairo.moveTo(a-i,s-n),null==_s.get_thickness(D))vs.hasStroke=!1;else{vs.hasStroke=!0,vs.cairo.set_lineWidth(_s.get_thickness(D)>0?_s.get_thickness(D):1),null==_s.get_joints(D)?vs.cairo.set_lineJoin(1):vs.cairo.set_lineJoin(function(t){var e,i=_s.get_joints(D);return e=function(t){var e;switch(i){case 1:e=0;break;
case 0:e=2;break;default:e=1}return e}(t)}(this)),null==_s.get_caps(D)?vs.cairo.set_lineCap(1):vs.cairo.set_lineCap(function(t){var e,i=_s.get_caps(D);return e=function(t){var e;switch(i){case 0:e=0;break;case 2:e=2;break;default:e=1}return e}(t)}(this)),vs.cairo.set_miterLimit(_s.get_miterLimit(D));var P=((16711680&_s.get_color(D))>>>16)/255,N=((65280&_s.get_color(D))>>>8)/255,F=(255&_s.get_color(D))/255;1==_s.get_alpha(D)?vs.strokePattern=gn.createRGB(P,N,F):vs.strokePattern=gn.createRGBA(P,N,F,_s.get_alpha(D))}break;case 14:var k=h.readLineGradientStyle();e&&vs.hasStroke&&vs.closePath(),vs.cairo.moveTo(a-i,s-n),vs.strokePattern=vs.createGradientPattern(ls.get_type(k),ls.get_colors(k),ls.get_alphas(k),ls.get_ratios(k),ls.get_matrix(k),ls.get_spreadMethod(k),ls.get_interpolationMethod(k),ls.get_focalPointRatio(k)),vs.hasStroke=!0;break;case 13:var O=h.readLineBitmapStyle();e&&vs.hasStroke&&vs.closePath(),vs.cairo.moveTo(a-i,s-n),vs.strokePattern=vs.createImagePattern(os.get_bitmap(O),os.get_matrix(O),os.get_repeat(O)),vs.hasStroke=!0;break;case 0:var U=h.readBeginBitmapFill();vs.fillPattern=vs.createImagePattern(ja.get_bitmap(U),ja.get_matrix(U),ja.get_repeat(U)),vs.bitmapFill=ja.get_bitmap(U),vs.bitmapRepeat=ja.get_repeat(U),vs.hasFill=!0;break;case 1:var V=h.readBeginFill();qa.get_alpha(V)<.005?vs.hasFill=!1:(null!=vs.fillPattern&&(vs.fillPatternMatrix=null),vs.fillPattern=gn.createRGBA(((16711680&qa.get_color(V))>>>16)/255,((65280&qa.get_color(V))>>>8)/255,(255&qa.get_color(V))/255,qa.get_alpha(V)),vs.hasFill=!0),vs.bitmapFill=null;break;case 2:var W=h.readBeginGradientFill();null!=vs.fillPattern&&(vs.fillPatternMatrix=null),vs.fillPattern=vs.createGradientPattern(Ja.get_type(W),Ja.get_colors(W),Ja.get_alphas(W),Ja.get_ratios(W),Ja.get_matrix(W),Ja.get_spreadMethod(W),Ja.get_interpolationMethod(W),Ja.get_focalPointRatio(W)),vs.hasFill=!0,vs.bitmapFill=null;break;case 11:var X=h.readDrawTriangles(),z=ss.get_vertices(X),H=ss.get_indices(X),Y=ss.get_uvtData(X),K=null==vs.bitmapFill;if(K&&null!=Y)throw"__break__";var j=0,q=0;if(!K){if(null==Y){var J;J=new Wa;var Z;Z=new Array(0),J.data=Z,J.length=0,J.fixed=!1,Y=J;for(var Q=0,$=z.length/2|0;Q<$;){var tt=Q++;if(!Y.fixed){if(Y.length++,Y.data.length<Y.length){var et,it;it=new Array(Y.data.length+10),et=it,$e.blit(Y.data,0,et,0,Y.data.length),Y.data=et}Y.data[Y.length-1]=z.data[2*tt]/vs.bitmapFill.width}if(Y.length,!Y.fixed){if(Y.length++,Y.data.length<Y.length){var nt,at;at=new Array(Y.data.length+10),nt=at,$e.blit(Y.data,0,nt,0,Y.data.length),Y.data=nt}Y.data[Y.length-1]=z.data[2*tt+1]/vs.bitmapFill.height}Y.length}}var st;st=function(t){var e,i=ss.get_uvtData(X);return e=i.length}(this)!=z.length;var rt=vs.normalizeUVT(Y,st),ot=rt.max;Y=rt.uvt,ot>1?(j=0|vs.bounds.width,q=0|vs.bounds.height):(j=vs.bitmapFill.width,q=vs.bitmapFill.height)}var lt,_t,ht,ct,ut,dt,mt,ft,pt,gt,vt,yt,xt,bt,wt,Tt,At,Et,St,Ct,It,Lt,Mt,Bt,Rt,Dt,Pt,Nt,Ft=0,kt=H.length;for(vs.cairo.set_antialias(1);Ft<kt;){lt=Ft,_t=Ft+1,ht=Ft+2,ct=2*H.data[lt],ut=2*H.data[lt]+1,dt=2*H.data[_t],mt=2*H.data[_t]+1,ft=2*H.data[ht],pt=2*H.data[ht]+1,gt=z.data[ct],vt=z.data[ut],yt=z.data[dt],xt=z.data[mt],bt=z.data[ft],wt=z.data[pt];var Ot=ss.get_culling(X);switch(Ot){case 2:if(!((yt-gt)*(wt-vt)-(xt-vt)*(bt-gt)<0)){Ft+=3;continue}break;case 0:if((yt-gt)*(wt-vt)-(xt-vt)*(bt-gt)<0){Ft+=3;continue}}if(K)vs.cairo.newPath(),vs.cairo.moveTo(gt,vt),vs.cairo.lineTo(yt,xt),vs.cairo.lineTo(bt,wt),vs.cairo.closePath(),vs.hitTesting||vs.cairo.fillPreserve(),Ft+=3;else if(vs.cairo.identityMatrix(),vs.cairo.newPath(),vs.cairo.moveTo(gt,vt),vs.cairo.lineTo(yt,xt),vs.cairo.lineTo(bt,wt),vs.cairo.closePath(),Tt=Y.data[ct]*j,Et=Y.data[dt]*j,Ct=Y.data[ft]*j,At=Y.data[ut]*q,St=Y.data[mt]*q,It=Y.data[pt]*q,Lt=Tt*(It-St)-Et*It+Ct*St+(Et-Ct)*At,0!=Lt){Mt=-(At*(bt-yt)-St*bt+It*yt+(St-It)*gt)/Lt,Bt=(St*wt+At*(xt-wt)-It*xt+(It-St)*vt)/Lt,Rt=(Tt*(bt-yt)-Et*bt+Ct*yt+(Et-Ct)*gt)/Lt,Dt=-(Et*wt+Tt*(xt-wt)-Ct*xt+(Ct-Et)*vt)/Lt,Pt=(Tt*(It*yt-St*bt)+At*(Et*bt-Ct*yt)+(Ct*St-Et*It)*gt)/Lt,Nt=(Tt*(It*xt-St*wt)+At*(Et*wt-Ct*xt)+(Ct*St-Et*It)*vt)/Lt;var Ut=new Dn(Mt,Bt,Rt,Dt,Pt,Nt);vs.cairo.set_matrix(Ut),vs.cairo.set_source(vs.fillPattern),vs.hitTesting||vs.cairo.fill(),Ft+=3}else Ft+=3}break;case 10:var Vt=h.readDrawTiles(),Gt=(1&as.get_flags(Vt))>0,Wt=(2&as.get_flags(Vt))>0,Xt=vs.bounds.x,zt=vs.bounds.y,Ht=(16&as.get_flags(Vt))>0,Yt=(4&as.get_flags(Vt))>0,Kt=(8&as.get_flags(Vt))>0,jt=(32&as.get_flags(Vt))>0,qt=(64&as.get_flags(Vt))>0,Jt=(65536&as.get_flags(Vt))>0,Zt=(4194304&as.get_flags(Vt))>0;Ht&&(Gt=!1,Wt=!1);var Qt=0,$t=0,te=0,ee=0,ie=0,ne=3;jt&&(ne=qt?8:6),Gt&&(Qt=ne,ne++),Wt&&($t=ne,ne++),Ht&&(ie=ne,ne+=4),Yt&&(te=ne,ne+=3),Kt&&(ee=ne,ne++);var ae=as.get_tileData(Vt).length;as.get_count(Vt)>=0&&ae>as.get_count(Vt)&&(ae=as.get_count(Vt));var se,re=0,oe=null,le=null,_e=-1;for(as.get_sheet(Vt).__bitmap.__sync(),se=as.get_sheet(Vt).__bitmap.getSurface(),vs.cairo.save(),Jt&&vs.cairo.set_operator(12),Zt&&vs.cairo.set_operator(16);re<ae;){var he,ce=G["int"](as.get_tileData(Vt)[re+2]);if(he=jt?-1:ce,jt||he==_e?jt&&(oe=as.get_sheet(Vt).__rectTile,oe.setTo(as.get_tileData(Vt)[re+2],as.get_tileData(Vt)[re+3],as.get_tileData(Vt)[re+4],as.get_tileData(Vt)[re+5]),le=as.get_sheet(Vt).__point,qt?le.setTo(as.get_tileData(Vt)[re+6],as.get_tileData(Vt)[re+7]):le.setTo(0,0)):(oe=as.get_sheet(Vt).__tileRects[he],le=as.get_sheet(Vt).__centerPoints[he],_e=he),null!=oe&&oe.width>0&&oe.height>0&&null!=le){if(vs.cairo.identityMatrix(),Ht){var ue=new Dn(as.get_tileData(Vt)[re+ie],as.get_tileData(Vt)[re+ie+1],as.get_tileData(Vt)[re+ie+2],as.get_tileData(Vt)[re+ie+3],0,0);vs.cairo.set_matrix(ue)}if(vs.cairo.translate(as.get_tileData(Vt)[re]-Xt,as.get_tileData(Vt)[re+1]-zt),Wt&&vs.cairo.rotate(as.get_tileData(Vt)[re+$t]),Gt){var de=as.get_tileData(Vt)[re+Qt];vs.cairo.scale(de,de)}vs.cairo.setSourceSurface(se,0,0),Kt?vs.hitTesting||vs.cairo.paintWithAlpha(as.get_tileData(Vt)[re+ee]):vs.hitTesting||vs.cairo.paint()}re+=ne}(Jt||Zt)&&vs.cairo.set_operator(2),vs.cairo.restore();break;default:h.skip(d)}}}catch(me){if("__break__"!=me)throw me}if(h.destroy(),_&&(e&&vs.hasStroke&&(vs.hasFill&&r?vs.cairo.lineTo(o-i,l-n):r&&a==o&&s==l&&vs.cairo.closePath(),vs.cairo.set_source(vs.strokePattern),vs.hitTesting||vs.cairo.strokePreserve()),!e&&vs.hasFill)){if(vs.cairo.translate(-vs.bounds.x,-vs.bounds.y),null!=vs.fillPatternMatrix){var fe=vs.fillPatternMatrix.clone();fe.invert(),null!=vs.pendingMatrix&&fe.concat(vs.pendingMatrix),gn.set_matrix(vs.fillPattern,fe.__toMatrix3())}vs.cairo.set_source(vs.fillPattern),null!=vs.pendingMatrix?(vs.cairo.transform(vs.pendingMatrix.__toMatrix3()),vs.hitTesting||vs.cairo.fillPreserve(),vs.cairo.transform(vs.inversePendingMatrix.__toMatrix3())):vs.hitTesting||vs.cairo.fillPreserve(),vs.cairo.translate(vs.bounds.x,vs.bounds.y),vs.cairo.closePath()}}},vs.quadraticCurveTo=function(t,e,i,n){var a=null;vs.cairo.get_hasCurrentPoint()?a=vs.cairo.get_currentPoint():(vs.cairo.moveTo(t,e),a=new Fn(t,e));var s=a.x+.6666666666666666*(t-a.x),r=a.y+.6666666666666666*(e-a.y),o=i+.6666666666666666*(t-i),l=n+.6666666666666666*(e-n);vs.cairo.curveTo(s,r,o,l,i,n)},vs.render=function(t,e){},vs.renderMask=function(t,e){if(0!=t.__commands.get_length()){for(var i=e.cairo,n=0,a=0,s=0,r=0,o=new Ka(t.__commands),l=0,_=t.__commands.types;l<_.length;){var h=_[l];switch(++l,h[1]){case 3:var c=o.readCubicCurveTo();i.curveTo(Za.get_controlX1(c)-s,Za.get_controlY1(c)-r,Za.get_controlX2(c)-s,Za.get_controlY2(c)-r,Za.get_anchorX(c)-s,Za.get_anchorY(c)-r),n=Za.get_anchorX(c),a=Za.get_anchorX(c);break;case 4:var u=o.readCurveTo();vs.quadraticCurveTo(Qa.get_controlX(u)-s,Qa.get_controlY(u)-r,Qa.get_anchorX(u)-s,Qa.get_anchorY(u)-r),n=Qa.get_anchorX(u),a=Qa.get_anchorY(u);break;case 5:var d=o.readDrawCircle();i.arc($a.get_x(d)-s,$a.get_y(d)-r,$a.get_radius(d),0,2*Math.PI);break;case 6:var m=o.readDrawEllipse(),f=ts.get_x(m),p=ts.get_y(m),g=ts.get_width(m),v=ts.get_height(m);f-=s,p-=r;var y=.5522848,x=g/2*y,b=v/2*y,w=f+g,T=p+v,A=f+g/2,E=p+v/2;i.moveTo(f,E),i.curveTo(f,E-b,A-x,p,A,p),i.curveTo(A+x,p,w,E-b,w,E),i.curveTo(w,E+b,A+x,T,A,T),i.curveTo(A-x,T,f,E+b,f,E);break;case 8:var S=o.readDrawRect();i.rectangle(is.get_x(S)-s,is.get_y(S)-r,is.get_width(S),is.get_height(S));break;case 9:var C=o.readDrawRoundRect();vs.drawRoundRect(ns.get_x(C)-s,ns.get_y(C)-r,ns.get_width(C),ns.get_height(C),ns.get_ellipseWidth(C),ns.get_ellipseHeight(C));break;case 16:var I=o.readLineTo();i.lineTo(hs.get_x(I)-s,hs.get_y(I)-r),n=hs.get_x(I),a=hs.get_y(I);break;case 17:var L=o.readMoveTo();i.moveTo(cs.get_x(L)-s,cs.get_y(L)-r),n=cs.get_x(L),a=cs.get_y(L);break;default:o.skip(h)}}o.destroy()}};var ys=function(t){za.call(this,t)};s["openfl._internal.renderer.cairo.CairoMaskManager"]=ys,ys.__name__=["openfl","_internal","renderer","cairo","CairoMaskManager"],ys.__super__=za,ys.prototype=n(za.prototype,{pushMask:function(t){var e=this.renderSession.cairo;e.save();var i=t.__getWorldTransform();e.set_matrix(i.__toMatrix3()),e.newPath(),t.__renderCairoMask(this.renderSession),e.clip()},pushRect:function(t,e){var i=this.renderSession.cairo;i.save(),i.set_matrix(new Dn(e.a,e.c,e.b,e.d,e.tx,e.ty)),i.newPath(),i.rectangle(t.x,t.y,t.width,t.height),i.clip()},popMask:function(){this.renderSession.cairo.restore()},popRect:function(){this.renderSession.cairo.restore()},__class__:ys});var xs=function(t,e,i){Ha.call(this,t,e),this.cairo=i,this.renderSession=new ps,this.renderSession.cairo=i,this.renderSession.roundPixels=!0,this.renderSession.renderer=this,this.renderSession.maskManager=new ys(this.renderSession)};s["openfl._internal.renderer.cairo.CairoRenderer"]=xs,xs.__name__=["openfl","_internal","renderer","cairo","CairoRenderer"],xs.__super__=Ha,xs.prototype=n(Ha.prototype,{render:function(t){this.cairo.identityMatrix(),t.__clearBeforeRender&&(this.cairo.setSourceRGB(t.__colorSplit[0],t.__colorSplit[1],t.__colorSplit[2]),this.cairo.paint()),t.__renderCairo(this.renderSession)},renderDisplayObject:function(t){this.cairo.identityMatrix(),t.__renderCairo(this.renderSession)},__class__:xs});var bs=function(){};s["openfl._internal.renderer.cairo.CairoShape"]=bs,bs.__name__=["openfl","_internal","renderer","cairo","CairoShape"],bs.render=function(t,e){};var ws=function(){};s["openfl._internal.renderer.cairo.CairoTextField"]=ws,ws.__name__=["openfl","_internal","renderer","cairo","CairoTextField"],ws.render=function(t,e){};var Ts=function(){};s["openfl._internal.renderer.canvas.CanvasBitmap"]=Ts,Ts.__name__=["openfl","_internal","renderer","canvas","CanvasBitmap"],Ts.render=function(t,e){if(t.__renderable&&!(t.__worldAlpha<=0)){var i=e.context;if(null!=t.bitmapData&&t.bitmapData.__isValid){null!=t.__mask&&e.maskManager.pushMask(t.__mask),t.bitmapData.__sync(),i.globalAlpha=t.__worldAlpha;var n=t.__renderTransform,a=t.get_scrollRect();e.roundPixels?i.setTransform(n.a,n.b,n.c,n.d,0|n.tx,0|n.ty):i.setTransform(n.a,n.b,n.c,n.d,n.tx,n.ty),t.smoothing||(i.mozImageSmoothingEnabled=!1,i.msImageSmoothingEnabled=!1,i.imageSmoothingEnabled=!1),null==a?i.drawImage(t.bitmapData.image.get_src(),0,0):i.drawImage(t.bitmapData.image.get_src(),a.x,a.y,a.width,a.height,a.x,a.y,a.width,a.height),t.smoothing||(i.mozImageSmoothingEnabled=!0,i.msImageSmoothingEnabled=!0,i.imageSmoothingEnabled=!0),null!=t.__mask&&e.maskManager.popMask()}}};var As=function(){};s["openfl._internal.renderer.canvas.CanvasGraphics"]=As,As.__name__=["openfl","_internal","renderer","canvas","CanvasGraphics"],As.bitmapFill=null,As.bitmapStroke=null,As.bitmapRepeat=null,As.bounds=null,As.graphics=null,As.hasFill=null,As.hasStroke=null,As.hitTesting=null,As.inversePendingMatrix=null,As.pendingMatrix=null,As.context=null,As.closePath=function(){null!=As.context.strokeStyle&&(As.context.closePath(),As.context.stroke(),As.context.beginPath())},As.createBitmapFill=function(t,e){return t.__sync(),As.context.createPattern(t.image.get_src(),e?"repeat":"no-repeat")},As.createGradientPattern=function(t,e,i,n,a,s,r,o){var l=null;switch(t){case 1:null==a&&(a=new ka);var _=a.transformPoint(new Oa(1638.4,0));l=As.context.createRadialGradient(a.tx,a.ty,0,a.tx,a.ty,(_.x-a.tx)/2);break;case 0:var h;h=null!=a?a:new ka;var c=h.transformPoint(new Oa((-819.2),0)),u=h.transformPoint(new Oa(819.2,0));l=As.context.createLinearGradient(c.x,c.y,u.x,u.y)}for(var d=0,m=e.length;d<m;){var f=d++,p=e[f],g=i[f],v=(16711680&p)>>>16,y=(65280&p)>>>8,x=255&p,b=n[f]/255;b<0&&(b=0),b>1&&(b=1),l.addColorStop(b,"rgba("+v+", "+y+", "+x+", "+g+")")}return l},As.createTempPatternCanvas=function(t,e,i,n){var a=window.document.createElement("canvas"),s=a.getContext("2d");return a.width=i,a.height=n,s.fillStyle=s.createPattern(t.image.get_src(),e?"repeat":"no-repeat"),s.beginPath(),s.moveTo(0,0),s.lineTo(0,n),s.lineTo(i,n),s.lineTo(i,0),s.lineTo(0,0),s.closePath(),As.hitTesting||s.fill(),a},As.drawRoundRect=function(t,e,i,n,a,s){null==s&&(s=a),a*=.5,s*=.5,a>i/2&&(a=i/2),s>n/2&&(s=n/2);var r=t+i,o=e+n,l=-a+a*As.SIN45,_=-a+a*As.TAN22,h=-s+s*As.SIN45,c=-s+s*As.TAN22;As.context.moveTo(r,o-s),As.context.quadraticCurveTo(r,o+c,r+l,o+h),As.context.quadraticCurveTo(r+_,o,r-a,o),As.context.lineTo(t+a,o),As.context.quadraticCurveTo(t-_,o,t-l,o+h),As.context.quadraticCurveTo(t,o+c,t,o-s),As.context.lineTo(t,e+s),As.context.quadraticCurveTo(t,e-c,t-l,e-h),As.context.quadraticCurveTo(t-_,e,t+a,e),As.context.lineTo(r-a,e),As.context.quadraticCurveTo(r+_,e,r+l,e-h),As.context.quadraticCurveTo(r,e-c,r,e+s),As.context.lineTo(r,o-s)},As.endFill=function(){As.context.beginPath(),As.playCommands(As.fillCommands,!1),As.fillCommands.clear()},As.endStroke=function(){As.context.beginPath(),As.playCommands(As.strokeCommands,!0),As.context.closePath(),As.strokeCommands.clear()},As.hitTest=function(t,e,i){if(0==t.__commands.get_length()||null==As.bounds||As.bounds.width<=0||As.bounds.height<=0)return!1;As.hitTesting=!0,e-=As.bounds.x,i-=As.bounds.y,null==t.__canvas&&(t.__canvas=window.document.createElement("canvas"),t.__context=t.__canvas.getContext("2d")),As.context=t.__context,As.fillCommands.clear(),As.strokeCommands.clear(),As.hasFill=!1,As.hasStroke=!1,As.bitmapFill=null,As.bitmapRepeat=!1,As.context.beginPath();for(var n=new Ka(t.__commands),a=0,s=t.__commands.types;a<s.length;){var r=s[a];switch(++a,r[1]){case 3:var o=n.readCubicCurveTo();As.fillCommands.cubicCurveTo(Za.get_controlX1(o),Za.get_controlY1(o),Za.get_controlX2(o),Za.get_controlY2(o),Za.get_anchorX(o),Za.get_anchorY(o)),As.strokeCommands.cubicCurveTo(Za.get_controlX1(o),Za.get_controlY1(o),Za.get_controlX2(o),Za.get_controlY2(o),Za.get_anchorX(o),Za.get_anchorY(o));break;case 4:var l=n.readCurveTo();As.fillCommands.curveTo(Qa.get_controlX(l),Qa.get_controlY(l),Qa.get_anchorX(l),Qa.get_anchorY(l)),As.strokeCommands.curveTo(Qa.get_controlX(l),Qa.get_controlY(l),Qa.get_anchorX(l),Qa.get_anchorY(l));break;case 16:var _=n.readLineTo();As.fillCommands.lineTo(hs.get_x(_),hs.get_y(_)),As.strokeCommands.lineTo(hs.get_x(_),hs.get_y(_));break;case 17:var h=n.readMoveTo();As.fillCommands.moveTo(cs.get_x(h),cs.get_y(h)),As.strokeCommands.moveTo(cs.get_x(h),cs.get_y(h));break;case 14:var c=n.readLineGradientStyle();As.strokeCommands.lineGradientStyle(ls.get_type(c),ls.get_colors(c),ls.get_alphas(c),ls.get_ratios(c),ls.get_matrix(c),ls.get_spreadMethod(c),ls.get_interpolationMethod(c),ls.get_focalPointRatio(c));break;case 13:var u=n.readLineBitmapStyle();As.strokeCommands.lineBitmapStyle(os.get_bitmap(u),os.get_matrix(u),os.get_repeat(u),os.get_smooth(u));break;case 15:var d=n.readLineStyle();As.strokeCommands.lineStyle(_s.get_thickness(d),_s.get_color(d),1,_s.get_pixelHinting(d),_s.get_scaleMode(d),_s.get_caps(d),_s.get_joints(d),_s.get_miterLimit(d));break;case 12:if(n.readEndFill(),As.endFill(),As.endStroke(),As.hasFill&&As.context.isPointInPath(e,i))return n.destroy(),!0;if(As.hasStroke&&As.context.isPointInStroke(e,i))return n.destroy(),!0;As.hasFill=!1,As.bitmapFill=null;break;case 0:case 1:case 2:if(As.endFill(),As.endStroke(),As.hasFill&&As.context.isPointInPath(e,i))return n.destroy(),!0;if(As.hasStroke&&As.context.isPointInStroke(e,i))return n.destroy(),!0;if(r==ds.BEGIN_BITMAP_FILL){var m=n.readBeginBitmapFill();As.fillCommands.beginBitmapFill(ja.get_bitmap(m),ja.get_matrix(m),ja.get_repeat(m),ja.get_smooth(m)),As.strokeCommands.beginBitmapFill(ja.get_bitmap(m),ja.get_matrix(m),ja.get_repeat(m),ja.get_smooth(m))}else if(r==ds.BEGIN_GRADIENT_FILL){var f=n.readBeginGradientFill();As.fillCommands.beginGradientFill(Ja.get_type(f),Ja.get_colors(f),Ja.get_alphas(f),Ja.get_ratios(f),Ja.get_matrix(f),Ja.get_spreadMethod(f),Ja.get_interpolationMethod(f),Ja.get_focalPointRatio(f)),As.strokeCommands.beginGradientFill(Ja.get_type(f),Ja.get_colors(f),Ja.get_alphas(f),Ja.get_ratios(f),Ja.get_matrix(f),Ja.get_spreadMethod(f),Ja.get_interpolationMethod(f),Ja.get_focalPointRatio(f))}else{var p=n.readBeginFill();As.fillCommands.beginFill(qa.get_color(p),1),As.strokeCommands.beginFill(qa.get_color(p),1)}break;case 5:var g=n.readDrawCircle();As.fillCommands.drawCircle($a.get_x(g),$a.get_y(g),$a.get_radius(g)),As.strokeCommands.drawCircle($a.get_x(g),$a.get_y(g),$a.get_radius(g));break;case 6:var v=n.readDrawEllipse();As.fillCommands.drawEllipse(ts.get_x(v),ts.get_y(v),ts.get_width(v),ts.get_height(v)),As.strokeCommands.drawEllipse(ts.get_x(v),ts.get_y(v),ts.get_width(v),ts.get_height(v));break;case 8:var y=n.readDrawRect();As.fillCommands.drawRect(is.get_x(y),is.get_y(y),is.get_width(y),is.get_height(y)),As.strokeCommands.drawRect(is.get_x(y),is.get_y(y),is.get_width(y),is.get_height(y));break;case 9:var x=n.readDrawRoundRect();As.fillCommands.drawRoundRect(ns.get_x(x),ns.get_y(x),ns.get_width(x),ns.get_height(x),ns.get_ellipseWidth(x),ns.get_ellipseHeight(x)),As.strokeCommands.drawRoundRect(ns.get_x(x),ns.get_y(x),ns.get_width(x),ns.get_height(x),ns.get_ellipseWidth(x),ns.get_ellipseHeight(x));break;default:n.skip(r)}}return As.fillCommands.get_length()>0&&As.endFill(),As.strokeCommands.get_length()>0&&As.endStroke(),n.destroy(),!(!As.hasFill||!As.context.isPointInPath(e,i))||!(!As.hasStroke||!As.context.isPointInStroke(e,i))},As.isCCW=function(t,e,i,n,a,s){return(i-t)*(s-e)-(n-e)*(a-t)<0},As.normalizeUVT=function(t,e){null==e&&(e=!1);for(var i=-(1/0),n=-(1/0),a=t.length,s=1,r=a+1;s<r;){var o=s++;e&&o%3==0||(n=t.data[o-1],i<n&&(i=n))}var l,_;_=new Wa;var h;h=new Array(0),_.data=h,_.length=0,_.fixed=!1,l=_;for(var c=1,u=a+1;c<u;){var d=c++;if(!e||d%3!=0){if(!l.fixed){if(l.length++,l.data.length<l.length){var m,f;f=new Array(l.data.length+10),m=f,$e.blit(l.data,0,m,0,l.data.length),l.data=m}l.data[l.length-1]=t.data[d-1]/i}l.length}}return{max:i,uvt:l}},As.playCommands=function(t,e){null==e&&(e=!1),As.bounds=As.graphics.__bounds;for(var i=As.bounds.x,n=As.bounds.y,a=0,s=0,r=!1,o=0,l=0,_=new Ka(t),h=0,c=t.types;h<c.length;){var u=c[h];switch(++h,u[1]){case 3:var d=_.readCubicCurveTo();As.context.bezierCurveTo(Za.get_controlX1(d)-i,Za.get_controlY1(d)-n,Za.get_controlX2(d)-i,Za.get_controlY2(d)-n,Za.get_anchorX(d)-i,Za.get_anchorY(d)-n);break;case 4:var m=_.readCurveTo();As.context.quadraticCurveTo(Qa.get_controlX(m)-i,Qa.get_controlY(m)-n,Qa.get_anchorX(m)-i,Qa.get_anchorY(m)-n);break;case 5:var f=_.readDrawCircle();As.context.moveTo($a.get_x(f)-i+$a.get_radius(f),$a.get_y(f)-n),As.context.arc($a.get_x(f)-i,$a.get_y(f)-n,$a.get_radius(f),0,2*Math.PI,!0);break;case 6:var p=_.readDrawEllipse(),g=ts.get_x(p),v=ts.get_y(p),y=ts.get_width(p),x=ts.get_height(p);g-=i,v-=n;var b=.5522848,w=y/2*b,T=x/2*b,A=g+y,E=v+x,S=g+y/2,C=v+x/2;As.context.moveTo(g,C),As.context.bezierCurveTo(g,C-T,S-w,v,S,v),As.context.bezierCurveTo(S+w,v,A,C-T,A,C),As.context.bezierCurveTo(A,C+T,S+w,E,S,E),As.context.bezierCurveTo(S-w,E,g,C+T,g,C);break;case 9:var I=_.readDrawRoundRect();As.drawRoundRect(ns.get_x(I)-i,ns.get_y(I)-n,ns.get_width(I),ns.get_height(I),ns.get_ellipseWidth(I),ns.get_ellipseHeight(I));break;case 16:var L=_.readLineTo();As.context.lineTo(hs.get_x(L)-i,hs.get_y(L)-n),a=hs.get_x(L),s=hs.get_y(L);break;case 17:var M=_.readMoveTo();As.context.moveTo(cs.get_x(M)-i,cs.get_y(M)-n),a=cs.get_x(M),s=cs.get_y(M),r=!0,o=cs.get_x(M),l=cs.get_y(M);break;case 15:var B=_.readLineStyle();if(e&&As.hasStroke&&(As.context.closePath(),As.hitTesting||As.context.stroke(),As.context.beginPath()),As.context.moveTo(a-i,s-n),null==_s.get_thickness(B))As.hasStroke=!1;else{if(_s.get_thickness(B)>0?As.context.lineWidth=_s.get_thickness(B):As.context.lineWidth=1,null==_s.get_joints(B)?As.context.lineJoin="round":As.context.lineJoin=Vr.toString(_s.get_joints(B)).toLowerCase(),null==_s.get_caps(B))As.context.lineCap="round";else{var R=_s.get_caps(B);switch(R){case 0:As.context.lineCap="butt";break;default:As.context.lineCap=br.toString(_s.get_caps(B)).toLowerCase()}}if(As.context.miterLimit=_s.get_miterLimit(B),1==_s.get_alpha(B))As.context.strokeStyle="#"+X.hex(16777215&_s.get_color(B),6);else{var D=(16711680&_s.get_color(B))>>>16,P=(65280&_s.get_color(B))>>>8,N=255&_s.get_color(B);As.context.strokeStyle="rgba("+D+", "+P+", "+N+", "+_s.get_alpha(B)+")"}As.hasStroke=!0}break;case 14:var F=_.readLineGradientStyle();e&&As.hasStroke&&As.closePath(),As.context.moveTo(a-i,s-n),As.context.strokeStyle=As.createGradientPattern(ls.get_type(F),ls.get_colors(F),ls.get_alphas(F),ls.get_ratios(F),ls.get_matrix(F),ls.get_spreadMethod(F),ls.get_interpolationMethod(F),ls.get_focalPointRatio(F)),As.hasStroke=!0;break;case 13:var k=_.readLineBitmapStyle();e&&As.hasStroke&&As.closePath(),As.context.moveTo(a-i,s-n),As.context.strokeStyle=As.createBitmapFill(os.get_bitmap(k),os.get_repeat(k)),As.hasStroke=!0;break;case 0:var O=_.readBeginBitmapFill();As.context.fillStyle=As.createBitmapFill(ja.get_bitmap(O),!0),As.hasFill=!0,null!=ja.get_matrix(O)?(As.pendingMatrix=ja.get_matrix(O),As.inversePendingMatrix=ja.get_matrix(O).clone(),As.inversePendingMatrix.invert()):(As.pendingMatrix=null,As.inversePendingMatrix=null);break;case 1:var U=_.readBeginFill();if(qa.get_alpha(U)<.005)As.hasFill=!1;else{if(1==qa.get_alpha(U))As.context.fillStyle="#"+X.hex(qa.get_color(U),6);else{var V=(16711680&qa.get_color(U))>>>16,G=(65280&qa.get_color(U))>>>8,W=255&qa.get_color(U);As.context.fillStyle="rgba("+V+", "+G+", "+W+", "+qa.get_alpha(U)+")"}As.bitmapFill=null,As.hasFill=!0}break;case 2:var z=_.readBeginGradientFill();As.context.fillStyle=As.createGradientPattern(Ja.get_type(z),Ja.get_colors(z),Ja.get_alphas(z),Ja.get_ratios(z),Ja.get_matrix(z),Ja.get_spreadMethod(z),Ja.get_interpolationMethod(z),Ja.get_focalPointRatio(z)),As.bitmapFill=null,As.hasFill=!0;break;case 8:var H=_.readDrawRect(),Y=!1;if(null!=As.bitmapFill){var K=0,j=0,q=0,J=0,Z=!0;if(null!=As.pendingMatrix)if(0!=As.pendingMatrix.b||0!=As.pendingMatrix.c)Z=!1;else{var Q=As.inversePendingMatrix.transformPoint(new Oa(is.get_x(H),is.get_y(H))),$=As.inversePendingMatrix.transformPoint(new Oa(is.get_x(H)+is.get_width(H),is.get_y(H)+is.get_height(H)));K=Q.y,J=Q.x,q=$.y,j=$.x}else K=is.get_y(H),J=is.get_x(H),q=is.get_y(H)+is.get_height(H),j=is.get_x(H)+is.get_width(H);Z&&K>=0&&J>=0&&j<=As.bitmapFill.width&&q<=As.bitmapFill.height&&(Y=!0,As.hitTesting||As.context.drawImage(As.bitmapFill.image.get_src(),J,K,j-J,q-K,is.get_x(H)-i,is.get_y(H)-n,is.get_width(H),is.get_height(H)))}Y||As.context.rect(is.get_x(H)-i,is.get_y(H)-n,is.get_width(H),is.get_height(H));break;default:_.skip(u)}}_.destroy(),e&&As.hasStroke&&(As.hasFill&&r?As.context.lineTo(o-i,l-n):r&&a==o&&s==l&&As.context.closePath(),As.hitTesting||As.context.stroke()),e||(As.hasFill||null!=As.bitmapFill)&&(As.context.translate(-As.bounds.x,-As.bounds.y),null!=As.pendingMatrix?(As.context.transform(As.pendingMatrix.a,As.pendingMatrix.b,As.pendingMatrix.c,As.pendingMatrix.d,As.pendingMatrix.tx,As.pendingMatrix.ty),As.hitTesting||As.context.fill(),As.context.transform(As.inversePendingMatrix.a,As.inversePendingMatrix.b,As.inversePendingMatrix.c,As.inversePendingMatrix.d,As.inversePendingMatrix.tx,As.inversePendingMatrix.ty)):As.hitTesting||As.context.fill(),As.context.translate(As.bounds.x,As.bounds.y),As.context.closePath())},As.render=function(t,e){var i=!1;if(t.__dirty||i){if(As.hitTesting=!1,As.graphics=t,As.bounds=t.__bounds,!t.__visible||0==t.__commands.get_length()||null==As.bounds||As.bounds.width<=0||As.bounds.height<=0)t.__canvas=null,t.__context=null,t.__bitmap=null;else{i?(As.context=e.context,As.bounds.setTo(0,0,As.context.canvas.width,As.context.canvas.width)):(null==t.__canvas&&(t.__canvas=window.document.createElement("canvas"),t.__context=t.__canvas.getContext("2d")),As.context=t.__context,t.__canvas.width=Math.ceil(As.bounds.width),t.__canvas.height=Math.ceil(As.bounds.height)),As.fillCommands.clear(),As.strokeCommands.clear(),As.hasFill=!1,As.hasStroke=!1,As.bitmapFill=null,As.bitmapRepeat=!1;var n=new Ka(t.__commands),a=0,s=t.__commands.types;try{for(;a<s.length;){var r=s[a];switch(++a,r[1]){case 3:var o=n.readCubicCurveTo();As.fillCommands.cubicCurveTo(Za.get_controlX1(o),Za.get_controlY1(o),Za.get_controlX2(o),Za.get_controlY2(o),Za.get_anchorX(o),Za.get_anchorY(o)),As.strokeCommands.cubicCurveTo(Za.get_controlX1(o),Za.get_controlY1(o),Za.get_controlX2(o),Za.get_controlY2(o),Za.get_anchorX(o),Za.get_anchorY(o));break;case 4:var l=n.readCurveTo();As.fillCommands.curveTo(Qa.get_controlX(l),Qa.get_controlY(l),Qa.get_anchorX(l),Qa.get_anchorY(l)),As.strokeCommands.curveTo(Qa.get_controlX(l),Qa.get_controlY(l),Qa.get_anchorX(l),Qa.get_anchorY(l));break;case 16:var _=n.readLineTo();As.fillCommands.lineTo(hs.get_x(_),hs.get_y(_)),As.strokeCommands.lineTo(hs.get_x(_),hs.get_y(_));break;case 17:var h=n.readMoveTo();As.fillCommands.moveTo(cs.get_x(h),cs.get_y(h)),As.strokeCommands.moveTo(cs.get_x(h),cs.get_y(h));break;case 12:n.readEndFill(),As.endFill(),As.endStroke(),As.hasFill=!1,As.bitmapFill=null;break;case 15:var c=n.readLineStyle();As.strokeCommands.lineStyle(_s.get_thickness(c),_s.get_color(c),_s.get_alpha(c),_s.get_pixelHinting(c),_s.get_scaleMode(c),_s.get_caps(c),_s.get_joints(c),_s.get_miterLimit(c));break;case 14:var u=n.readLineGradientStyle();As.strokeCommands.lineGradientStyle(ls.get_type(u),ls.get_colors(u),ls.get_alphas(u),ls.get_ratios(u),ls.get_matrix(u),ls.get_spreadMethod(u),ls.get_interpolationMethod(u),ls.get_focalPointRatio(u));break;case 13:var d=n.readLineBitmapStyle();As.strokeCommands.lineBitmapStyle(os.get_bitmap(d),os.get_matrix(d),os.get_repeat(d),os.get_smooth(d));break;case 0:case 1:case 2:if(As.endFill(),As.endStroke(),r==ds.BEGIN_BITMAP_FILL){var m=n.readBeginBitmapFill();As.fillCommands.beginBitmapFill(ja.get_bitmap(m),ja.get_matrix(m),ja.get_repeat(m),ja.get_smooth(m)),As.strokeCommands.beginBitmapFill(ja.get_bitmap(m),ja.get_matrix(m),ja.get_repeat(m),ja.get_smooth(m))}else if(r==ds.BEGIN_GRADIENT_FILL){var f=n.readBeginGradientFill();As.fillCommands.beginGradientFill(Ja.get_type(f),Ja.get_colors(f),Ja.get_alphas(f),Ja.get_ratios(f),Ja.get_matrix(f),Ja.get_spreadMethod(f),Ja.get_interpolationMethod(f),Ja.get_focalPointRatio(f)),As.strokeCommands.beginGradientFill(Ja.get_type(f),Ja.get_colors(f),Ja.get_alphas(f),Ja.get_ratios(f),Ja.get_matrix(f),Ja.get_spreadMethod(f),Ja.get_interpolationMethod(f),Ja.get_focalPointRatio(f))}else{var p=n.readBeginFill();As.fillCommands.beginFill(qa.get_color(p),qa.get_alpha(p)),As.strokeCommands.beginFill(qa.get_color(p),qa.get_alpha(p))}break;case 5:var g=n.readDrawCircle();As.fillCommands.drawCircle($a.get_x(g),$a.get_y(g),$a.get_radius(g)),As.strokeCommands.drawCircle($a.get_x(g),$a.get_y(g),$a.get_radius(g));break;case 6:var v=n.readDrawEllipse();As.fillCommands.drawEllipse(ts.get_x(v),ts.get_y(v),ts.get_width(v),ts.get_height(v)),As.strokeCommands.drawEllipse(ts.get_x(v),ts.get_y(v),ts.get_width(v),ts.get_height(v));break;case 8:var y=n.readDrawRect();As.fillCommands.drawRect(is.get_x(y),is.get_y(y),is.get_width(y),is.get_height(y)),As.strokeCommands.drawRect(is.get_x(y),is.get_y(y),is.get_width(y),is.get_height(y));break;case 9:var x=n.readDrawRoundRect();As.fillCommands.drawRoundRect(ns.get_x(x),ns.get_y(x),ns.get_width(x),ns.get_height(x),ns.get_ellipseWidth(x),ns.get_ellipseHeight(x)),As.strokeCommands.drawRoundRect(ns.get_x(x),ns.get_y(x),ns.get_width(x),ns.get_height(x),ns.get_ellipseWidth(x),ns.get_ellipseHeight(x));break;case 11:As.endFill(),As.endStroke();var b=n.readDrawTriangles(),w=ss.get_vertices(b),T=ss.get_indices(b),A=ss.get_uvtData(b),E=null,S=null==As.bitmapFill;if(S&&null!=A)throw"__break__";if(!S){if(null==A){var C;C=new Wa;var I;I=new Array(0),C.data=I,C.length=0,C.fixed=!1,A=C;for(var L=0,M=w.length/2|0;L<M;){var B=L++;if(!A.fixed){if(A.length++,A.data.length<A.length){var R,D;D=new Array(A.data.length+10),R=D,$e.blit(A.data,0,R,0,A.data.length),A.data=R}A.data[A.length-1]=w.data[2*B]/As.bitmapFill.width}if(A.length,!A.fixed){if(A.length++,A.data.length<A.length){var P,N;N=new Array(A.data.length+10),P=N,$e.blit(A.data,0,P,0,A.data.length),A.data=P}A.data[A.length-1]=w.data[2*B+1]/As.bitmapFill.height}A.length}}var F=A.length!=w.length,k=As.normalizeUVT(A,F),O=k.max;A=k.uvt,E=O>1?As.createTempPatternCanvas(As.bitmapFill,As.bitmapRepeat,0|As.bounds.width,0|As.bounds.height):As.createTempPatternCanvas(As.bitmapFill,As.bitmapRepeat,As.bitmapFill.width,As.bitmapFill.height)}for(var U,V,W,X,z,H,Y,K,j,q,J,Z,Q,$,tt,et,it,nt,at,st,rt,ot,lt,_t,ht,ct,ut,dt,mt=0,ft=T.length;mt<ft;){U=mt,V=mt+1,W=mt+2,X=2*T.data[U],z=2*T.data[U]+1,H=2*T.data[V],Y=2*T.data[V]+1,K=2*T.data[W],j=2*T.data[W]+1,q=w.data[X],J=w.data[z],Z=w.data[H],Q=w.data[Y],$=w.data[K],tt=w.data[j];var pt=ss.get_culling(b);switch(pt){case 2:if(!((Z-q)*(tt-J)-(Q-J)*($-q)<0)){mt+=3;continue}break;case 0:if((Z-q)*(tt-J)-(Q-J)*($-q)<0){mt+=3;continue}}S?(As.context.beginPath(),As.context.moveTo(q,J),As.context.lineTo(Z,Q),As.context.lineTo($,tt),As.context.closePath(),As.hitTesting||As.context.fill(),mt+=3):(As.context.save(),As.context.beginPath(),As.context.moveTo(q,J),As.context.lineTo(Z,Q),As.context.lineTo($,tt),As.context.closePath(),As.context.clip(),et=A.data[X]*E.width,nt=A.data[H]*E.width,st=A.data[K]*E.width,it=A.data[z]*E.height,at=A.data[Y]*E.height,rt=A.data[j]*E.height,ot=et*(rt-at)-nt*rt+st*at+(nt-st)*it,0!=ot?(lt=-(it*($-Z)-at*$+rt*Z+(at-rt)*q)/ot,_t=(at*tt+it*(Q-tt)-rt*Q+(rt-at)*J)/ot,ht=(et*($-Z)-nt*$+st*Z+(nt-st)*q)/ot,ct=-(nt*tt+et*(Q-tt)-st*Q+(st-nt)*J)/ot,ut=(et*(rt*Z-at*$)+it*(nt*$-st*Z)+(st*at-nt*rt)*q)/ot,dt=(et*(rt*Q-at*tt)+it*(nt*tt-st*Q)+(st*at-nt*rt)*J)/ot,As.context.transform(lt,_t,ht,ct,ut,dt),As.context.drawImage(E,0,0),As.context.restore(),mt+=3):mt+=3)}break;case 10:var gt=n.readDrawTiles(),vt=(1&as.get_flags(gt))>0,yt=As.bounds.x,xt=As.bounds.y,bt=(2&as.get_flags(gt))>0,wt=(16&as.get_flags(gt))>0,Tt=(4&as.get_flags(gt))>0,At=(8&as.get_flags(gt))>0,Et=(32&as.get_flags(gt))>0,St=(64&as.get_flags(gt))>0,Ct=(65536&as.get_flags(gt))>0;wt&&(vt=!1,bt=!1);var It=0,Lt=0,Mt=0,Bt=0,Rt=0,Dt=3;Et&&(Dt=St?8:6),vt&&(It=Dt,Dt++),bt&&(Lt=Dt,Dt++),wt&&(Rt=Dt,Dt+=4),Tt&&(Mt=Dt,Dt+=3),At&&(Bt=Dt,Dt++);var Pt=as.get_tileData(gt).length;as.get_count(gt)>=0&&Pt>as.get_count(gt)&&(Pt=as.get_count(gt));var Nt,Ft=0,kt=null,Ot=null,Ut=-1;for(as.get_sheet(gt).__bitmap.__sync(),Nt=as.get_sheet(gt).__bitmap.image.get_src(),Ct&&(As.context.globalCompositeOperation="lighter");Ft<Pt;){var Vt;if(Vt=Et?-1:G["int"](as.get_tileData(gt)[Ft+2]),Et||Vt==Ut?Et&&(kt=as.get_sheet(gt).__rectTile,kt.setTo(as.get_tileData(gt)[Ft+2],as.get_tileData(gt)[Ft+3],as.get_tileData(gt)[Ft+4],as.get_tileData(gt)[Ft+5]),Ot=as.get_sheet(gt).__point,St?Ot.setTo(as.get_tileData(gt)[Ft+6],as.get_tileData(gt)[Ft+7]):Ot.setTo(0,0)):(kt=as.get_sheet(gt).__tileRects[Vt],Ot=as.get_sheet(gt).__centerPoints[Vt],Ut=Vt),null!=kt&&kt.width>0&&kt.height>0&&null!=Ot){As.context.save(),As.context.translate(as.get_tileData(gt)[Ft]-yt,as.get_tileData(gt)[Ft+1]-xt),bt&&As.context.rotate(as.get_tileData(gt)[Ft+Lt]);var Gt=1;vt&&(Gt=as.get_tileData(gt)[Ft+It]),wt&&As.context.transform(as.get_tileData(gt)[Ft+Rt],as.get_tileData(gt)[Ft+Rt+1],as.get_tileData(gt)[Ft+Rt+2],as.get_tileData(gt)[Ft+Rt+3],0,0),At&&(As.context.globalAlpha=as.get_tileData(gt)[Ft+Bt]),
As.context.imageSmoothingEnabled=as.get_smooth(gt),As.context.drawImage(Nt,kt.x,kt.y,kt.width,kt.height,-Ot.x*Gt,-Ot.y*Gt,kt.width*Gt,kt.height*Gt),As.context.restore()}Ft+=Dt}Ct&&(As.context.globalCompositeOperation="source-over");break;default:n.skip(r)}}}catch(Wt){if("__break__"!=Wt)throw Wt}As.fillCommands.get_length()>0&&As.endFill(),As.strokeCommands.get_length()>0&&As.endStroke(),n.destroy(),t.__bitmap=vr.fromCanvas(t.__canvas)}t.set___dirty(!1)}},As.renderMask=function(t,e){if(0!=t.__commands.get_length()){As.context=e.context;for(var i=0,n=0,a=0,s=0,r=new Ka(t.__commands),o=0,l=t.__commands.types;o<l.length;){var _=l[o];switch(++o,_[1]){case 3:var h=r.readCubicCurveTo();As.context.bezierCurveTo(Za.get_controlX1(h)-a,Za.get_controlY1(h)-s,Za.get_controlX2(h)-a,Za.get_controlY2(h)-s,Za.get_anchorX(h)-a,Za.get_anchorY(h)-s),i=Za.get_anchorX(h),n=Za.get_anchorY(h);break;case 4:var c=r.readCurveTo();As.context.quadraticCurveTo(Qa.get_controlX(c)-a,Qa.get_controlY(c)-s,Qa.get_anchorX(c)-a,Qa.get_anchorY(c)-s),i=Qa.get_anchorX(c),n=Qa.get_anchorY(c);break;case 5:var u=r.readDrawCircle();As.context.arc($a.get_x(u)-a,$a.get_y(u)-s,$a.get_radius(u),0,2*Math.PI,!0);break;case 6:var d=r.readDrawEllipse(),m=ts.get_x(d),f=ts.get_y(d),p=ts.get_width(d),g=ts.get_height(d);m-=a,f-=s;var v=.5522848,y=p/2*v,x=g/2*v,b=m+p,w=f+g,T=m+p/2,A=f+g/2;As.context.moveTo(m,A),As.context.bezierCurveTo(m,A-x,T-y,f,T,f),As.context.bezierCurveTo(T+y,f,b,A-x,b,A),As.context.bezierCurveTo(b,A+x,T+y,w,T,w),As.context.bezierCurveTo(T-y,w,m,A+x,m,A);break;case 8:var E=r.readDrawRect();As.context.rect(is.get_x(E)-a,is.get_y(E)-s,is.get_width(E),is.get_height(E));break;case 9:var S=r.readDrawRoundRect();As.drawRoundRect(ns.get_x(S)-a,ns.get_y(S)-s,ns.get_width(S),ns.get_height(S),ns.get_ellipseWidth(S),ns.get_ellipseHeight(S));break;case 16:var C=r.readLineTo();As.context.lineTo(hs.get_x(C)-a,hs.get_y(C)-s),i=hs.get_x(C),n=hs.get_y(C);break;case 17:var I=r.readMoveTo();As.context.moveTo(cs.get_x(I)-a,cs.get_y(I)-s),i=cs.get_x(I),n=cs.get_y(I);break;default:r.skip(_)}}r.destroy()}};var Es=function(t){za.call(this,t)};s["openfl._internal.renderer.canvas.CanvasMaskManager"]=Es,Es.__name__=["openfl","_internal","renderer","canvas","CanvasMaskManager"],Es.__super__=za,Es.prototype=n(za.prototype,{pushMask:function(t){var e=this.renderSession.context;e.save();var i=t.__getWorldTransform();e.setTransform(i.a,i.b,i.c,i.d,i.tx,i.ty),e.beginPath(),t.__renderCanvasMask(this.renderSession),e.clip()},pushRect:function(t,e){var i=this.renderSession.context;i.save(),i.setTransform(e.a,e.b,e.c,e.d,e.tx,e.ty),i.beginPath(),i.rect(t.x,t.y,t.width,t.height),i.clip()},popMask:function(){this.renderSession.context.restore()},popRect:function(){this.renderSession.context.restore()},__class__:Es});var Ss=function(t,e,i){Ha.call(this,t,e),this.context=i,this.renderSession=new ps,this.renderSession.context=i,this.renderSession.roundPixels=!0,this.renderSession.renderer=this,this.renderSession.maskManager=new Es(this.renderSession)};s["openfl._internal.renderer.canvas.CanvasRenderer"]=Ss,Ss.__name__=["openfl","_internal","renderer","canvas","CanvasRenderer"],Ss.__super__=Ha,Ss.prototype=n(Ha.prototype,{render:function(t){this.context.setTransform(1,0,0,1,0,0),this.context.globalAlpha=1,!t.__transparent&&t.__clearBeforeRender?(this.context.fillStyle=t.__colorString,this.context.fillRect(0,0,t.stageWidth,t.stageHeight)):t.__transparent&&t.__clearBeforeRender&&this.context.clearRect(0,0,t.stageWidth,t.stageHeight),t.__renderCanvas(this.renderSession)},__class__:Ss});var Cs=function(){};s["openfl._internal.renderer.canvas.CanvasShape"]=Cs,Cs.__name__=["openfl","_internal","renderer","canvas","CanvasShape"],Cs.render=function(t,e){if(t.__renderable&&!(t.__worldAlpha<=0)){var i=t.__graphics;if(null!=i&&(As.render(i,e),null!=i.__canvas)){var n=e.context,a=t.get_scrollRect();if(i.__bounds.width>0&&i.__bounds.height>0&&(null==a||a.width>0&&a.height>0)){null!=t.__mask&&e.maskManager.pushMask(t.__mask),n.globalAlpha=t.__worldAlpha;var s=t.__renderTransform;e.roundPixels?n.setTransform(s.a,s.b,s.c,s.d,0|s.tx,0|s.ty):n.setTransform(s.a,s.b,s.c,s.d,s.tx,s.ty),null==a?n.drawImage(i.__canvas,i.__bounds.x,i.__bounds.y):n.drawImage(i.__canvas,Math.ceil(i.__bounds.x+a.x),Math.ceil(i.__bounds.y+a.y),a.width,a.height,Math.ceil(i.__bounds.x+a.x),Math.ceil(i.__bounds.y+a.y),a.width,a.height),null!=t.__mask&&e.maskManager.popMask()}}}};var Is=function(){};s["openfl._internal.renderer.canvas.CanvasTextField"]=Is,Is.__name__=["openfl","_internal","renderer","canvas","CanvasTextField"],Is.context=null,Is.disableInputMode=function(t){},Is.enableInputMode=function(t){if(t.__cursorPosition=-1,null==t.__hiddenInput){t.__hiddenInput=window.document.createElement("input");var e=t.__hiddenInput;e.type="text",e.style.position="absolute",e.style.opacity="0",e.style.color="transparent",e.style.left="0px",e.style.top="50%",new I("(iPad|iPhone|iPod).*OS 8_","gi").match(window.navigator.userAgent)?(e.style.fontSize="0px",e.style.width="0px",e.style.height="0px"):(e.style.width="1px",e.style.height="1px"),e.style.pointerEvents="none",e.style.zIndex="-10000000",t.maxChars>0&&(e.maxLength=t.maxChars),window.document.body.appendChild(e),e.value=t.text}},Is.render=function(t,e){if(t.__dirty){var i=t.__textEngine;if(t.__updateLayout(),(null==i.text||""==i.text)&&!i.background&&!i.border&&!i.__hasFocus||(i.width<=0||i.height<=0)&&2!=i.autoSize)t.__graphics.__canvas=null,t.__graphics.__context=null,t.__graphics.set___dirty(!1),t.__dirty=!1;else{var n=i.bounds;null!=t.__graphics&&null!=t.__graphics.__canvas||(null==t.__graphics&&(t.__graphics=new Er),t.__graphics.__canvas=window.document.createElement("canvas"),t.__graphics.__context=t.__graphics.__canvas.getContext("2d"),t.__graphics.__bounds=new Zs(0,0,n.width,n.height));var a=t.__graphics;if(Is.context=a.__context,null!=i.text&&""!=i.text||i.__hasFocus){var s=i.text;if(i.displayAsPassword){for(var r=s.length,o="",l=0;l<r;){l++;o+="*"}s=o}a.__canvas.width=Math.ceil(n.width),a.__canvas.height=Math.ceil(n.height),0!=i.antiAliasType||1!=i.gridFitType?(a.__context.mozImageSmoothingEnabled=!0,a.__context.msImageSmoothingEnabled=!0,a.__context.imageSmoothingEnabled=!0):(a.__context.mozImageSmoothingEnabled=!1,a.__context.msImageSmoothingEnabled=!1,a.__context.imageSmoothingEnabled=!1),(i.border||i.background)&&(Is.context.rect(.5,.5,n.width-1,n.height-1),i.background&&(Is.context.fillStyle="#"+X.hex(i.backgroundColor,6),Is.context.fill()),i.border&&(Is.context.lineWidth=1,Is.context.strokeStyle="#"+X.hex(i.borderColor,6),Is.context.stroke())),Is.context.textBaseline="top",Is.context.textAlign="start";for(var _=-t.get_scrollH(),h=0,c=0,u=t.get_scrollV()-1;c<u;){var d=c++;h-=i.lineHeights[d]}for(var m,f=0,p=new I("(iPad|iPhone|iPod|Firefox)","g").match(window.navigator.userAgent),g=0,v=i.layoutGroups;g<v.length;){var y=v[g];if(++g,!(y.lineIndex<t.get_scrollV()-1)){if(y.lineIndex>t.get_scrollV()+i.bottomScrollV-2)break;if(Is.context.font=dr.getFont(y.format),Is.context.fillStyle="#"+X.hex(y.format.color,6),p&&(f=.185*y.format.size),Is.context.fillText(s.substring(y.startIndex,y.endIndex),y.offsetX+_,y.offsetY+f+h),t.__caretIndex>-1&&i.selectable)if(t.__selectionIndex==t.__caretIndex){if(t.__showCursor&&y.startIndex<=t.__caretIndex&&y.endIndex>=t.__caretIndex){m=0;for(var x=0,b=t.__caretIndex-y.startIndex;x<b;){var w=x++;if(y.advances.length<=w)break;m+=y.advances[w]}Is.context.fillRect(y.offsetX+m,y.offsetY,1,y.height)}}else if(y.startIndex<=t.__caretIndex&&y.endIndex>=t.__caretIndex||y.startIndex<=t.__selectionIndex&&y.endIndex>=t.__selectionIndex){var T=G["int"](Math.min(t.__selectionIndex,t.__caretIndex)),A=G["int"](Math.max(t.__selectionIndex,t.__caretIndex));y.startIndex>T&&(T=y.startIndex),y.endIndex<A&&(A=y.endIndex);var E,S;E=t.getCharBoundaries(T),A>=i.text.length?(S=t.getCharBoundaries(i.text.length-1),S.x+=S.width+2):S=t.getCharBoundaries(A),null!=E&&null!=S&&(Is.context.fillStyle="#000000",Is.context.fillRect(E.x,E.y,S.x-E.x,y.height),Is.context.fillStyle="#FFFFFF",Is.context.fillText(s.substring(T,A),_+E.x,y.offsetY+f+h))}}}}else a.__canvas.width=Math.ceil(n.width),a.__canvas.height=Math.ceil(n.height),(i.border||i.background)&&(i.border?Is.context.rect(.5,.5,n.width-1,n.height-1):Is.context.rect(0,0,n.width,n.height),i.background&&(Is.context.fillStyle="#"+X.hex(i.backgroundColor,6),Is.context.fill()),i.border&&(Is.context.lineWidth=1,Is.context.lineCap="square",Is.context.strokeStyle="#"+X.hex(i.borderColor,6),Is.context.stroke()));a.__bitmap=vr.fromCanvas(t.__graphics.__canvas),t.__dirty=!1,a.set___dirty(!1)}}};var Ls=function(t,e,i){throw Ha.call(this,t,e),new ri("ConsoleRenderer not supported")};s["openfl._internal.renderer.console.ConsoleRenderer"]=Ls,Ls.__name__=["openfl","_internal","renderer","console","ConsoleRenderer"],Ls.__super__=Ha,Ls.prototype=n(Ha.prototype,{render:function(t){},__class__:Ls});var Ms=function(){};s["openfl._internal.renderer.dom.DOMBitmap"]=Ms,Ms.__name__=["openfl","_internal","renderer","dom","DOMBitmap"],Ms.render=function(t,e){null!=t.stage&&t.__worldVisible&&t.__renderable&&null!=t.bitmapData&&t.bitmapData.__isValid?null!=t.bitmapData.image.buffer.__srcImage?Ms.renderImage(t,e):Ms.renderCanvas(t,e):(null!=t.__image&&(e.element.removeChild(t.__image),t.__image=null,t.__style=null),null!=t.__canvas&&(e.element.removeChild(t.__canvas),t.__canvas=null,t.__style=null))},Ms.renderCanvas=function(t,e){null!=t.__image&&(e.element.removeChild(t.__image),t.__image=null),null==t.__canvas&&(t.__canvas=window.document.createElement("canvas"),t.__context=t.__canvas.getContext("2d"),t.smoothing||(t.__context.mozImageSmoothingEnabled=!1,t.__context.msImageSmoothingEnabled=!1,t.__context.imageSmoothingEnabled=!1),Rs.initializeElement(t,t.__canvas,e)),t.bitmapData.__sync(),t.__canvas.width=t.bitmapData.width,t.__canvas.height=t.bitmapData.height,t.__context.globalAlpha=t.__worldAlpha,t.__context.drawImage(t.bitmapData.image.buffer.__srcCanvas,0,0),Rs.applyStyle(t,e,!0,!1,!0)},Ms.renderImage=function(t,e){null!=t.__canvas&&(e.element.removeChild(t.__canvas),t.__canvas=null),null==t.__image&&(t.__image=window.document.createElement("img"),t.__image.src=t.bitmapData.image.buffer.__srcImage.src,Rs.initializeElement(t,t.__image,e)),Rs.applyStyle(t,e,!0,!0,!0)};var Bs=function(t){za.call(this,t)};s["openfl._internal.renderer.dom.DOMMaskManager"]=Bs,Bs.__name__=["openfl","_internal","renderer","dom","DOMMaskManager"],Bs.__super__=za,Bs.prototype=n(za.prototype,{pushMask:function(t){},pushRect:function(t,e){},popMask:function(){},__class__:Bs});var Rs=function(t,e,i){Ha.call(this,t,e),this.element=i,this.renderSession=new ps,this.renderSession.element=i,this.renderSession.roundPixels=!0;var n=function(){var t=window.getComputedStyle(document.documentElement,""),e=(Array.prototype.slice.call(t).join("").match(/-(moz|webkit|ms)-/)||""===t.OLink&&["","o"])[1],i="WebKit|Moz|MS|O".match(new RegExp("("+e+")","i"))[1];return{dom:i,lowercase:e,css:"-"+e+"-",js:e[0].toUpperCase()+e.substr(1)}}();this.renderSession.vendorPrefix=n.lowercase,"webkit"==n.lowercase?this.renderSession.transformProperty="-webkit-transform":this.renderSession.transformProperty="transform","webkit"==n.lowercase?this.renderSession.transformOriginProperty="-webkit-transform-origin":this.renderSession.transformOriginProperty="transform-origin",this.renderSession.maskManager=new Bs(this.renderSession),this.renderSession.renderer=this};s["openfl._internal.renderer.dom.DOMRenderer"]=Rs,Rs.__name__=["openfl","_internal","renderer","dom","DOMRenderer"],Rs.applyStyle=function(t,e,i,n,a){var s=t.__style;if(i&&t.__worldTransformChanged&&s.setProperty(e.transformProperty,t.__worldTransform.to3DString(e.roundPixels),null),t.__worldZ!=++e.z&&(t.__worldZ=e.z,s.setProperty("z-index",null==t.__worldZ?"null":""+t.__worldZ,null)),n&&t.__worldAlphaChanged&&(t.__worldAlpha<1?s.setProperty("opacity",null==t.__worldAlpha?"null":""+t.__worldAlpha,null):s.removeProperty("opacity")),a&&t.__worldClipChanged)if(null==t.__worldClip)s.removeProperty("clip");else{var r=Zs.__temp,o=ka.__temp;o.copyFrom(t.__worldTransform),o.invert(),t.__worldClip.__transform(r,o),s.setProperty("clip","rect("+r.y+"px, "+r.get_right()+"px, "+r.get_bottom()+"px, "+r.x+"px)",null)}},Rs.initializeElement=function(t,e,i){var n=t.__style=e.style;n.setProperty("position","absolute",null),n.setProperty("top","0",null),n.setProperty("left","0",null),n.setProperty(i.transformOriginProperty,"0 0 0",null),i.element.appendChild(e),t.__worldAlphaChanged=!0,t.__worldClipChanged=!0,t.__worldTransformChanged=!0,t.__worldVisibleChanged=!0,t.__worldZ=-1},Rs.__super__=Ha,Rs.prototype=n(Ha.prototype,{render:function(t){this.element.style.background=t.__colorString,this.renderSession.z=1,t.__renderDOM(this.renderSession)},__class__:Rs});var Ds=function(){};s["openfl._internal.renderer.dom.DOMShape"]=Ds,Ds.__name__=["openfl","_internal","renderer","dom","DOMShape"],Ds.render=function(t,e){var i=t.__graphics;if(null!=t.stage&&t.__worldVisible&&t.__renderable&&null!=i){if((i.__dirty||t.__worldAlphaChanged||null==t.__canvas&&null!=i.__canvas)&&(As.render(i,e),null!=i.__canvas?(null==t.__canvas&&(t.__canvas=window.document.createElement("canvas"),t.__context=t.__canvas.getContext("2d"),Rs.initializeElement(t,t.__canvas,e)),t.__canvas.width=i.__canvas.width,t.__canvas.height=i.__canvas.height,t.__context.globalAlpha=t.__worldAlpha,t.__context.drawImage(i.__canvas,0,0)):null!=t.__canvas&&(e.element.removeChild(t.__canvas),t.__canvas=null,t.__style=null)),null!=t.__canvas){if(t.__worldTransformChanged||i.__transformDirty){i.__transformDirty=!1;var n=ka.__temp;n.identity(),n.translate(i.__bounds.x,i.__bounds.y),n.concat(t.__worldTransform),t.__style.setProperty(e.transformProperty,e.roundPixels?"matrix3d("+n.a+", "+n.b+", 0, 0, "+n.c+", "+n.d+", 0, 0, 0, 0, 1, 0, "+(0|n.tx)+", "+(0|n.ty)+", 0, 1)":"matrix3d("+n.a+", "+n.b+", 0, 0, "+n.c+", "+n.d+", 0, 0, 0, 0, 1, 0, "+n.tx+", "+n.ty+", 0, 1)",null)}Rs.applyStyle(t,e,!1,!1,!0)}}else null!=t.__canvas&&(e.element.removeChild(t.__canvas),t.__canvas=null,t.__style=null)};var Ps=function(){};s["openfl._internal.renderer.dom.DOMTextField"]=Ps,Ps.__name__=["openfl","_internal","renderer","dom","DOMTextField"],Ps.measureText=function(t){var e=t.__textEngine,i=t.__div;null==i&&(i=window.document.createElement("div"),i.innerHTML=new I("\n","g").replace(e.text,"<br>"),i.style.setProperty("font",dr.getFont(t.__textFormat),null),i.style.setProperty("pointer-events","none",null),i.style.position="absolute",i.style.top="110%",window.document.body.appendChild(i)),e.__measuredWidth=i.clientWidth,null==t.__div&&(i.style.width=G.string(e.width-4)+"px"),e.__measuredHeight=i.clientHeight,null==t.__div&&window.document.body.removeChild(i)},Ps.render=function(t,e){var i=t.__textEngine;if(null!=t.stage&&t.__worldVisible&&t.__renderable){if(t.__dirty||null==t.__div)if(""!=i.text||i.background||i.border||1==i.type){null==t.__div&&(t.__div=window.document.createElement("div"),Rs.initializeElement(t,t.__div,e),t.__style.setProperty("outline","none",null),t.__div.addEventListener("input",function(e){e.preventDefault(),t.get_htmlText()!=t.__div.innerHTML&&(t.set_htmlText(t.__div.innerHTML),t.__dirty=!1)},!0)),i.selectable?t.__style.setProperty("cursor","text",null):t.__style.setProperty("cursor","inherit",null),t.__div.contentEditable=1==i.type;var n=t.__style;t.__div.innerHTML=i.text,i.background?n.setProperty("background-color","#"+X.hex(i.backgroundColor,6),null):n.removeProperty("background-color"),i.border?n.setProperty("border","solid 1px #"+X.hex(i.borderColor,6),null):n.removeProperty("border"),n.setProperty("font",dr.getFont(t.__textFormat),null),n.setProperty("color","#"+X.hex(t.__textFormat.color,6),null),2!=i.autoSize?n.setProperty("width","auto",null):n.setProperty("width",i.width+"px",null),n.setProperty("height",i.height+"px",null);var a=t.__textFormat.align;switch(a){case 0:n.setProperty("text-align","center",null);break;case 4:n.setProperty("text-align","right",null);break;default:n.setProperty("text-align","left",null)}t.__dirty=!1}else null!=t.__div&&(e.element.removeChild(t.__div),t.__div=null);null!=t.__div&&Rs.applyStyle(t,e,!0,!0,!1)}else null!=t.__div&&(e.element.removeChild(t.__div),t.__div=null,t.__style=null)};var Ns=function(){};s["openfl._internal.renderer.opengl.GLBitmap"]=Ns,Ns.__name__=["openfl","_internal","renderer","opengl","GLBitmap"],Ns.render=function(t,e){!t.__renderable||t.__worldAlpha<=0||null==t.bitmapData||!t.bitmapData.__isValid||e.spriteBatch.renderBitmapData(t.bitmapData,t.smoothing,t.__renderTransform,t.__worldColorTransform,t.__worldAlpha,t.__blendMode,t.__shader,t.pixelSnapping)},Ns.pushFramebuffer=function(t,e,i,n,a,s,r){null==r&&(r=!0),null==s&&(s=!1),null==a&&(a=!0);var o=t.gl;if(null==o)return null;var l=t.renderer,_=t.spriteBatch,h=0|i.x,c=0|i.y,u=0|i.width,d=0|i.height;return _.finish(),Ns.fbData.length<=0&&Ns.fbData.push({texture:null,viewPort:null,transparent:l.transparent}),null==e&&(e=new rr(o,u,d,n,r)),e.resize(u,d),l.transparent=a,t.maskManager.saveState(),o.bindFramebuffer(o.FRAMEBUFFER,(e.__swapped?e.__texture1:e.__texture0).frameBuffer),l.setViewport(h,c,u,d),o.colorMask(!0,!0,!0,!0),t.blendModeManager.setBlendMode(10),s&&(e.__swapped?e.__texture1:e.__texture0).clear(0,0,0,0,null),Ns.fbData.push({texture:e,viewPort:i,transparent:a}),e},Ns.drawBitmapDrawable=function(t,e,i,n,a,s,r){var o=Ns.fbData[Ns.fbData.length-1];if(null==o)throw new ri("No data to draw to");var l=t.gl;if(null!=l){var _,h=o.viewPort,u=(t.renderer,t.spriteBatch),d=null!=e;_=null==r?new Zs(h.x,h.y,h.width,h.height):r.clone(),u.begin(t,d?null:_),d&&(e.__worldTransform.identity(),Ns.flipMatrix(e.__worldTransform,h.height),e.__renderGL(t),u.stop(),null!=e.__texture&&l.deleteTexture(e.__texture),e.__texture=null,u.start(_));var m,f=i.__worldColorTransform,p=i.__blendMode,g=i.__cacheAsBitmap;m=null!=n?n.clone():new ka,Ns.flipMatrix(m,h.height),null!=a?i.__worldColorTransform=a:i.__worldColorTransform=new Ua,i.__blendMode=s,c.__cacheAsBitmapMode=!0,i.__updateTransforms(m),i.__updateChildren(!1),i.__cacheAsBitmap=!1,i.__renderGL(t),i.__cacheAsBitmap=g,i.__worldColorTransform=f,i.__blendMode=p,c.__cacheAsBitmapMode=!1,i.__updateTransforms(),i.__updateChildren(!1)}},Ns.popFramebuffer=function(t,e){var i=t.gl;if(null!=i){t.spriteBatch.finish(),Ns.fbData.pop();var n=Ns.fbData[Ns.fbData.length-1];if(null==n)throw new ri("oh");var a,s,r,o;null==n.viewPort?(a=s=0,r=t.renderer.width,o=t.renderer.height):(a=Math.floor(n.viewPort.x),s=Math.floor(n.viewPort.y),r=Math.ceil(n.viewPort.width),o=Math.ceil(n.viewPort.height)),null!=e&&(e.width==r&&e.height==o||e.resize(r,o),i.readPixels(a,s,r,o,i.RGBA,i.UNSIGNED_BYTE,e.buffer.data),e.dirty=!1,e.set_premultiplied(!0)),i.bindFramebuffer(i.FRAMEBUFFER,null==n.texture?t.defaultFramebuffer:n.texture.get_framebuffer()),t.renderer.setViewport(a,s,r,o),t.renderer.transparent=n.transparent,t.maskManager.restoreState()}},Ns.flipMatrix=function(t,e){var i=t.tx,n=t.ty;t.tx=0,t.ty=0,t.scale(1,-1),t.translate(0,e),t.tx+=i,t.ty-=n};var Fs=function(t,e,i,n,a,s){null==s&&(s=!1),null==a&&(a=!1),null==n&&(n=!1),null==e&&(e=600),null==t&&(t=800),this.vpHeight=0,this.vpWidth=0,this.vpY=0,this.vpX=0,Ha.call(this,t,e),this.transparent=n,this.preserveDrawingBuffer=s,this.width=t,this.height=e,this.viewport=new Zs,this.options={alpha:n,antialias:a,premultipliedAlpha:n,stencil:!0,preserveDrawingBuffer:s},this._glContextId=Fs.glContextId++,this.gl=i,this.defaultFramebuffer=null,Fs.glContexts[this._glContextId]=i,this.projectionMatrix=new ka,this.projection=new Oa,this.projection.x=this.width/2,this.projection.y=-this.height/2,this.offset=new Oa(0,0),this.resize(this.width,this.height),this.contextLost=!1,this.shaderManager=new lr(i),this.spriteBatch=new _r(i),this.filterManager=new js(i,this.transparent),this.stencilManager=new cr(i),this.blendModeManager=new Xs(i),this.renderSession=new ps,this.renderSession.gl=this.gl,this.renderSession.drawCount=0,this.renderSession.shaderManager=this.shaderManager,this.renderSession.filterManager=this.filterManager,this.renderSession.blendModeManager=this.blendModeManager,this.renderSession.spriteBatch=this.spriteBatch,this.renderSession.stencilManager=this.stencilManager,this.renderSession.renderer=this,this.renderSession.defaultFramebuffer=this.defaultFramebuffer,this.renderSession.projectionMatrix=this.projectionMatrix,this.maskManager=new qs(this.renderSession),this.renderSession.maskManager=this.maskManager,this.shaderManager.setShader(this.shaderManager.defaultShader),i.disable(i.DEPTH_TEST),i.disable(i.CULL_FACE),i.enable(i.BLEND),i.colorMask(!0,!0,!0,this.transparent)};s["openfl._internal.renderer.opengl.GLRenderer"]=Fs,Fs.__name__=["openfl","_internal","renderer","opengl","GLRenderer"],Fs.renderBitmap=function(t,e,i){if(null==i&&(i=!0),t.__renderable&&!(t.__worldAlpha<=0)&&null!=t.__graphics&&null!=t.__graphics.__bitmap){var n=Zs.__temp,a=ka.__temp;n.setEmpty(),a.identity(),t.__getBounds(n,a);var s=t.__graphics.__bitmap;a.translate(t.__graphics.__bounds.x,t.__graphics.__bounds.y),a.concat(t.__renderTransform),e.spriteBatch.renderBitmapData(s,i,a,t.__worldColorTransform,t.__worldAlpha,t.__blendMode,null,0)}},Fs.__super__=Ha,Fs.prototype=n(Ha.prototype,{destroy:function(){Fs.glContexts[this._glContextId]=null,this.projection=null,this.offset=null,this.shaderManager.destroy(),this.spriteBatch.destroy(),this.maskManager.destroy(),this.filterManager.destroy(),this.shaderManager=null,this.spriteBatch=null,this.maskManager=null,this.filterManager=null,this.gl=null,this.renderSession=null},setViewport:function(t,e,i,n){this.vpX==t&&this.vpY==e&&this.vpWidth==i&&this.vpHeight==n||(this.vpX=t,this.vpY=e,this.vpWidth=i,this.vpHeight=n,this.gl.viewport(t,e,i,n),this.setOrtho(t,e,i,n),this.viewport.setTo(t,e,i,n))},setOrtho:function(t,e,i,n){var a=this.projectionMatrix;a.identity(),a.a=1/i*2,a.d=-1/n*2,a.tx=-1-t*a.a,a.ty=1-e*a.d},handleContextLost:function(t){t.preventDefault(),this.contextLost=!0},handleContextRestored:function(){var t=this.gl;Fs.glContextId++,this.shaderManager.setContext(t),this.spriteBatch.setContext(t),this.maskManager.setContext(t),this.filterManager.setContext(t),this.renderSession.gl=t,this.defaultFramebuffer=null,t.disable(t.DEPTH_TEST),t.disable(t.CULL_FACE),t.enable(t.BLEND),t.colorMask(!0,!0,!0,this.transparent),this.setViewport(0,0,this.width,this.height),this.contextLost=!1},render:function(t){if(!this.contextLost){var e=this.gl;this.setViewport(0,0,this.width,this.height),e.bindFramebuffer(e.FRAMEBUFFER,this.defaultFramebuffer),this.transparent?e.clearColor(0,0,0,0):e.clearColor(t.__colorSplit[0],t.__colorSplit[1],t.__colorSplit[2],1),e.clear(e.COLOR_BUFFER_BIT),this.renderDisplayObject(t,this.projection)}},renderDisplayObject:function(t,e,i){this.renderSession.blendModeManager.setBlendMode(10),this.renderSession.drawCount=0,this.renderSession.currentBlendMode=null,this.spriteBatch.begin(this.renderSession),this.filterManager.begin(this.renderSession,i),t.__renderGL(this.renderSession),this.spriteBatch.finish()},resize:function(t,e){this.width=t,this.height=e,Ha.prototype.resize.call(this,t,e),this.setViewport(0,0,t,e),this.projection.x=t/2,this.projection.y=-e/2},__class__:Fs});var ks=function(t){this.wrapT=33071,this.wrapS=33071,this.compiled=!1,this.uniforms=new Qe,this.attributes=new Qe,this.ID=ks.UID++,this.gl=t,this.program=null};s["openfl._internal.renderer.opengl.shaders2.Shader"]=ks,ks.__name__=["openfl","_internal","renderer","opengl","shaders2","Shader"],ks.compileProgram=function(t,e,i){var n=lr.compiledShadersCache,a=Ke.encode(e+i);if(null!=ql[a]?n.existsReserved(a):n.h.hasOwnProperty(a))return null!=ql[a]?n.getReserved(a):n.h[a];var s=ks.compileShader(t,e,t.VERTEX_SHADER),r=ks.compileShader(t,i,t.FRAGMENT_SHADER),o=t.createProgram();return null!=s&&null!=r&&(t.attachShader(o,s),t.attachShader(o,r),t.linkProgram(o),t.deleteShader(s),t.deleteShader(r),0==t.getProgramParameter(o,t.LINK_STATUS))?(We.trace("Could not compile the program:\n\t"+t.getProgramInfoLog(o),{fileName:"Shader.hx",lineNumber:226,className:"openfl._internal.renderer.opengl.shaders2.Shader",methodName:"compileProgram"}),We.trace("VERTEX:\n"+e+"\nFRAGMENT:\n"+i,{fileName:"Shader.hx",lineNumber:227,className:"openfl._internal.renderer.opengl.shaders2.Shader",methodName:"compileProgram"}),null):(null!=ql[a]?n.setReserved(a,o):n.h[a]=o,o)},ks.compileShader=function(t,e,i){var n=e,a=t.createShader(i);return t.shaderSource(a,n),t.compileShader(a),0==t.getShaderParameter(a,t.COMPILE_STATUS)?(We.trace("Could not compile the shader:\n\t"+t.getShaderInfoLog(a),{fileName:"Shader.hx",lineNumber:244,className:"openfl._internal.renderer.opengl.shaders2.Shader",methodName:"compileShader"}),We.trace(e,{fileName:"Shader.hx",lineNumber:245,className:"openfl._internal.renderer.opengl.shaders2.Shader",methodName:"compileShader"}),null):a},ks.prototype={init:function(t){if(null==t&&(t=!1),!this.compiled||t){if(null!=this.vertexSrc&&(this.vertexString=this.vertexSrc.join("\n")),null!=this.fragmentSrc&&(this.fragmentString=this.fragmentSrc.join("\n")),null==this.vertexString||null==this.fragmentString)throw new ri("No vertex or fragment source provided");this.program=ks.compileProgram(this.gl,this.vertexString,this.fragmentString),null!=this.program&&(this.compiled=!0)}},destroy:function(){null!=this.program&&this.gl.deleteProgram(this.program),this.compiled=!1,this.attributes=null},applyData:function(t,e){if(null!=t)for(var i,n,a,s,r=t.keys();r.hasNext();){var o=r.next();if(n=this.getUniformLocation(o),i=null!=ql[o]?t.getReserved(o):t.h[o],null!=i&&(a=i.value,s=i.bitmap,null!=a||null!=s)){var l=i.internalType;switch(l){case 1:var _=i.size;switch(_){case 1:this.gl.uniform1i(n,0|a[0]);break;case 2:this.gl.uniform2i(n,0|a[0],0|a[1]);break;case 3:this.gl.uniform3i(n,0|a[0],0|a[1],0|a[2]);break;case 4:this.gl.uniform4i(n,0|a[0],0|a[1],0|a[2],0|a[3])}break;case 2:var h=i.size;switch(h){case 1:this.gl.uniform1f(n,a[0]);break;case 2:this.gl.uniform2f(n,a[0],a[1]);break;case 3:this.gl.uniform3f(n,a[0],a[1],a[2]);break;case 4:this.gl.uniform4f(n,a[0],a[1],a[2],a[3])}break;case 3:var c=i.size;switch(c){case 2:this.gl.uniformMatrix2fv(n,i.transpose,function(t){var e,n,a=i.value;return n=null!=a?new Float32Array(a):null,e=n}(this));break;case 3:this.gl.uniformMatrix3fv(n,i.transpose,function(t){var e,n,a=i.value;return n=null!=a?new Float32Array(a):null,e=n}(this));break;case 4:this.gl.uniformMatrix4fv(n,i.transpose,function(t){var e,n,a=i.value;return n=null!=a?new Float32Array(a):null,e=n}(this))}break;case 4:if(null==s||!s.__isValid)continue;this.gl.activeTexture(this.gl.TEXTURE0+e.activeTextures),this.gl.bindTexture(this.gl.TEXTURE_2D,s.getTexture(this.gl)),this.gl.uniform1i(n,e.activeTextures),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_MAG_FILTER,i.smooth?this.gl.LINEAR:this.gl.NEAREST),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_MIN_FILTER,i.smooth?this.gl.LINEAR:this.gl.NEAREST),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_S,i.repeatX),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_T,i.repeatY),e.activeTextures++}}}},getAttribLocation:function(t){if(null==this.program)throw new ri("Shader isn't initialized");if(this.attributes.exists(t))return this.attributes.get(t);var e=this.gl.getAttribLocation(this.program,t);return this.attributes.set(t,e),e},getUniformLocation:function(t){if(null==this.program)throw new ri("Shader isn't initialized");if(this.uniforms.exists(t))return this.uniforms.get(t);var e=this.gl.getUniformLocation(this.program,t);return this.uniforms.set(t,e),e},enableVertexAttribute:function(t,e,i){var n=this.getAttribLocation(t.name);this.gl.enableVertexAttribArray(n),this.gl.vertexAttribPointer(n,t.components,t.type,t.normalized,e,4*i)},disableVertexAttribute:function(t,e){null==e&&(e=!0);var i=this.getAttribLocation(t.name);if(this.gl.disableVertexAttribArray(i),e){var n=t.components;switch(n){case 1:this.gl.vertexAttrib1fv(i,t.defaultValue.subarray(0,1));break;case 2:this.gl.vertexAttrib2fv(i,t.defaultValue.subarray(0,2));break;case 3:this.gl.vertexAttrib3fv(i,t.defaultValue.subarray(0,3));break;default:this.gl.vertexAttrib4fv(i,t.defaultValue.subarray(0,4))}}},bindVertexArray:function(t){for(var e=0,i=t.get_stride(),n=0,a=t.attributes;n<a.length;){var s=a[n];++n,s.enabled?(this.enableVertexAttribute(s,i,e),e+=Math.floor(s.components*s.getElementsBytes()/4)):this.disableVertexAttribute(s,!0)}},unbindVertexArray:function(t){for(var e=0,i=t.attributes;e<i.length;){var n=i[e];++e,this.disableVertexAttribute(n,!1)}},__class__:ks};var Os=function(t){ks.call(this,t),this.vertexSrc=Os.VERTEX_SRC,this.fragmentSrc=["#ifdef GL_ES","precision lowp float;","#endif","uniform sampler2D openfl_uSampler0;","uniform vec4 openfl_uColorMultiplier;","uniform vec4 openfl_uColorOffset;","uniform bool openfl_uUseColorTransform;","varying vec2 openfl_vTexCoord;","varying vec4 openfl_vColor;","vec4 colorTransform(const vec4 color, const vec4 tint, const vec4 multiplier, const vec4 offset) {","\tif(!openfl_uUseColorTransform) {","\t\treturn color * tint;","\t}","\tvec4 unmultiply;","\tif (color.a == 0.0) {","\t\tunmultiply = vec4(0.0, 0.0, 0.0, 0.0);","\t} else {","   \tunmultiply = vec4(color.rgb / color.a, color.a);","\t}","   vec4 result = unmultiply * tint * multiplier;","   result = result + offset;","   result = clamp(result, 0., 1.);","   result = vec4(result.rgb * result.a, result.a);","   return result;","}","void main(void) {","   vec4 tc = texture2D(openfl_uSampler0, openfl_vTexCoord);","   gl_FragColor = colorTransform(tc, openfl_vColor, openfl_uColorMultiplier, openfl_uColorOffset);","}"],this.init()};s["openfl._internal.renderer.opengl.shaders2.DefaultShader"]=Os,Os.__name__=["openfl","_internal","renderer","opengl","shaders2","DefaultShader"],Os.__super__=ks,Os.prototype=n(ks.prototype,{init:function(t){null==t&&(t=!1),ks.prototype.init.call(this,t),this.getAttribLocation("openfl_aPosition"),this.getAttribLocation("openfl_aTexCoord0"),this.getAttribLocation("openfl_aColor"),this.getUniformLocation("openfl_uProjectionMatrix"),this.getUniformLocation("openfl_uSampler0"),this.getUniformLocation("openfl_uColorMultiplier"),this.getUniformLocation("openfl_uColorOffset"),this.getUniformLocation("openfl_uUseColorTransform")},__class__:Os});var Us=function(t){ks.call(this,t),this.vertexSrc=["attribute vec2 openfl_aPosition;","attribute vec2 openfl_aTexCoord0;","attribute vec4 openfl_aColor;","uniform mat3 openfl_uProjectionMatrix;","varying vec2 vTexCoord;","varying vec4 vColor;","void main(void) {","   gl_Position = vec4((openfl_uProjectionMatrix * vec3(openfl_aPosition, 1.0)).xy, 0.0, 1.0);","   vTexCoord = openfl_aTexCoord0;","   vColor = openfl_aColor.bgra;","}"],this.fragmentSrc=["#ifdef GL_ES","precision lowp float;","#endif","uniform sampler2D openfl_uSampler0;","uniform vec3 openfl_uColor;","uniform bool openfl_uUseTexture;","uniform float openfl_uAlpha;","uniform vec4 openfl_uColorMultiplier;","uniform vec4 openfl_uColorOffset;","varying vec2 vTexCoord;","varying vec4 vColor;","vec4 tmp;","vec4 colorTransform(const vec4 color, const vec4 tint, const vec4 multiplier, const vec4 offset) {","   vec4 unmultiply = vec4(color.rgb / color.a, color.a);","   vec4 result = unmultiply * tint * multiplier;","   result = result + offset;","   result = clamp(result, 0., 1.);","   result = vec4(result.rgb * result.a, result.a);","   return result;","}","void main(void) {","   if(openfl_uUseTexture) {","       tmp = texture2D(openfl_uSampler0, vTexCoord);","   } else {","       tmp = vec4(openfl_uColor, 1.);","   }","   gl_FragColor = colorTransform(tmp, vColor, openfl_uColorMultiplier, openfl_uColorOffset);","}"],this.init()};s["openfl._internal.renderer.opengl.shaders2.DrawTrianglesShader"]=Us,Us.__name__=["openfl","_internal","renderer","opengl","shaders2","DrawTrianglesShader"],Us.__super__=ks,Us.prototype=n(ks.prototype,{
init:function(t){null==t&&(t=!1),ks.prototype.init.call(this,t),this.getAttribLocation("openfl_aPosition"),this.getAttribLocation("openfl_aTexCoord0"),this.getAttribLocation("openfl_aColor"),this.getUniformLocation("openfl_uSampler0"),this.getUniformLocation("openfl_uProjectionMatrix"),this.getUniformLocation("openfl_uColor"),this.getUniformLocation("openfl_uAlpha"),this.getUniformLocation("openfl_uUseTexture"),this.getUniformLocation("openfl_uColorMultiplier"),this.getUniformLocation("openfl_uColorOffset")},__class__:Us});var Vs=function(t){ks.call(this,t),this.vertexSrc=["attribute vec2 openfl_aPosition;","uniform mat3 openfl_uTranslationMatrix;","uniform mat3 openfl_uProjectionMatrix;","uniform vec4 openfl_uColor;","uniform float openfl_uAlpha;","uniform vec4 openfl_uColorMultiplier;","uniform vec4 openfl_uColorOffset;","varying vec4 vColor;","vec4 colorTransform(const vec4 color, const float alpha, const vec4 multiplier, const vec4 offset) {","   vec4 result = color * multiplier;","   result.a *= alpha;","   result = result + offset;","   result = clamp(result, 0., 1.);","   result = vec4(result.rgb * result.a, result.a);","   return result;","}","void main(void) {","   gl_Position = vec4((openfl_uProjectionMatrix * openfl_uTranslationMatrix * vec3(openfl_aPosition, 1.0)).xy, 0.0, 1.0);","   vColor = colorTransform(openfl_uColor, openfl_uAlpha, openfl_uColorMultiplier, openfl_uColorOffset);","}"],this.fragmentSrc=["#ifdef GL_ES","precision lowp float;","#endif","varying vec4 vColor;","void main(void) {","   gl_FragColor = vColor;","}"],this.init()};s["openfl._internal.renderer.opengl.shaders2.FillShader"]=Vs,Vs.__name__=["openfl","_internal","renderer","opengl","shaders2","FillShader"],Vs.__super__=ks,Vs.prototype=n(ks.prototype,{init:function(t){null==t&&(t=!1),ks.prototype.init.call(this,t),this.getAttribLocation("openfl_aPosition"),this.getUniformLocation("openfl_uTranslationMatrix"),this.getUniformLocation("openfl_uProjectionMatrix"),this.getUniformLocation("openfl_uColor"),this.getUniformLocation("openfl_uColorMultiplier"),this.getUniformLocation("openfl_uColorOffset")},__class__:Vs});var Gs=function(t){ks.call(this,t),this.vertexSrc=["attribute vec2 openfl_aPosition;","uniform mat3 openfl_uTranslationMatrix;","uniform mat3 openfl_uProjectionMatrix;","uniform mat3 openfl_uPatternMatrix;","varying vec2 vPosition;","void main(void) {","   gl_Position = vec4((openfl_uProjectionMatrix * openfl_uTranslationMatrix * vec3(openfl_aPosition, 1.0)).xy, 0.0, 1.0);","   vPosition = (openfl_uPatternMatrix * vec3(openfl_aPosition, 1)).xy;","}"],this.fragmentSrc=["#ifdef GL_ES","precision lowp float;","#endif","uniform float openfl_uAlpha;","uniform vec2 openfl_uPatternTL;","uniform vec2 openfl_uPatternBR;","uniform sampler2D openfl_uSampler0;","uniform vec4 openfl_uColorMultiplier;","uniform vec4 openfl_uColorOffset;","varying vec2 vPosition;","vec4 colorTransform(const vec4 color, const float alpha, const vec4 multiplier, const vec4 offset) {","   vec4 unmultiply = vec4(color.rgb / color.a, color.a);","   vec4 result = unmultiply * multiplier;","   result.a *= alpha;","   result = result + offset;","   result = clamp(result, 0., 1.);","   result = vec4(result.rgb * result.a, result.a);","   return result;","}","void main(void) {","   vec2 pos = mix(openfl_uPatternTL, openfl_uPatternBR, vPosition);","   vec4 tcol = texture2D(openfl_uSampler0, pos);","   gl_FragColor = colorTransform(tcol, openfl_uAlpha, openfl_uColorMultiplier, openfl_uColorOffset);","}"],this.init()};s["openfl._internal.renderer.opengl.shaders2.PatternFillShader"]=Gs,Gs.__name__=["openfl","_internal","renderer","opengl","shaders2","PatternFillShader"],Gs.__super__=ks,Gs.prototype=n(ks.prototype,{init:function(t){null==t&&(t=!1),ks.prototype.init.call(this,t),this.getAttribLocation("openfl_aPosition"),this.getUniformLocation("openfl_uTranslationMatrix"),this.getUniformLocation("openfl_uPatternMatrix"),this.getUniformLocation("openfl_uProjectionMatrix"),this.getUniformLocation("openfl_uSampler0"),this.getUniformLocation("openfl_uPatternTL"),this.getUniformLocation("openfl_uPatternBR"),this.getUniformLocation("openfl_uAlpha"),this.getUniformLocation("openfl_uColorMultiplier"),this.getUniformLocation("openfl_uColorOffset")},__class__:Gs});var Ws=function(t){ks.call(this,t),this.vertexSrc=["attribute vec2 openfl_aPosition;","attribute vec4 openfl_aColor;","uniform mat3 openfl_uTranslationMatrix;","uniform mat3 openfl_uProjectionMatrix;","uniform vec4 openfl_uColorMultiplier;","uniform vec4 openfl_uColorOffset;","uniform float openfl_uAlpha;","varying vec4 vColor;","vec4 colorTransform(const vec4 color, const float alpha, const vec4 multiplier, const vec4 offset) {","   vec4 result = color * multiplier;","   result.a *= alpha;","   result = result + offset;","   result = clamp(result, 0., 1.);","   result = vec4(result.rgb * result.a, result.a);","   return result;","}","void main(void) {","   gl_Position = vec4((openfl_uProjectionMatrix * openfl_uTranslationMatrix * vec3(openfl_aPosition, 1.0)).xy, 0.0, 1.0);","   vColor = colorTransform(openfl_aColor, openfl_uAlpha, openfl_uColorMultiplier, openfl_uColorOffset);","}"],this.fragmentSrc=["#ifdef GL_ES","precision lowp float;","#endif","varying vec4 vColor;","void main(void) {","   gl_FragColor = vColor;","}"],this.init()};s["openfl._internal.renderer.opengl.shaders2.PrimitiveShader"]=Ws,Ws.__name__=["openfl","_internal","renderer","opengl","shaders2","PrimitiveShader"],Ws.__super__=ks,Ws.prototype=n(ks.prototype,{init:function(t){null==t&&(t=!1),ks.prototype.init.call(this,t),this.getAttribLocation("openfl_aPosition"),this.getAttribLocation("openfl_aColor"),this.getUniformLocation("openfl_uTranslationMatrix"),this.getUniformLocation("openfl_uProjectionMatrix"),this.getUniformLocation("openfl_uAlpha"),this.getUniformLocation("openfl_uColorMultiplier"),this.getUniformLocation("openfl_uColorOffset")},__class__:Ws});var Xs=function(t){this.gl=t,this.currentBlendMode=null};s["openfl._internal.renderer.opengl.utils.BlendModeManager"]=Xs,Xs.__name__=["openfl","_internal","renderer","opengl","utils","BlendModeManager"],Xs.prototype={destroy:function(){this.gl=null},setBlendMode:function(t,e){if(null==e&&(e=!1),null==t&&(t=10,e=!0),!e&&this.currentBlendMode==t)return!1;switch(this.currentBlendMode=t,t){case 0:this.gl.blendEquation(32774),this.gl.blendFunc(1,1);break;case 9:this.gl.blendEquation(32774),this.gl.blendFunc(774,771);break;case 12:this.gl.blendEquation(32774),this.gl.blendFunc(1,769);break;case 14:this.gl.blendEquation(32779),this.gl.blendFunc(1,1);break;default:this.gl.blendEquation(32774),this.gl.blendFunc(1,771)}return!0},__class__:Xs};var zs=function(t){null==t&&(t=!0),this.type=sr.Polygon,this.points=null,this.winding=0,this.isRemovable=!0,this.fillIndex=0,this.line=new Ys,this.fill=Ks.None,t&&(this.points=[])};s["openfl._internal.renderer.opengl.utils.DrawPath"]=zs,zs.__name__=["openfl","_internal","renderer","opengl","utils","DrawPath"],zs.getStack=function(t,e){return Hs.build(t,e)},zs.prototype={update:function(t,e,i,n){this.updateLine(t),this.fill=e,this.fillIndex=i,this.winding=n},updateLine:function(t){this.line.width=t.width,this.line.color=t.color,null==t.alpha?this.line.alpha=1:this.line.alpha=t.alpha,null==t.scaleMode?this.line.scaleMode=2:this.line.scaleMode=t.scaleMode,null==t.caps?this.line.caps=1:this.line.caps=t.caps,null==t.joints?this.line.joints=2:this.line.joints=t.joints,this.line.miterLimit=t.miterLimit},__class__:zs};var Hs=function(){};s["openfl._internal.renderer.opengl.utils.PathBuiler"]=Hs,Hs.__name__=["openfl","_internal","renderer","opengl","utils","PathBuiler"],Hs.__currentPath=null,Hs.__drawPaths=null,Hs.__line=null,Hs.__fill=null,Hs.closePath=function(){var t;if(t=null==Hs.__currentPath.points?0:Hs.__currentPath.points.length,!(t<=0)&&Hs.__currentPath.type==sr.Polygon&&Hs.__currentPath.fill!=Ks.None){var e=Hs.__currentPath.points[0],i=Hs.__currentPath.points[1],n=Hs.__currentPath.points[t-2],a=Hs.__currentPath.points[t-1];e==n&&i==a||Hs.lineTo(e,i)}},Hs.endFill=function(){Hs.__fill=Ks.None,Hs.__fillIndex++},Hs.moveTo=function(t,e){!Hs.__currentPath.isRemovable||null!=Hs.__currentPath.points&&0!=Hs.__currentPath.points.length?Hs.closePath():Hs.__drawPaths.pop(),Hs.__currentPath=new zs,Hs.__currentPath.update(Hs.__line,Hs.__fill,Hs.__fillIndex,Hs.__currentWinding),Hs.__currentPath.type=sr.Polygon,Hs.__currentPath.points.push(t),Hs.__currentPath.points.push(e),Hs.__drawPaths.push(Hs.__currentPath)},Hs.lineTo=function(t,e){var i=Hs.__currentPath.points,n=!0;if(i.length>1){var a=i[i.length-2],s=i[i.length-1];a==t&&s==e&&(n=!1)}1==n&&(Hs.__currentPath.points.push(t),Hs.__currentPath.points.push(e))},Hs.curveTo=function(t,e,i,n){null!=Hs.__currentPath.points&&0!=Hs.__currentPath.points.length||(!Hs.__currentPath.isRemovable||null!=Hs.__currentPath.points&&0!=Hs.__currentPath.points.length?Hs.closePath():Hs.__drawPaths.pop(),Hs.__currentPath=new zs,Hs.__currentPath.update(Hs.__line,Hs.__fill,Hs.__fillIndex,Hs.__currentWinding),Hs.__currentPath.type=sr.Polygon,Hs.__currentPath.points.push(0),Hs.__currentPath.points.push(0),Hs.__drawPaths.push(Hs.__currentPath)),ms.curveTo(Hs.__currentPath.points,t,e,i,n)},Hs.cubicCurveTo=function(t,e,i,n,a,s){null!=Hs.__currentPath.points&&0!=Hs.__currentPath.points.length||(!Hs.__currentPath.isRemovable||null!=Hs.__currentPath.points&&0!=Hs.__currentPath.points.length?Hs.closePath():Hs.__drawPaths.pop(),Hs.__currentPath=new zs,Hs.__currentPath.update(Hs.__line,Hs.__fill,Hs.__fillIndex,Hs.__currentWinding),Hs.__currentPath.type=sr.Polygon,Hs.__currentPath.points.push(0),Hs.__currentPath.points.push(0),Hs.__drawPaths.push(Hs.__currentPath)),ms.cubicCurveTo(Hs.__currentPath.points,t,e,i,n,a,s)},Hs.graphicDataPop=function(){!Hs.__currentPath.isRemovable||null!=Hs.__currentPath.points&&0!=Hs.__currentPath.points.length?Hs.closePath():Hs.__drawPaths.pop()},Hs.build=function(t,e){var i=null,n=t.__bounds;if(Hs.__drawPaths=[],Hs.__currentPath=new zs,Hs.__line=new Ys,Hs.__fill=Ks.None,Hs.__fillIndex=0,i=t.__glStack[Fs.glContextId],null==i&&(i=t.__glStack[Fs.glContextId]=new $s(e)),t.__visible&&0!=t.__commands.get_length()&&null!=n&&0!=n.width&&0!=n.height){for(var a=new Ka(t.__commands),s=0,r=t.__commands.types;s<r.length;){var o=r[s];switch(++s,o[1]){case 0:var l=a.readBeginBitmapFill();Hs.endFill(),null!=ja.get_bitmap(l)?Hs.__fill=Ks.Texture(ja.get_bitmap(l),ja.get_matrix(l),ja.get_repeat(l),ja.get_smooth(l)):Hs.__fill=Ks.None,null!=Hs.__currentPath.points&&0!=Hs.__currentPath.points.length||(!Hs.__currentPath.isRemovable||null!=Hs.__currentPath.points&&0!=Hs.__currentPath.points.length?Hs.closePath():Hs.__drawPaths.pop(),Hs.__currentPath=new zs,Hs.__currentPath.update(Hs.__line,Hs.__fill,Hs.__fillIndex,Hs.__currentWinding),Hs.__currentPath.points=[],Hs.__currentPath.type=sr.Polygon,Hs.__drawPaths.push(Hs.__currentPath));break;case 1:var _=a.readBeginFill();Hs.endFill(),qa.get_alpha(_)>0?Hs.__fill=Ks.Color(16777215&qa.get_color(_),qa.get_alpha(_)):Hs.__fill=Ks.None,null!=Hs.__currentPath.points&&0!=Hs.__currentPath.points.length||(!Hs.__currentPath.isRemovable||null!=Hs.__currentPath.points&&0!=Hs.__currentPath.points.length?Hs.closePath():Hs.__drawPaths.pop(),Hs.__currentPath=new zs,Hs.__currentPath.update(Hs.__line,Hs.__fill,Hs.__fillIndex,Hs.__currentWinding),Hs.__currentPath.points=[],Hs.__currentPath.type=sr.Polygon,Hs.__drawPaths.push(Hs.__currentPath));break;case 3:var h=a.readCubicCurveTo();Hs.cubicCurveTo(Za.get_controlX1(h),Za.get_controlY1(h),Za.get_controlX2(h),Za.get_controlY2(h),Za.get_anchorX(h),Za.get_anchorY(h));break;case 4:var c=a.readCurveTo();Hs.curveTo(Qa.get_controlX(c),Qa.get_controlY(c),Qa.get_anchorX(c),Qa.get_anchorY(c));break;case 5:var u=a.readDrawCircle();!Hs.__currentPath.isRemovable||null!=Hs.__currentPath.points&&0!=Hs.__currentPath.points.length?Hs.closePath():Hs.__drawPaths.pop(),Hs.__currentPath=new zs,Hs.__currentPath.update(Hs.__line,Hs.__fill,Hs.__fillIndex,Hs.__currentWinding),Hs.__currentPath.type=sr.Circle,Hs.__currentPath.points=[$a.get_x(u),$a.get_y(u),$a.get_radius(u)],Hs.__drawPaths.push(Hs.__currentPath);break;case 6:var d=a.readDrawEllipse();!Hs.__currentPath.isRemovable||null!=Hs.__currentPath.points&&0!=Hs.__currentPath.points.length?Hs.closePath():Hs.__drawPaths.pop(),Hs.__currentPath=new zs,Hs.__currentPath.update(Hs.__line,Hs.__fill,Hs.__fillIndex,Hs.__currentWinding),Hs.__currentPath.type=sr.Ellipse,Hs.__currentPath.points=[ts.get_x(d),ts.get_y(d),ts.get_width(d),ts.get_height(d)],Hs.__drawPaths.push(Hs.__currentPath);break;case 8:var m=a.readDrawRect();!Hs.__currentPath.isRemovable||null!=Hs.__currentPath.points&&0!=Hs.__currentPath.points.length?Hs.closePath():Hs.__drawPaths.pop(),Hs.__currentPath=new zs,Hs.__currentPath.update(Hs.__line,Hs.__fill,Hs.__fillIndex,Hs.__currentWinding),Hs.__currentPath.type=sr.Rectangle(!1),Hs.__currentPath.points=[is.get_x(m),is.get_y(m),is.get_width(m),is.get_height(m)],Hs.__drawPaths.push(Hs.__currentPath);break;case 9:var f=a.readDrawRoundRect(),p=ns.get_x(f),g=ns.get_y(f),v=ns.get_width(f),y=ns.get_height(f),x=ns.get_ellipseWidth(f),b=ns.get_ellipseHeight(f);null==b&&(b=x),x*=.5,b*=.5,x>v/2&&(x=v/2),b>y/2&&(b=y/2),!Hs.__currentPath.isRemovable||null!=Hs.__currentPath.points&&0!=Hs.__currentPath.points.length?Hs.closePath():Hs.__drawPaths.pop(),Hs.__currentPath=new zs,Hs.__currentPath.update(Hs.__line,Hs.__fill,Hs.__fillIndex,Hs.__currentWinding),Hs.__currentPath.type=sr.Rectangle(!0),Hs.__currentPath.points=[p,g,v,y,x,b],Hs.__drawPaths.push(Hs.__currentPath);break;case 12:a.readEndFill();Hs.endFill();break;case 15:var w=a.readLineStyle();Hs.__line=new Ys,null==_s.get_thickness(w)||function(t){var e,i=_s.get_thickness(w);return e=isNaN(i)}(this)||_s.get_thickness(w)<0?Hs.__line.width=0:0==_s.get_thickness(w)?Hs.__line.width=1:Hs.__line.width=_s.get_thickness(w),!Hs.__currentPath.isRemovable||null!=Hs.__currentPath.points&&0!=Hs.__currentPath.points.length?Hs.closePath():Hs.__drawPaths.pop(),Hs.__line.color=_s.get_color(w),Hs.__line.alpha=_s.get_alpha(w),Hs.__line.scaleMode=_s.get_scaleMode(w),Hs.__line.caps=_s.get_caps(w),Hs.__line.joints=_s.get_joints(w),Hs.__line.miterLimit=_s.get_miterLimit(w),Hs.__currentPath=new zs,Hs.__currentPath.update(Hs.__line,Hs.__fill,Hs.__fillIndex,Hs.__currentWinding),Hs.__currentPath.points=[],Hs.__currentPath.type=sr.Polygon,Hs.__drawPaths.push(Hs.__currentPath);break;case 16:var T=a.readLineTo();Hs.lineTo(hs.get_x(T),hs.get_y(T));break;case 17:var A=a.readMoveTo();Hs.moveTo(cs.get_x(A),cs.get_y(A));break;case 11:var E,S=a.readDrawTriangles(),C=ss.get_uvtData(S),I=ss.get_vertices(S),L=ss.get_indices(S),M=ss.get_culling(S),B=Hs.__fill;switch(B[1]){case 1:E=!0;break;default:E=!1}if(E&&null!=C)continue;if(!Hs.__currentPath.isRemovable||null!=Hs.__currentPath.points&&0!=Hs.__currentPath.points.length?Hs.closePath():Hs.__drawPaths.pop(),Hs.__currentPath=new zs,Hs.__currentPath.update(Hs.__line,Hs.__fill,Hs.__fillIndex,Hs.__currentWinding),null==C){var R;R=new Wa;var D;D=new Array(0),R.data=D,R.length=0,R.fixed=!1,C=R;var P=Hs.__fill;switch(P[1]){case 2:for(var N=P[2],F=0,k=I.length/2|0;F<k;){var O=F++;if(!C.fixed){if(C.length++,C.data.length<C.length){var U,V;V=new Array(C.data.length+10),U=V,$e.blit(C.data,0,U,0,C.data.length),C.data=U}C.data[C.length-1]=I.data[2*O]/N.width}if(C.length,!C.fixed){if(C.length++,C.data.length<C.length){var G,W;W=new Array(C.data.length+10),G=W,$e.blit(C.data,0,G,0,C.data.length),C.data=G}C.data[C.length-1]=I.data[2*O+1]/N.height}C.length}}}Hs.__currentPath.type=sr.DrawTriangles(I,L,C,M,null,0),Hs.__currentPath.isRemovable=!1,Hs.__drawPaths.push(Hs.__currentPath);break;case 10:var X=a.readDrawTiles();!Hs.__currentPath.isRemovable||null!=Hs.__currentPath.points&&0!=Hs.__currentPath.points.length?Hs.closePath():Hs.__drawPaths.pop(),Hs.__fillIndex++,Hs.__currentPath=new zs((!1)),Hs.__currentPath.update(Hs.__line,Hs.__fill,Hs.__fillIndex,Hs.__currentWinding),Hs.__currentPath.type=sr.DrawTiles(as.get_sheet(X),as.get_tileData(X),as.get_smooth(X),as.get_flags(X),as.get_shader(X),as.get_count(X)),Hs.__currentPath.isRemovable=!1,Hs.__drawPaths.push(Hs.__currentPath);break;case 7:var z=a.readDrawPath();!Hs.__currentPath.isRemovable||null!=Hs.__currentPath.points&&0!=Hs.__currentPath.points.length?Hs.closePath():Hs.__drawPaths.pop();var H=es.get_winding(z);switch(H){case"evenOdd":Hs.__currentWinding=0;break;case"nonZero":Hs.__currentWinding=1;break;default:Hs.__currentWinding=0}var Y,K,j,q,J,Z,Q,$,tt=0,et=0,it=es.get_commands(z);for($=it.length;et<$;){var nt=et++,at=es.get_commands(z);switch(Y=at.data[nt]){case 1:var st=es.get_data(z);Z=st.data[tt];var rt=es.get_data(z);Q=rt.data[tt+1],tt+=2,!Hs.__currentPath.isRemovable||null!=Hs.__currentPath.points&&0!=Hs.__currentPath.points.length?Hs.closePath():Hs.__drawPaths.pop(),Hs.__currentPath=new zs,Hs.__currentPath.update(Hs.__line,Hs.__fill,Hs.__fillIndex,Hs.__currentWinding),Hs.__currentPath.type=sr.Polygon,Hs.__currentPath.points.push(Z),Hs.__currentPath.points.push(Q),Hs.__drawPaths.push(Hs.__currentPath);break;case 4:var ot=es.get_data(z);Z=ot.data[tt+2];var lt=es.get_data(z);Q=lt.data[tt+3],tt+=4,!Hs.__currentPath.isRemovable||null!=Hs.__currentPath.points&&0!=Hs.__currentPath.points.length?Hs.closePath():Hs.__drawPaths.pop(),Hs.__currentPath=new zs,Hs.__currentPath.update(Hs.__line,Hs.__fill,Hs.__fillIndex,Hs.__currentWinding),Hs.__currentPath.type=sr.Polygon,Hs.__currentPath.points.push(Z),Hs.__currentPath.points.push(Q),Hs.__drawPaths.push(Hs.__currentPath);break;case 2:var _t=es.get_data(z);Z=_t.data[tt];var ht=es.get_data(z);Q=ht.data[tt+1],tt+=2,Hs.lineTo(Z,Q);break;case 5:var ct=es.get_data(z);Z=ct.data[tt+2];var ut=es.get_data(z);Q=ut.data[tt+3],tt+=4,Hs.lineTo(Z,Q);break;case 3:var dt=es.get_data(z);K=dt.data[tt];var mt=es.get_data(z);j=mt.data[tt+1];var ft=es.get_data(z);Z=ft.data[tt+2];var pt=es.get_data(z);Q=pt.data[tt+3],tt+=4,null!=Hs.__currentPath.points&&0!=Hs.__currentPath.points.length||(!Hs.__currentPath.isRemovable||null!=Hs.__currentPath.points&&0!=Hs.__currentPath.points.length?Hs.closePath():Hs.__drawPaths.pop(),Hs.__currentPath=new zs,Hs.__currentPath.update(Hs.__line,Hs.__fill,Hs.__fillIndex,Hs.__currentWinding),Hs.__currentPath.type=sr.Polygon,Hs.__currentPath.points.push(0),Hs.__currentPath.points.push(0),Hs.__drawPaths.push(Hs.__currentPath)),ms.curveTo(Hs.__currentPath.points,K,j,Z,Q);break;case 6:var gt=es.get_data(z);K=gt.data[tt];var vt=es.get_data(z);j=vt.data[tt+1];var yt=es.get_data(z);q=yt.data[tt+2];var xt=es.get_data(z);J=xt.data[tt+3];var bt=es.get_data(z);Z=bt.data[tt+4];var wt=es.get_data(z);Q=wt.data[tt+5],tt+=6,null!=Hs.__currentPath.points&&0!=Hs.__currentPath.points.length||(!Hs.__currentPath.isRemovable||null!=Hs.__currentPath.points&&0!=Hs.__currentPath.points.length?Hs.closePath():Hs.__drawPaths.pop(),Hs.__currentPath=new zs,Hs.__currentPath.update(Hs.__line,Hs.__fill,Hs.__fillIndex,Hs.__currentWinding),Hs.__currentPath.type=sr.Polygon,Hs.__currentPath.points.push(0),Hs.__currentPath.points.push(0),Hs.__drawPaths.push(Hs.__currentPath)),ms.cubicCurveTo(Hs.__currentPath.points,K,j,q,J,Z,Q)}}Hs.__currentWinding=0;break;case 18:var Tt=a.readOverrideMatrix();!Hs.__currentPath.isRemovable||null!=Hs.__currentPath.points&&0!=Hs.__currentPath.points.length?Hs.closePath():Hs.__drawPaths.pop(),Hs.__currentPath=new zs,Hs.__currentPath.update(Hs.__line,Hs.__fill,Hs.__fillIndex,Hs.__currentWinding),Hs.__currentPath.type=sr.OverrideMatrix(us.get_matrix(Tt)),Hs.__currentPath.isRemovable=!1,Hs.__drawPaths.push(Hs.__currentPath);break;default:a.skip(o)}}Hs.closePath(),a.destroy()}else;return t.__drawPaths=Hs.__drawPaths,i};var Ys=function(){this.width=0,this.color=0,this.alpha=1,this.scaleMode=2,this.caps=1,this.joints=2,this.miterLimit=3};s["openfl._internal.renderer.opengl.utils.LineStyle"]=Ys,Ys.__name__=["openfl","_internal","renderer","opengl","utils","LineStyle"],Ys.prototype={__class__:Ys};var Ks=s["openfl._internal.renderer.opengl.utils.FillType"]={__ename__:["openfl","_internal","renderer","opengl","utils","FillType"],__constructs__:["None","Color","Texture","Gradient"]};Ks.None=["None",0],Ks.None.toString=r,Ks.None.__enum__=Ks,Ks.Color=function(t,e){var i=["Color",1,t,e];return i.__enum__=Ks,i.toString=r,i},Ks.Texture=function(t,e,i,n){var a=["Texture",2,t,e,i,n];return a.__enum__=Ks,a.toString=r,a},Ks.Gradient=["Gradient",3],Ks.Gradient.toString=r,Ks.Gradient.__enum__=Ks;var js=function(t,e){this.transparent=e,this.filterStack=[],this.offsetX=0,this.offsetY=0,this.setContext(t)};s["openfl._internal.renderer.opengl.utils.FilterManager"]=js,js.__name__=["openfl","_internal","renderer","opengl","utils","FilterManager"],js.prototype={applyFilterPass:function(t,e,i,n){},begin:function(t,e){this.renderSession=t,this.defaultShader=t.shaderManager.defaultShader,this.width=0,this.height=0,this.buffer=e},destroy:function(){var t=this.gl;this.filterStack=null,this.offsetX=0,this.offsetY=0;for(var e=0,i=this.texturePool;e<i.length;){var n=i[e];++e,n.destroy()}this.texturePool=null,t.deleteBuffer(this.vertexBuffer),t.deleteBuffer(this.uvBuffer),t.deleteBuffer(this.colorBuffer),t.deleteBuffer(this.indexBuffer)},initShaderBuffers:function(){var t=this.gl;this.vertexBuffer=t.createBuffer(),this.uvBuffer=t.createBuffer(),this.colorBuffer=t.createBuffer(),this.indexBuffer=t.createBuffer();var e,i=[0,0,1,0,0,1,1,1];e=null!=i?new Float32Array(i):null,this.vertexArray=e,t.bindBuffer(t.ARRAY_BUFFER,this.vertexBuffer),t.bufferData(t.ARRAY_BUFFER,this.vertexArray,t.STATIC_DRAW);var n,a=[0,0,1,0,0,1,1,1];n=null!=a?new Float32Array(a):null,this.uvArray=n,t.bindBuffer(t.ARRAY_BUFFER,this.uvBuffer),t.bufferData(t.ARRAY_BUFFER,this.uvArray,t.STATIC_DRAW);var s,r=[1,16777215,1,16777215,1,16777215,1,16777215];s=null!=r?new Float32Array(r):null,this.colorArray=s,t.bindBuffer(t.ARRAY_BUFFER,this.colorBuffer),t.bufferData(t.ARRAY_BUFFER,this.colorArray,t.STATIC_DRAW),t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,this.indexBuffer),t.bufferData(t.ELEMENT_ARRAY_BUFFER,function(t){var e,i,n=[0,1,2,1,3,2];return i=null!=n?new Uint16Array(n):null,e=i}(this),t.STATIC_DRAW)},popFilter:function(){},pushFilter:function(t){},setContext:function(t){this.gl=t,this.texturePool=[],this.initShaderBuffers()},__class__:js};var qs=function(t){za.call(this,t),this.setContext(t.gl),this.clips=[]};s["openfl._internal.renderer.opengl.utils.GLMaskManager"]=qs,qs.__name__=["openfl","_internal","renderer","opengl","utils","GLMaskManager"],qs.__super__=za,qs.prototype=n(za.prototype,{destroy:function(){this.gl=null},pushRect:function(t,e){if(null!=t){var i=e.clone();Ns.flipMatrix(i,this.renderSession.renderer.viewport.height);var n=t.clone();n.__transform(n,i),null!=this.currentClip&&(n=this.currentClip.intersection(n));var a=null==this.currentClip||n.isEmpty()||this.currentClip.containsRect(n);this.clips.push(n),this.currentClip=n,a&&(this.renderSession.spriteBatch.stop(),this.renderSession.spriteBatch.start(this.currentClip))}},pushMask:function(t){this.renderSession.spriteBatch.stop(),this.renderSession.stencilManager.pushMask(t,this.renderSession),this.renderSession.spriteBatch.start(this.currentClip)},popMask:function(){this.renderSession.spriteBatch.stop(),this.renderSession.stencilManager.popMask(null,this.renderSession),this.renderSession.spriteBatch.start(this.currentClip)},popRect:function(){this.renderSession.spriteBatch.stop(),this.clips.pop(),this.currentClip=this.clips[this.clips.length-1],this.renderSession.spriteBatch.start(this.currentClip)},saveState:function(){this.savedClip=this.currentClip,this.currentClip=null},restoreState:function(){this.currentClip=this.savedClip,this.savedClip=null},setContext:function(t){null!=this.renderSession&&(this.renderSession.gl=t),this.gl=t},__class__:qs});var Js=function(t,e,i,n,a){if(null==i&&(i=!1),this.enabled=!0,this.normalized=!1,this.components=t,this.type=e,this.normalized=i,this.name=n,null==a){var s;s=null!=t?new Float32Array(t):null,this.defaultValue=s}else this.defaultValue=a};s["openfl._internal.renderer.opengl.utils.VertexAttribute"]=Js,Js.__name__=["openfl","_internal","renderer","opengl","utils","VertexAttribute"],Js.prototype={copy:function(){return new Js(this.components,this.type,this.normalized,this.name,this.defaultValue)},getElementsBytes:function(){var t=this.type;switch(t){case 5120:case 5121:return 1;case 5122:case 5123:return 2;default:return 4}},get_elements:function(){return Math.floor(this.components*this.getElementsBytes()/4)},__class__:Js,__properties__:{get_elements:"get_elements"}};var Zs=function(t,e,i,n){null==n&&(n=0),null==i&&(i=0),null==e&&(e=0),null==t&&(t=0),this.x=t,this.y=e,this.width=i,this.height=n};s["openfl.geom.Rectangle"]=Zs,Zs.__name__=["openfl","geom","Rectangle"],Zs.prototype={clone:function(){return new Zs(this.x,this.y,this.width,this.height)},contains:function(t,e){return t>=this.x&&e>=this.y&&t<this.get_right()&&e<this.get_bottom()},containsPoint:function(t){return this.contains(t.x,t.y)},containsRect:function(t){return t.width<=0||t.height<=0?t.x>this.x&&t.y>this.y&&t.get_right()<this.get_right()&&t.get_bottom()<this.get_bottom():t.x>=this.x&&t.y>=this.y&&t.get_right()<=this.get_right()&&t.get_bottom()<=this.get_bottom()},copyFrom:function(t){this.x=t.x,this.y=t.y,this.width=t.width,this.height=t.height},equals:function(t){return null!=t&&this.x==t.x&&this.y==t.y&&this.width==t.width&&this.height==t.height},inflate:function(t,e){this.x-=t,this.width+=2*t,this.y-=e,this.height+=2*e},inflatePoint:function(t){this.inflate(t.x,t.y)},intersection:function(t){var e;e=this.x<t.x?t.x:this.x;var i;if(i=this.get_right()>t.get_right()?t.get_right():this.get_right(),i<=e)return new Zs;var n;n=this.y<t.y?t.y:this.y;var a;return a=this.get_bottom()>t.get_bottom()?t.get_bottom():this.get_bottom(),a<=n?new Zs:new Zs(e,n,i-e,a-n)},intersects:function(t){var e;e=this.x<t.x?t.x:this.x;var i;if(i=this.get_right()>t.get_right()?t.get_right():this.get_right(),i<=e)return!1;var n;n=this.y<t.y?t.y:this.y;var a;return a=this.get_bottom()>t.get_bottom()?t.get_bottom():this.get_bottom(),a>n},isEmpty:function(){return this.width<=0||this.height<=0},offset:function(t,e){this.x+=t,this.y+=e},offsetPoint:function(t){this.x+=t.x,this.y+=t.y},setEmpty:function(){this.x=this.y=this.width=this.height=0},setTo:function(t,e,i,n){this.x=t,this.y=e,this.width=i,this.height=n},toString:function(){return"(x="+this.x+", y="+this.y+", width="+this.width+", height="+this.height+")"},union:function(t){if(0==this.width||0==this.height)return t.clone();if(0==t.width||0==t.height)return this.clone();var e;e=this.x>t.x?t.x:this.x;var i;i=this.get_right()<t.get_right()?t.get_right():this.get_right();var n;n=this.y>t.y?t.y:this.y;var a;return a=this.get_bottom()<t.get_bottom()?t.get_bottom():this.get_bottom(),new Zs(e,n,i-e,a-n)},__contract:function(t,e,i,n){if(0!=this.width||0!=this.height){this.get_right(),this.get_bottom();this.x<t&&(this.x=t),this.y<e&&(this.y=e),this.get_right()>t+i&&(this.width=t+i-this.x),this.get_bottom()>e+n&&(this.height=e+n-this.y)}},__expand:function(t,e,i,n){if(0==this.width&&0==this.height)return this.x=t,this.y=e,this.width=i,void(this.height=n);var a=this.get_right(),s=this.get_bottom();this.x>t&&(this.x=t,this.width=a-t),this.y>e&&(this.y=e,this.height=s-e),a<t+i&&(this.width=t+i-this.x),s<e+n&&(this.height=e+n-this.y)},__toLimeRectangle:function(){return new Nn(this.x,this.y,this.width,this.height)},__transform:function(t,e){var i=e.a*this.x+e.c*this.y,n=i,a=e.b*this.x+e.d*this.y,s=a,r=e.a*(this.x+this.width)+e.c*this.y,o=e.b*(this.x+this.width)+e.d*this.y;r<i&&(i=r),o<a&&(a=o),r>n&&(n=r),o>s&&(s=o),r=e.a*(this.x+this.width)+e.c*(this.y+this.height),o=e.b*(this.x+this.width)+e.d*(this.y+this.height),r<i&&(i=r),o<a&&(a=o),r>n&&(n=r),o>s&&(s=o),r=e.a*this.x+e.c*(this.y+this.height),o=e.b*this.x+e.d*(this.y+this.height),r<i&&(i=r),o<a&&(a=o),r>n&&(n=r),o>s&&(s=o),t.setTo(i+e.tx,a+e.ty,n-i,s-a)},get_bottom:function(){return this.y+this.height},set_bottom:function(t){return this.height=t-this.y,t},get_bottomRight:function(){return new Oa(this.x+this.width,this.y+this.height)},set_bottomRight:function(t){return this.width=t.x-this.x,this.height=t.y-this.y,t.clone()},get_left:function(){return this.x},set_left:function(t){return this.width-=t-this.x,this.x=t,t},get_right:function(){return this.x+this.width},set_right:function(t){return this.width=t-this.x,t},get_size:function(){return new Oa(this.width,this.height)},set_size:function(t){return this.width=t.x,this.height=t.y,t.clone()},get_top:function(){return this.y},set_top:function(t){return this.height-=t-this.y,this.y=t,t},get_topLeft:function(){return new Oa(this.x,this.y)},set_topLeft:function(t){return this.x=t.x,this.y=t.y,t.clone()},__class__:Zs,__properties__:{set_topLeft:"set_topLeft",get_topLeft:"get_topLeft",set_top:"set_top",get_top:"get_top",set_size:"set_size",get_size:"get_size",set_right:"set_right",get_right:"get_right",set_left:"set_left",get_left:"get_left",set_bottomRight:"set_bottomRight",get_bottomRight:"get_bottomRight",set_bottom:"set_bottom",get_bottom:"get_bottom"}};var Qs=function(){};s["openfl._internal.renderer.opengl.utils.GraphicsRenderer"]=Qs,Qs.__name__=["openfl","_internal","renderer","opengl","utils","GraphicsRenderer"],Qs.lastVertsBuffer=null,Qs.lastBucketMode=null,Qs.lastTexture=null,Qs.lastTextureRepeat=null,Qs.lastTextureSmooth=null,Qs.overrideMatrix=null,Qs.buildCircle=function(t,e,i){null==i&&(i=!1);var n,a=t.points,s=a[0],r=a[1],o=a[2];n=3==a.length?o:a[3],t.type==sr.Ellipse&&(o/=2,n/=2,s+=o,r+=n),i&&(s-=Qs.objectBounds.x,r-=Qs.objectBounds.y);var l=40,_=2*Math.PI/l,h=Qs.prepareBucket(t,e),c=h.getData(nr.Fill);if(null!=c){var u=c.verts,d=c.indices,m=u.length/2|0;d.push(m);for(var f=0,p=l+1;f<p;){var g=f++;u.push(s),u.push(r),u.push(s+Math.sin(_*g)*o),u.push(r+Math.cos(_*g)*n),d.push(m++),d.push(m++)}d.push(m-1)}if(t.line.width>0){var v=t.points;t.points=[],ms.ellipse(t.points,s,r,o,n,l),Qs.buildLine(t,h),t.points=v}},Qs.buildComplexPoly=function(t,e,i){null==i&&(i=!1);var n=null;if(t.points.length>=6){var a=t.points.slice();if(i)for(var s=0,r=a.length/2|0;s<r;){var o=s++;a[2*o]-=Qs.objectBounds.x,a[2*o+1]-=Qs.objectBounds.y}n=Qs.prepareBucket(t,e);var l=n.getData(nr.Fill);l.drawMode=e.gl.TRIANGLE_FAN,l.verts=a;for(var _=l.indices,h=a.length/2|0,c=0;c<h;){var u=c++;_.push(u)}}t.line.width>0&&(null==n&&(n=Qs.prepareBucket(t,e)),Qs.buildLine(t,n,i))},Qs.buildLine=function(t,e,i){null==i&&(i=!1);var n=t.points;if(0!=n.length){var a=e.getData(nr.Line);if(i)for(var s=0,r=n.length/2|0;s<r;){var o=s++;n[2*o]-=Qs.objectBounds.x,n[2*o+1]-=Qs.objectBounds.y}var l=new Oa(n[0],n[1]),_=new Oa(n[n.length-2|0],n[n.length-1|0]);if(l.x==_.x&&l.y==_.y){n=n.slice(),n.pop(),n.pop(),_=new Oa(n[n.length-2|0],n[n.length-1|0]);var h=_.x+.5*(l.x-_.x),c=_.y+.5*(l.y-_.y);n.unshift(c),n.unshift(h),n.push(h),n.push(c)}var u,d,m,f,p,g,v,y,x,b,w,T,A,E,S,C,I,L,M,B,R,D,P,N=a.verts,F=a.indices,k=n.length/2|0,O=n.length,U=N.length/6|0,V=t.line.width/2,G=Qs.hex2rgb(t.line.color),W=t.line.alpha,X=G[0],z=G[1],H=G[2];m=n[0],f=n[1],p=n[2],g=n[3],x=-(f-g),b=m-p,P=Math.sqrt(Math.abs(x*x+b*b)),x/=P,b/=P,x*=V,b*=V,N.push(m-x),N.push(f-b),N.push(X),N.push(z),N.push(H),N.push(W),N.push(m+x),N.push(f+b),N.push(X),N.push(z),N.push(H),N.push(W);for(var Y=1,K=k-1;Y<K;){var j=Y++;m=n[2*(j-1)],f=n[2*(j-1)+1],p=n[2*j],g=n[2*j+1],v=n[2*(j+1)],y=n[2*(j+1)+1],x=-(f-g),b=m-p,P=Math.sqrt(Math.abs(x*x+b*b)),x/=P,b/=P,x*=V,b*=V,w=-(g-y),T=p-v,P=Math.sqrt(Math.abs(w*w+T*T)),w/=P,T/=P,w*=V,T*=V,S=-b+f-(-b+g),C=-x+p-(-x+m),I=(-x+m)*(-b+g)-(-x+p)*(-b+f),L=-T+y-(-T+g),M=-w+p-(-w+v),B=(-w+v)*(-T+g)-(-w+p)*(-T+y),R=S*M-L*C,Math.abs(R)<.1?(R+=10.1,N.push(p-x),N.push(g-b),N.push(X),N.push(z),N.push(H),N.push(W),N.push(p+x),N.push(g+b),N.push(X),N.push(z),N.push(H),N.push(W)):(u=(C*B-M*I)/R,d=(L*I-S*B)/R,D=(u-p)*(u-p)+(d-g)+(d-g),D>19600?(A=x-w,E=b-T,P=Math.sqrt(Math.abs(A*A+E*E)),A/=P,E/=P,A*=V,E*=V,N.push(p-A),N.push(g-E),N.push(X),N.push(z),N.push(H),
N.push(W),N.push(p+A),N.push(g+E),N.push(X),N.push(z),N.push(H),N.push(W),N.push(p-A),N.push(g-E),N.push(X),N.push(z),N.push(H),N.push(W),O++):(N.push(u),N.push(d),N.push(X),N.push(z),N.push(H),N.push(W),N.push(p-(u-p)),N.push(g-(d-g)),N.push(X),N.push(z),N.push(H),N.push(W)))}m=n[2*(k-2)],f=n[2*(k-2)+1],p=n[2*(k-1)],g=n[2*(k-1)+1],x=-(f-g),b=m-p,P=Math.sqrt(Math.abs(x*x+b*b)),isFinite(P)||We.trace(x*x+b*b,{fileName:"GraphicsRenderer.hx",lineNumber:407,className:"openfl._internal.renderer.opengl.utils.GraphicsRenderer",methodName:"buildLine"}),x/=P,b/=P,x*=V,b*=V,N.push(p-x),N.push(g-b),N.push(X),N.push(z),N.push(H),N.push(W),N.push(p+x),N.push(g+b),N.push(X),N.push(z),N.push(H),N.push(W),F.push(U);for(var q=0;q<O;){q++;F.push(U++)}F.push(U-1)}},Qs.buildPoly=function(t,e){if(!(t.points.length<6)){var i=t.points,n=i.length,a=i[0],s=i[1],r=i[n-2],o=i[n-1];a==r&&s==o||(i.push(a),i.push(s));var l=i.length/2|0,_=Qs.prepareBucket(t,e),h=_.getData(nr.Fill),c=h.verts,u=h.indices;if(null!=h){var d=[];fs.triangulate(d,i);for(var m=c.length/2,f=0;f<d.length;)u.push(d[f]+m|0),u.push(d[f]+m|0),u.push(d[f+1]+m|0),u.push(d[f+2]+m|0),u.push(d[f+2]+m|0),f+=3;for(var p=0;p<l;){var g=p++;c.push(i[2*g]),c.push(i[2*g+1])}}t.line.width>0&&Qs.buildLine(t,_)}},Qs.buildRectangle=function(t,e,i){null==i&&(i=!1);var n=t.points,a=n[0],s=n[1],r=n[2],o=n[3];i&&(a-=Qs.objectBounds.x,s-=Qs.objectBounds.y);var l=Qs.prepareBucket(t,e),_=l.getData(nr.Fill);if(null!=_){var h=_.verts,c=_.indices,u=h.length/2|0;h.push(a),h.push(s),h.push(a+r),h.push(s),h.push(a),h.push(s+o),h.push(a+r),h.push(s+o),c.push(u),c.push(u),c.push(u+1),c.push(u+2),c.push(u+3),c.push(u+3)}if(t.line.width>0){var d=t.points;t.points=[a,s,a+r,s,a+r,s+o,a,s+o,a,s],Qs.buildLine(t,l),t.points=d}},Qs.buildRoundedRectangle=function(t,e,i){null==i&&(i=!1);var n=t.points.slice(),a=n[0],s=n[1],r=n[2],o=n[3],l=n[4],_=n[5];i&&(a-=Qs.objectBounds.x,s-=Qs.objectBounds.y);var h=[];ms.roundRectangle(h,a,s,r,o,l,_);var c=Qs.prepareBucket(t,e),u=c.getData(nr.Fill);if(null!=u){var d=u.verts,m=u.indices,f=d.length/2,p=[];fs.triangulate(p,h);for(var g=0;g<p.length;)m.push(p[g]+f|0),m.push(p[g]+f|0),m.push(p[g+1]+f|0),m.push(p[g+2]+f|0),m.push(p[g+2]+f|0),g+=3;for(g=0;g<h.length;)d.push(h[g]),d.push(h[++g]),g++}if(t.line.width>0){var v=t.points;t.points=h,Qs.buildLine(t,c),t.points=v}},Qs.buildDrawTriangles=function(t,e,i,n){null==n&&(n=!1);var a,s,r,o,l,_,h=t.type.slice(2),c=h[0],u=h[1],d=h[2],m=h[3],f=h[4];h[5];n?(a=1,s=0,r=0,o=1,l=0,_=0):(a=e.__worldTransform.a,s=e.__worldTransform.b,r=e.__worldTransform.c,o=e.__worldTransform.d,l=e.__worldTransform.tx,_=e.__worldTransform.ty);var p=null!=f&&f.length>0,g=Qs.prepareBucket(t,i),v=g.getData(nr.Fill),y=v.vertexArray.attributes[2];y.enabled=p;var x,b=[1,1,1,1];x=null!=b?new Float32Array(b):null,y.defaultValue=x,v.rawVerts=!0,v.glLength=u.length,v.stride=G["int"](v.vertexArray.get_stride()/4);var w,T=v.glLength*v.stride;if(null==v.glVerts||v.glVerts.length<T){var A;A=null!=T?new Float32Array(T):null,w=A,v.glVerts=w}else w=v.glVerts;var E,S,C=w.buffer;S=null!=C?new Uint32Array(C,0):null,E=S;for(var I=0,L=0,M=0,B=0,R=0,D=0,P=0,N=0,F=0,k=0,O=0,U=0,V=0,W=0,X=u.length/3|0;W<X;){var z=W++;switch(B=u.data[3*z],R=u.data[3*z+1],D=u.data[3*z+2],I=2*B,L=2*R,M=2*D,P=c.data[I],N=c.data[I+1],F=c.data[L],k=c.data[L+1],O=c.data[M],U=c.data[M+1],n&&(P-=Qs.objectBounds.x,N-=Qs.objectBounds.y,F-=Qs.objectBounds.x,k-=Qs.objectBounds.y,O-=Qs.objectBounds.x,U-=Qs.objectBounds.y),m){case 2:if(!((F-P)*(U-N)-(k-N)*(O-P)<0))continue;break;case 0:if((F-P)*(U-N)-(k-N)*(O-P)<0)continue}var H=V++;w[H]=a*P+r*N+l;var Y=V++;w[Y]=s*P+o*N+_;var K=V++;w[K]=d.data[I];var j=V++;if(w[j]=d.data[I+1],p){var q=V++;E[q]=f.data[B]}var J=V++;w[J]=a*F+r*k+l;var Z=V++;w[Z]=s*F+o*k+_;var Q=V++;w[Q]=d.data[L];var $=V++;if(w[$]=d.data[L+1],p){var tt=V++;E[tt]=f.data[R]}var et=V++;w[et]=a*O+r*U+l;var it=V++;w[it]=s*O+o*U+_;var nt=V++;w[nt]=d.data[M];var at=V++;if(w[at]=d.data[M+1],p){var st=V++;E[st]=f.data[D]}}},Qs.buildDrawTiles=function(t,e){Qs.prepareBucket(t,e)},Qs.quadraticBezierCurve=function(t,e,i,n,a,s){for(var r,o,l,_,h,c,u=20,d=[],m=function(t,e,i){var n=e-t;return t+n*i},f=0,p=0,g=u+1;p<g;){var v=p++;f=v/u,r=m(t,i,f),o=m(e,n,f),l=m(i,a,f),_=m(n,s,f),h=m(r,l,f),c=m(o,_,f),d.push(h),d.push(c)}return d},Qs.render=function(t,e){var i=t.__graphics,n=i.__bounds,a=(e.spriteBatch,i.__dirty);return i.__visible&&0!=i.__commands.get_length()&&null!=n&&0!=n.width&&0!=n.height?(a&&Qs.updateGraphics(t,t.__graphics,e.gl,t.get_cacheAsBitmap()),void Qs.renderGraphics(t,e,!1)):void i.__glStack.splice(0,i.__glStack.length)},Qs.renderGraphics=function(t,e,i){null==i&&(i=!1);var n=t.__graphics,a=e.gl,s=n.__glStack[Fs.glContextId];if(null!=s){var r,o;o=i?ka.__identity:t.__worldTransform;var l=e.spriteBatch.clipRect,_=e.spriteBatch.drawing;_=e.spriteBatch.drawing;for(var h=0,c=s.buckets.length;h<c;){var u=h++;_=e.spriteBatch.drawing,_&&!i&&e.spriteBatch.finish(),e.blendModeManager.setBlendMode(t.__blendMode),null!=l&&(a.enable(a.SCISSOR_TEST),a.scissor(Math.floor(l.x),Math.floor(l.y),Math.floor(l.width),Math.floor(l.height))),r=s.buckets[u];var d=r.mode;switch(d[1]){case 1:case 2:e.stencilManager.pushBucket(r,e,o.toArray(!0));var m=Qs.prepareShader(r,e,t,o.toArray(!0));Qs.renderFill(r,m,e),e.stencilManager.popBucket(t,r,e);break;case 5:var f=Qs.prepareShader(r,e,t,null);Qs.renderDrawTriangles(r,f,e);break;case 6:_||e.spriteBatch.begin(e,l);var p=r.graphicType.slice(2);e.spriteBatch.renderTiles(t,p[0],p[1],p[2],p[3],p[4],p[5]),e.spriteBatch.finish()}for(var g=t.__worldColorTransform,v=0,y=r.lines;v<y.length;){var x=y[v];if(++v,null!=x&&x.verts.length>0){var b=e.shaderManager.primitiveShader;e.shaderManager.setShader(b),a.uniformMatrix3fv(b.getUniformLocation("openfl_uTranslationMatrix"),!1,o.toArray(!0)),a.uniformMatrix3fv(b.getUniformLocation("openfl_uProjectionMatrix"),!1,e.projectionMatrix.toArray(!0)),a.uniform1f(b.getUniformLocation("openfl_uAlpha"),1),a.uniform4f(b.getUniformLocation("openfl_uColorMultiplier"),g.redMultiplier,g.greenMultiplier,g.blueMultiplier,g.alphaMultiplier),a.uniform4f(b.getUniformLocation("openfl_uColorOffset"),g.redOffset/255,g.greenOffset/255,g.blueOffset/255,g.alphaOffset/255),x.vertexArray.bind(),b.bindVertexArray(x.vertexArray),a.bindBuffer(a.ELEMENT_ARRAY_BUFFER,x.indexBuffer),a.drawElements(a.TRIANGLE_STRIP,x.indices.length,a.UNSIGNED_SHORT,0)}}null!=l&&a.disable(a.SCISSOR_TEST),_=e.spriteBatch.drawing,_||i||e.spriteBatch.begin(e,l)}}},Qs.updateGraphics=function(t,e,i,n){null==n&&(n=!1),Qs.objectPosition.setTo(t.get_x(),t.get_y()),null==e.__bounds?Qs.objectBounds=new Zs:Qs.objectBounds.copyFrom(e.__bounds);var a=null;e.__dirty&&(a=zs.getStack(e,i)),e.set___dirty(!1);for(var s=0,r=a.buckets;s<r.length;){var o=r[s];++s,o.reset(),Qs.bucketPool.push(o)}a.reset();for(var l=a.lastIndex,_=e.__drawPaths.length;l<_;){var h=l++,c=e.__drawPaths[h],u=c.type;switch(u[1]){case 0:Qs.buildComplexPoly(c,a,n);break;case 1:var d=u[2];d?Qs.buildRoundedRectangle(c,a,n):Qs.buildRectangle(c,a,n);break;case 2:case 3:Qs.buildCircle(c,a,n);break;case 4:Qs.buildDrawTriangles(c,t,a,n);break;case 5:Qs.prepareBucket(c,a);break;case 6:var m=u[2];Qs.overrideMatrix=m}a.lastIndex++}for(var f=0,p=a.buckets;f<p.length;){var g=p[f];++f,g.uploadTileBuffer&&g.uploadTile(Math.ceil(Qs.objectBounds.get_left()),Math.ceil(Qs.objectBounds.get_top()),Math.floor(Qs.objectBounds.get_right()),Math.floor(Qs.objectBounds.get_bottom())),g.optimize()}a.upload()},Qs.prepareBucket=function(t,e){var i=null,n=t.fill;switch(n[1]){case 1:var a=n[3],s=n[2];i=Qs.switchBucket(t.fillIndex,e,ir.Fill),null==s?i.color=[1,1,1]:i.color=[(s>>16&255)/255,(s>>8&255)/255,(255&s)/255],i.color[3]=a,i.uploadTileBuffer=!0;break;case 2:var r=n[5],o=n[4],l=n[3],_=n[2];i=Qs.switchBucket(t.fillIndex,e,ir.PatternFill),i.bitmap=_,i.textureRepeat=o,i.textureSmooth=r,i.texture=_.getTexture(e.gl),i.uploadTileBuffer=!0;var h;h=null==l?new ka:l.clone(),h.invert(),h.scale(1/_.width,1/_.height);var c=h.tx,u=h.ty;h.tx=0,h.ty=0,i.textureTL.x=c,i.textureTL.y=u,i.textureBR.x=c+1,i.textureBR.y=u+1,i.textureMatrix=h;break;default:i=Qs.switchBucket(t.fillIndex,e,ir.Line),i.uploadTileBuffer=!1}var d=t.type;switch(d[1]){case 4:i.mode=ir.DrawTriangles,i.uploadTileBuffer=!1;break;case 5:i.mode=ir.DrawTiles,i.uploadTileBuffer=!1}return i.graphicType=t.type,i.overrideMatrix=Qs.overrideMatrix,i},Qs.getBucket=function(t,e){var i=Qs.bucketPool.pop();return null==i&&(i=new tr(t.gl)),i.mode=e,t.buckets.push(i),i},Qs.switchBucket=function(t,e,i){for(var n=null,a=0,s=e.buckets;a<s.length;){var r=s[a];if(++a,r.fillIndex==t){n=r;break}}return null==n&&(n=Qs.getBucket(e,i)),n.dirty=!0,n.fillIndex=t,n},Qs.prepareShader=function(t,e,i,n){var a=e.gl,s=null,r=t.mode;switch(r[1]){case 1:s=e.shaderManager.fillShader;break;case 2:s=e.shaderManager.patternFillShader;break;case 5:s=e.shaderManager.drawTrianglesShader;break;default:s=null}if(null==s)return null;e.shaderManager.setShader(s);a.uniform1f(s.getUniformLocation("openfl_uAlpha"),i.__worldAlpha),a.uniformMatrix3fv(s.getUniformLocation("openfl_uProjectionMatrix"),!1,e.projectionMatrix.toArray(!0));var o=i.__worldColorTransform;a.uniform4f(s.getUniformLocation("openfl_uColorMultiplier"),o.redMultiplier,o.greenMultiplier,o.blueMultiplier,o.alphaMultiplier),a.uniform4f(s.getUniformLocation("openfl_uColorOffset"),o.redOffset/255,o.greenOffset/255,o.blueOffset/255,o.alphaOffset/255);var l=t.mode;switch(l[1]){case 1:a.uniformMatrix3fv(s.getUniformLocation("openfl_uTranslationMatrix"),!1,n),a.uniform4fv(s.getUniformLocation("openfl_uColor"),function(e){var i,n,a=t.color;return n=null!=a?new Float32Array(a):null,i=n}(this));break;case 2:a.uniformMatrix3fv(s.getUniformLocation("openfl_uTranslationMatrix"),!1,n),a.uniform2f(s.getUniformLocation("openfl_uPatternTL"),t.textureTL.x,t.textureTL.y),a.uniform2f(s.getUniformLocation("openfl_uPatternBR"),t.textureBR.x,t.textureBR.y),a.uniformMatrix3fv(s.getUniformLocation("openfl_uPatternMatrix"),!1,t.textureMatrix.toArray(!0));break;case 5:null!=t.texture?a.uniform1i(s.getUniformLocation("openfl_uUseTexture"),1):(a.uniform1i(s.getUniformLocation("openfl_uUseTexture"),0),a.uniform4fv(s.getUniformLocation("openfl_uColor"),function(e){var i,n,a=t.color;return n=null!=a?new Float32Array(a):null,i=n}(this)))}return s},Qs.renderFill=function(t,e,i){var n=i.gl;t.mode==ir.PatternFill&&null!=t.texture&&Qs.bindTexture(n,t),n.bindBuffer(n.ARRAY_BUFFER,t.tileBuffer),n.vertexAttribPointer(e.getAttribLocation("openfl_aPosition"),4,n.SHORT,!1,0,0),n.drawArrays(n.TRIANGLE_STRIP,0,4)},Qs.renderDrawTriangles=function(t,e,i){for(var n=i.gl,a=0,s=t.fills;a<s.length;){var r=s[a];++a,r.available||(Qs.bindTexture(n,t),r.vertexArray.bind(),e.bindVertexArray(r.vertexArray),n.drawArrays(n.TRIANGLES,r.glStart,r.glLength))}},Qs.bindTexture=function(t,e){t.bindTexture(t.TEXTURE_2D,e.texture),e.textureRepeat&&e.bitmap.image.get_powerOfTwo()?(t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.REPEAT),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.REPEAT)):(t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE)),e.textureSmooth?(t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.LINEAR)):(t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.NEAREST),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.NEAREST))},Qs.isCCW=function(t,e,i,n,a,s){return(i-t)*(s-e)-(n-e)*(a-t)<0},Qs.hex2rgb=function(t){return null==t?[1,1,1]:[(t>>16&255)/255,(t>>8&255)/255,(255&t)/255]},Qs.hex2rgba=function(t){return null==t?[1,1,1,1]:[(t>>16&255)/255,(t>>8&255)/255,(255&t)/255,(t>>24&255)/255]};var $s=function(t){this.lastIndex=0,this.gl=t,this.buckets=[],this.lastIndex=0};s["openfl._internal.renderer.opengl.utils.GLStack"]=$s,$s.__name__=["openfl","_internal","renderer","opengl","utils","GLStack"],$s.prototype={reset:function(){this.buckets=[],this.lastIndex=0},upload:function(){for(var t=0,e=this.buckets;t<e.length;){var i=e[t];++t,i.dirty&&i.upload()}},__class__:$s};var tr=function(t){this.uploadTileBuffer=!0,this.textureSmooth=!0,this.textureRepeat=!1,this.lines=[],this.fills=[],this.fillIndex=-1,this.gl=t,this.color=[0,0,0],this.lastIndex=0,this.alpha=1,this.dirty=!0,this.mode=ir.Fill,this.textureMatrix=new ka,this.textureTL=new Oa,this.textureBR=new Oa(1,1)};s["openfl._internal.renderer.opengl.utils.GLBucket"]=tr,tr.__name__=["openfl","_internal","renderer","opengl","utils","GLBucket"],tr.prototype={getData:function(t){var e;switch(t[1]){case 1:e=this.fills;break;default:e=this.lines}for(var i=null,n=!1,a=0;a<e.length;){var s=e[a];if(++a,s.available){i=s,n=!0;break}}switch(null==i&&(i=new er(this.gl)),i.available=!1,i.parent=this,i.type=t,n&&T.remove(e,i),e.push(i),t[1]){case 1:var r=this.mode;switch(r[1]){case 1:case 2:i.vertexArray.attributes=Qs.fillVertexAttributes;break;case 5:i.vertexArray.attributes=Qs.drawTrianglesVertexAttributes.slice(),i.vertexArray.attributes[2]=i.vertexArray.attributes[2].copy()}break;case 0:i.vertexArray.attributes=Qs.primitiveVertexAttributes}return i},optimize:function(){var t=this,e=this.lines;if(e.length>1){for(var i=[],n=null,a=null,s=0,r=0,o=0,l=(e.length,0);l<e.length;){var _=e[l];if(++l,_.available||_.rawVerts||_.rawIndices)null!=n&&(i.push(n),n=null),i.push(_),a=_;else if(null==a||a.drawMode==_.drawMode){if(null==n)n=_;else{r=n.verts.length,o=n.indices.length;for(var h=0,c=_.verts.length;h<c;){var u=h++;n.verts[u+r]=_.verts[u]}for(var d=0,m=_.indices.length;d<m;){var f=d++;n.indices[f+o]=_.indices[f]+s}}s=n.indices[n.indices.length-1]+1,a=_}else null!=n&&(i.push(n),n=null),i.push(_),a=_}if(0==i.length&&null!=n&&i.push(n),i.length>0)switch(nr.Line[1]){case 1:t.fills=i;break;default:t.lines=i}}},reset:function(){for(var t=0,e=this.fills;t<e.length;){var i=e[t];++t,i.reset()}for(var n=0,a=this.lines;n<a.length;){var s=a[n];++n,s.reset()}this.fillIndex=-1,this.uploadTileBuffer=!0,this.graphicType=sr.Polygon},uploadTile:function(t,e,i,n){null==this.tileBuffer&&(this.tileBuffer=this.gl.createBuffer()),this.tile=[t,e,0,0,i,e,1,0,t,n,0,1,i,n,1,1];var a,s=this.tile;a=null!=s?new Int16Array(s):null,this.glTile=a,this.gl.bindBuffer(this.gl.ARRAY_BUFFER,this.tileBuffer),this.gl.bufferData(this.gl.ARRAY_BUFFER,this.glTile,this.gl.STATIC_DRAW)},upload:function(){if(this.mode!=ir.Line)for(var t=0,e=this.fills;t<e.length;){var i=e[t];++t,i.available||i.upload()}for(var n=0,a=this.lines;n<a.length;){var s=a[n];++n,s.available||s.upload()}this.dirty=!1},__class__:tr};var er=function(t){this.available=!1,this.rawIndices=!1,this.stride=0,this.rawVerts=!1,this.lastVertsSize=0,this.glStart=0,this.glLength=0,this.gl=t,this.drawMode=t.TRIANGLE_STRIP,this.verts=[],this.indices=[],this.vertexArray=new ur([])};s["openfl._internal.renderer.opengl.utils.GLBucketData"]=er,er.__name__=["openfl","_internal","renderer","opengl","utils","GLBucketData"],er.prototype={reset:function(){this.available=!0,this.verts=[],this.indices=[],this.glLength=0,this.glStart=0,this.stride=0,this.rawVerts=!1,this.rawIndices=!1,this.drawMode=this.gl.TRIANGLE_STRIP},upload:function(){if(this.rawVerts&&null!=this.glVerts&&this.glVerts.length>0||this.verts.length>0){if(!this.rawVerts){var t,e=this.verts;t=null!=e?new Float32Array(e):null,this.glVerts=t}if(this.vertexArray.buffer=this.glVerts.buffer,this.glVerts.length<=this.lastVertsSize){this.vertexArray.bind();var i=this.glLength*this.stride;if(this.glLength>0&&this.lastVertsSize>i){var n=this.glVerts.subarray(0,i);this.vertexArray.upload(n)}else this.vertexArray.upload(this.glVerts)}else this.vertexArray.setContext(this.gl,this.glVerts),this.lastVertsSize=this.glVerts.length}if(0==this.glLength&&(this.rawIndices&&null!=this.glIndices&&this.glIndices.length>0||this.indices.length>0)){if(null==this.indexBuffer&&(this.indexBuffer=this.gl.createBuffer()),!this.rawIndices){var a,s=this.indices;a=null!=s?new Uint16Array(s):null,this.glIndices=a}this.gl.bindBuffer(this.gl.ELEMENT_ARRAY_BUFFER,this.indexBuffer),this.gl.bufferData(this.gl.ELEMENT_ARRAY_BUFFER,this.glIndices,this.gl.STREAM_DRAW)}},__class__:er};var ir=s["openfl._internal.renderer.opengl.utils.BucketMode"]={__ename__:["openfl","_internal","renderer","opengl","utils","BucketMode"],__constructs__:["None","Fill","PatternFill","Line","PatternLine","DrawTriangles","DrawTiles"]};ir.None=["None",0],ir.None.toString=r,ir.None.__enum__=ir,ir.Fill=["Fill",1],ir.Fill.toString=r,ir.Fill.__enum__=ir,ir.PatternFill=["PatternFill",2],ir.PatternFill.toString=r,ir.PatternFill.__enum__=ir,ir.Line=["Line",3],ir.Line.toString=r,ir.Line.__enum__=ir,ir.PatternLine=["PatternLine",4],ir.PatternLine.toString=r,ir.PatternLine.__enum__=ir,ir.DrawTriangles=["DrawTriangles",5],ir.DrawTriangles.toString=r,ir.DrawTriangles.__enum__=ir,ir.DrawTiles=["DrawTiles",6],ir.DrawTiles.toString=r,ir.DrawTiles.__enum__=ir;var nr=s["openfl._internal.renderer.opengl.utils.BucketDataType"]={__ename__:["openfl","_internal","renderer","opengl","utils","BucketDataType"],__constructs__:["Line","Fill"]};nr.Line=["Line",0],nr.Line.toString=r,nr.Line.__enum__=nr,nr.Fill=["Fill",1],nr.Fill.toString=r,nr.Fill.__enum__=nr;var ar=function(t){this.indices=[],this.data=[],this.lastIndex=0,this.mode=0,this.dirty=!0,this.alpha=1,this.tint=[1,1,1],this.gl=t,this.dataBuffer=t.createBuffer(),this.indexBuffer=t.createBuffer()};s["openfl._internal.renderer.opengl.utils.GLGraphicsData"]=ar,ar.__name__=["openfl","_internal","renderer","opengl","utils","GLGraphicsData"],ar.prototype={reset:function(){this.data=[],this.indices=[],this.lastIndex=0},upload:function(){var t,e=this.data;t=null!=e?new Float32Array(e):null,this.glData=t,this.gl.bindBuffer(this.gl.ARRAY_BUFFER,this.dataBuffer),this.gl.bufferData(this.gl.ARRAY_BUFFER,this.glData,this.gl.STATIC_DRAW);var i,n=this.indices;i=null!=n?new Uint16Array(n):null,this.glIndices=i,this.gl.bindBuffer(this.gl.ELEMENT_ARRAY_BUFFER,this.indexBuffer),this.gl.bufferData(this.gl.ELEMENT_ARRAY_BUFFER,this.glIndices,this.gl.STATIC_DRAW),this.dirty=!1},__class__:ar};var sr=s["openfl._internal.renderer.opengl.utils.GraphicType"]={__ename__:["openfl","_internal","renderer","opengl","utils","GraphicType"],__constructs__:["Polygon","Rectangle","Circle","Ellipse","DrawTriangles","DrawTiles","OverrideMatrix"]};sr.Polygon=["Polygon",0],sr.Polygon.toString=r,sr.Polygon.__enum__=sr,sr.Rectangle=function(t){var e=["Rectangle",1,t];return e.__enum__=sr,e.toString=r,e},sr.Circle=["Circle",2],sr.Circle.toString=r,sr.Circle.__enum__=sr,sr.Ellipse=["Ellipse",3],sr.Ellipse.toString=r,sr.Ellipse.__enum__=sr,sr.DrawTriangles=function(t,e,i,n,a,s){var o=["DrawTriangles",4,t,e,i,n,a,s];return o.__enum__=sr,o.toString=r,o},sr.DrawTiles=function(t,e,i,n,a,s){var o=["DrawTiles",5,t,e,i,n,a,s];return o.__enum__=sr,o.toString=r,o},sr.OverrideMatrix=function(t){var e=["OverrideMatrix",6,t];return e.__enum__=sr,e.toString=r,e};var rr=function(t,e,i,n,a){null==a&&(a=!0),null==n&&(n=!0),this.__swapped=!1,this.powerOfTwo=!0,this.useOldTexture=!1,this.gl=t,this.width=e,this.height=i,this.smoothing=n,this.powerOfTwo=a,this.set_renderTexture(new or(t,e,i,n,a))};s["openfl._internal.renderer.opengl.utils.PingPongTexture"]=rr,rr.__name__=["openfl","_internal","renderer","opengl","utils","PingPongTexture"],rr.prototype={swap:function(){this.__swapped=!this.__swapped,null==(this.__swapped?this.__texture1:this.__texture0)&&this.set_renderTexture(new or(this.gl,this.width,this.height,this.smoothing,this.powerOfTwo))},clear:function(t,e,i,n,a){null==n&&(n=0),null==i&&(i=0),null==e&&(e=0),null==t&&(t=0),(this.__swapped?this.__texture1:this.__texture0).clear(t,e,i,n,a)},resize:function(t,e){this.width=t,this.height=e,(this.__swapped?this.__texture1:this.__texture0).resize(t,e)},destroy:function(){null!=this.__texture0&&(this.__texture0.destroy(),this.__texture0=null),null!=this.__texture1&&(this.__texture1.destroy(),this.__texture1=null),this.__swapped=!1},get_renderTexture:function(){return this.__swapped?this.__texture1:this.__texture0},set_renderTexture:function(t){return this.__swapped?this.__texture1=t:this.__texture0=t},get_oldRenderTexture:function(){return this.__swapped?this.__texture0:this.__texture1},set_oldRenderTexture:function(t){return this.__swapped?this.__texture0=t:this.__texture1=t},get_framebuffer:function(){return(this.__swapped?this.__texture1:this.__texture0).frameBuffer},get_texture:function(){return this.useOldTexture?(this.__swapped?this.__texture0:this.__texture1).texture:(this.__swapped?this.__texture1:this.__texture0).texture},get___otherTexture:function(){return this.__swapped?this.__texture0:this.__texture1},__class__:rr,__properties__:{get___otherTexture:"get___otherTexture",get_texture:"get_texture",get_framebuffer:"get_framebuffer",set_oldRenderTexture:"set_oldRenderTexture",get_oldRenderTexture:"get_oldRenderTexture",set_renderTexture:"set_renderTexture",get_renderTexture:"get_renderTexture"}};var or=function(t,e,i,n,a){null==a&&(a=!0),null==n&&(n=!0),this.powerOfTwo=!0,this.gl=t,this.powerOfTwo=a,this.frameBuffer=t.createFramebuffer(),this.texture=t.createTexture(),t.bindTexture(t.TEXTURE_2D,this.texture),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,n?t.LINEAR:t.NEAREST),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,n?t.LINEAR:t.NEAREST),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),t.bindFramebuffer(t.FRAMEBUFFER,this.frameBuffer),t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,this.texture,0),this.renderBuffer=t.createRenderbuffer(),t.bindRenderbuffer(t.RENDERBUFFER,this.renderBuffer),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.RENDERBUFFER,this.renderBuffer),this.resize(e,i)};s["openfl._internal.renderer.opengl.utils.RenderTexture"]=or,or.__name__=["openfl","_internal","renderer","opengl","utils","RenderTexture"],or.prototype={clear:function(t,e,i,n,a){null==n&&(n=0),null==i&&(i=0),null==e&&(e=0),null==t&&(t=0),this.gl.clearColor(t,e,i,n),this.gl.clear(null==a?this.gl.COLOR_BUFFER_BIT:a)},destroy:function(){null!=this.frameBuffer&&this.gl.deleteFramebuffer(this.frameBuffer),null!=this.texture&&this.gl.deleteTexture(this.texture),this.frameBuffer=null,this.texture=null},resize:function(t,e){if(this.width!=t||this.height!=e){this.width=t,this.height=e;var i=t,n=e;this.powerOfTwo&&(i=this.powOfTwo(t),n=this.powOfTwo(e));var a=this.__width,s=this.__height;this.__width=i,this.__height=n,this.createUVs(),a==i&&s==n||(this.gl.bindTexture(this.gl.TEXTURE_2D,this.texture),this.gl.texImage2D(this.gl.TEXTURE_2D,0,this.gl.RGBA,this.__width,this.__height,0,this.gl.RGBA,this.gl.UNSIGNED_BYTE,null),this.gl.bindRenderbuffer(this.gl.RENDERBUFFER,this.renderBuffer),this.gl.renderbufferStorage(this.gl.RENDERBUFFER,this.gl.DEPTH_STENCIL,this.__width,this.__height))}},createUVs:function(){null==this.__uvData&&(this.__uvData=new yr);var t=this.width/this.__width,e=this.height/this.__height;this.__uvData.x0=0,this.__uvData.y0=0,this.__uvData.x1=t,this.__uvData.y1=0,this.__uvData.x2=t,this.__uvData.y2=e,this.__uvData.x3=0,this.__uvData.y3=e},powOfTwo:function(t){for(var e=1;e<t;)e<<=1;return e},__class__:or};var lr=function(t){this.setContext(t)};s["openfl._internal.renderer.opengl.utils.ShaderManager"]=lr,lr.__name__=["openfl","_internal","renderer","opengl","utils","ShaderManager"],lr.prototype={setContext:function(t){this.gl=t,this.defaultShader=new Os(t),this.fillShader=new Vs(t),this.patternFillShader=new Gs(t),this.drawTrianglesShader=new Us(t),this.primitiveShader=new Ws(t),this.setShader(this.defaultShader,!0)},destroy:function(){this.defaultShader.destroy(),this.fillShader.destroy(),this.patternFillShader.destroy(),this.drawTrianglesShader.destroy(),this.primitiveShader.destroy(),this.gl=null},setShader:function(t,e){return null==e&&(e=!1),null==t?(this.currentShader=null,this.gl.useProgram(null),!0):!(null!=this.currentShader&&!e&&this.currentShader.ID==t.ID)&&(this.currentShader=t,this.gl.useProgram(t.program),!0)},__class__:lr};var _r=function(t,e){null==e&&(e=2e3),this.colorTransform=new Ua,this.uvs=new yr,this.matrix=new ka,this.lastEnableColor=!0,this.enableColor=!0,this.attributes=[],this.writtenVertexBytes=0,this.drawing=!1,this.dirty=!0,this.states=[],this.maxSprites=e,this.attributes.push(new Js(2,5126,(!1),"openfl_aPosition")),this.attributes.push(new Js(2,5126,(!1),"openfl_aTexCoord0")),this.attributes.push(new Js(4,5121,(!0),"openfl_aColor"));var i,n=[1,1,1,1];i=null!=n?new Float32Array(n):null,this.attributes[2].defaultValue=i,this.maxElementsPerVertex=0;for(var a=0,s=this.attributes;a<s.length;){var r=s[a];++a,this.maxElementsPerVertex+=Math.floor(r.components*r.getElementsBytes()/4)}this.vertexArraySize=e*this.maxElementsPerVertex*4*4,this.indexArraySize=6*e,this.vertexArray=new ur(this.attributes,this.vertexArraySize,(!1));var o,l=this.vertexArray.buffer;o=null!=l?new Float32Array(l,0):null,this.positions=o;var _,h=this.vertexArray.buffer;_=null!=h?new Uint32Array(h,0):null,this.colors=_;var c,u=this.indexArraySize;c=null!=u?new Uint16Array(u):null,this.indices=c;for(var d=0,m=0;d<this.indexArraySize;)this.indices[d]=m,this.indices[d+1]=m+1,this.indices[d+2]=m+2,this.indices[d+3]=m,this.indices[d+4]=m+2,this.indices[d+5]=m+3,d+=6,m+=4;this.currentState=new hr,this.dirty=!0,this.drawing=!1,this.batchedSprites=0,this.setContext(t)};s["openfl._internal.renderer.opengl.utils.SpriteBatch"]=_r,_r.__name__=["openfl","_internal","renderer","opengl","utils","SpriteBatch"],_r.prototype={destroy:function(){this.vertexArray.destroy(),this.vertexArray=null,this.indices=null,this.gl.deleteBuffer(this.indexBuffer),this.currentState.destroy();for(var t=0,e=this.states;t<e.length;){var i=e[t];++t,i.destroy()}this.colorTransform=null,this.gl=null},begin:function(t,e){this.renderSession=t,this.shader=t.shaderManager.defaultShader,this.drawing=!0,this.start(e)},finish:function(){this.stop(),this.clipRect=null,this.drawing=!1},start:function(t){this.drawing||this.stop(),this.dirty=!0,this.clipRect=t},stop:function(){this.flush()},renderBitmapData:function(t,e,i,n,a,s,r,o,l){if(null==l&&(l=!1),null==a&&(a=1),null!=t){var _=t.getTexture(this.gl);this.batchedSprites>=this.maxSprites&&this.flush();var h=t.__uvData;if(null!=h){this.prepareShader(r,t);var c=(255&(255*a|0))<<24|16777215;this.enableColor=!0,this.enableColor!=this.lastEnableColor&&(this.flush(),this.lastEnableColor=this.enableColor),this.attributes[2].enabled=this.lastEnableColor,this.elementsPerVertex=this.getElementsPerVertex();var u=4*this.batchedSprites*this.elementsPerVertex;this.fillVertices(u,t.width,t.height,i,h,c,o),this.setState(this.batchedSprites,_,e,s,n,r,!0),this.batchedSprites++}}},renderTiles:function(t,e,i,n,a,s,r){null==r&&(r=-1),null==a&&(a=0),null==n&&(n=!1);var o=e.__bitmap.getTexture(this.gl);if(null!=o){var l,_=(1&a)>0,h=(2&a)>0,c=(16&a)>0,u=(4&a)>0,d=(8&a)>0,m=(32&a)>0,f=(64&a)>0,p=(128&a)>0,g=983040&a;switch(g){case 65536:l=0;break;case 131072:l=9;break;case 262144:l=12;break;case 524288:l=14;break;default:var v=15728640&a;switch(v){case 1048576:l=2;break;case 2097152:l=8;break;case 4194304:l=11;break;case 8388608:l=5;break;default:var y=251658240&a;switch(y){case 16777216:l=3;break;case 33554432:l=6;break;default:l=10}}}c&&(_=!1,h=!1);var x=0,b=0,w=0,T=0,A=0,E=0,S=3;m&&(S=f?8:6),_&&(x=S,S++),h&&(b=S,S++),c&&(E=S,S+=4),u&&(w=S,S+=3),d&&(A=S,S++),p&&(T=S,S+=4);var C=i.length;r>=0&&C>r&&(C=r);var I=(Math.ceil(C/S),0),L=-1,M=e.__rectTile,B=e.__rectUV,R=e.__point,D=0,P=0,N=1,F=16777215,k=1,O=0,U=1,V=0,G=0,W=0,X=0,z=0,H=0,Y=0,K=0,j=0,q=t.__worldTransform,J=0,Z=1,Q=0,$=0,tt=1,et=0,it=0,nt=q.a,at=q.b,st=q.c,rt=q.d,ot=q.tx,lt=q.ty,_t=0,ht=0,ct=0,ut=0,dt=0,mt=0;for(this.enableColor=!0,this.enableColor!=this.lastEnableColor&&(this.flush(),this.lastEnableColor=this.enableColor),this.attributes[2].enabled=this.lastEnableColor,this.elementsPerVertex=this.getElementsPerVertex(),this.prepareShader(s,null);I<C;){if(this.batchedSprites>=this.maxSprites&&this.flush(),D=i[I],P=i[I+1],m?(L=-1,M.x=i[I+2],M.y=i[I+3],M.width=i[I+4],M.height=i[I+5],f?(R.x=i[I+6],R.y=i[I+7]):R.setTo(0,0),_t=M.width,ht=M.height,ct=M.get_left()/e.__bitmap.width,ut=M.get_top()/e.__bitmap.height,dt=M.get_right()/e.__bitmap.width,mt=M.get_bottom()/e.__bitmap.height):(L=0|(null==i[I+2]?0:i[I+2]),M=e.__tileRects[L],R=e.__centerPoints[L],B=e.__tileUVs[L],null!=M&&(_t=M.width,ht=M.height,ct=B.x,ut=B.y,dt=B.width,mt=B.height)),null!=M&&M.width>0&&M.height>0&&null!=R){N=1,F=16777215,k=1,O=0,U=1,V=0,N=d?i[I+A]*t.__worldAlpha:t.__worldAlpha,u&&(F=(255*i[I+w]|0)<<16|(255*i[I+w+1]|0)<<8|(255*i[I+w+2]|0));var ft=t.__worldColorTransform;this.colorTransform.redMultiplier=ft.redMultiplier,this.colorTransform.greenMultiplier=ft.greenMultiplier,this.colorTransform.blueMultiplier=ft.blueMultiplier,this.colorTransform.alphaMultiplier=ft.alphaMultiplier,this.colorTransform.redOffset=ft.redOffset,this.colorTransform.greenOffset=ft.greenOffset,this.colorTransform.blueOffset=ft.blueOffset,this.colorTransform.alphaOffset=ft.alphaOffset,p&&(this.colorTransform.redOffset+=i[I+T],this.colorTransform.greenOffset+=i[I+T+1],this.colorTransform.blueOffset+=i[I+T+2],this.colorTransform.alphaOffset+=i[I+T+3]),_&&(k=i[I+x]),h&&(O=i[I+b],U=Math.cos(O),V=Math.sin(O)),c?(G=i[I+E],W=i[I+E+1],X=i[I+E+2],z=i[I+E+3]):(G=k*U,W=k*V,X=-W,z=G),K=R.x*G+R.y*X,j=R.x*W+R.y*z,H=D-K,Y=P-j,Z=(G*nt+W*st)*_t,Q=(G*at+W*rt)*_t,$=(X*nt+z*st)*ht,tt=(X*at+z*rt)*ht,et=H*nt+Y*st+ot,it=H*at+Y*rt+lt,J=4*this.batchedSprites*this.elementsPerVertex,this.positions[J]=et,this.positions[J+1]=it,this.positions[J+5]=Z+et,this.positions[J+6]=Q+it,this.positions[J+10]=Z+$+et,this.positions[J+11]=tt+Q+it,this.positions[J+15]=$+et,this.positions[J+16]=tt+it;var pt,gt,vt=this.colors[J+19]=(255&(255*N|0))<<24|F;gt=this.colors[J+14]=vt,pt=this.colors[J+9]=gt,this.colors[J+4]=pt,this.positions[J+2]=ct,this.positions[J+3]=ut,this.positions[J+7]=dt,this.positions[J+8]=ut,this.positions[J+12]=dt,this.positions[J+13]=mt,this.positions[J+17]=ct,this.positions[J+18]=mt,this.writtenVertexBytes=J+20,this.setState(this.batchedSprites,o,n,l,this.colorTransform,s,!1),this.batchedSprites++}I+=S}}},fillVertices:function(t,e,i,n,a,s,r){null==s&&(s=-1);var o=n.a,l=n.b,_=n.c,h=n.d,c=n.tx,u=n.ty;if(null==r||2==r)this.positions[t]=c,this.positions[t+1]=u,this.positions[t+5]=o*e+c,this.positions[t+6]=l*e+u,this.positions[t+10]=o*e+_*i+c,this.positions[t+11]=h*i+l*e+u,this.positions[t+15]=_*i+c,this.positions[t+16]=h*i+u;else{var d=Math.round(c);this.positions[t]=d;var m=Math.round(u);this.positions[t+1]=m;var f=Math.round(o*e+c);this.positions[t+5]=f;var p=Math.round(l*e+u);this.positions[t+6]=p;var g=Math.round(o*e+_*i+c);this.positions[t+10]=g;var v=Math.round(h*i+l*e+u);this.positions[t+11]=v;var y=Math.round(_*i+c);this.positions[t+15]=y;var x=Math.round(h*i+u);this.positions[t+16]=x}if(this.enableColor){var b,w,T=this.colors[t+19]=s;w=this.colors[t+14]=T,b=this.colors[t+9]=w,this.colors[t+4]=b}this.positions[t+2]=a.x0,this.positions[t+3]=a.y0,this.positions[t+7]=a.x1,this.positions[t+8]=a.y1,this.positions[t+12]=a.x2,this.positions[t+13]=a.y2,this.positions[t+17]=a.x3,this.positions[t+18]=a.y3,this.writtenVertexBytes=t+20},enableAttributes:function(t){null==t&&(t=-1),this.enableColor=t!=-1,this.enableColor!=this.lastEnableColor&&(this.flush(),this.lastEnableColor=this.enableColor),this.attributes[2].enabled=this.lastEnableColor,this.elementsPerVertex=this.getElementsPerVertex()},flush:function(){if(0!=this.batchedSprites){if(null!=this.clipRect&&(this.gl.enable(this.gl.SCISSOR_TEST),this.gl.scissor(Math.floor(this.clipRect.x),Math.floor(this.clipRect.y),Math.ceil(this.clipRect.width),Math.ceil(this.clipRect.height))),this.dirty&&(this.dirty=!1,this.renderSession.activeTextures=1,this.vertexArray.bind(),this.gl.bindBuffer(this.gl.ELEMENT_ARRAY_BUFFER,this.indexBuffer)),this.writtenVertexBytes>.5*this.vertexArraySize)this.vertexArray.upload(this.positions);else{var t=this.positions.subarray(0,this.writtenVertexBytes);
this.vertexArray.upload(t)}var e,i=0,n=0;this.currentState.shader=null,this.currentState.shaderData=null,this.currentState.texture=null,this.currentState.textureSmooth=!1,this.currentState.blendMode=this.renderSession.blendModeManager.currentBlendMode,this.currentState.colorTransform=null,this.currentState.skipColorTransformAlpha=!1;for(var a=0,s=this.batchedSprites;a<s;){var r=a++;e=this.states[r],this.currentState.skipColorTransformAlpha=e.skipColorTransformAlpha,e.equals(this.currentState)||(this.renderBatch(this.currentState,i,n),n=r,i=0,this.currentState.shader=e.shader,this.currentState.shaderData=e.shaderData,this.currentState.texture=e.texture,this.currentState.textureSmooth=e.textureSmooth,this.currentState.blendMode=e.blendMode,this.currentState.skipColorTransform=e.skipColorTransform,this.currentState.skipColorTransform?this.currentState.colorTransform=null:this.currentState.colorTransform=e.colorTransform),i++}this.renderBatch(this.currentState,i,n),this.batchedSprites=0,this.writtenVertexBytes=0,null!=this.clipRect&&this.gl.disable(this.gl.SCISSOR_TEST)}},renderBatch:function(t,e,i){if(0!=e&&null!=t.texture){var n;if(n=null==t.shader?this.renderSession.shaderManager.defaultShader:t.shader,this.renderSession.shaderManager.setShader(n),n.bindVertexArray(this.vertexArray),this.renderSession.blendModeManager.setBlendMode(null!=n.blendMode?n.blendMode:t.blendMode),this.gl.uniformMatrix3fv(n.getUniformLocation("openfl_uProjectionMatrix"),!1,this.renderSession.projectionMatrix.toArray(!0)),null!=t.colorTransform){this.gl.uniform1i(n.getUniformLocation("openfl_uUseColorTransform"),1);var a=t.colorTransform;this.gl.uniform4f(n.getUniformLocation("openfl_uColorMultiplier"),a.redMultiplier,a.greenMultiplier,a.blueMultiplier,t.skipColorTransformAlpha?1:a.alphaMultiplier),this.gl.uniform4f(n.getUniformLocation("openfl_uColorOffset"),a.redOffset/255,a.greenOffset/255,a.blueOffset/255,a.alphaOffset/255)}else this.gl.uniform1i(n.getUniformLocation("openfl_uUseColorTransform"),0),this.gl.uniform4f(n.getUniformLocation("openfl_uColorMultiplier"),1,1,1,1),this.gl.uniform4f(n.getUniformLocation("openfl_uColorOffset"),0,0,0,0);this.gl.activeTexture(this.gl.TEXTURE0),this.gl.bindTexture(this.gl.TEXTURE_2D,t.texture),this.gl.uniform1i(n.getUniformLocation("openfl_uSampler0"),0),null!=n.smooth&&n.smooth||t.textureSmooth?(this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_MAG_FILTER,this.gl.LINEAR),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_MIN_FILTER,this.gl.LINEAR)):(this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_MAG_FILTER,this.gl.NEAREST),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_MIN_FILTER,this.gl.NEAREST)),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_S,n.wrapS),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_T,n.wrapT),n.applyData(t.shaderData,this.renderSession),this.gl.drawElements(this.gl.TRIANGLES,6*e,this.gl.UNSIGNED_SHORT,6*i*2),this.renderSession.drawCount++}},setState:function(t,e,i,n,a,s,r){null==r&&(r=!1),null==i&&(i=!1);var o=this.states[t];null==o&&(o=this.states[t]=new hr),o.texture=e,o.textureSmooth=i,o.blendMode=n,o.skipColorTransform=null!=a&&a.__isDefault(),o.skipColorTransform||(o.colorTransform.redMultiplier=a.redMultiplier,o.colorTransform.greenMultiplier=a.greenMultiplier,o.colorTransform.blueMultiplier=a.blueMultiplier,o.colorTransform.alphaMultiplier=a.alphaMultiplier,o.colorTransform.redOffset=a.redOffset,o.colorTransform.greenOffset=a.greenOffset,o.colorTransform.blueOffset=a.blueOffset,o.colorTransform.alphaOffset=a.alphaOffset),o.skipColorTransformAlpha=r,null==s?(o.shader=null,o.shaderData=null):(o.shader=s.__shader,o.shaderData=s.data)},setContext:function(t){this.gl=t,this.vertexArray.setContext(t,this.positions),this.indexBuffer=t.createBuffer(),t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,this.indexBuffer),t.bufferData(t.ELEMENT_ARRAY_BUFFER,this.indices,t.STATIC_DRAW)},prepareShader:function(t,e){if(null!=t){t.__init(this.gl),t.__shader.wrapS=t.repeatX,t.__shader.wrapT=t.repeatY,t.__shader.smooth=t.smooth,t.__shader.blendMode=t.blendMode;var i=t.data.get(Kr.uObjectSize),n=t.data.get(Kr.uTextureSize);null!=e?(i.value[0]=e.width,i.value[1]=e.height,null!=e.__pingPongTexture?(n.value[0]=e.__pingPongTexture.get_renderTexture().__width,n.value[1]=e.__pingPongTexture.get_renderTexture().__height):(n.value[0]=e.width,n.value[1]=e.height)):(i.value[0]=0,i.value[1]=0,n.value[0]=0,n.value[1]=0)}},getElementsPerVertex:function(){for(var t=0,e=0,i=this.attributes;e<i.length;){var n=i[e];++e,n.enabled&&(t+=Math.floor(n.components*n.getElementsBytes()/4))}return t},__class__:_r};var hr=function(){this.skipColorTransformAlpha=!1,this.skipColorTransform=!1,this.colorTransform=new Ua,this.textureSmooth=!0};s["openfl._internal.renderer.opengl.utils._SpriteBatch.State"]=hr,hr.__name__=["openfl","_internal","renderer","opengl","utils","_SpriteBatch","State"],hr.prototype={equals:function(t){return(null==this.shader&&null==t.shader||null!=this.shader&&null!=t.shader&&this.shader.ID==t.shader.ID)&&this.texture==t.texture&&this.textureSmooth==t.textureSmooth&&this.blendMode==t.blendMode&&(this.skipColorTransform&&t.skipColorTransform||!this.skipColorTransform&&!t.skipColorTransform&&this.colorTransform.__equals(t.colorTransform,this.skipColorTransformAlpha))},destroy:function(){this.texture=null,this.colorTransform=null},__class__:hr};var cr=function(t){this.stencilMask=0,this.stencilStack=[],this.setContext(t),this.reverse=!0,this.count=0};s["openfl._internal.renderer.opengl.utils.StencilManager"]=cr,cr.__name__=["openfl","_internal","renderer","opengl","utils","StencilManager"],cr.prototype={prepareGraphics:function(t,e,i){var n=e.shaderManager.fillShader;e.shaderManager.setShader(n),this.gl.uniformMatrix3fv(n.getUniformLocation("openfl_uTranslationMatrix"),!1,i),this.gl.uniformMatrix3fv(n.getUniformLocation("openfl_uProjectionMatrix"),!1,e.projectionMatrix.toArray(!0)),t.vertexArray.bind(),n.bindVertexArray(t.vertexArray),this.gl.bindBuffer(this.gl.ELEMENT_ARRAY_BUFFER,t.indexBuffer)},pushBucket:function(t,e,i,n){null==n&&(n=!1),n||(this.gl.enable(this.gl.STENCIL_TEST),this.gl.clear(this.gl.STENCIL_BUFFER_BIT),this.gl.stencilMask(255),this.gl.colorMask(!1,!1,!1,!1),this.gl.stencilFunc(this.gl.NEVER,1,255),this.gl.stencilOp(this.gl.INVERT,this.gl.KEEP,this.gl.KEEP),this.gl.clear(this.gl.STENCIL_BUFFER_BIT));for(var a=0,s=t.fills;a<s.length;){var r=s[a];++a,r.available||(this.prepareGraphics(r,e,i),this.gl.drawElements(r.drawMode,r.glIndices.length,this.gl.UNSIGNED_SHORT,0))}n||(this.gl.colorMask(!0,!0,!0,e.renderer.transparent),this.gl.stencilOp(this.gl.KEEP,this.gl.KEEP,this.gl.KEEP),this.gl.stencilFunc(this.gl.EQUAL,255,255))},popBucket:function(t,e,i){this.gl.disable(this.gl.STENCIL_TEST)},pushMask:function(t,e){var i=t.__maskGraphics;if(!(null==i||i.__commands.get_length()<=0)){0==this.stencilMask&&(this.gl.enable(this.gl.STENCIL_TEST),this.gl.clear(this.gl.STENCIL_BUFFER_BIT)),this.stencilMask++,i.__dirty&&Qs.updateGraphics(t,i,e.gl);var n;n=1==this.stencilMask?this.gl.NEVER:this.gl.EQUAL;var a=this.stencilMask,s=255-this.stencilMask;this.gl.stencilMask(255),this.gl.colorMask(!1,!1,!1,!1),this.gl.stencilFunc(n,a,s),this.gl.stencilOp(this.gl.REPLACE,this.gl.KEEP,this.gl.KEEP);for(var r,o=i.__glStack[Fs.glContextId],l=t.__worldTransform,_=0,h=o.buckets.length;_<h;){var c=_++;r=o.buckets[c],l=null!=r.overrideMatrix?r.overrideMatrix:t.__worldTransform;var u=r.mode;switch(u[1]){case 1:case 2:this.pushBucket(r,e,l.toArray(!0),!0)}}this.gl.colorMask(!0,!0,!0,e.renderer.transparent),this.gl.stencilOp(this.gl.KEEP,this.gl.KEEP,this.gl.KEEP),this.gl.stencilFunc(this.gl.EQUAL,this.stencilMask,255)}},popMask:function(t,e){this.stencilMask--,this.stencilMask<=0&&(this.gl.disable(this.gl.STENCIL_TEST),this.stencilMask=0)},bindGraphics:function(t,e,i){},destroy:function(){this.stencilStack=null,this.gl=null},popStencil:function(t,e,i){if(this.stencilStack.pop(),this.count--,0==this.stencilStack.length)this.gl.disable(this.gl.STENCIL_TEST);else{var n=this.count;this.bindGraphics(t,e,i),this.gl.colorMask(!1,!1,!1,!1),1==e.mode?(this.reverse=!this.reverse,this.reverse?(this.gl.stencilFunc(this.gl.EQUAL,255-(n+1),255),this.gl.stencilOp(this.gl.KEEP,this.gl.KEEP,this.gl.INCR)):(this.gl.stencilFunc(this.gl.EQUAL,n+1,255),this.gl.stencilOp(this.gl.KEEP,this.gl.KEEP,this.gl.DECR)),this.gl.drawElements(this.gl.TRIANGLE_FAN,4,this.gl.UNSIGNED_SHORT,2*(e.indices.length-4)),this.gl.stencilFunc(this.gl.ALWAYS,0,255),this.gl.stencilOp(this.gl.KEEP,this.gl.KEEP,this.gl.INVERT),this.gl.drawElements(this.gl.TRIANGLE_FAN,e.indices.length-4,this.gl.UNSIGNED_SHORT,0),this.reverse?this.gl.stencilFunc(this.gl.EQUAL,n,255):this.gl.stencilFunc(this.gl.EQUAL,255-n,255)):(this.reverse?(this.gl.stencilFunc(this.gl.EQUAL,n+1,255),this.gl.stencilOp(this.gl.KEEP,this.gl.KEEP,this.gl.DECR)):(this.gl.stencilFunc(this.gl.EQUAL,255-(n+1),255),this.gl.stencilOp(this.gl.KEEP,this.gl.KEEP,this.gl.INCR)),this.gl.drawElements(this.gl.TRIANGLE_STRIP,e.indices.length,this.gl.UNSIGNED_SHORT,0),this.reverse?this.gl.stencilFunc(this.gl.EQUAL,n,255):this.gl.stencilFunc(this.gl.EQUAL,255-n,255)),this.gl.colorMask(!0,!0,!0,!0),this.gl.stencilOp(this.gl.KEEP,this.gl.KEEP,this.gl.KEEP)}},pushStencil:function(t,e,i){this.bindGraphics(t,e,i),0==this.stencilStack.length&&(this.gl.enable(this.gl.STENCIL_TEST),this.gl.clear(this.gl.STENCIL_BUFFER_BIT),this.reverse=!0,this.count=0),this.stencilStack.push(e);var n=this.count;this.gl.colorMask(!1,!1,!1,!1),this.gl.stencilFunc(this.gl.ALWAYS,0,255),this.gl.stencilOp(this.gl.KEEP,this.gl.KEEP,this.gl.INVERT),1==e.mode?(this.gl.drawElements(this.gl.TRIANGLE_FAN,e.indices.length-4,this.gl.UNSIGNED_SHORT,0),this.reverse?(this.gl.stencilFunc(this.gl.EQUAL,255-n,255),this.gl.stencilOp(this.gl.KEEP,this.gl.KEEP,this.gl.DECR)):(this.gl.stencilFunc(this.gl.EQUAL,n,255),this.gl.stencilOp(this.gl.KEEP,this.gl.KEEP,this.gl.INCR)),this.gl.drawElements(this.gl.TRIANGLE_FAN,4,this.gl.UNSIGNED_SHORT,2*(e.indices.length-4)),this.reverse?this.gl.stencilFunc(this.gl.EQUAL,255-(n+1),255):this.gl.stencilFunc(this.gl.EQUAL,n+1,255),this.reverse=!this.reverse):(this.reverse?(this.gl.stencilFunc(this.gl.EQUAL,n,255),this.gl.stencilOp(this.gl.KEEP,this.gl.KEEP,this.gl.INCR)):(this.gl.stencilFunc(this.gl.EQUAL,255-n,255),this.gl.stencilOp(this.gl.KEEP,this.gl.KEEP,this.gl.DECR)),this.gl.drawElements(this.gl.TRIANGLE_STRIP,e.indices.length,this.gl.UNSIGNED_SHORT,0),this.reverse?this.gl.stencilFunc(this.gl.EQUAL,n+1,255):this.gl.stencilFunc(this.gl.EQUAL,255-(n+1),255)),this.gl.colorMask(!0,!0,!0,!0),this.gl.stencilOp(this.gl.KEEP,this.gl.KEEP,this.gl.KEEP),this.count++},setContext:function(t){this.gl=t},__class__:cr};var ur=function(t,e,i){null==i&&(i=!1),null==e&&(e=0),this.isStatic=!1,this.size=0,this.attributes=[],this.size=e,this.attributes=t,e>0&&(this.buffer=new Jl(e)),this.isStatic=i};s["openfl._internal.renderer.opengl.utils.VertexArray"]=ur,ur.__name__=["openfl","_internal","renderer","opengl","utils","VertexArray"],ur.prototype={bind:function(){this.gl.bindBuffer(this.gl.ARRAY_BUFFER,this.glBuffer)},unbind:function(){this.gl.bindBuffer(this.gl.ARRAY_BUFFER,null)},upload:function(t){this.gl.bufferSubData(this.gl.ARRAY_BUFFER,0,t)},destroy:function(){this.gl.deleteBuffer(this.glBuffer),this.buffer=null},setContext:function(t,e){this.gl=t,this.glBuffer=t.createBuffer(),t.bindBuffer(t.ARRAY_BUFFER,this.glBuffer),t.bufferData(t.ARRAY_BUFFER,e,this.isStatic?t.STATIC_DRAW:t.DYNAMIC_DRAW)},get_stride:function(){for(var t=0,e=0,i=this.attributes;e<i.length;){var n=i[e];++e,n.enabled&&(t+=4*Math.floor(n.components*n.getElementsBytes()/4))}return t},__class__:ur,__properties__:{get_stride:"get_stride"}};var dr=function(t){this.textField=t,this.width=100,this.height=100,this.text="",this.bounds=new Zs(0,0,0,0),this.type=0,this.autoSize=2,this.displayAsPassword=!1,this.embedFonts=!1,this.selectable=!0,this.borderColor=0,this.border=!1,this.backgroundColor=16777215,this.background=!1,this.gridFitType=1,this.maxChars=0,this.multiline=!1,this.sharpness=0,this.scrollH=0,this.scrollV=1,this.wordWrap=!1,this.lineAscents=[],this.lineBreaks=[],this.lineDescents=[],this.lineLeadings=[],this.lineHeights=[],this.lineWidths=[],this.layoutGroups=[],this.textFormatRanges=[],dr.__canvas=window.document.createElement("canvas"),dr.__context=dr.__canvas.getContext("2d")};s["openfl._internal.text.TextEngine"]=dr,dr.__name__=["openfl","_internal","text","TextEngine"],dr.__canvas=null,dr.__context=null,dr.findFont=function(t){return null},dr.getFont=function(t){var e;return e=t.italic?"italic ":"normal ",e+="normal ",e+=t.bold?"bold ":"normal ",e+=t.size+"px",e+="/"+(t.size+t.leading+6)+"px ",e+=""+function(e){var i,n=t.font;return i=function(e){var i;switch(n){case"_sans":i="sans-serif";break;case"_serif":i="serif";break;case"_typewriter":i="monospace";break;default:i="'"+t.font+"'"}return i}(e)}(this)},dr.getFontInstance=function(t){return null},dr.prototype={getBounds:function(){var t;t=this.border?1:0,this.bounds.width=this.width+t,this.bounds.height=this.height+t},getLine:function(t){return t<0||t>this.lineBreaks.length+1?null:0==this.lineBreaks.length?this.text:this.text.substring(t>0?this.lineBreaks[t-1]:0,this.lineBreaks[t])},getLineMeasurements:function(){this.lineAscents.splice(0,this.lineAscents.length),this.lineDescents.splice(0,this.lineDescents.length),this.lineLeadings.splice(0,this.lineLeadings.length),this.lineHeights.splice(0,this.lineHeights.length),this.lineWidths.splice(0,this.lineWidths.length);var t=0,e=0,i=null,n=0,a=0;this.textWidth=0,this.textHeight=0,this.numLines=1,this.bottomScrollV=0,this.maxScrollH=0;for(var s=0,r=this.layoutGroups;s<r.length;){var o=r[s];for(++s;o.lineIndex>this.numLines-1;)this.lineAscents.push(t),this.lineDescents.push(e),this.lineLeadings.push(null!=i?i:0),this.lineHeights.push(n),this.lineWidths.push(a),t=0,e=0,i=null,n=0,a=0,this.numLines++,this.textHeight<=this.height-2&&this.bottomScrollV++;t=Math.max(t,o.ascent),e=Math.max(e,o.descent),i=null==i?o.leading:G["int"](Math.max(i,o.leading)),n=Math.max(n,o.height),a=o.offsetX-2+o.width,a>this.textWidth&&(this.textWidth=a),this.textHeight=o.offsetY-2+o.ascent+o.descent}this.lineAscents.push(t),this.lineDescents.push(e),this.lineLeadings.push(null!=i?i:0),this.lineHeights.push(n),this.lineWidths.push(a),1==this.numLines?(this.bottomScrollV=1,i>0&&(this.textHeight+=i)):this.textHeight<=this.height-2&&this.bottomScrollV++,this.textWidth>this.width-4?this.maxScrollH=this.textWidth-this.width+4|0:this.maxScrollH=0,this.maxScrollV=this.numLines-this.bottomScrollV+1},getLayoutGroups:function(){var t=this;this.layoutGroups.splice(0,this.layoutGroups.length);var e,i,n,a=-1,s=null,r=xl.__defaultTextFormat.clone(),o=0,l=0,_=0,h=0,c=0,u=0,d=this.text.indexOf(" "),m=this.text.indexOf("\n"),f=0,p=2,g=2,v=0,y=0,x=null;a<t.textFormatRanges.length-1&&(a++,s=t.textFormatRanges[a],r.__merge(s.format),dr.__context.font=dr.getFont(r),l=r.size,_=.185*r.size,o=r.leading,h=l+_+o,d>-1&&(c=dr.__context.measureText(" ").width)),x=s.format;for(var b;v<this.text.length;)if(m>-1&&(d==-1||m<d)&&s.end>=m){e=new fr(s.format,v,m);for(var w=this.text,T=[],A=v;A<m;){var E=A++;T.push(dr.__context.measureText(w.charAt(E)).width)}e.advances=T,e.offsetX=p,e.ascent=l,e.descent=_,e.leading=o,e.lineIndex=y,e.offsetY=g;for(var S=e.advances,C=0,I=0;I<S.length;){var L=S[I];++I,C+=L}e.width=C,e.height=h,this.layoutGroups.push(e),g+=h,p=2,this.wordWrap&&e.offsetX+e.width>this.width-2&&(e.offsetY=g,e.offsetX=p,g+=h,y++),v=m+1,m=this.text.indexOf("\n",v),y++,s.end==m&&(a<t.textFormatRanges.length-1&&(a++,s=t.textFormatRanges[a],r.__merge(s.format),dr.__context.font=dr.getFont(r),l=r.size,_=.185*r.size,o=r.leading,h=l+_+o,d>-1&&(c=dr.__context.measureText(" ").width)),x=s.format)}else if(s.end>=d&&d>-1)for(e=null,b=!1;;){d==-1&&(d=s.end);for(var M=this.text,B=[],R=v;R<d;){var D=R++;B.push(dr.__context.measureText(M.charAt(D)).width)}i=B;for(var P=0,N=0;N<i.length;){var F=i[N];++N,P+=F}if(n=P,this.wordWrap&&p+n>this.width-2&&(b=!0),b){g+=h;for(var k=this.layoutGroups.length-1,O=0;;){if(e=this.layoutGroups[k],!(k>0&&e.startIndex>u))break;O++,k--}if(y++,p=2,O>0)for(var U=this.layoutGroups[this.layoutGroups.length-O].offsetX,V=this.layoutGroups.length-O,G=this.layoutGroups.length;V<G;){var W=V++;e=this.layoutGroups[W],e.offsetX-=U,e.offsetY=g,e.lineIndex=y,p+=e.width}e=new fr(s.format,v,d),e.advances=i,e.offsetX=p,e.ascent=l,e.descent=_,e.leading=o,e.lineIndex=y,e.offsetY=g,e.width=n,e.height=h,this.layoutGroups.push(e),p=n+c,f=c,b=!1}else null!=e&&v==d?(2!=s.format.align&&(e.endIndex=d),e.advances.push(c),f+=c):null==e||2==x.align?(e=new fr(s.format,v,d),e.advances=i,e.offsetX=p,e.ascent=l,e.descent=_,e.leading=o,e.lineIndex=y,e.offsetY=g,e.width=n,e.height=h,this.layoutGroups.push(e),e.advances.push(c),f=c):(e.endIndex=d,e.advances=e.advances.concat(i),e.width+=f+n,e.advances.push(c),f=c),p+=n+c;if(v=d+1,u=d,d=this.text.indexOf(" ",u+1),s.end<=u&&(e=null,a<t.textFormatRanges.length-1&&(a++,s=t.textFormatRanges[a],r.__merge(s.format),dr.__context.font=dr.getFont(r),l=r.size,_=.185*r.size,o=r.leading,h=l+_+o,d>-1&&(c=dr.__context.measureText(" ").width))),d>m&&m>-1||v>this.text.length||d>s.end||d==-1&&m>-1)break}else{if(v>=s.end)break;e=new fr(s.format,v,s.end);for(var X=this.text,z=[],H=v;H<s.end;){var Y=H++;z.push(dr.__context.measureText(X.charAt(Y)).width)}e.advances=z,e.offsetX=p,e.ascent=l,e.descent=_,e.leading=o,e.lineIndex=y,e.offsetY=g;for(var K=e.advances,j=0,q=0;q<K.length;){var J=K[q];++q,j+=J}e.width=j,e.height=h,this.layoutGroups.push(e),p+=e.width,v=s.end,a<t.textFormatRanges.length-1&&(a++,s=t.textFormatRanges[a],r.__merge(s.format),dr.__context.font=dr.getFont(r),l=r.size,_=.185*r.size,o=r.leading,h=l+_+o,d>-1&&(c=dr.__context.measureText(" ").width))}},setTextAlignment:function(){for(var t,e,i=-1,n=0,a=0,s=this.layoutGroups.length;a<s;){var r=a++;if(t=this.layoutGroups[r],t.lineIndex!=i){i=t.lineIndex;var o=t.format.align;switch(o){case 0:n=this.lineWidths[i]<this.width-4?Math.round((this.width-4-this.lineWidths[i])/2):0;break;case 4:n=this.lineWidths[i]<this.width-4?Math.round(this.width-4-this.lineWidths[i]):0;break;case 2:if(this.lineWidths[i]<this.width-4){e=1;for(var l=r+1,_=this.layoutGroups.length;l<_;){var h=l++;if(this.layoutGroups[h].lineIndex!=i)break;e++}if(e>1&&(t=this.layoutGroups[r+e-1],t.endIndex<this.text.length&&"\n"!=this.text.charAt(t.endIndex))){n=(this.width-4-this.lineWidths[i])/(e-1);for(var c=1;c<e;){var u=c++;this.layoutGroups[r+u].offsetX+=n*u}}}n=0;break;default:n=0}}n>0&&(t.offsetX+=n)}},update:function(){null==this.text||""==X.trim(this.text)||0==this.textFormatRanges.length?(this.lineAscents.splice(0,this.lineAscents.length),this.lineBreaks.splice(0,this.lineBreaks.length),this.lineDescents.splice(0,this.lineDescents.length),this.lineLeadings.splice(0,this.lineLeadings.length),this.lineHeights.splice(0,this.lineHeights.length),this.lineWidths.splice(0,this.lineWidths.length),this.layoutGroups.splice(0,this.layoutGroups.length),this.textWidth=0,this.textHeight=0,this.numLines=1,this.maxScrollH=0,this.maxScrollV=1,this.bottomScrollV=1):(this.getLayoutGroups(),this.getLineMeasurements(),this.setTextAlignment()),this.getBounds()},__class__:dr};var mr=function(t,e,i){this.format=t,this.start=e,this.end=i};s["openfl._internal.text.TextFormatRange"]=mr,mr.__name__=["openfl","_internal","text","TextFormatRange"],mr.prototype={__class__:mr};var fr=function(t,e,i){this.format=t,this.startIndex=e,this.endIndex=i};s["openfl._internal.text.TextLayoutGroup"]=fr,fr.__name__=["openfl","_internal","text","TextLayoutGroup"],fr.prototype={__class__:fr};var pr=function(){Ti.call(this),null==Va.application&&(Va.application=this)};s["openfl.display.Application"]=pr,pr.__name__=["openfl","display","Application"],pr.__super__=Ti,pr.prototype=n(Ti.prototype,{create:function(t){if(this.config=t,this.backend.create(t),null!=t){if(Object.prototype.hasOwnProperty.call(t,"fps")&&this.backend.setFrameRate(t.fps),Object.prototype.hasOwnProperty.call(t,"windows"))for(var e=0,i=t.windows;e<i.length;){var n=i[e];++e;var a=new so(n);this.createWindow(a);break}(null==this.preloader||this.preloader.complete)&&this.onPreloadComplete()}},__class__:pr});var gr=function(t,e,i){null==i&&(i=!1),c.call(this),this.bitmapData=t,this.pixelSnapping=e,this.smoothing=i,null==e&&(this.pixelSnapping=1)};s["openfl.display.Bitmap"]=gr,gr.__name__=["openfl","display","Bitmap"],gr.__super__=c,gr.prototype=n(c.prototype,{__getBounds:function(t,e){if(null!=this.bitmapData){var i=Zs.__temp;i.setTo(0,0,this.bitmapData.width,this.bitmapData.height),i.__transform(i,e),t.__expand(i.x,i.y,i.width,i.height)}},__hitTest:function(t,e,i,n,a,s){if(!s.get_visible()||this.__isMask||null==this.bitmapData)return!1;if(null!=this.get_mask()&&!this.get_mask().__hitTestMask(t,e))return!1;this.__getWorldTransform();var r=this.__worldTransform.__transformInverseX(t,e),o=this.__worldTransform.__transformInverseY(t,e);return r>0&&o>0&&r<=this.bitmapData.width&&o<=this.bitmapData.height&&(null==n||a||n.push(s),!0)},__hitTestMask:function(t,e){if(null==this.bitmapData)return!1;this.__getWorldTransform();var i=this.__worldTransform.__transformInverseX(t,e),n=this.__worldTransform.__transformInverseY(t,e);return i>0&&n>0&&i<=this.bitmapData.width&&n<=this.bitmapData.height},__renderCairo:function(t){gs.render(this,t)},__renderCairoMask:function(t){t.cairo.rectangle(0,0,this.get_width(),this.get_height())},__renderCanvas:function(t){Ts.render(this,t)},__renderCanvasMask:function(t){t.context.rect(0,0,this.get_width(),this.get_height())},__renderDOM:function(t){null!=this.stage&&this.__worldVisible&&this.__renderable&&null!=this.bitmapData&&this.bitmapData.__isValid?null!=this.bitmapData.image.buffer.__srcImage?Ms.renderImage(this,t):Ms.renderCanvas(this,t):(null!=this.__image&&(t.element.removeChild(this.__image),this.__image=null,this.__style=null),null!=this.__canvas&&(t.element.removeChild(this.__canvas),this.__canvas=null,this.__style=null))},__renderGL:function(t){return this.__cacheAsBitmap?void this.__cacheGL(t):(null!=this.__scrollRect&&t.maskManager.pushRect(this.__scrollRect,this.__renderTransform),null!=this.__mask&&null!=this.__maskGraphics&&this.__maskGraphics.__commands.get_length()>0&&t.maskManager.pushMask(this),!this.__renderable||this.__worldAlpha<=0||null==this.bitmapData||!this.bitmapData.__isValid||t.spriteBatch.renderBitmapData(this.bitmapData,this.smoothing,this.__renderTransform,this.__worldColorTransform,this.__worldAlpha,this.__blendMode,this.__shader,this.pixelSnapping),null!=this.__mask&&null!=this.__maskGraphics&&this.__maskGraphics.__commands.get_length()>0&&t.maskManager.popMask(),void(null!=this.__scrollRect&&t.maskManager.popRect()))},__updateMask:function(t){null!=this.bitmapData&&(t.__commands.overrideMatrix(this.__worldTransform),t.beginFill(0),t.drawRect(0,0,this.bitmapData.width,this.bitmapData.height),null==t.__bounds&&(t.__bounds=new Zs),this.__getBounds(t.__bounds,ka.__identity),c.prototype.__updateMask.call(this,t))},get_height:function(){return null!=this.bitmapData?this.bitmapData.height*this.get_scaleY():0},set_height:function(t){return null!=this.bitmapData?(t!=this.bitmapData.height&&this.set_scaleY(t/this.bitmapData.height),t):0},get_width:function(){return null!=this.bitmapData?this.bitmapData.width*this.get_scaleX():0},set_width:function(t){return null!=this.bitmapData?(t!=this.bitmapData.width&&this.set_scaleX(t/this.bitmapData.width),t):0},__class__:gr});var vr=function(t,e,i,n){null==n&&(n=-1),null==i&&(i=!0),this.__usingPingPongTexture=!1,this.transparent=i,t=null==t?0:t,e=null==e?0:e,t=t<0?0:t,e=e<0?0:e,this.width=t,this.height=e,this.rect=new Zs(0,0,t,e),t>0&&e>0&&(i?0==(n&-16777216)&&(n=0):n=-16777216|16777215&n,n=n<<8|n>>24&255,this.image=new sn(null,0,0,t,e,n),this.image.set_transparent(i),this.__isValid=!0),this.__createUVs(),this.__worldTransform=new ka,this.__worldColorTransform=new Ua};s["openfl.display.BitmapData"]=vr,vr.__name__=["openfl","display","BitmapData"],vr.__interfaces__=[h],vr.fromBase64=function(t,e,i){var n=new vr(0,0,(!0));return n.__fromBase64(t,e,i),n},vr.fromBytes=function(t,e,i){var n=new vr(0,0,(!0));return n.__fromBytes(t,e,i),n},vr.fromCanvas=function(t,e){if(null==e&&(e=!0),null==t)return null;var i=new vr(0,0,e);return i.__fromImage(sn.fromCanvas(t)),i.image.set_transparent(e),i},vr.fromFile=function(t,e,i){var n=new vr(0,0,(!0));return n.__fromFile(t,e,i),n},vr.fromImage=function(t,e){if(null==e&&(e=!0),null==t||null==t.buffer)return null;var i=new vr(0,0,e);return i.__fromImage(t),i.image.set_transparent(e),i},vr.__asRenderTexture=function(t,e){null==e&&(e=0),null==t&&(t=0);var i=new vr(0,0);return i.__resize(t,e),i},vr.prototype={applyFilter:function(t,e,i,n){this.__isValid&&null!=t&&t.__isValid&&(Ln.convertToCanvas(this.image),Ln.createImageData(this.image),Ln.convertToCanvas(t.image),Ln.createImageData(t.image),n.__applyFilter(this.image.buffer.__srcImageData,t.image.buffer.__srcImageData,e,i),this.image.dirty=!0)},clone:function(){return this.__isValid?vr.fromImage(this.image.clone(),this.transparent):new vr(this.width,this.height,this.transparent)},colorTransform:function(t,e){this.__isValid&&(this.image.colorTransform(t.__toLimeRectangle(),e.__toLimeColorMatrix()),this.__usingPingPongTexture=!1)},compare:function(t){if(t==this)return 0;if(null==t)return-1;if(0==this.__isValid||0==t.__isValid)return-2;if(this.width!=t.width)return-3;if(this.height!=t.height)return-4;if(null!=this.image&&null!=t.image&&this.image.get_format()==t.image.get_format()){for(var e=this.image.get_data(),i=t.image.get_data(),n=!0,a=0,s=e.length;a<s;){var r=a++;if(e[r]!=i[r]){n=!1;break}}if(n)return 0}for(var o,l,_,h,c,u,d,m,f=null,p=0,g=this.height;p<g;)for(var v=p++,y=0,x=this.width;y<x;){var b=y++;o=!1,l=this.getPixel32(b,v),_=t.getPixel32(b,v),h=0,l!=_&&(c=(l>>16&255)-(_>>16&255),u=(l>>8&255)-(_>>8&255),d=(255&l)-(255&_),c<0&&(c*=-1),u<0&&(u*=-1),d<0&&(d*=-1),0==c&&0==u&&0==d?(m=(l>>24&255)-(_>>24&255),0!=m&&(h=(h>>24&255&255)<<24|16711680|(h>>8&255&255)<<8|255&h&255,h=(h>>24&255&255)<<24|(h>>16&255&255)<<16|65280|255&h&255,h=(h>>24&255&255)<<24|(h>>16&255&255)<<16|(h>>8&255&255)<<8|255,h=(255&m)<<24|(h>>16&255&255)<<16|(h>>8&255&255)<<8|255&h&255,o=!0)):(h=(h>>24&255&255)<<24|(255&c)<<16|(h>>8&255&255)<<8|255&h&255,h=(h>>24&255&255)<<24|(h>>16&255&255)<<16|(255&u)<<8|255&h&255,h=(h>>24&255&255)<<24|(h>>16&255&255)<<16|(h>>8&255&255)<<8|255&d,h=-16777216|(h>>16&255&255)<<16|(h>>8&255&255)<<8|255&h&255,o=!0)),o&&(null==f&&(f=new vr(this.width,this.height,this.transparent||t.transparent,0)),f.setPixel32(b,v,h))}return null==f?0:f},copyChannel:function(t,e,i,n,a){if(this.__isValid){var s;switch(n){case 1:s=on.RED;break;case 2:s=on.GREEN;break;case 4:s=on.BLUE;break;case 8:s=on.ALPHA;break;default:return}var r;switch(a){case 1:r=on.RED;break;case 2:r=on.GREEN;break;case 4:r=on.BLUE;break;case 8:r=on.ALPHA;break;default:return}this.image.copyChannel(t.image,e.__toLimeRectangle(),i.__toLimeVector2(),s,r),this.__usingPingPongTexture=!1}},copyPixels:function(t,e,i,n,a,s){null==s&&(s=!1),this.__isValid&&null!=t&&(this.image.copyPixels(t.image,e.__toLimeRectangle(),i.__toLimeVector2(),null!=n?n.image:null,null!=a?a.__toLimeVector2():null,s),this.__usingPingPongTexture=!1)},dispose:function(){if(this.image=null,this.width=0,this.height=0,this.rect=null,this.__isValid=!1,null!=this.__texture){var t=Va.current.stage.__renderer;if(null!=t){var e=t.renderSession,i=e.gl;null!=i&&(i.deleteTexture(this.__texture),this.__texture=null)}}null!=this.__pingPongTexture&&(this.__pingPongTexture.destroy(),this.__pingPongTexture=null)},draw:function(t,e,i,n,a,s){if(null==s&&(s=!1),this.__isValid){if(null!=i){var r=new vr(U.getProperty(t,"width"),U.getProperty(t,"height"),(!0),0);r.draw(t),r.colorTransform(r.rect,i),t=r}Ln.convertToCanvas(this.image),Ln.sync(this.image,!0);var o=this.image.buffer,l=new ps;l.context=o.__srcContext,l.roundPixels=!0,l.maskManager=new Es(l),s||(o.__srcContext.mozImageSmoothingEnabled=!1,o.__srcContext.msImageSmoothingEnabled=!1,o.__srcContext.imageSmoothingEnabled=!1),null!=a&&l.maskManager.pushRect(a,new ka);var _=t.__worldTransform;t.__updateTransforms(null!=e?e:new ka),t.__updateChildren(!1),t.__renderCanvas(l),t.__updateTransforms(_),t.__updateChildren(!0),s||(o.__srcContext.mozImageSmoothingEnabled=!0,o.__srcContext.msImageSmoothingEnabled=!0,o.__srcContext.imageSmoothingEnabled=!0),null!=a&&l.maskManager.popMask(),o.__srcContext.setTransform(1,0,0,1,0,0),o.__srcImageData=null,o.data=null}},encode:function(t,e,i){return i=this.__isValid&&null!=t?oi.__instanceof(e,zr)?Rl.fromBytes(this.image.encode("png")):oi.__instanceof(e,Ur)?Rl.fromBytes(this.image.encode("jpg",oi.__cast(e,Ur).quality)):null:null},fillRect:function(t,e){this.__isValid&&null!=t&&(this.transparent&&0==(e&-16777216)&&(e=0),this.image.fillRect(t.__toLimeRectangle(),e,1),this.__usingPingPongTexture=!1)},floodFill:function(t,e,i){this.__isValid&&(this.image.floodFill(t,e,i,1),this.__usingPingPongTexture=!1)},generateFilterRect:function(t,e){return t.clone()},getBuffer:function(t){if(null==this.__buffer){var e=[this.width,this.height,0,1,1,0,this.height,0,0,1,this.width,0,0,1,0,0,0,0,0,0];this.__buffer=t.createBuffer(),t.bindBuffer(t.ARRAY_BUFFER,this.__buffer),t.bufferData(t.ARRAY_BUFFER,function(t){var i,n;return n=null!=e?new Float32Array(e):null,i=n}(this),t.STATIC_DRAW),t.bindBuffer(t.ARRAY_BUFFER,null)}return this.__buffer},getColorBoundsRect:function(t,e,i){if(null==i&&(i=!0),!this.__isValid)return new Zs(0,0,this.width,this.height);if(!this.transparent||(t>>24&255)>0){var n=e;0==(n>>24&255)&&(n=0)}var a=this.image.getColorBoundsRect(t,e,i,1);return new Zs(a.x,a.y,a.width,a.height)},getPixel:function(t,e){return this.__isValid?this.image.getPixel(t,e,1):0},getPixel32:function(t,e){return this.__isValid?this.image.getPixel32(t,e,1):0},getPixels:function(t){return this.__isValid?(null==t&&(t=this.rect),Rl.fromBytes(this.image.getPixels(t.__toLimeRectangle(),1))):null},getSurface:function(){return this.__isValid?(null==this.__surface&&(this.__surface=pn.fromImage(this.image)),this.__surface):null},getTexture:function(t){if(!this.__isValid)return null;if(this.__usingPingPongTexture&&null!=this.__pingPongTexture)return this.__pingPongTexture.get_texture();if(null==this.__texture&&(this.__texture=t.createTexture(),t.bindTexture(t.TEXTURE_2D,this.__texture),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.NEAREST),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.NEAREST),this.image.dirty=!0),null!=this.image&&this.image.dirty){var e,i;null!=this.__surface&&vn.flush(this.__surface),1==this.image.buffer.bitsPerPixel?(e=t.ALPHA,i=t.ALPHA):(e=t.RGBA,i=t.RGBA),t.bindTexture(t.TEXTURE_2D,this.__texture);var n=this.image;(!n.get_premultiplied()&&n.get_transparent()||0!=n.get_format())&&(n=n.clone(),n.set_format(0),n.set_premultiplied(!0)),t.texImage2D(t.TEXTURE_2D,0,e,this.width,this.height,0,i,t.UNSIGNED_BYTE,n.get_data()),t.bindTexture(t.TEXTURE_2D,null),this.image.dirty=!1}return this.__texture},getVector:function(t){var e,i,n=this.getPixels(t),a=G["int"](Rl.get_length(n)/4);i=new Wa;var s;s=new Array(a),i.data=s,i.length=a,i.fixed=!0,e=i;for(var r=0;r<a;){var o=r++,l=n.readUnsignedInt();if(!e.fixed&&(o>=e.length&&(e.length=o+1),e.data.length<e.length)){var _,h;h=new Array(e.data.length+10),_=h,$e.blit(e.data,0,_,0,e.data.length),e.data=_}e.data[o]=l}return e},histogram:function(t){var e;e=null!=t?t:new Zs(0,0,this.width,this.height);for(var i,n=this.getPixels(e),a=[],s=0;s<4;){s++;a.push(function(t){for(var e,i=[],n=0;n<256;){n++;i.push(0)}return e=i}(this))}i=a;for(var r=0,o=Rl.get_length(n);r<o;){var l=r++;++i[l%4][n.readUnsignedByte()]}return i},hitTest:function(t,e,i,n,a){if(null==a&&(a=1),!this.__isValid)return!1;
if(oi.__instanceof(i,gr)&&(i=oi.__cast(i,gr).bitmapData),oi.__instanceof(i,Oa)){var s=i,r=s.x-t.x|0,o=s.y-t.y|0;if(this.rect.contains(r,o)){var l=this.getPixel32(r,o);if((l>>24&255)>=e)return!0}}else if(oi.__instanceof(i,vr)){var _,h,c=i;if(null==n?(_=0,h=0):(_=n.x-t.x|0,h=n.y-t.y|0),this.rect.contains(_,h)){var u=Zs.__temp;u.setTo(_,h,Math.min(c.width,this.width-_),Math.min(c.height,this.height-h));var d=this.getPixels(u);u.offset(-_,-h);for(var m,f,p=c.getPixels(u),g=u.width*u.height|0,v=0;v<g;){v++;if(m=d.readUnsignedInt(),f=p.readUnsignedInt(),(m>>24&255)>=e&&(f>>24&255)>=a)return!0}return!1}}else if(oi.__instanceof(i,Zs)){var y=Zs.__temp;if(y.copyFrom(i),y.offset(-t.x,-t.y),y.__contract(0,0,this.width,this.height),y.width>0&&y.height>0)for(var x,b=this.getPixels(y),w=G["int"](Rl.get_length(b)/4),T=0;T<w;){T++;if(x=b.readUnsignedInt(),(x>>24&255)>=e)return!0}}return!1},lock:function(){},merge:function(t,e,i,n,a,s,r){this.__isValid&&null!=t&&t.__isValid&&null!=e&&null!=i&&(this.image.merge(t.image,e.__toLimeRectangle(),i.__toLimeVector2(),n,a,s,r),this.__usingPingPongTexture=!1)},noise:function(t,e,i,n,a){if(null==a&&(a=!1),null==n&&(n=7),null==i&&(i=255),null==e&&(e=0),this.__isValid){var s,r=function(){return t=1103515245*t+12345,G["int"](Math.abs(t/65536))%32768};s=r,s();for(var o=i-e,l=(new Nl(0),1==(1&n)),_=(2&n)>>1==1,h=(4&n)>>2==1,c=(8&n)>>3==1,u=0,d=this.height;u<d;)for(var m=u++,f=0,p=this.width;f<p;){var g=f++,v=0,y=0,x=0,b=255;a?(v=x=y=e+s()%o,b=255):(l&&(v=e+s()%o),_&&(x=e+s()%o),h&&(y=e+s()%o),c&&(b=e+s()%o));var w=b;w=(w<<8)+v,w=(w<<8)+x,w=(w<<8)+y,this.setPixel32(g,m,w)}}},paletteMap:function(t,e,i,n,a,s,r){var o=0|e.width,l=0|e.height,_=this.getPixels(e);_.position=0;for(var h,c,u,d,m,f,p,g,v,y,x=0,b=l*o;x<b;){var w=x++;h=_.readUnsignedInt(),p=null==r?h&-16777216:r[h>>24&255],g=null==n?16711680&h:n[h>>16&255],v=null==a?65280&h:a[h>>8&255],y=null==s?255&h:s[255&h],m=(p>>24&255)+(g>>24&255)+(v>>24&255)+(y>>24&255),c=(p>>16&255)+(g>>16&255)+(v>>16&255)+(y>>16&255),u=(p>>8&255)+(g>>8&255)+(v>>8&255)+(y>>8&255),d=(255&p)+(255&g)+(255&v)+(255&y),f=m<<24|c<<16|u<<8|d,_.position=4*w,_.writeUnsignedInt(f)}_.position=0;var T=new Zs(i.x,i.y,o,l);this.setPixels(T,_)},perlinNoise:function(t,e,i,n,a,s,r,o,l){null==o&&(o=!1),null==r&&(r=7),Va.notImplemented("BitmapData.perlinNoise")},scroll:function(t,e){this.__isValid&&(this.image.scroll(t,e),this.__usingPingPongTexture=!1)},setPixel:function(t,e,i){this.__isValid&&(this.image.setPixel(t,e,i,1),this.__usingPingPongTexture=!1)},setPixel32:function(t,e,i){this.__isValid&&(this.image.setPixel32(t,e,i,1),this.__usingPingPongTexture=!1)},setPixels:function(t,e){this.__isValid&&null!=t&&(this.image.setPixels(t.__toLimeRectangle(),Rl.toBytes(e),1),this.__usingPingPongTexture=!1)},setVector:function(t,e){var i=new Nl(0);Rl.set_length(i,4*e.length);for(var n=0;n<e.length;){var a=e.data[n];++n,i.writeUnsignedInt(a)}i.position=0,this.setPixels(t,i)},threshold:function(t,e,i,n,a,s,r,o){return null==o&&(o=!1),null==r&&(r=-1),null==s&&(s=0),null==t||null==e||null==i||e.x>t.width||e.y>t.height||i.x>this.width||i.y>this.height?0:this.image.threshold(t.image,e.__toLimeRectangle(),i.__toLimeVector2(),n,a,s,r,o,1)},unlock:function(t){},__createUVs:function(t,e,i,n,a,s,r,o){null==o&&(o=1),null==r&&(r=0),null==s&&(s=1),null==a&&(a=1),null==n&&(n=0),null==i&&(i=1),null==e&&(e=0),null==t&&(t=0),null==this.__uvData&&(this.__uvData=new yr),this.__uvData.x0=t,this.__uvData.y0=e,this.__uvData.x1=i,this.__uvData.y1=n,this.__uvData.x2=a,this.__uvData.y2=s,this.__uvData.x3=r,this.__uvData.y3=o},__drawGL:function(t,e,i,n,a,s,r,o,l,_,h){null==h&&(h=!0),null==_&&(_=!1),null==l&&(l=!1),null==o&&(o=!1),null==r&&(r=!1),this.__pingPongTexture=Ns.pushFramebuffer(t,this.__pingPongTexture,this.rect,r,this.transparent,l,h),Ns.drawBitmapDrawable(t,o?this:null,e,i,n,a,s),Ns.popFramebuffer(t,_?this.image:null);var c=this.__pingPongTexture.get_renderTexture().__uvData;this.__createUVs(c.x0,c.y0,c.x1,c.y1,c.x2,c.y2,c.x3,c.y3),this.__isValid=!0,this.__usingPingPongTexture=!0},__fromBase64:function(t,e,i){var n=this;sn.fromBase64(t,e,function(t){n.__fromImage(t),null!=i&&i(n)})},__fromBytes:function(t,e,i){var n=this;sn.fromBytes(Rl.toBytes(t),function(t){if(n.__fromImage(t),null!=e){Ln.convertToCanvas(t),Ln.createImageData(t);for(var a=t.buffer.data,s=0,r=Rl.get_length(e);s<r;){var o=s++,l=e.readUnsignedByte();a[4*o+3]=l}t.dirty=!0}null!=i&&i(n)})},__fromFile:function(t,e,i){var n=this;sn.fromFile(t,function(t){n.__fromImage(t),null!=e&&e(n)},i)},__fromImage:function(t){null!=t&&null!=t.buffer&&(this.image=t,this.width=t.width,this.height=t.height,this.rect=new Zs(0,0,t.width,t.height),this.__isValid=!0)},__renderCairo:function(t){if(this.__isValid){var e=t.cairo;null==this.__worldTransform&&(this.__worldTransform=new ka);var i=this.__worldTransform;if(t.roundPixels){var n=i.__toMatrix3();n.tx=Math.round(n.tx),n.ty=Math.round(n.ty),e.set_matrix(n)}else e.set_matrix(i.__toMatrix3());var a=this.getSurface();if(null!=a){var s=gn.createForSurface(a);1==e.get_antialias()?gn.set_filter(s,3):gn.set_filter(s,1),e.set_source(s),e.paint()}}},__renderCairoMask:function(t){},__renderCanvas:function(t){if(this.__isValid){Ln.sync(this.image,!1);var e=t.context;null==this.__worldTransform&&(this.__worldTransform=new ka),e.globalAlpha=1;var i=this.__worldTransform;t.roundPixels?e.setTransform(i.a,i.b,i.c,i.d,0|i.tx,0|i.ty):e.setTransform(i.a,i.b,i.c,i.d,i.tx,i.ty),e.drawImage(this.image.get_src(),0,0)}},__renderCanvasMask:function(t){},__renderGL:function(t){t.spriteBatch.renderBitmapData(this,!1,this.__worldTransform,this.__worldColorTransform,this.__worldColorTransform.alphaMultiplier,this.__blendMode,this.__shader)},__resize:function(t,e){this.width=t,this.height=e,this.rect.width=t,this.rect.height=e},__sync:function(){Ln.sync(this.image,!1)},__updateChildren:function(t){},__updateMask:function(t){},__updateTransforms:function(t){null==t?this.__worldTransform.identity():this.__worldTransform=t},__class__:vr};var yr=function(){this.y3=0,this.y2=0,this.y1=0,this.y0=0,this.x3=0,this.x2=0,this.x1=0,this.x0=0};s["openfl.display.TextureUvs"]=yr,yr.__name__=["openfl","display","TextureUvs"],yr.prototype={reset:function(){this.x0=this.x1=this.x2=this.x3=this.y0=this.y1=this.y2=this.y3=0},__class__:yr};var xr={};s["openfl.display._BlendMode.BlendMode_Impl_"]=xr,xr.__name__=["openfl","display","_BlendMode","BlendMode_Impl_"],xr.fromString=function(t){switch(t){case"add":return 0;case"alpha":return 1;case"darken":return 2;case"difference":return 3;case"erase":return 4;case"hardlight":return 5;case"invert":return 6;case"layer":return 7;case"lighten":return 8;case"multiply":return 9;case"normal":return 10;case"overlay":return 11;case"screen":return 12;case"shader":return 13;case"subtract":return 14;default:return null}},xr.toString=function(t){switch(t){case 0:return"add";case 1:return"alpha";case 2:return"darken";case 3:return"difference";case 4:return"erase";case 5:return"hardlight";case 6:return"invert";case 7:return"layer";case 8:return"lighten";case 9:return"multiply";case 10:return"normal";case 11:return"overlay";case 12:return"screen";case 13:return"shader";case 14:return"subtract";default:return null}};var br={};s["openfl.display._CapsStyle.CapsStyle_Impl_"]=br,br.__name__=["openfl","display","_CapsStyle","CapsStyle_Impl_"],br.fromString=function(t){switch(t){case"none":return 0;case"round":return 1;case"square":return 2;default:return null}},br.toString=function(t){switch(t){case 0:return"none";case 1:return"round";case 2:return"square";default:return null}};var wr=function(t){null==t&&(t="DirectRenderer"),c.call(this)};s["openfl.display.DirectRenderer"]=wr,wr.__name__=["openfl","display","DirectRenderer"],wr.__super__=c,wr.prototype=n(c.prototype,{get_render:function(){return this.__render},set_render:function(t){return this.__render=t},__class__:wr,__properties__:n(c.prototype.__properties__,{set_render:"set_render",get_render:"get_render"})});var Tr=function(t,e){_.call(this),this.__name=t,this.__frame=e};s["openfl.display.FrameLabel"]=Tr,Tr.__name__=["openfl","display","FrameLabel"],Tr.__super__=_,Tr.prototype=n(_.prototype,{get_frame:function(){return this.__frame},get_name:function(){return this.__name},__class__:Tr,__properties__:{get_name:"get_name",get_frame:"get_frame"}});var Ar={};s["openfl.display._GradientType.GradientType_Impl_"]=Ar,Ar.__name__=["openfl","display","_GradientType","GradientType_Impl_"],Ar.fromString=function(t){switch(t){case"linear":return 0;case"radial":return 1;default:return null}},Ar.toString=function(t){switch(t){case 0:return"linear";case 1:return"radial";default:return null}};var Er=function(){this.__glStack=[],this.__dirty=!0,this.__commands=new Ya,this.__strokePadding=0,this.__positionX=0,this.__positionY=0,this.__hardware=!0,this.moveTo(0,0)};s["openfl.display.Graphics"]=Er,Er.__name__=["openfl","display","Graphics"],Er.prototype={beginBitmapFill:function(t,e,i,n){null==n&&(n=!1),null==i&&(i=!0),this.__commands.beginBitmapFill(t,null!=e?e.clone():null,i,n),this.__visible=!0},beginFill:function(t,e){null==e&&(e=1),null==t&&(t=0),this.__commands.beginFill(16777215&t,e),e>0&&(this.__visible=!0)},beginGradientFill:function(t,e,i,n,a,s,r,o){null==o&&(o=0),null==r&&(r=1),null==s&&(s=0),this.__commands.beginGradientFill(t,e,i,n,a,s,r,o),this.__hardware=!1;for(var l=0;l<i.length;){var _=i[l];if(++l,_>0){this.__visible=!0;break}}},clear:function(){this.__commands.clear(),this.__strokePadding=0,null!=this.__bounds&&(this.set___dirty(!0),this.__transformDirty=!0,this.__bounds=null),this.__visible=!1,this.__hardware=!0,this.moveTo(0,0)},copyFrom:function(t){null!=t.__bounds?this.__bounds=t.__bounds.clone():this.__bounds=null,this.__commands=t.__commands.copy(),this.set___dirty(!0),this.__strokePadding=t.__strokePadding,this.__positionX=t.__positionX,this.__positionY=t.__positionY,this.__transformDirty=!0,this.__visible=t.__visible},cubicCurveTo:function(t,e,i,n,a,s){this.__inflateBounds(this.__positionX-this.__strokePadding,this.__positionY-this.__strokePadding),this.__inflateBounds(this.__positionX+this.__strokePadding,this.__positionY+this.__strokePadding);var r,o,l,_;if(r=a,l=a,!(t<a&&t>this.__positionX||t>a&&t<this.__positionX)||!(i<a&&i>this.__positionX||i>a&&i<this.__positionX)){var h=2*this.__positionX-4*t+2*i,c=t-this.__positionX,u=-this.__positionX+3*t+a-3*i,d=(-h+Math.sqrt(h*h-4*c*u))/(2*u),m=(-h-Math.sqrt(h*h-4*c*u))/(2*u);d>0&&d<1&&(r=this.__calculateBezierCubicPoint(d,this.__positionX,t,i,a)),m>0&&m<1&&(l=this.__calculateBezierCubicPoint(m,this.__positionX,t,i,a))}if(o=s,_=s,!(e<s&&e>this.__positionX||e>s&&e<this.__positionX)||!(n<s&&n>this.__positionX||n>s&&n<this.__positionX)){var f=2*this.__positionX-4*e+2*n,p=e-this.__positionX,g=-this.__positionX+3*e+s-3*n,v=(-f+Math.sqrt(f*f-4*p*g))/(2*g),y=(-f-Math.sqrt(f*f-4*p*g))/(2*g);v>0&&v<1&&(o=this.__calculateBezierCubicPoint(v,this.__positionX,e,n,s)),y>0&&y<1&&(_=this.__calculateBezierCubicPoint(y,this.__positionX,e,n,s))}this.__inflateBounds(r-this.__strokePadding,o-this.__strokePadding),this.__inflateBounds(r+this.__strokePadding,o+this.__strokePadding),this.__inflateBounds(l-this.__strokePadding,_-this.__strokePadding),this.__inflateBounds(l+this.__strokePadding,_+this.__strokePadding),this.__positionX=a,this.__positionY=s,this.__commands.cubicCurveTo(t,e,i,n,a,s),this.__hardware=!1,this.set___dirty(!0)},curveTo:function(t,e,i,n){this.__inflateBounds(this.__positionX-this.__strokePadding,this.__positionY-this.__strokePadding),this.__inflateBounds(this.__positionX+this.__strokePadding,this.__positionY+this.__strokePadding);var a,s;if(t<i&&t>this.__positionX||t>i&&t<this.__positionX)a=i;else{var r=(this.__positionX-t)/(this.__positionX-2*t+i);a=this.__calculateBezierQuadPoint(r,this.__positionX,t,i)}if(e<n&&e>this.__positionY||e>n&&e<this.__positionY)s=n;else{var o=(this.__positionY-e)/(this.__positionY-2*e+n);s=this.__calculateBezierQuadPoint(o,this.__positionY,e,n)}this.__inflateBounds(a-this.__strokePadding,s-this.__strokePadding),this.__inflateBounds(a+this.__strokePadding,s+this.__strokePadding),this.__positionX=i,this.__positionY=n,this.__commands.curveTo(t,e,i,n),this.__hardware=!1,this.set___dirty(!0)},drawCircle:function(t,e,i){i<=0||(this.__inflateBounds(t-i-this.__strokePadding,e-i-this.__strokePadding),this.__inflateBounds(t+i+this.__strokePadding,e+i+this.__strokePadding),this.__commands.drawCircle(t,e,i),this.__hardware=!1,this.set___dirty(!0))},drawEllipse:function(t,e,i,n){i<=0||n<=0||(this.__inflateBounds(t-this.__strokePadding,e-this.__strokePadding),this.__inflateBounds(t+i+this.__strokePadding,e+n+this.__strokePadding),this.__commands.drawEllipse(t,e,i,n),this.__hardware=!1,this.set___dirty(!0))},drawGraphicsData:function(t){for(var e,i,n,a,s,r=0;r<t.length;){var o=t.data[r];++r,oi.__instanceof(o,Dr)?(e=o,this.beginFill(e.color,e.alpha)):oi.__instanceof(o,Ir)?(i=o,this.beginBitmapFill(i.bitmapData,i.matrix,i.repeat,i.smooth)):oi.__instanceof(o,Mr)?(n=o,this.beginGradientFill(n.type,n.colors,n.alphas,n.ratios,n.matrix,n.spreadMethod,n.interpolationMethod,n.focalPointRatio)):oi.__instanceof(o,Nr)?(a=o,oi.__instanceof(a.fill,Dr)?(e=a.fill,this.lineStyle(a.thickness,e.color,e.alpha,a.pixelHinting,a.scaleMode,a.caps,a.joints,a.miterLimit)):(this.lineStyle(a.thickness,0,1,a.pixelHinting,a.scaleMode,a.caps,a.joints,a.miterLimit),oi.__instanceof(a.fill,Ir)?(i=a.fill,this.lineBitmapStyle(i.bitmapData,i.matrix,i.repeat,i.smooth)):oi.__instanceof(a.fill,Mr)&&(n=a.fill,this.lineGradientStyle(n.type,n.colors,n.alphas,n.ratios,n.matrix,n.spreadMethod,n.interpolationMethod,n.focalPointRatio)))):oi.__instanceof(o,Rr)?(s=o,this.drawPath(s.commands,s.data,s.winding)):oi.__instanceof(o,Lr)&&this.endFill()}},drawPath:function(t,e,i){null==i&&(i="evenOdd");var n=0,a=0;try{for(;a<t.length;){var s=t.data[a];if(++a,null!=s)switch(s){case 1:this.moveTo(e.data[n],e.data[n+1]),n+=2;break;case 2:this.lineTo(e.data[n],e.data[n+1]),n+=2;break;case 4:throw this.moveTo(e.data[n+2],e.data[n+3]),"__break__";case 5:throw this.lineTo(e.data[n+2],e.data[n+3]),"__break__";case 3:this.curveTo(e.data[n],e.data[n+1],e.data[n+2],e.data[n+3]),n+=4;break;case 6:this.cubicCurveTo(e.data[n],e.data[n+1],e.data[n+2],e.data[n+3],e.data[n+4],e.data[n+5]),n+=6}}}catch(r){if("__break__"!=r)throw r}},drawRect:function(t,e,i,n){i<=0||n<=0||(this.__inflateBounds(t-this.__strokePadding,e-this.__strokePadding),this.__inflateBounds(t+i+this.__strokePadding,e+n+this.__strokePadding),this.__commands.drawRect(t,e,i,n),this.set___dirty(!0))},drawRoundRect:function(t,e,i,n,a,s){i<=0||n<=0||(this.__inflateBounds(t-this.__strokePadding,e-this.__strokePadding),this.__inflateBounds(t+i+this.__strokePadding,e+n+this.__strokePadding),this.__commands.drawRoundRect(t,e,i,n,a,s),this.__hardware=!1,this.set___dirty(!0))},drawRoundRectComplex:function(t,e,i,n,a,s,r,o){Va.notImplemented("Graphics.drawRoundRectComplex")},drawTiles:function(t,e,i,n,a,s){null==s&&(s=-1),null==n&&(n=0),null==i&&(i=!1);var r=(1&n)>0,o=(2&n)>0,l=(4&n)>0,_=(8&n)>0,h=(16&n)>0,c=(128&n)>0,u=(32&n)>0,d=(64&n)>0,m=Zs.__temp,f=ka.__temp,p=3,g=s;if(s<0&&(g=e.length),h||r||o||l||_||c){var v=0,y=0,x=0;u&&(p=d?8:6),r&&(v=p,p++),o&&(y=p,p++),h&&(x=p,p+=4),l&&(p+=3),_&&p++,c&&(p+=4);for(var b,w,T,A,E,S,C,I,L,M=0,B=-1,R=null,D=null;M<g;)b=e[M],w=e[M+1],T=u?-1:0|e[M+2],A=1,E=0,r&&(A=e[M+v]),o&&(E=e[M+y]),T<0?R=null:u||B==T?u&&(R=t.__rectTile,R.setTo(e[M+2],e[M+3],e[M+4],e[M+5]),D=t.__point,d?D.setTo(e[M+6]/R.width,e[M+7]/R.height):D.setTo(0,0)):(B=T,R=t.__tileRects[T],D=t.__centerPoints[T]),null!=R&&(h?(m.setTo(0,0,R.width,R.height),f.setTo(e[M+x],e[M+x+1],e[M+x+2],e[M+x+3],0,0),I=D.x*A,L=D.y*A,f.translate(b-(I*f.a+L*f.c+f.tx),w-(I*f.b+L*f.d+f.ty)),m.__transform(m,f),this.__inflateBounds(m.x,m.y),this.__inflateBounds(m.get_right(),m.get_bottom())):(S=R.width*A,C=R.height*A,b-=D.x*S,w-=D.y*C,0!=E?(m.setTo(0,0,S,C),f.identity(),f.rotate(E),f.translate(b,w),m.__transform(m,f),this.__inflateBounds(m.x,m.y),this.__inflateBounds(m.get_right(),m.get_bottom())):(this.__inflateBounds(b,w),this.__inflateBounds(b+S,w+C)))),M+=p}else for(var P,N,F,k,O,U,V,W=Zs.__temp,X=0;X<g;)P=e[X++],N=e[X++],F=u?-1:G["int"](e[X++]),U=0,V=0,u?(W.setTo(e[X++],e[X++],e[X++],e[X++]),d&&(U=e[X++],V=e[X++]),this.__inflateBounds(P-U,N-V),this.__inflateBounds(P-U+W.width,N-V+W.height)):(k=t.__tileRects[F],null!=k&&(O=t.__centerPoints[F],U=O.x*k.width,V=O.y*k.height,this.__inflateBounds(P-U,N-V),this.__inflateBounds(P-U+k.width,N-V+k.height)));this.__commands.drawTiles(t,e,i,n,a,s),this.set___dirty(!0),this.__visible=!0},drawTriangles:function(t,e,i,n){null==n&&(n=1);var a=t.length/2|0;if(null==n&&(n=1),null==e){if(a%3!=0)throw new ri(new Co("Not enough vertices to close a triangle."));var s;s=new Wa;var r;r=new Array(0),s.data=r,s.length=0,s.fixed=!1,e=s;for(var o=0;o<a;){var l=o++;if(!e.fixed){if(e.length++,e.data.length<e.length){var _,h;h=new Array(e.data.length+10),_=h,$e.blit(e.data,0,_,0,e.data.length),e.data=_}e.data[e.length-1]=l}e.length}}this.__inflateBounds(0,0);for(var c=-(1/0),u=-(1/0),d=-(1/0),m=-(1/0),f=0;f<a;){var p=f++;c=t.data[2*p],u=t.data[2*p+1],d<c&&(d=c),m<u&&(m=u)}this.__inflateBounds(d,m),this.__commands.drawTriangles(t,e,i,n),this.set___dirty(!0),this.__visible=!0},endFill:function(){this.__commands.endFill()},lineBitmapStyle:function(t,e,i,n){null==n&&(n=!1),null==i&&(i=!0),this.__commands.lineBitmapStyle(t,null!=e?e.clone():null,i,n)},lineGradientStyle:function(t,e,i,n,a,s,r,o){null==o&&(o=0),null==r&&(r=1),null==s&&(s=0),this.__commands.lineGradientStyle(t,e,i,n,a,s,r,o)},lineStyle:function(t,e,i,n,a,s,r,o){null==o&&(o=3),null==a&&(a=2),null==n&&(n=!1),null==i&&(i=1),null==e&&(e=0),null!=t&&(1==r?t>this.__strokePadding&&(this.__strokePadding=t):t/2>this.__strokePadding&&(this.__strokePadding=t/2)),this.__commands.lineStyle(t,e,i,n,a,s,r,o),null!=t&&(this.__visible=!0)},lineTo:function(t,e){this.__inflateBounds(this.__positionX-this.__strokePadding,this.__positionY-this.__strokePadding),this.__inflateBounds(this.__positionX+this.__strokePadding,this.__positionY+this.__strokePadding),this.__positionX=t,this.__positionY=e,this.__inflateBounds(this.__positionX-this.__strokePadding,this.__positionY-this.__strokePadding),this.__inflateBounds(this.__positionX+2*this.__strokePadding,this.__positionY+this.__strokePadding),this.__commands.lineTo(t,e),this.__hardware=!1,this.set___dirty(!0)},moveTo:function(t,e){this.__positionX=t,this.__positionY=e,this.__commands.moveTo(t,e)},__calculateBezierCubicPoint:function(t,e,i,n,a){var s=1-t;return e*(s*s*s)+3*i*t*(s*s)+3*n*s*(t*t)+a*(t*t*t)},__calculateBezierQuadPoint:function(t,e,i,n){var a=1-t;return a*a*e+2*a*t*i+t*t*n},__getBounds:function(t,e){if(null!=this.__bounds){var i=Zs.__temp;this.__bounds.__transform(i,e),t.__expand(i.x,i.y,i.width,i.height)}},__hitTest:function(t,e,i,n){if(null==this.__bounds)return!1;var a=n.__transformInverseX(t,e),s=n.__transformInverseY(t,e);return!!(a>this.__bounds.x&&s>this.__bounds.y&&this.__bounds.contains(a,s))&&(!i||As.hitTest(this,a,s))},__inflateBounds:function(t,e){return null==this.__bounds?(this.__bounds=new Zs(t,e,0,0),void(this.__transformDirty=!0)):(t<this.__bounds.x&&(this.__bounds.width+=this.__bounds.x-t,this.__bounds.x=t,this.__transformDirty=!0),e<this.__bounds.y&&(this.__bounds.height+=this.__bounds.y-e,this.__bounds.y=e,this.__transformDirty=!0),t>this.__bounds.x+this.__bounds.width&&(this.__bounds.width=t-this.__bounds.x),void(e>this.__bounds.y+this.__bounds.height&&(this.__bounds.height=e-this.__bounds.y)))},set___dirty:function(t){return t&&null!=this.__owner&&this.__owner.__setRenderDirty(),this.__dirty=t},__class__:Er,__properties__:{set___dirty:"set___dirty"}};var Sr=function(){};s["openfl.display.IGraphicsFill"]=Sr,Sr.__name__=["openfl","display","IGraphicsFill"],Sr.prototype={__class__:Sr};var Cr=function(){};s["openfl.display.IGraphicsData"]=Cr,Cr.__name__=["openfl","display","IGraphicsData"],Cr.prototype={__class__:Cr};var Ir=function(t,e,i,n){null==n&&(n=!1),null==i&&(i=!0),this.bitmapData=t,this.matrix=e,this.repeat=i,this.smooth=n,this.__graphicsDataType=Fr.BITMAP,this.__graphicsFillType=kr.BITMAP_FILL};s["openfl.display.GraphicsBitmapFill"]=Ir,Ir.__name__=["openfl","display","GraphicsBitmapFill"],Ir.__interfaces__=[Sr,Cr],Ir.prototype={__class__:Ir};var Lr=function(){this.__graphicsDataType=Fr.END,this.__graphicsFillType=kr.END_FILL};s["openfl.display.GraphicsEndFill"]=Lr,Lr.__name__=["openfl","display","GraphicsEndFill"],Lr.__interfaces__=[Sr,Cr],Lr.prototype={__class__:Lr};var Mr=function(t,e,i,n,a,s,r,o){null==o&&(o=0),null==t&&(t=0),null==s&&(s=0),null==r&&(r=1),this.type=t,this.colors=e,this.alphas=i,this.ratios=n,this.matrix=a,this.spreadMethod=s,this.interpolationMethod=r,this.focalPointRatio=o,this.__graphicsDataType=Fr.GRADIENT,this.__graphicsFillType=kr.GRADIENT_FILL};s["openfl.display.GraphicsGradientFill"]=Mr,Mr.__name__=["openfl","display","GraphicsGradientFill"],Mr.__interfaces__=[Sr,Cr],Mr.prototype={__class__:Mr};var Br=function(){};s["openfl.display.IGraphicsPath"]=Br,Br.__name__=["openfl","display","IGraphicsPath"];var Rr=function(t,e,i){null==i&&(i="evenOdd"),this.commands=t,this.data=e,this.winding=i,this.__graphicsDataType=Fr.PATH};s["openfl.display.GraphicsPath"]=Rr,Rr.__name__=["openfl","display","GraphicsPath"],Rr.__interfaces__=[Br,Cr],Rr.prototype={curveTo:function(t,e,i,n){if(null!=this.commands&&null!=this.data){var a=this.commands;if(!a.fixed){if(a.length++,a.data.length<a.length){var s,r;r=new Array(a.data.length+10),s=r,$e.blit(a.data,0,s,0,a.data.length),a.data=s}a.data[a.length-1]=3}a.length;var o=this.data;if(!o.fixed){if(o.length++,o.data.length<o.length){var l,_;_=new Array(o.data.length+10),l=_,$e.blit(o.data,0,l,0,o.data.length),o.data=l}o.data[o.length-1]=i}o.length;var h=this.data;if(!h.fixed){if(h.length++,h.data.length<h.length){var c,u;u=new Array(h.data.length+10),c=u,$e.blit(h.data,0,c,0,h.data.length),h.data=c}h.data[h.length-1]=n}h.length;var d=this.data;if(!d.fixed){if(d.length++,d.data.length<d.length){var m,f;f=new Array(d.data.length+10),m=f,$e.blit(d.data,0,m,0,d.data.length),d.data=m}d.data[d.length-1]=t}d.length;var p=this.data;if(!p.fixed){if(p.length++,p.data.length<p.length){var g,v;v=new Array(p.data.length+10),g=v,$e.blit(p.data,0,g,0,p.data.length),p.data=g}p.data[p.length-1]=e}p.length}},lineTo:function(t,e){if(null!=this.commands&&null!=this.data){var i=this.commands;if(!i.fixed){if(i.length++,i.data.length<i.length){var n,a;a=new Array(i.data.length+10),n=a,$e.blit(i.data,0,n,0,i.data.length),i.data=n}i.data[i.length-1]=2}i.length;var s=this.data;if(!s.fixed){if(s.length++,s.data.length<s.length){var r,o;o=new Array(s.data.length+10),r=o,$e.blit(s.data,0,r,0,s.data.length),s.data=r}s.data[s.length-1]=t}s.length;var l=this.data;if(!l.fixed){if(l.length++,l.data.length<l.length){var _,h;h=new Array(l.data.length+10),_=h,$e.blit(l.data,0,_,0,l.data.length),l.data=_}l.data[l.length-1]=e}l.length}},moveTo:function(t,e){if(null!=this.commands&&null!=this.data){var i=this.commands;if(!i.fixed){if(i.length++,i.data.length<i.length){var n,a;a=new Array(i.data.length+10),n=a,$e.blit(i.data,0,n,0,i.data.length),i.data=n}i.data[i.length-1]=1}i.length;var s=this.data;if(!s.fixed){if(s.length++,s.data.length<s.length){var r,o;o=new Array(s.data.length+10),r=o,$e.blit(s.data,0,r,0,s.data.length),s.data=r}s.data[s.length-1]=t}s.length;var l=this.data;if(!l.fixed){if(l.length++,l.data.length<l.length){var _,h;h=new Array(l.data.length+10),_=h,$e.blit(l.data,0,_,0,l.data.length),l.data=_}l.data[l.length-1]=e}l.length}},wideLineTo:function(t,e){if(null!=this.commands&&null!=this.data){var i=this.commands;if(!i.fixed){if(i.length++,i.data.length<i.length){var n,a;a=new Array(i.data.length+10),n=a,$e.blit(i.data,0,n,0,i.data.length),i.data=n}i.data[i.length-1]=2}i.length;var s=this.data;if(!s.fixed){if(s.length++,s.data.length<s.length){var r,o;o=new Array(s.data.length+10),r=o,$e.blit(s.data,0,r,0,s.data.length),s.data=r}s.data[s.length-1]=t}s.length;var l=this.data;if(!l.fixed){if(l.length++,l.data.length<l.length){var _,h;h=new Array(l.data.length+10),_=h,$e.blit(l.data,0,_,0,l.data.length),l.data=_}l.data[l.length-1]=e}l.length}},wideMoveTo:function(t,e){if(null!=this.commands&&null!=this.data){var i=this.commands;if(!i.fixed){if(i.length++,i.data.length<i.length){var n,a;a=new Array(i.data.length+10),n=a,$e.blit(i.data,0,n,0,i.data.length),i.data=n}i.data[i.length-1]=1}i.length;var s=this.data;if(!s.fixed){if(s.length++,s.data.length<s.length){var r,o;o=new Array(s.data.length+10),r=o,$e.blit(s.data,0,r,0,s.data.length),s.data=r}s.data[s.length-1]=t}s.length;var l=this.data;if(!l.fixed){if(l.length++,l.data.length<l.length){var _,h;h=new Array(l.data.length+10),_=h,$e.blit(l.data,0,_,0,l.data.length),l.data=_}l.data[l.length-1]=e}l.length}},__class__:Rr};var Dr=function(t,e){null==e&&(e=1),null==t&&(t=0),this.alpha=e,this.color=t,this.__graphicsDataType=Fr.SOLID,this.__graphicsFillType=kr.SOLID_FILL};s["openfl.display.GraphicsSolidFill"]=Dr,Dr.__name__=["openfl","display","GraphicsSolidFill"],Dr.__interfaces__=[Sr,Cr],Dr.prototype={__class__:Dr};var Pr=function(){};s["openfl.display.IGraphicsStroke"]=Pr,Pr.__name__=["openfl","display","IGraphicsStroke"];var Nr=function(t,e,i,n,a,s,r){null==s&&(s=3),null==e&&(e=!1),null==t&&(t=0),null!=n?this.caps=n:this.caps=0,this.fill=r,null!=a?this.joints=a:this.joints=2,this.miterLimit=s,this.pixelHinting=e,null!=i?this.scaleMode=i:this.scaleMode=2,this.thickness=t,this.__graphicsDataType=Fr.STROKE};s["openfl.display.GraphicsStroke"]=Nr,Nr.__name__=["openfl","display","GraphicsStroke"],Nr.__interfaces__=[Pr,Cr],Nr.prototype={__class__:Nr};var Fr=s["openfl.display.GraphicsDataType"]={__ename__:["openfl","display","GraphicsDataType"],__constructs__:["STROKE","SOLID","GRADIENT","PATH","BITMAP","END"]};Fr.STROKE=["STROKE",0],Fr.STROKE.toString=r,Fr.STROKE.__enum__=Fr,Fr.SOLID=["SOLID",1],Fr.SOLID.toString=r,Fr.SOLID.__enum__=Fr,Fr.GRADIENT=["GRADIENT",2],Fr.GRADIENT.toString=r,Fr.GRADIENT.__enum__=Fr,Fr.PATH=["PATH",3],Fr.PATH.toString=r,Fr.PATH.__enum__=Fr,Fr.BITMAP=["BITMAP",4],Fr.BITMAP.toString=r,Fr.BITMAP.__enum__=Fr,Fr.END=["END",5],Fr.END.toString=r,Fr.END.__enum__=Fr;var kr=s["openfl.display.GraphicsFillType"]={__ename__:["openfl","display","GraphicsFillType"],__constructs__:["SOLID_FILL","GRADIENT_FILL","BITMAP_FILL","END_FILL"]};kr.SOLID_FILL=["SOLID_FILL",0],kr.SOLID_FILL.toString=r,kr.SOLID_FILL.__enum__=kr,kr.GRADIENT_FILL=["GRADIENT_FILL",1],kr.GRADIENT_FILL.toString=r,kr.GRADIENT_FILL.__enum__=kr,kr.BITMAP_FILL=["BITMAP_FILL",2],kr.BITMAP_FILL.toString=r,kr.BITMAP_FILL.__enum__=kr,kr.END_FILL=["END_FILL",3],kr.END_FILL.toString=r,kr.END_FILL.__enum__=kr;var Or={};s["openfl.display._InterpolationMethod.InterpolationMethod_Impl_"]=Or,Or.__name__=["openfl","display","_InterpolationMethod","InterpolationMethod_Impl_"],Or.fromString=function(t){switch(t){case"linearRGB":return 0;case"rgb":return 1;default:return null}},Or.toString=function(t){switch(t){case 0:return"linearRGB";case 1:return"rgb";default:return null}};var Ur=function(t){null==t&&(t=80),this.quality=t};s["openfl.display.JPEGEncoderOptions"]=Ur,Ur.__name__=["openfl","display","JPEGEncoderOptions"],Ur.prototype={__class__:Ur};var Vr={};s["openfl.display._JointStyle.JointStyle_Impl_"]=Vr,Vr.__name__=["openfl","display","_JointStyle","JointStyle_Impl_"],Vr.fromString=function(t){switch(t){case"bevel":return 0;case"miter":return 1;case"round":return 2;default:return null}},Vr.toString=function(t){switch(t){case 0:return"bevel";case 1:return"miter";case 2:return"round";default:return null}};var Gr={};s["openfl.display._LineScaleMode.LineScaleMode_Impl_"]=Gr,Gr.__name__=["openfl","display","_LineScaleMode","LineScaleMode_Impl_"],Gr.fromString=function(t){switch(t){case"horizontal":return 0;case"none":return 1;case"normal":return 2;case"vertical":return 3;default:return null}},Gr.toString=function(t){switch(t){case 0:return"horizontal";case 1:return"none";case 2:return"normal";case 3:return"vertical";default:return null}};var Wr=function(){d.call(this),this.contentLoaderInfo=Pa.create(this)};s["openfl.display.Loader"]=Wr,Wr.__name__=["openfl","display","Loader"],Wr.__super__=d,Wr.prototype=n(d.prototype,{close:function(){Va.notImplemented("Loader.close")},load:function(t,e){var i="",n=t.url.split(".");n.length>0&&(i=n[n.length-1].toLowerCase()),i.indexOf("?")!=-1&&(i=i.split("?")[0]);var s=!0;if(this.contentLoaderInfo.url=t.url,null==t.contentType||""==t.contentType)switch(i){case"swf":this.contentLoaderInfo.contentType="application/x-shockwave-flash";break;case"jpg":case"jpeg":s=!1,this.contentLoaderInfo.contentType="image/jpeg";break;case"png":this.contentLoaderInfo.contentType="image/png";break;case"gif":this.contentLoaderInfo.contentType="image/gif";break;default:this.contentLoaderInfo.contentType="application/x-www-form-urlencoded"}else this.contentLoaderInfo.contentType=t.contentType;var r=new zn;r.doWork.add(function(e){var i=t.url;vr.fromFile(i,function(t){r.sendComplete(t)},function(){r.sendError("ioError")})}),r.onError.add(a(this,this.BitmapData_onError)),r.onComplete.add(a(this,this.BitmapData_onLoad)),r.run()},loadBytes:function(t,e){var i=new zn;i.doWork.add(function(e){vr.fromBytes(t,null,function(t){i.sendComplete(t)})}),i.onComplete.add(a(this,this.BitmapData_onLoad)),i.run()},unload:function(){if(this.get_numChildren()>0){for(;this.get_numChildren()>0;)this.removeChildAt(0);this.content=null,this.contentLoaderInfo.url=null,this.contentLoaderInfo.contentType=null,this.contentLoaderInfo.content=null,this.contentLoaderInfo.bytesLoaded=0,this.contentLoaderInfo.bytesTotal=0,this.contentLoaderInfo.width=0,this.contentLoaderInfo.height=0;var t=new Ro("unload");t.currentTarget=this,this.__dispatchEvent(t)}},unloadAndStop:function(t){null==t&&(t=!0),Va.notImplemented("Loader.unloadAndStop")},BitmapData_onLoad:function(t){this.contentLoaderInfo.content=new gr(t),this.content=this.contentLoaderInfo.content,this.addChild(this.contentLoaderInfo.content);var e=new Ro("complete");e.target=this.contentLoaderInfo,e.currentTarget=this.contentLoaderInfo,this.contentLoaderInfo.dispatchEvent(e)},BitmapData_onError:function(t){var e=new Go("ioError");e.target=this.contentLoaderInfo,e.currentTarget=this.contentLoaderInfo,this.contentLoaderInfo.dispatchEvent(e)},__class__:Wr});var Xr=function(){wr.call(this,"OpenGLView")};s["openfl.display.OpenGLView"]=Xr,Xr.__name__=["openfl","display","OpenGLView"],Xr.__properties__={get_isSupported:"get_isSupported"},Xr.isSupported=null,Xr.get_isSupported=function(){if(!window.WebGLRenderingContext)return!1;if(null!=In.context)return!0;var t=window.document.createElement("canvas"),e=t.getContext("webgl");return null==e&&(e=t.getContext("experimental-webgl")),null!=e},Xr.__super__=wr,Xr.prototype=n(wr.prototype,{__renderCanvas:function(t){},__renderDOM:function(t){if(null!=this.stage&&this.__worldVisible&&this.__renderable){if(this.__added||(t.element.appendChild(this.__canvas),this.__added=!0,Rs.initializeElement(this,this.__canvas,t)),null!=this.__context){var e=null;e=null==this.get_scrollRect()?new Zs(0,0,this.stage.stageWidth,this.stage.stageHeight):new Zs(this.get_x()+this.get_scrollRect().x,this.get_y()+this.get_scrollRect().y,this.get_scrollRect().width,this.get_scrollRect().height),null!=this.__render&&this.__render(e)}}else this.__added&&(t.element.removeChild(this.__canvas),this.__added=!1)},__renderGL:function(t){if(null!=this.stage&&this.__renderable){var e=null;e=null==this.get_scrollRect()?new Zs(0,0,this.stage.stageWidth,this.stage.stageHeight):new Zs(this.get_x()+this.get_scrollRect().x,this.get_y()+this.get_scrollRect().y,this.get_scrollRect().width,this.get_scrollRect().height),null!=this.__render&&this.__render(e),t.shaderManager.setShader(null),t.blendModeManager.setBlendMode(null)}},__class__:Xr});var zr=function(t){null==t&&(t=!1),this.fastCompression=t};s["openfl.display.PNGEncoderOptions"]=zr,
zr.__name__=["openfl","display","PNGEncoderOptions"],zr.prototype={__class__:zr};var Hr={};s["openfl.display._PixelSnapping.PixelSnapping_Impl_"]=Hr,Hr.__name__=["openfl","display","_PixelSnapping","PixelSnapping_Impl_"],Hr.fromString=function(t){switch(t){case"always":return 0;case"auto":return 1;case"never":return 2;default:return null}},Hr.toString=function(t){switch(t){case 0:return"always";case 1:return"auto";case 2:return"never";default:return null}};var Yr=function(t){Wi.call(this),null!=t&&(this.display=t,Va.current.addChild(t),oi.__instanceof(t,O)&&oi.__cast(t,O).onInit())};s["openfl.display.Preloader"]=Yr,Yr.__name__=["openfl","display","Preloader"],Yr.__super__=Wi,Yr.prototype=n(Wi.prototype,{load:function(t,e){for(var i=[],n=null,s=0,r=t.length;s<r;){var o=s++;n=t[o];var l=e[o];switch(l){case"MUSIC":case"SOUND":var _=ai.withoutExtension(n);T.remove(i,_)||this.total++,i.push(_)}}for(var h=0;h<i.length;){var c=i[h];++h;var u=new tl;u.addEventListener("complete",a(this,this.sound_onComplete)),u.addEventListener("ioError",a(this,this.sound_onIOError)),u.load(new _l(c+".ogg"))}Wi.prototype.load.call(this,t,e)},start:function(){null!=this.display&&oi.__instanceof(this.display,O)?(this.display.addEventListener("complete",a(this,this.display_onComplete)),oi.__cast(this.display,O).onLoaded()):Wi.prototype.start.call(this)},update:function(t,e){null!=this.display&&oi.__instanceof(this.display,O)&&oi.__cast(this.display,O).onUpdate(t,e)},display_onComplete:function(t){this.display.removeEventListener("complete",a(this,this.display_onComplete)),Va.current.removeChild(this.display),Va.current.stage.set_focus(null),this.display=null,Wi.prototype.start.call(this)},sound_onComplete:function(t){this.loaded++,this.onProgress.dispatch(this.loaded,this.total),this.loaded==this.total&&this.start()},sound_onIOError:function(t){this.loaded++,this.onProgress.dispatch(this.loaded,this.total),this.loaded==this.total&&this.start()},__class__:Yr});var Kr=function(t){null==t&&(t=1),this.__dirty=!0,this.repeatY=33071,this.repeatX=33071,this.precision=1,this.precision=t,this.data=new Qe;var e=new jr("vec2");this.data.set(Kr.uObjectSize,e);var i=new jr("vec2");this.data.set(Kr.uTextureSize,i)};s["openfl.display.Shader"]=Kr,Kr.__name__=["openfl","display","Shader"],Kr.prototype={__init:function(t){var e=this.__dirty;e&&(null!=this.__shader&&this.__shader.destroy(),this.__shader=new ks(t),null!=this.__vertexCode?this.__shader.vertexString=this.__vertexCode:this.__shader.vertexString=Os.VERTEX_SRC.join("\n"),this.__shader.fragmentString=this.__fragmentCode,this.__dirty=!1),this.__shader.init(e)},__buildFragmentCode:function(t){var e=[];e.push("#ifdef GL_ES"),e.push(function(t){var e,i=t.precision;return e=function(t){var e;switch(i){case 2:e="precision highp float;";break;case 1:e="precision mediump float;";break;default:e="precision lowp float;"}return e}(t)}(this)),e.push("#endif"),e=e.concat(Kr.fragmentHeader),e.push(t),this.__fragmentCode=e.join("\n")},__buildVertexCode:function(t){var e=[];e.push("#ifdef GL_ES"),e.push(function(t){var e,i=t.precision;return e=function(t){var e;switch(i){case 2:e="precision highp float;";break;case 1:e="precision mediump float;";break;default:e="precision lowp float;"}return e}(t)}(this)),e.push("#endif"),e=e.concat(Kr.vertexHeader),e.push(t),this.__vertexCode=e.join("\n")},__class__:Kr};var jr=function(t,e){this.internalType=0,this.transpose=!1,this.repeatY=33071,this.repeatX=33071,this.smooth=!1,this.arraySize=0,this.size=0,this.type=t,null==e?this.arraySize=0:this.arraySize=e,this.__init()};s["openfl.display.GLShaderParameter"]=jr,jr.__name__=["openfl","display","GLShaderParameter"],jr.prototype={__init:function(){var t=this.type,e=t,i=t;switch(t){case"bool":if(this.internalType=1,this.size=1,4==this.internalType)throw new ri("This parameter doesn't accept a value, use bitmap instead");this.value=[0];break;case"int":if(this.internalType=1,this.size=1,4==this.internalType)throw new ri("This parameter doesn't accept a value, use bitmap instead");this.value=[0];break;case"float":if(this.internalType=2,this.size=1,4==this.internalType)throw new ri("This parameter doesn't accept a value, use bitmap instead");this.value=[0];break;case"sampler2D":if(e.indexOf("vec")>-1){X.startsWith(this.type,"b")||X.startsWith(this.type,"i")?this.internalType=1:this.internalType=2;var n=G.parseInt(this.type.charAt(this.type.length-1));this.size=n,this.set_value(function(t){for(var e,i=[],n=0,a=t.size;n<a;){n++;i.push(0)}return e=i}(this))}else if(i.indexOf("mat")>-1){this.internalType=3;var a=G.parseInt(this.type.charAt(this.type.length-1));if(this.size=a,4==this.internalType)throw new ri("This parameter doesn't accept a value, use bitmap instead");var s=this.size;switch(s){case 2:this.value=[1,0,1,0];break;case 3:this.value=[1,0,0,0,1,0,0,0,1];break;case 4:this.value=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];break;default:this.value=[0]}}else this.internalType=4,this.size=0;break;case"samplerCube":if(e.indexOf("vec")>-1){X.startsWith(this.type,"b")||X.startsWith(this.type,"i")?this.internalType=1:this.internalType=2;var r=G.parseInt(this.type.charAt(this.type.length-1));this.size=r,this.set_value(function(t){for(var e,i=[],n=0,a=t.size;n<a;){n++;i.push(0)}return e=i}(this))}else if(i.indexOf("mat")>-1){this.internalType=3;var o=G.parseInt(this.type.charAt(this.type.length-1));if(this.size=o,4==this.internalType)throw new ri("This parameter doesn't accept a value, use bitmap instead");var l=this.size;switch(l){case 2:this.value=[1,0,1,0];break;case 3:this.value=[1,0,0,0,1,0,0,0,1];break;case 4:this.value=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];break;default:this.value=[0]}}else this.internalType=4,this.size=0;break;default:if(e.indexOf("vec")>-1){X.startsWith(this.type,"b")||X.startsWith(this.type,"i")?this.internalType=1:this.internalType=2;var _=G.parseInt(this.type.charAt(this.type.length-1));this.size=_,this.set_value(function(t){for(var e,i=[],n=0,a=t.size;n<a;){n++;i.push(0)}return e=i}(this))}else if(i.indexOf("mat")>-1){this.internalType=3;var h=G.parseInt(this.type.charAt(this.type.length-1));if(this.size=h,4==this.internalType)throw new ri("This parameter doesn't accept a value, use bitmap instead");var c=this.size;switch(c){case 2:this.value=[1,0,1,0];break;case 3:this.value=[1,0,0,0,1,0,0,0,1];break;case 4:this.value=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];break;default:this.value=[0]}}else this.internalType=0,We.trace("Can't initialize value for type "+this.type,{fileName:"Shader.hx",lineNumber:307,className:"openfl.display.GLShaderParameter",methodName:"__init"})}},set_value:function(t){if(4==this.internalType)throw new ri("This parameter doesn't accept a value, use bitmap instead");return this.value=t},set_bitmap:function(t){if(4!=this.internalType)throw new ri("This parameter doesn't accept a bitmap, use value instead");return this.bitmap=t},__class__:jr,__properties__:{set_bitmap:"set_bitmap",set_value:"set_value"}};var qr=function(){c.call(this)};s["openfl.display.Shape"]=qr,qr.__name__=["openfl","display","Shape"],qr.__super__=c,qr.prototype=n(c.prototype,{get_graphics:function(){return null==this.__graphics&&(this.__graphics=new Er,this.__graphics.__owner=this),this.__graphics},__class__:qr,__properties__:n(c.prototype.__properties__,{get_graphics:"get_graphics"})});var Jr={};s["openfl.display._SpreadMethod.SpreadMethod_Impl_"]=Jr,Jr.__name__=["openfl","display","_SpreadMethod","SpreadMethod_Impl_"],Jr.fromString=function(t){switch(t){case"pad":return 0;case"reflect":return 1;case"repeat":return 2;default:return null}},Jr.toString=function(t){switch(t){case 0:return"pad";case 1:return"reflect";case 2:return"repeat";default:return null}};var Zr=function(t,e){d.call(this),this.application=t.application,this.window=t,null==e?(this.__transparent=!0,this.set_color(0)):this.set_color(e),this.set_name(null),this.__deltaTime=0,this.__displayState=2,this.__mouseX=0,this.__mouseY=0,this.__lastClickTime=0,this.stageWidth=t.__width*t.__scale|0,this.stageHeight=t.__height*t.__scale|0,this.stage=this,this.align=6,this.allowsFullScreen=!1,this.allowsFullScreenInteractive=!1,this.quality=1,this.scaleMode=2,this.stageFocusRect=!0,this.__macKeyboard=/AppleWebKit/.test(navigator.userAgent)&&/Mobile\/\w+/.test(navigator.userAgent)||/Mac/.test(navigator.platform),this.__clearBeforeRender=!0,this.__stack=[],this.__mouseOutStack=[];var i;i=new Wa;var n;n=new Array(0),i.data=n,i.length=0,i.fixed=!1,this.stage3Ds=i;var a=this.stage3Ds,s=new Qr;if(!a.fixed){if(a.length++,a.data.length<a.length){var r,o;o=new Array(a.data.length+10),r=o,$e.blit(a.data,0,r,0,a.data.length),a.data=r}a.data[a.length-1]=s}a.length,null==Va.current.stage&&this.stage.addChild(Va.current)};s["openfl.display.Stage"]=Zr,Zr.__name__=["openfl","display","Stage"],Zr.__interfaces__=[bi],Zr.__super__=d,Zr.prototype=n(d.prototype,{globalToLocal:function(t){return t.clone()},invalidate:function(){this.__invalidated=!0},localToGlobal:function(t){return t.clone()},onGamepadAxisMove:function(t,e,i){Sl.__onGamepadAxisMove(t,e,i)},onGamepadButtonDown:function(t,e){Sl.__onGamepadButtonDown(t,e)},onGamepadButtonUp:function(t,e){Sl.__onGamepadButtonUp(t,e)},onGamepadConnect:function(t){Sl.__onGamepadConnect(t)},onGamepadDisconnect:function(t){Sl.__onGamepadDisconnect(t)},onJoystickAxisMove:function(t,e,i){},onJoystickButtonDown:function(t,e){},onJoystickButtonUp:function(t,e){},onJoystickConnect:function(t){},onJoystickDisconnect:function(t){},onJoystickHatMove:function(t,e,i){},onJoystickTrackballMove:function(t,e,i){},onKeyDown:function(t,e,i){null!=this.window&&this.window==t&&this.__onKey("keyDown",e,i)},onKeyUp:function(t,e,i){null!=this.window&&this.window==t&&this.__onKey("keyUp",e,i)},onModuleExit:function(t){if(null!=this.window){var e=new Ro("deactivate");this.__broadcast(e,!0)}},onMouseDown:function(t,e,i,n){if(null!=this.window&&this.window==t){var a;switch(n){case 1:a="middleMouseDown";break;case 2:a="rightMouseDown";break;default:a="mouseDown"}this.__onMouse(a,e*t.__scale|0,i*t.__scale|0,n)}},onMouseMove:function(t,e,i){null!=this.window&&this.window==t&&this.__onMouse("mouseMove",e*t.__scale|0,i*t.__scale|0,0)},onMouseMoveRelative:function(t,e,i){},onMouseUp:function(t,e,i,n){if(null!=this.window&&this.window==t){var a;switch(n){case 1:a="middleMouseUp";break;case 2:a="rightMouseUp";break;default:a="mouseUp"}this.__onMouse(a,e*t.__scale|0,i*t.__scale|0,n)}},onMouseWheel:function(t,e,i){null!=this.window&&this.window==t&&this.__onMouseWheel(e*t.__scale|0,i*t.__scale|0)},onPreloadComplete:function(){},onPreloadProgress:function(t,e){},onRenderContextLost:function(t){},onRenderContextRestored:function(t,e){},onTextEdit:function(t,e,i,n){},onTextInput:function(t,e){if(null!=this.window&&this.window==t){var i=[];null==this.__focus?this.__getInteractive(i):this.__focus.__getInteractive(i);var n=new Po("textInput",(!0),(!1),e);i.length>0?(i.reverse(),this.__fireEvent(n,i)):this.__broadcast(n,!0)}},onTouchMove:function(t){this.__onTouch("touchMove",t)},onTouchEnd:function(t){this.__onTouch("touchEnd",t)},onTouchStart:function(t){this.__onTouch("touchBegin",t)},onWindowActivate:function(t){if(null!=this.window&&this.window==t){var e=new Ro("activate");this.__broadcast(e,!0)}},onWindowClose:function(t){this.window==t&&(this.window=null)},onWindowCreate:function(t){if(null!=this.window&&this.window==t&&null!=t.renderer){var e=t.renderer.context;switch(e[1]){case 0:var i=e[2];this.__renderer=new Fs(this.stageWidth,this.stageHeight,i);break;case 1:var n=e[2];this.__renderer=new Ss(this.stageWidth,this.stageHeight,n);break;case 2:e[2];break;case 4:e[2];break;case 5:e[2]}}},onWindowDeactivate:function(t){if(null!=this.window&&this.window==t){var e=new Ro("deactivate");this.__broadcast(e,!0)}},onWindowDropFile:function(t,e){},onWindowEnter:function(t){},onWindowFocusIn:function(t){if(null!=this.window&&this.window==t){var e=new ko("focusIn",(!0),(!1),null,(!1),0);this.__broadcast(e,!0)}},onWindowFocusOut:function(t){if(null!=this.window&&this.window==t){var e=new ko("focusOut",(!0),(!1),null,(!1),0);this.__broadcast(e,!0)}},onWindowFullscreen:function(t){null!=this.window&&this.window==t&&2==this.__displayState&&(this.__displayState=1)},onWindowLeave:function(t){null!=this.window&&this.window==t&&this.__dispatchEvent(new Ro("mouseLeave"))},onWindowMinimize:function(t){},onWindowMove:function(t,e,i){},onWindowResize:function(t,e,i){if(null!=this.window&&this.window==t){2==this.__displayState||t.__fullscreen||(this.__displayState=2),this.stageWidth=e*t.__scale|0,this.stageHeight=i*t.__scale|0,null!=this.__renderer&&this.__renderer.resize(this.stageWidth,this.stageHeight);var n=new Ro("resize");this.__broadcast(n,!1)}},onWindowRestore:function(t){},render:function(t){if(null!=t.window&&t.window==this.window&&(null!=this.application&&this.application.windows.length>0&&(this.__transformDirty||(this.__transformDirty=!0,c.__worldTransformDirty++),this.__renderDirty||(this.__updateCachedBitmap=!0,this.__updateFilters=null!=this.get_filters()&&this.get_filters().length>0,this.__renderDirty=!0,c.__worldRenderDirty++)),!this.__rendering)){if(this.__rendering=!0,this.__broadcast(new Ro("enterFrame"),!0),this.__invalidated&&(this.__invalidated=!1,this.__broadcast(new Ro("render"),!0)),this.__renderable=!0,this.__enterFrame(this.__deltaTime),this.__deltaTime=0,this.__update(!1,!0),null!=this.__renderer){var e=t.context;switch(e[1]){case 4:var i=e[2];oi.__cast(this.__renderer,xs).cairo=i,this.__renderer.renderSession.cairo=i}this.__renderer.render(this)}this.__rendering=!1}},update:function(t){this.__deltaTime=t},__drag:function(t){var e=this.__dragObject.parent;null!=e&&(t=e.globalToLocal(t));var i=t.x+this.__dragOffsetX,n=t.y+this.__dragOffsetY;null!=this.__dragBounds&&(i<this.__dragBounds.x?i=this.__dragBounds.x:i>this.__dragBounds.get_right()&&(i=this.__dragBounds.get_right()),n<this.__dragBounds.y?n=this.__dragBounds.y:n>this.__dragBounds.get_bottom()&&(n=this.__dragBounds.get_bottom())),this.__dragObject.set_x(i),this.__dragObject.set_y(n)},__fireEvent:function(t,e){var i=e.length;if(0==i)t.eventPhase=2,t.target.__broadcast(t,!1);else{t.eventPhase=1,t.target=e[e.length-1];for(var n=0,a=i-1;n<a;){var s=n++;if(e[s].__broadcast(t,!1),t.__isCanceled)return}if(t.eventPhase=2,t.target.__broadcast(t,!1),t.__isCanceled)return;if(t.bubbles){t.eventPhase=3;for(var r=i-2;r>=0;){if(e[r].__broadcast(t,!1),t.__isCanceled)return;r--}}}},__getInteractive:function(t){return null!=t&&t.push(this),!0},__onKey:function(t,e,i){Xo.__altKey=ma.get_altKey(i),Xo.__commandKey=ma.get_metaKey(i),Xo.__ctrlKey=ma.get_ctrlKey(i),Xo.__shiftKey=ma.get_shiftKey(i);var n=[];if(null==this.__focus?this.__getInteractive(n):this.__focus.__getInteractive(n),n.length>0){var a;switch(e){case 1073742048:case 1073742049:case 1073742050:case 1073742051:a=1;break;case 1073742052:case 1073742053:case 1073742054:case 1073742055:a=2;break;case 1073741908:case 1073741909:case 1073741910:case 1073741911:case 1073741912:case 1073741913:case 1073741914:case 1073741915:case 1073741916:case 1073741917:case 1073741918:case 1073741919:case 1073741920:case 1073741921:case 1073741922:case 1073741923:case 1073742044:a=3;break;default:a=0}var s;switch(e){case 8:s=8;break;case 9:s=9;break;case 13:s=13;break;case 27:s=27;break;case 32:s=32;break;case 33:s=49;break;case 34:s=222;break;case 35:s=51;break;case 36:s=52;break;case 37:s=53;break;case 38:s=55;break;case 39:s=222;break;case 40:s=57;break;case 41:s=48;break;case 42:s=56;break;case 44:s=188;break;case 45:s=189;break;case 46:s=190;break;case 47:s=191;break;case 48:s=48;break;case 49:s=49;break;case 50:s=50;break;case 51:s=51;break;case 52:s=52;break;case 53:s=53;break;case 54:s=54;break;case 55:s=55;break;case 56:s=56;break;case 57:s=57;break;case 58:s=186;break;case 59:s=186;break;case 60:s=60;break;case 61:s=187;break;case 62:s=190;break;case 63:s=191;break;case 64:s=50;break;case 91:s=219;break;case 92:s=220;break;case 93:s=221;break;case 94:s=54;break;case 95:s=189;break;case 96:s=192;break;case 97:s=65;break;case 98:s=66;break;case 99:s=67;break;case 100:s=68;break;case 101:s=69;break;case 102:s=70;break;case 103:s=71;break;case 104:s=72;break;case 105:s=73;break;case 106:s=74;break;case 107:s=75;break;case 108:s=76;break;case 109:s=77;break;case 110:s=78;break;case 111:s=79;break;case 112:s=80;break;case 113:s=81;break;case 114:s=82;break;case 115:s=83;break;case 116:s=84;break;case 117:s=85;break;case 118:s=86;break;case 119:s=87;break;case 120:s=88;break;case 121:s=89;break;case 122:s=90;break;case 127:s=46;break;case 1073741881:s=20;break;case 1073741882:s=112;break;case 1073741883:s=113;break;case 1073741884:s=114;break;case 1073741885:s=115;break;case 1073741886:s=116;break;case 1073741887:s=117;break;case 1073741888:s=118;break;case 1073741889:s=119;break;case 1073741890:s=120;break;case 1073741891:s=121;break;case 1073741892:s=122;break;case 1073741893:s=123;break;case 1073741894:s=301;break;case 1073741895:s=145;break;case 1073741896:s=19;break;case 1073741897:s=45;break;case 1073741898:s=36;break;case 1073741899:s=33;break;case 1073741901:s=35;break;case 1073741902:s=34;break;case 1073741903:s=39;break;case 1073741904:s=37;break;case 1073741905:s=40;break;case 1073741906:s=38;break;case 1073741907:s=144;break;case 1073741908:s=111;break;case 1073741909:s=106;break;case 1073741910:s=109;break;case 1073741911:s=107;break;case 1073741912:s=108;break;case 1073741913:s=97;break;case 1073741914:s=98;break;case 1073741915:s=99;break;case 1073741916:s=100;break;case 1073741917:s=101;break;case 1073741918:s=102;break;case 1073741919:s=103;break;case 1073741920:s=104;break;case 1073741921:s=105;break;case 1073741922:s=96;break;case 1073741923:s=110;break;case 1073741925:s=302;break;case 1073741928:s=124;break;case 1073741929:s=125;break;case 1073741930:s=126;break;case 1073741982:s=13;break;case 1073742044:s=110;break;case 1073742048:s=17;break;case 1073742049:s=16;break;case 1073742050:s=18;break;case 1073742051:s=15;break;case 1073742052:s=17;break;case 1073742053:s=16;break;case 1073742054:s=18;break;case 1073742055:s=15;break;default:s=e}var r=Ll.__getCharCode(s,ma.get_shiftKey(i)),o=new Wo(t,(!0),(!1),r,s,a,this.__macKeyboard?ma.get_ctrlKey(i)||ma.get_metaKey(i):ma.get_ctrlKey(i),ma.get_altKey(i),ma.get_shiftKey(i),ma.get_ctrlKey(i),ma.get_metaKey(i));n.reverse(),this.__fireEvent(o,n),o.__isCanceled&&("keyDown"==t?this.window.onKeyDown.cancel():this.window.onKeyUp.cancel())}},__onMouse:function(t,e,i,n){if(!(n>2)){this.__mouseX=e,this.__mouseY=i;var a=[],s=null,r=new Oa(e,i);this.__hitTest(e,i,!0,a,!0,this)?s=a[a.length-1]:(s=this,a=[this]),null==s&&(s=this);var o=null;switch(t){case"mouseDown":s.get_tabEnabled()?this.set_focus(s):this.set_focus(null),this.__mouseDownLeft=s;break;case"middleMouseDown":this.__mouseDownMiddle=s;break;case"rightMouseDown":this.__mouseDownRight=s;break;case"mouseUp":this.__mouseDownLeft==s&&(o="click"),this.__mouseDownLeft=null;break;case"middleMouseUp":this.__mouseDownMiddle==s&&(o="middleClick"),this.__mouseDownMiddle=null;break;case"rightMouseUp":this.__mouseDownRight==s&&(o="rightClick"),this.__mouseDownRight=null}if(this.__fireEvent(Xo.__create(t,n,this.__mouseX,this.__mouseY,s==this?r:s.globalToLocal(r),s),a),null!=o&&(this.__fireEvent(Xo.__create(o,n,this.__mouseX,this.__mouseY,s==this?r:s.globalToLocal(r),s),a),"mouseUp"==t&&oi.__cast(s,u).doubleClickEnabled)){var l=Va.getTimer();l-this.__lastClickTime<500?(this.__fireEvent(Xo.__create("doubleClick",n,this.__mouseX,this.__mouseY,s==this?r:s.globalToLocal(r),s),a),this.__lastClickTime=0):this.__lastClickTime=l}for(var _=null,h=0;h<a.length;){var c=a[h];if(++h,_=c.__getCursor(),null!=_){fa.set_cursor(_);break}}null==_&&fa.set_cursor(pa.ARROW);for(var d,m,f=0,p=this.__mouseOutStack;f<p.length;){var g=p[f];++f,T.indexOf(a,g,0)==-1&&(T.remove(this.__mouseOutStack,g),m=g.globalToLocal(r),d=Xo.__create("mouseOut",n,this.__mouseX,this.__mouseY,m,g),d.bubbles=!1,g.__dispatchEvent(d))}for(var v=0;v<a.length;){var y=a[v];++v,T.indexOf(this.__mouseOutStack,y,0)==-1&&(y.hasEventListener("mouseOver")&&(m=y.globalToLocal(r),d=Xo.__create("mouseOver",n,this.__mouseX,this.__mouseY,m,y),d.bubbles=!1,y.__dispatchEvent(d)),y.hasEventListener("mouseOut")&&this.__mouseOutStack.push(y))}null!=this.__dragObject&&this.__drag(r)}},__onMouseWheel:function(t,e){var i=this.__mouseX,n=this.__mouseY,a=[];this.__hitTest(i,n,!1,a,!0,this)||(a=[this]);var s=a[a.length-1],r=new Oa(i,n),o=0|e;this.__fireEvent(Xo.__create("mouseWheel",0,this.__mouseX,this.__mouseY,s==this?r:s.globalToLocal(r),s,o),a)},__onTouch:function(t,e){var i=new Oa(e.x*this.stageWidth,e.y*this.stageHeight);this.__mouseX=i.x,this.__mouseY=i.y;var n=[];if(this.__hitTest(this.__mouseX,this.__mouseY,!1,n,!0,this)){var a=n[n.length-1];null==a&&(a=this);var s=a.globalToLocal(i),r=Ko.__create(t,null,this.__mouseX,this.__mouseY,s,a);r.touchPointID=e.id,r.isPrimaryTouchPoint=!0,this.__fireEvent(r,n)}else{var o=Ko.__create(t,null,this.__mouseX,this.__mouseY,i,this);o.touchPointID=e.id,o.isPrimaryTouchPoint=!0,this.__fireEvent(o,[this.stage])}},__resize:function(){},__startDrag:function(t,e,i){if(null==i?this.__dragBounds=null:this.__dragBounds=i.clone(),this.__dragObject=t,null!=this.__dragObject)if(e)this.__dragOffsetX=-this.__dragObject.get_width()/2,this.__dragOffsetY=-this.__dragObject.get_height()/2;else{var n=new Oa(this.get_mouseX(),this.get_mouseY()),a=this.__dragObject.parent;null!=a&&(n=a.globalToLocal(n)),this.__dragOffsetX=this.__dragObject.get_x()-n.x,this.__dragOffsetY=this.__dragObject.get_y()-n.y}},__stopDrag:function(t){this.__dragBounds=null,this.__dragObject=null},__update:function(t,e,i){t?c.__worldTransformDirty>0&&(d.prototype.__update.call(this,!0,e,i),e&&(c.__worldTransformDirty=0,this.__dirty=!0)):(c.__worldTransformDirty>0||this.__dirty||c.__worldRenderDirty>0)&&(d.prototype.__update.call(this,!1,e,i),e&&(c.__worldTransformDirty=0,c.__worldRenderDirty=0,this.__dirty=!1))},get_mouseX:function(){return this.__mouseX},get_mouseY:function(){return this.__mouseY},canvas_onContextLost:function(t){},canvas_onContextRestored:function(t){},get_color:function(){return this.__color},set_color:function(t){var e=(16711680&t)>>>16,i=(65280&t)>>>8,n=255&t;return this.__colorSplit=[e/255,i/255,n/255],this.__colorString="#"+X.hex(t,6),this.__color=t},get_displayState:function(){return this.__displayState},set_displayState:function(t){if(null!=this.window)switch(t){case 2:this.window.__fullscreen&&(this.window.set_fullscreen(!1),this.stageWidth=this.window.__width*this.window.__scale|0,this.stageHeight=this.window.__height*this.window.__scale|0,this.dispatchEvent(new Oo("fullScreen",(!1),(!1),(!1),(!0))));break;default:this.window.__fullscreen||(this.window.set_fullscreen(!0),this.stageWidth=this.window.__width*this.window.__scale|0,this.stageHeight=this.window.__height*this.window.__scale|0,this.dispatchEvent(new Oo("fullScreen",(!1),(!1),(!0),(!0))))}return this.__displayState=t},get_focus:function(){return this.__focus},set_focus:function(t){if(t!=this.__focus){var e=this.__focus;if(this.__focus=t,null!=e){var i=new ko("focusOut",(!0),(!1),this.__focus,(!1),0);this.__stack=[],e.__getInteractive(this.__stack),this.__stack.reverse(),this.__fireEvent(i,this.__stack)}if(null!=this.__focus){var n=new ko("focusIn",(!0),(!1),e,(!1),0);this.__stack=[],t.__getInteractive(this.__stack),this.__stack.reverse(),this.__fireEvent(n,this.__stack)}}return this.__focus},get_frameRate:function(){return null!=this.application?this.application.backend.getFrameRate():0},set_frameRate:function(t){return null!=this.application?this.application.backend.setFrameRate(t):t},__class__:Zr,__properties__:n(d.prototype.__properties__,{set_frameRate:"set_frameRate",get_frameRate:"get_frameRate",set_focus:"set_focus",get_focus:"get_focus",set_displayState:"set_displayState",get_displayState:"get_displayState",set_color:"set_color",get_color:"get_color"})});var Qr=function(){_.call(this)};s["openfl.display.Stage3D"]=Qr,Qr.__name__=["openfl","display","Stage3D"],Qr.__super__=_,Qr.prototype=n(_.prototype,{requestContext3D:function(t){null==t&&(t="");var e=this;Xr.get_isSupported()?ze.delay(function(){e.context3D=new ro,e.dispatchEvent(new Ro("context3DCreate"))},1):ze.delay(function(){e.dispatchEvent(new No("error"))},1)},__class__:Qr});var $r={};s["openfl.display._StageAlign.StageAlign_Impl_"]=$r,$r.__name__=["openfl","display","_StageAlign","StageAlign_Impl_"],$r.fromString=function(t){switch(t){case"bottom":return 0;case"bottomLeft":return 1;case"bottomRight":return 2;case"left":return 3;case"right":return 4;case"top":return 5;case"topLeft":return 6;case"topRight":return 7;default:return null}},$r.toString=function(t){switch(t){case 0:return"bottom";case 1:return"bottomLeft";case 2:return"bottomRight";case 3:return"left";case 4:return"right";case 5:return"top";case 6:return"topLeft";case 7:return"topRight";default:return null}};var to={};s["openfl.display._StageDisplayState.StageDisplayState_Impl_"]=to,to.__name__=["openfl","display","_StageDisplayState","StageDisplayState_Impl_"],to.fromString=function(t){switch(t){case"fullScreen":return 0;case"fullScreenInteractive":return 1;case"normal":return 2;default:return null}},to.toString=function(t){switch(t){case 0:return"fullScreen";case 1:return"fullScreenInteractive";case 2:return"normal";default:return null}};var eo={};s["openfl.display._StageQuality.StageQuality_Impl_"]=eo,eo.__name__=["openfl","display","_StageQuality","StageQuality_Impl_"],eo.fromString=function(t){switch(t){case"best":return 0;case"high":return 1;case"low":return 2;case"medium":return 3;default:return null}},eo.toString=function(t){switch(t){case 0:return"best";case 1:return"high";case 2:return"low";case 3:return"medium";default:return null}};var io={};s["openfl.display._StageScaleMode.StageScaleMode_Impl_"]=io,io.__name__=["openfl","display","_StageScaleMode","StageScaleMode_Impl_"],io.fromString=function(t){switch(t){case"exactFit":return 0;case"noBorder":return 1;case"noScale":return 2;case"showAll":return 3;default:return null}},io.toString=function(t){switch(t){case 0:return"exactFit";case 1:return"noBorder";case 2:return"noScale";case 3:return"showAll";default:return null}};var no=function(t){this.__bitmap=t,this.__centerPoints=[],this.__tileRects=[],this.__tileUVs=[],this.__rectTile=new Zs,this.__rectUV=new Zs,this.__point=new Oa};s["openfl.display.Tilesheet"]=no,no.__name__=["openfl","display","Tilesheet"],no.prototype={addTileRect:function(t,e){return this.__tileRects.push(t),null==e&&(e=no.__defaultPoint),this.__centerPoints.push(e),this.__tileUVs.push(new Zs(t.get_left()/this.__bitmap.width,t.get_top()/this.__bitmap.height,t.get_right()/this.__bitmap.width,t.get_bottom()/this.__bitmap.height)),this.__tileRects.length-1},drawTiles:function(t,e,i,n,a){null==a&&(a=-1),null==n&&(n=0),null==i&&(i=!1),t.drawTiles(this,e,i,n,null,a)},getTileCenter:function(t){return this.__centerPoints[t]},getTileRect:function(t){return this.__tileRects[t]},getTileUVs:function(t){return this.__tileUVs[t]},__class__:no};var ao={};s["openfl.display._TriangleCulling.TriangleCulling_Impl_"]=ao,ao.__name__=["openfl","display","_TriangleCulling","TriangleCulling_Impl_"],ao.fromString=function(t){switch(t){case"negative":return 0;case"none":return 1;case"positive":return 2;default:return null}},ao.toString=function(t){switch(t){case 0:return"negative";case 1:return"none";case 2:return"positive";default:return null}};var so=function(t){va.call(this,t)};s["openfl.display.Window"]=so,so.__name__=["openfl","display","Window"],so.__super__=va,so.prototype=n(va.prototype,{create:function(t){va.prototype.create.call(this,t),this.stage=new Zr(this,Object.prototype.hasOwnProperty.call(this.config,"background")?this.config.background:16777215),t.addModule(this.stage)},__class__:so});var ro=function(){this.disposed=!1,this.stencilCompareMode=519,this.stencilRef=0,this.stencilReadMask=255,this._yFlip=1,this.vertexBuffersCreated=[],this.indexBuffersCreated=[],this.programsCreated=[],this.texturesCreated=[],this.samplerParameters=[];for(var t=0,e=ro.MAX_SAMPLERS;t<e;){var i=t++;this.samplerParameters[i]=new oo,this.samplerParameters[i].wrap=vo.CLAMP,this.samplerParameters[i].filter=mo.LINEAR,this.samplerParameters[i].mipfilter=co.MIPNONE}var n=Va.current.stage;this.ogl=new Xr,this.ogl.set_scrollRect(new Zs(0,0,n.stageWidth,n.stageHeight)),this.scrollRect=this.ogl.get_scrollRect().clone(),this.ogl.set_width(n.stageWidth),this.ogl.set_height(n.stageHeight),n.addChildAt(this.ogl,0),In.context.pixelStorei(37440,1),In.context.pixelStorei(37441,1)};s["openfl.display3D.Context3D"]=ro,ro.__name__=["openfl","display3D","Context3D"],ro.prototype={clear:function(t,e,i,n,a,s,r){null==r&&(r=17664),null==s&&(s=0),null==a&&(a=1),null==n&&(n=1),null==i&&(i=0),null==e&&(e=0),null==t&&(t=0),this.drawing||(this.__updateBlendStatus(),this.drawing=!0),null!=this.scissorRectangle&&In.context.disable(3089),In.context.clearColor(t,e,i,n),In.context.clearDepth(a),In.context.clearStencil(s),In.context.clear(r),null!=this.scissorRectangle&&In.context.enable(3089)},configureBackBuffer:function(t,e,i,n){null==n&&(n=!0),this.backBufferDepthAndStencil=n,this.updateDepthAndStencilState(),this.setBackBufferViewPort(null,null,t,e),this.updateScissorRectangle()},setBackBufferViewPort:function(t,e,i,n){null==t&&(t=0|this.scrollRect.x),null==e&&(e=0|this.scrollRect.y),null==i&&(i=0|this.scrollRect.width),null==n&&(n=0|this.scrollRect.height),this.scrollRect.x=t,this.scrollRect.y=e,this.scrollRect.width=i,this.scrollRect.height=n,this.ogl.set_width(t+i),this.ogl.set_height(e+n),this.updateBackBufferViewPort()},updateBackBufferViewPort:function(){this.renderToTexture||In.context.viewport(0|this.scrollRect.x,0|this.scrollRect.y,0|this.scrollRect.width,0|this.scrollRect.height)},updateDepthAndStencilState:function(){var t;t=this.renderToTexture?this.rttDepthAndStencil:this.backBufferDepthAndStencil,t?(Ti.current.windows[0].config.depthBuffer&&In.context.enable(2929),Ti.current.windows[0].config.stencilBuffer&&In.context.enable(2960)):(In.context.disable(2929),In.context.disable(2960))},createCubeTexture:function(t,e,i,n){null==n&&(n=0);var a=new To(this,In.context.createTexture(),t);return this.texturesCreated.push(a),a},createIndexBuffer:function(t,e){null==e&&(e=lo.STATIC_DRAW);var i=new yo(this,In.context.createBuffer(),t,e==lo.STATIC_DRAW?35044:35048);return this.indexBuffersCreated.push(i),i},createProgram:function(){var t=new xo(this,In.context.createProgram());return this.programsCreated.push(t),t},createRectangleTexture:function(t,e,i,n){var a=new Ao(this,In.context.createTexture(),n,t,e);return this.texturesCreated.push(a),a},createTexture:function(t,e,i,n,a){null==a&&(a=0);var s=new Eo(this,In.context.createTexture(),n,t,e);return this.texturesCreated.push(s),s},createVertexBuffer:function(t,e,i){null==i&&(i=lo.STATIC_DRAW);var n=new bo(this,In.context.createBuffer(),t,e,i==lo.STATIC_DRAW?35044:35048);return this.vertexBuffersCreated.push(n),n},__deleteTexture:function(t){null!=t.glTexture&&(T.remove(this.texturesCreated,t),In.context.deleteTexture(t.glTexture),t.glTexture=null)},__deleteVertexBuffer:function(t){null!=t.glBuffer&&(T.remove(this.vertexBuffersCreated,t),In.context.deleteBuffer(t.glBuffer),t.glBuffer=null)},__deleteIndexBuffer:function(t){null!=t.glBuffer&&(T.remove(this.indexBuffersCreated,t),In.context.deleteBuffer(t.glBuffer),t.glBuffer=null)},__deleteProgram:function(t){null!=t.glProgram&&(T.remove(this.programsCreated,t),In.context.deleteProgram(t.glProgram),t.glProgram=null)},dispose:function(){for(var t=0,e=this.vertexBuffersCreated;t<e.length;){var i=e[t];++t,i.dispose()}this.vertexBuffersCreated=null;for(var n=0,a=this.indexBuffersCreated;n<a.length;){var s=a[n];++n,s.dispose()}this.indexBuffersCreated=null;for(var r=0,o=this.programsCreated;r<o.length;){var l=o[r];++r,l.dispose()}this.programsCreated=null,this.samplerParameters=null;for(var _=0,h=this.texturesCreated;_<h.length;){var c=h[_];
++_,c.dispose()}this.texturesCreated=null,null!=this.framebuffer&&(In.context.deleteFramebuffer(this.framebuffer),this.framebuffer=null),null!=this.renderbuffer&&(In.context.deleteRenderbuffer(this.renderbuffer),this.renderbuffer=null),this.disposed=!0},drawToBitmapData:function(t){},drawTriangles:function(t,e,i){null==i&&(i=-1),null==e&&(e=0);var n=In.context.getUniformLocation(this.currentProgram.glProgram,"yflip");if(In.context.uniform1f(n,this._yFlip),!this.drawing)throw new ri(new So("Need to clear before drawing if the buffer has not been cleared since the last present() call."));var a;a=i==-1?t.numIndices:3*i;var s=2*e;In.context.bindBuffer(34963,t.glBuffer),In.context.drawElements(4,a,5123,s)},present:function(){this.drawing=!1,In.context.useProgram(null),In.context.bindBuffer(34962,null),In.context.disable(2884),null!=this.framebuffer&&In.context.bindFramebuffer(36160,null),null!=this.renderbuffer&&In.context.bindRenderbuffer(36161,null)},removeRenderMethod:function(t){this.ogl.set_render(null)},setBlendFactors:function(t,e){this.blendEnabled=!0,this.blendSourceFactor=t,this.blendDestinationFactor=e,this.__updateBlendStatus()},setColorMask:function(t,e,i,n){In.context.colorMask(t,e,i,n)},setCulling:function(t){if(0==t)In.context.disable(2884);else switch(In.context.enable(2884),t){case 1029:In.context.cullFace(1029);break;case 1028:In.context.cullFace(1028);break;case 1032:In.context.cullFace(1032);break;default:throw new ri("Unknown Context3DTriangleFace type.")}switch(t){case 1029:this._yFlip=-1;break;case 1028:this._yFlip=1;break;case 1032:this._yFlip=1;break;case 0:this._yFlip=1;break;default:throw new ri("Unknown culling mode "+t+".")}},setDepthTest:function(t,e){In.context.depthFunc(e),In.context.depthMask(t)},setGLSLProgramConstantsFromByteArray:function(t,e,i){null==i&&(i=0),e.position=i;var n=In.context.getUniformLocation(this.currentProgram.glProgram,t);In.uniform4f(n,e.readFloat(),e.readFloat(),e.readFloat(),e.readFloat())},setGLSLProgramConstantsFromMatrix:function(t,e,i){null==i&&(i=!1);var n=In.context.getUniformLocation(this.currentProgram.glProgram,t);In.uniformMatrix4fv(n,!i,function(t){for(var i,n,a=e.rawData,s=[],r=0,o=a.data.length;r<o;){var l=r++;s.push(a.data[l])}n=s;var _;return _=null!=n?new Float32Array(n):null,i=_}(this))},setGLSLProgramConstantsFromVector4:function(t,e,i){null==i&&(i=0);var n=In.context.getUniformLocation(this.currentProgram.glProgram,t);In.context.uniform4f(n,e[i],e[i+1],e[i+2],e[i+3])},setGLSLTextureAt:function(t,e,i){switch(i){case 0:In.context.activeTexture(33984);break;case 1:In.context.activeTexture(33985);break;case 2:In.context.activeTexture(33986);break;case 3:In.context.activeTexture(33987);break;case 4:In.context.activeTexture(33988);break;case 5:In.context.activeTexture(33989);break;case 6:In.context.activeTexture(33990);break;case 7:In.context.activeTexture(33991);break;default:throw new ri("Does not support texture8 or more")}if(null==e)return In.context.bindTexture(3553,null),void In.context.bindTexture(34067,null);var n=In.context.getUniformLocation(this.currentProgram.glProgram,t);if(oi.__instanceof(e,Eo))In.bindTexture(3553,oi.__cast(e,Eo).glTexture),In.context.uniform1i(n,i);else if(oi.__instanceof(e,Ao))In.bindTexture(3553,oi.__cast(e,Ao).glTexture),In.context.uniform1i(n,i);else{if(!oi.__instanceof(e,To))throw new ri("Texture of type "+J.getClassName(null==e?null:oi.getClass(e))+" not supported yet");In.bindTexture(34067,oi.__cast(e,To).glTexture),In.context.uniform1i(n,i)}var a=this.samplerParameters[i];null!=a?this.setTextureParameters(e,a.wrap,a.filter,a.mipfilter):this.setTextureParameters(e,vo.CLAMP,mo.NEAREST,co.MIPNONE)},setGLSLVertexBufferAt:function(t,e,i,n){null==i&&(i=0);var a;if(a=null!=this.currentProgram&&null!=this.currentProgram.glProgram?In.context.getAttribLocation(this.currentProgram.glProgram,t):-1,a!=-1){if(null==e)return void(a>-1&&In.context.disableVertexAttribArray(a));In.context.bindBuffer(34962,e.glBuffer);var s=4,r=5126,o=4;if(n==go.BYTES_4)s=4,r=5126,o=4;else if(n==go.FLOAT_1)s=1,r=5126,o=4;else if(n==go.FLOAT_2)s=2,r=5126,o=4;else if(n==go.FLOAT_3)s=3,r=5126,o=4;else{if(n!=go.FLOAT_4)throw new ri("Buffer format "+G.string(n)+" is not supported");s=4,r=5126,o=4}In.context.enableVertexAttribArray(a),In.context.vertexAttribPointer(a,s,r,!1,e.data32PerVertex*o,i*o)}},setProgram:function(t){var e=null;null!=t&&(e=t.glProgram),In.context.useProgram(e),this.currentProgram=t},setProgramConstantsFromByteArray:function(t,e,i,n,a){n.position=a;for(var s=0;s<i;){var r=s++,o=this.__getUniformLocationNameFromAgalRegisterIndex(t,e+r);this.setGLSLProgramConstantsFromByteArray(o,n)}},setProgramConstantsFromMatrix:function(t,e,i,n){null==n&&(n=!1);var a=i.rawData;n?(this.setProgramConstantsFromVector(t,e,[a.data[0],a.data[4],a.data[8],a.data[12]],1),this.setProgramConstantsFromVector(t,e+1,[a.data[1],a.data[5],a.data[9],a.data[13]],1),this.setProgramConstantsFromVector(t,e+2,[a.data[2],a.data[6],a.data[10],a.data[14]],1),this.setProgramConstantsFromVector(t,e+3,[a.data[3],a.data[7],a.data[11],a.data[15]],1)):(this.setProgramConstantsFromVector(t,e,[a.data[0],a.data[1],a.data[2],a.data[3]],1),this.setProgramConstantsFromVector(t,e+1,[a.data[4],a.data[5],a.data[6],a.data[7]],1),this.setProgramConstantsFromVector(t,e+2,[a.data[8],a.data[9],a.data[10],a.data[11]],1),this.setProgramConstantsFromVector(t,e+3,[a.data[12],a.data[13],a.data[14],a.data[15]],1))},setProgramConstantsFromVector:function(t,e,i,n){null==n&&(n=1);for(var a=0;a<n;){var s=a++,r=4*s,o=this.__getUniformLocationNameFromAgalRegisterIndex(t,e+s);this.setGLSLProgramConstantsFromVector4(o,i,r)}},setRenderMethod:function(t){this.ogl.set_render(function(e){t(null)})},setRenderToBackBuffer:function(){In.context.disable(2929),In.context.disable(2960),In.context.disable(3089),In.context.bindFramebuffer(36160,null),null!=this.framebuffer&&In.context.bindFramebuffer(36160,null),null!=this.renderbuffer&&In.context.bindRenderbuffer(36161,null),this.renderToTexture=!1,this.updateBackBufferViewPort(),this.updateScissorRectangle(),this.updateDepthAndStencilState()},setRenderToTexture:function(t,e,i,n){null==n&&(n=0),null==i&&(i=0),null==e&&(e=!1),null==this.framebuffer&&(this.framebuffer=In.context.createFramebuffer()),In.context.bindFramebuffer(36160,this.framebuffer),null==this.renderbuffer&&(this.renderbuffer=In.context.createRenderbuffer()),In.context.bindRenderbuffer(36161,this.renderbuffer),e&&In.context.renderbufferStorage(36161,34041,t.width,t.height),In.context.framebufferTexture2D(36160,36064,3553,t.glTexture,0),In.context.renderbufferStorage(36161,34041,t.width,t.height),In.context.framebufferRenderbuffer(36160,33306,36161,this.renderbuffer),e&&(In.context.enable(2929),In.context.enable(2960)),In.context.bindTexture(3553,t.glTexture),In.context.texImage2D(3553,0,6408,t.width,t.height,0,6408,5121,null),In.context.texParameteri(3553,10240,9729),In.context.texParameteri(3553,10241,9985),In.context.viewport(0,0,t.width,t.height),this.renderToTexture=!0,this.rttDepthAndStencil=e,this.rttWidth=t.width,this.rttHeight=t.height,this.updateScissorRectangle(),this.updateDepthAndStencilState()},setSamplerStateAt:function(t,e,i,n){if(!(0<=t&&t<ro.MAX_SAMPLERS))throw new ri("Sampler is out of bounds.");this.samplerParameters[t].wrap=e,this.samplerParameters[t].filter=i,this.samplerParameters[t].mipfilter=n},setScissorRectangle:function(t){return this.scissorRectangle=t,null==t?void In.context.disable(3089):(In.context.enable(3089),void this.updateScissorRectangle())},updateScissorRectangle:function(){if(null!=this.scissorRectangle){var t;t=this.renderToTexture?this.rttHeight:0|this.scrollRect.height,In.context.scissor(0|this.scissorRectangle.x,t-(0|this.scissorRectangle.y)-(0|this.scissorRectangle.height)|0,0|this.scissorRectangle.width,0|this.scissorRectangle.height)}},setStencilActions:function(t,e,i,n,a){this.stencilCompareMode=e,In.context.stencilOp(i,n,a),In.context.stencilFunc(this.stencilCompareMode,this.stencilRef,this.stencilReadMask)},setStencilReferenceValue:function(t,e,i){null==i&&(i=255),null==e&&(e=255),this.stencilReadMask=e,this.stencilRef=t,In.context.stencilFunc(this.stencilCompareMode,this.stencilRef,this.stencilReadMask),In.context.stencilMask(i)},setTextureAt:function(t,e){var i="fs"+t;this.setGLSLTextureAt(i,e,t)},setTextureParameters:function(t,e,i,n){if(!ro.anisotropySupportTested){var a=In.context.getExtension("EXT_texture_filter_anisotropic");null!=a&&null!=U.field(a,"MAX_TEXTURE_MAX_ANISOTROPY_EXT")||(a=In.context.getExtension("MOZ_EXT_texture_filter_anisotropic")),null!=a&&null!=U.field(a,"MAX_TEXTURE_MAX_ANISOTROPY_EXT")||(a=In.context.getExtension("WEBKIT_EXT_texture_filter_anisotropic")),ro.supportsAnisotropy=null!=a,ro.supportsAnisotropy&&(ro.maxSupportedAnisotropy=In.getParameter(a.MAX_TEXTURE_MAX_ANISOTROPY_EXT),In.context.texParameteri(3553,ro.TEXTURE_MAX_ANISOTROPY_EXT,ro.maxSupportedAnisotropy)),ro.anisotropySupportTested=!0}if(oi.__instanceof(t,Eo)){switch(e[1]){case 0:In.context.texParameteri(3553,10242,33071),In.context.texParameteri(3553,10243,33071);break;case 1:In.context.texParameteri(3553,10242,10497),In.context.texParameteri(3553,10243,10497)}switch(i[1]){case 4:In.context.texParameteri(3553,10240,9729),ro.supportsAnisotropy&&In.context.texParameterf(3553,ro.TEXTURE_MAX_ANISOTROPY_EXT,1);break;case 5:In.context.texParameteri(3553,10240,9728),ro.supportsAnisotropy&&In.context.texParameterf(3553,ro.TEXTURE_MAX_ANISOTROPY_EXT,1);break;case 0:ro.supportsAnisotropy&&In.texParameterf(3553,ro.TEXTURE_MAX_ANISOTROPY_EXT,Z.gt(2,ro.maxSupportedAnisotropy)?Z.toFloat(ro.maxSupportedAnisotropy):2);break;case 1:ro.supportsAnisotropy&&In.texParameterf(3553,ro.TEXTURE_MAX_ANISOTROPY_EXT,Z.gt(4,ro.maxSupportedAnisotropy)?Z.toFloat(ro.maxSupportedAnisotropy):4);break;case 2:ro.supportsAnisotropy&&In.texParameterf(3553,ro.TEXTURE_MAX_ANISOTROPY_EXT,Z.gt(8,ro.maxSupportedAnisotropy)?Z.toFloat(ro.maxSupportedAnisotropy):8);break;case 3:ro.supportsAnisotropy&&In.texParameterf(3553,ro.TEXTURE_MAX_ANISOTROPY_EXT,Z.gt(16,ro.maxSupportedAnisotropy)?Z.toFloat(ro.maxSupportedAnisotropy):16)}switch(n[1]){case 0:In.context.texParameteri(3553,10241,9987);break;case 1:In.context.texParameteri(3553,10241,9984);break;case 2:In.context.texParameteri(3553,10241,i==mo.NEAREST?9728:9729)}var s=t;n==co.MIPNONE||s.mipmapsGenerated||(In.context.generateMipmap(3553),s.mipmapsGenerated=!0)}else if(oi.__instanceof(t,Ao)){switch(In.context.texParameteri(3553,10242,33071),In.context.texParameteri(3553,10243,33071),i[1]){case 4:In.context.texParameteri(3553,10240,9729),ro.supportsAnisotropy&&In.context.texParameterf(3553,ro.TEXTURE_MAX_ANISOTROPY_EXT,1);break;case 5:In.context.texParameteri(3553,10240,9728),ro.supportsAnisotropy&&In.context.texParameterf(3553,ro.TEXTURE_MAX_ANISOTROPY_EXT,1);break;case 0:ro.supportsAnisotropy&&In.texParameterf(3553,ro.TEXTURE_MAX_ANISOTROPY_EXT,Z.gt(2,ro.maxSupportedAnisotropy)?Z.toFloat(ro.maxSupportedAnisotropy):2);break;case 1:ro.supportsAnisotropy&&In.texParameterf(3553,ro.TEXTURE_MAX_ANISOTROPY_EXT,Z.gt(4,ro.maxSupportedAnisotropy)?Z.toFloat(ro.maxSupportedAnisotropy):4);break;case 2:ro.supportsAnisotropy&&In.texParameterf(3553,ro.TEXTURE_MAX_ANISOTROPY_EXT,Z.gt(8,ro.maxSupportedAnisotropy)?Z.toFloat(ro.maxSupportedAnisotropy):8);break;case 3:ro.supportsAnisotropy&&In.texParameterf(3553,ro.TEXTURE_MAX_ANISOTROPY_EXT,Z.gt(16,ro.maxSupportedAnisotropy)?Z.toFloat(ro.maxSupportedAnisotropy):16)}In.context.texParameteri(3553,10241,i==mo.NEAREST?9728:9729)}else{if(!oi.__instanceof(t,To))throw new ri("Texture of type "+J.getClassName(null==t?null:oi.getClass(t))+" not supported yet");switch(e[1]){case 0:In.context.texParameteri(34067,10242,33071),In.context.texParameteri(34067,10243,33071);break;case 1:In.context.texParameteri(34067,10242,10497),In.context.texParameteri(34067,10243,10497)}switch(i[1]){case 4:In.context.texParameteri(34067,10240,9729),ro.supportsAnisotropy&&In.context.texParameterf(34067,ro.TEXTURE_MAX_ANISOTROPY_EXT,1);break;case 5:In.context.texParameteri(34067,10240,9728),ro.supportsAnisotropy&&In.context.texParameterf(34067,ro.TEXTURE_MAX_ANISOTROPY_EXT,1);break;case 0:ro.supportsAnisotropy&&In.texParameterf(34067,ro.TEXTURE_MAX_ANISOTROPY_EXT,Z.gt(2,ro.maxSupportedAnisotropy)?Z.toFloat(ro.maxSupportedAnisotropy):2);break;case 1:ro.supportsAnisotropy&&In.texParameterf(34067,ro.TEXTURE_MAX_ANISOTROPY_EXT,Z.gt(4,ro.maxSupportedAnisotropy)?Z.toFloat(ro.maxSupportedAnisotropy):4);break;case 2:ro.supportsAnisotropy&&In.texParameterf(34067,ro.TEXTURE_MAX_ANISOTROPY_EXT,Z.gt(8,ro.maxSupportedAnisotropy)?Z.toFloat(ro.maxSupportedAnisotropy):8);break;case 3:ro.supportsAnisotropy&&In.texParameterf(34067,ro.TEXTURE_MAX_ANISOTROPY_EXT,Z.gt(16,ro.maxSupportedAnisotropy)?Z.toFloat(ro.maxSupportedAnisotropy):16)}switch(n[1]){case 0:In.context.texParameteri(34067,10241,9987);break;case 1:In.context.texParameteri(34067,10241,9984);break;case 2:In.context.texParameteri(34067,10241,i==mo.NEAREST?9728:9729)}var r=t;n==co.MIPNONE||r.mipmapsGenerated||(In.context.generateMipmap(34067),r.mipmapsGenerated=!0)}},setVertexBufferAt:function(t,e,i,n){null==i&&(i=0);var a="va"+t;this.setGLSLVertexBufferAt(a,e,i,n)},__getUniformLocationNameFromAgalRegisterIndex:function(t,e){if(t==uo.VERTEX)return"vc"+e;if(t==uo.FRAGMENT)return"fc"+e;throw new ri("Program Type "+G.string(t)+" not supported")},__updateBlendStatus:function(){this.blendEnabled?(In.context.enable(3042),In.context.blendEquation(32774),In.context.blendFunc(this.blendSourceFactor,this.blendDestinationFactor)):In.context.disable(3042)},__class__:ro};var oo=function(){};s["openfl.display3D._Context3D.SamplerState"]=oo,oo.__name__=["openfl","display3D","_Context3D","SamplerState"],oo.prototype={__class__:oo};var lo=s["openfl.display3D.Context3DBufferUsage"]={__ename__:["openfl","display3D","Context3DBufferUsage"],__constructs__:["STATIC_DRAW","DYNAMIC_DRAW"]};lo.STATIC_DRAW=["STATIC_DRAW",0],lo.STATIC_DRAW.toString=r,lo.STATIC_DRAW.__enum__=lo,lo.DYNAMIC_DRAW=["DYNAMIC_DRAW",1],lo.DYNAMIC_DRAW.toString=r,lo.DYNAMIC_DRAW.__enum__=lo;var _o=function(){};s["openfl.display3D.Context3DClearMask"]=_o,_o.__name__=["openfl","display3D","Context3DClearMask"];var ho={};s["openfl.display3D._Context3DCompareMode.Context3DCompareMode_Impl_"]=ho,ho.__name__=["openfl","display3D","_Context3DCompareMode","Context3DCompareMode_Impl_"],ho._new=function(t){return t},ho.fromInt=function(t){return t},ho.toInt=function(t){return t};var co=s["openfl.display3D.Context3DMipFilter"]={__ename__:["openfl","display3D","Context3DMipFilter"],__constructs__:["MIPLINEAR","MIPNEAREST","MIPNONE"]};co.MIPLINEAR=["MIPLINEAR",0],co.MIPLINEAR.toString=r,co.MIPLINEAR.__enum__=co,co.MIPNEAREST=["MIPNEAREST",1],co.MIPNEAREST.toString=r,co.MIPNEAREST.__enum__=co,co.MIPNONE=["MIPNONE",2],co.MIPNONE.toString=r,co.MIPNONE.__enum__=co;var uo=s["openfl.display3D.Context3DProgramType"]={__ename__:["openfl","display3D","Context3DProgramType"],__constructs__:["VERTEX","FRAGMENT"]};uo.VERTEX=["VERTEX",0],uo.VERTEX.toString=r,uo.VERTEX.__enum__=uo,uo.FRAGMENT=["FRAGMENT",1],uo.FRAGMENT.toString=r,uo.FRAGMENT.__enum__=uo;var mo=s["openfl.display3D.Context3DTextureFilter"]={__ename__:["openfl","display3D","Context3DTextureFilter"],__constructs__:["ANISOTROPIC2X","ANISOTROPIC4X","ANISOTROPIC8X","ANISOTROPIC16X","LINEAR","NEAREST"]};mo.ANISOTROPIC2X=["ANISOTROPIC2X",0],mo.ANISOTROPIC2X.toString=r,mo.ANISOTROPIC2X.__enum__=mo,mo.ANISOTROPIC4X=["ANISOTROPIC4X",1],mo.ANISOTROPIC4X.toString=r,mo.ANISOTROPIC4X.__enum__=mo,mo.ANISOTROPIC8X=["ANISOTROPIC8X",2],mo.ANISOTROPIC8X.toString=r,mo.ANISOTROPIC8X.__enum__=mo,mo.ANISOTROPIC16X=["ANISOTROPIC16X",3],mo.ANISOTROPIC16X.toString=r,mo.ANISOTROPIC16X.__enum__=mo,mo.LINEAR=["LINEAR",4],mo.LINEAR.toString=r,mo.LINEAR.__enum__=mo,mo.NEAREST=["NEAREST",5],mo.NEAREST.toString=r,mo.NEAREST.__enum__=mo;var fo=s["openfl.display3D.Context3DTextureFormat"]={__ename__:["openfl","display3D","Context3DTextureFormat"],__constructs__:["BGRA","COMPRESSED","COMPRESSED_ALPHA"]};fo.BGRA=["BGRA",0],fo.BGRA.toString=r,fo.BGRA.__enum__=fo,fo.COMPRESSED=["COMPRESSED",1],fo.COMPRESSED.toString=r,fo.COMPRESSED.__enum__=fo,fo.COMPRESSED_ALPHA=["COMPRESSED_ALPHA",2],fo.COMPRESSED_ALPHA.toString=r,fo.COMPRESSED_ALPHA.__enum__=fo;var po={};s["openfl.display3D._Context3DTriangleFace.Context3DTriangleFace_Impl_"]=po,po.__name__=["openfl","display3D","_Context3DTriangleFace","Context3DTriangleFace_Impl_"],po._new=function(t){return t},po.fromInt=function(t){return t},po.toInt=function(t){return t};var go=s["openfl.display3D.Context3DVertexBufferFormat"]={__ename__:["openfl","display3D","Context3DVertexBufferFormat"],__constructs__:["BYTES_4","FLOAT_1","FLOAT_2","FLOAT_3","FLOAT_4"]};go.BYTES_4=["BYTES_4",0],go.BYTES_4.toString=r,go.BYTES_4.__enum__=go,go.FLOAT_1=["FLOAT_1",1],go.FLOAT_1.toString=r,go.FLOAT_1.__enum__=go,go.FLOAT_2=["FLOAT_2",2],go.FLOAT_2.toString=r,go.FLOAT_2.__enum__=go,go.FLOAT_3=["FLOAT_3",3],go.FLOAT_3.toString=r,go.FLOAT_3.__enum__=go,go.FLOAT_4=["FLOAT_4",4],go.FLOAT_4.toString=r,go.FLOAT_4.__enum__=go;var vo=s["openfl.display3D.Context3DWrapMode"]={__ename__:["openfl","display3D","Context3DWrapMode"],__constructs__:["CLAMP","REPEAT"]};vo.CLAMP=["CLAMP",0],vo.CLAMP.toString=r,vo.CLAMP.__enum__=vo,vo.REPEAT=["REPEAT",1],vo.REPEAT.toString=r,vo.REPEAT.__enum__=vo;var yo=function(t,e,i,n){this.context=t,this.glBuffer=e,this.numIndices=i,this.bufferUsage=n};s["openfl.display3D.IndexBuffer3D"]=yo,yo.__name__=["openfl","display3D","IndexBuffer3D"],yo.prototype={dispose:function(){this.context.__deleteIndexBuffer(this)},uploadFromByteArray:function(t,e,i,n){var a=2;In.context.bindBuffer(34963,this.glBuffer);var s,r,o=n*a,l=e+i*a;r=null!=o?new Int16Array(o):null,s=r,t.position=l;for(var _=0;t.position<o+l;){var h=t.readUnsignedByte();s[_]=h,_++}In.context.bufferData(34963,s,this.bufferUsage)},uploadFromVector:function(t,e,i){In.context.bindBuffer(34963,this.glBuffer);var n,a;a=null!=i?new Int16Array(i):null,n=a;for(var s=e,r=e+i;s<r;){var o=s++;n[o]=t.data[o]}In.context.bufferData(34963,n,this.bufferUsage)},uploadFromInt16Array:function(t){In.context.bindBuffer(34963,this.glBuffer),In.context.bufferData(34963,t,this.bufferUsage)},__class__:yo};var xo=function(t,e){this.context=t,this.glProgram=e};s["openfl.display3D.Program3D"]=xo,xo.__name__=["openfl","display3D","Program3D"],xo.prototype={dispose:function(){this.context.__deleteProgram(this)},upload:function(t,e){if(In.context.attachShader(this.glProgram,t),In.context.attachShader(this.glProgram,e),In.context.linkProgram(this.glProgram),0==In.context.getProgramParameter(this.glProgram,35714)){var i=In.context.getProgramInfoLog(this.glProgram);if(""!=i)throw new ri(i)}},__class__:xo};var bo=function(t,e,i,n,a){this.context=t,this.glBuffer=e,this.numVertices=i,this.data32PerVertex=n,this.bufferUsage=a};s["openfl.display3D.VertexBuffer3D"]=bo,bo.__name__=["openfl","display3D","VertexBuffer3D"],bo.prototype={dispose:function(){this.context.__deleteVertexBuffer(this)},uploadFromByteArray:function(t,e,i,n){var a=4*this.data32PerVertex;In.context.bindBuffer(34962,this.glBuffer);var s,r,o=n*a,l=e+i*a;r=null!=o?new Float32Array(o):null,s=r,t.position=l;for(var _=0;t.position<o+l;){var h=t.readUnsignedByte();s[_]=h,_++}In.context.bufferData(34962,s,this.bufferUsage)},uploadFromFloat32Array:function(t){In.context.bindBuffer(34962,this.glBuffer),In.context.bufferData(34962,t,this.bufferUsage)},uploadFromVector:function(t,e,i){4*this.data32PerVertex;In.context.bindBuffer(34962,this.glBuffer);var n,a,s=i*this.data32PerVertex;a=null!=s?new Float32Array(s):null,n=a;for(var r=e,o=e+s;r<o;){var l=r++;n[l]=t.data[l]}In.context.bufferData(34962,n,this.bufferUsage),n=null},__class__:bo};var wo=function(t,e,i,n){null==n&&(n=0),null==i&&(i=0),_.call(this),this.context=t,this.width=i,this.height=n,this.glTexture=e};s["openfl.display3D.textures.TextureBase"]=wo,wo.__name__=["openfl","display3D","textures","TextureBase"],wo.__super__=_,wo.prototype=n(_.prototype,{dispose:function(){this.context.__deleteTexture(this)},__class__:wo});var To=function(t,e,i){wo.call(this,t,e,i,i),this.size=i,this.mipmapsGenerated=!1,this._textures=[];for(var n=0;n<6;){var a=n++;this._textures[a]=In.context.createTexture()}};s["openfl.display3D.textures.CubeTexture"]=To,To.__name__=["openfl","display3D","textures","CubeTexture"],To.__super__=wo,To.prototype=n(wo.prototype,{glTextureAt:function(t){return this._textures[t]},uploadCompressedTextureFromByteArray:function(t,e,i){null==i&&(i=!1)},uploadFromBitmapData:function(t,e,i){null==i&&(i=0);var n=t.image.get_data();switch(In.context.bindTexture(34067,this.glTexture),e){case 0:In.context.texImage2D(34069,i,6408,t.width,t.height,0,6408,5121,n);break;case 1:In.context.texImage2D(34070,i,6408,t.width,t.height,0,6408,5121,n);break;case 2:In.context.texImage2D(34071,i,6408,t.width,t.height,0,6408,5121,n);break;case 3:In.context.texImage2D(34072,i,6408,t.width,t.height,0,6408,5121,n);break;case 4:In.context.texImage2D(34073,i,6408,t.width,t.height,0,6408,5121,n);break;case 5:In.context.texImage2D(34074,i,6408,t.width,t.height,0,6408,5121,n);break;default:throw new ri("unknown side type")}In.context.bindTexture(34067,null)},uploadFromByteArray:function(t,e,i,n){null==n&&(n=0)},__class__:To});var Ao=function(t,e,i,n,a){this.optimizeForRenderToTexture=i,null==this.optimizeForRenderToTexture&&(this.optimizeForRenderToTexture=!1),wo.call(this,t,e,n,a)};s["openfl.display3D.textures.RectangleTexture"]=Ao,Ao.__name__=["openfl","display3D","textures","RectangleTexture"],Ao.__super__=wo,Ao.prototype=n(wo.prototype,{uploadFromBitmapData:function(t,e){null==e&&(e=0);var i=Rl.fromArrayBuffer(t.image.get_data().buffer);this.width=t.width,this.height=t.height,this.uploadFromByteArray(i,0)},uploadFromByteArray:function(t,e){In.context.bindTexture(3553,this.glTexture),this.optimizeForRenderToTexture&&In.context.pixelStorei(37440,1),In.context.texParameteri(3553,10240,9728),In.context.texParameteri(3553,10241,9728),In.context.texParameteri(3553,10242,33071),In.context.texParameteri(3553,10243,33071);var i,n,a=Rl.get_length(t);n=null!=a?new $l(a):null,i=n,t.position=e;for(var s=0;t.position<Rl.get_length(t);){var r=t.readUnsignedByte();i[s]=r,s++}In.context.texImage2D(3553,0,6408,this.width,this.height,0,6408,5121,i),In.context.bindTexture(3553,null)},__class__:Ao});var Eo=function(t,e,i,n,a){this.optimizeForRenderToTexture=i,this.mipmapsGenerated=!1,Eo.internalFormat==-1&&(Eo.internalFormat=6408),null==this.optimizeForRenderToTexture&&(this.optimizeForRenderToTexture=!1),wo.call(this,t,e,n,a)};s["openfl.display3D.textures.Texture"]=Eo,Eo.__name__=["openfl","display3D","textures","Texture"],Eo.__super__=wo,Eo.prototype=n(wo.prototype,{uploadCompressedTextureFromByteArray:function(t,e,i){null==i&&(i=!1)},uploadFromBitmapData:function(t,e){null==e&&(e=0);var i=t.image;!i.get_premultiplied()&&i.get_transparent()&&(i=i.clone(),i.set_premultiplied(!0)),this.width=i.width,this.height=i.height,this.uploadFromUInt8Array(i.get_data(),e)},uploadFromByteArray:function(t,e,i){null==i&&(i=0);var n,a,s=Rl.get_length(t);a=null!=s?new $l(s):null,n=a,t.position=e;for(var r=0;t.position<Rl.get_length(t);){var o=t.readUnsignedByte();n[r]=o,r++}this.uploadFromUInt8Array(n,i)},uploadFromUInt8Array:function(t,e){null==e&&(e=0),In.context.bindTexture(3553,this.glTexture),this.optimizeForRenderToTexture&&(In.context.pixelStorei(37440,1),In.context.texParameteri(3553,10240,9728),In.context.texParameteri(3553,10241,9728),In.context.texParameteri(3553,10242,33071),In.context.texParameteri(3553,10243,33071)),In.context.texImage2D(3553,e,Eo.internalFormat,this.width,this.height,0,Eo.internalFormat,5121,t),In.context.bindTexture(3553,null)},__class__:Eo});var So=function(t,e){null==e&&(e=0),null==t&&(t=""),this.message=t,this.errorID=e,this.name="Error"};s["openfl.errors.Error"]=So,So.__name__=["openfl","errors","Error"],So.prototype={getStackTrace:function(){return Ue.toString(Ue.exceptionStack())},toString:function(){return null!=this.message?this.message:"Error"},__class__:So};var Co=function(t){null==t&&(t=""),So.call(this,t),this.name="ArgumentError"};s["openfl.errors.ArgumentError"]=Co,Co.__name__=["openfl","errors","ArgumentError"],Co.__super__=So,Co.prototype=n(So.prototype,{__class__:Co});var Io=function(t){null==t&&(t=""),So.call(this,t),this.name="IOError"};s["openfl.errors.IOError"]=Io,Io.__name__=["openfl","errors","IOError"],Io.__super__=So,Io.prototype=n(So.prototype,{__class__:Io});var Lo=function(){Io.call(this,"End of file was encountered"),this.name="EOFError",this.errorID=2030};s["openfl.errors.EOFError"]=Lo,Lo.__name__=["openfl","errors","EOFError"],Lo.__super__=Io,Lo.prototype=n(Io.prototype,{__class__:Lo});var Mo=function(t){null==t&&(t=""),So.call(this,t,0),this.name="RangeError"};s["openfl.errors.RangeError"]=Mo,Mo.__name__=["openfl","errors","RangeError"],Mo.__super__=So,Mo.prototype=n(So.prototype,{__class__:Mo});var Bo=function(t){null==t&&(t=""),So.call(this,t,0),this.name="TypeError"};s["openfl.errors.TypeError"]=Bo,Bo.__name__=["openfl","errors","TypeError"],Bo.__super__=So,Bo.prototype=n(So.prototype,{__class__:Bo});var Ro=function(t,e,i){null==i&&(i=!1),null==e&&(e=!1),this.type=t,this.bubbles=e,this.cancelable=i,this.eventPhase=2};s["openfl.events.Event"]=Ro,Ro.__name__=["openfl","events","Event"],Ro.prototype={clone:function(){var t=new Ro(this.type,this.bubbles,this.cancelable);return t.eventPhase=this.eventPhase,t.target=this.target,t.currentTarget=this.currentTarget,t},formatToString:function(t,e,i,n,s,r){var o=[];return null!=e&&o.push(e),null!=i&&o.push(i),null!=n&&o.push(n),null!=s&&o.push(s),null!=r&&o.push(r),a(this,this.__formatToString).apply(this,[t,o])},isDefaultPrevented:function(){return this.__preventDefault},preventDefault:function(){this.cancelable&&(this.__preventDefault=!0)},stopImmediatePropagation:function(){this.__isCanceled=!0,this.__isCanceledNow=!0},stopPropagation:function(){this.__isCanceled=!0},toString:function(){return this.__formatToString("Event",["type","bubbles","cancelable"])},__formatToString:function(t,e){for(var i="["+t,n=null,a=0;a<e.length;){var s=e[a];++a,n=U.field(this,s),i+="string"==typeof n?" "+s+'="'+G.string(n)+'"':" "+s+"="+G.string(n)}return i+="]"},__class__:Ro};var Do=function(t,e,i,n){null==n&&(n=!1),null==i&&(i=!1),null==e&&(e=!1),Ro.call(this,t,e,i),this.activating=n};s["openfl.events.ActivityEvent"]=Do,Do.__name__=["openfl","events","ActivityEvent"],Do.__super__=Ro,Do.prototype=n(Ro.prototype,{clone:function(){var t=new Do(this.type,this.bubbles,this.cancelable,this.activating);return t.target=this.target,t.currentTarget=this.currentTarget,t.eventPhase=this.eventPhase,t},toString:function(){return this.__formatToString("ActivityEvent",["type","bubbles","cancelable","activating"])},__class__:Do});var Po=function(t,e,i,n){null==n&&(n=""),null==i&&(i=!1),null==e&&(e=!1),Ro.call(this,t,e,i),this.text=n};s["openfl.events.TextEvent"]=Po,Po.__name__=["openfl","events","TextEvent"],Po.__super__=Ro,Po.prototype=n(Ro.prototype,{clone:function(){var t=new Po(this.type,this.bubbles,this.cancelable,this.text);return t.target=this.target,t.currentTarget=this.currentTarget,t.eventPhase=this.eventPhase,t},toString:function(){return this.__formatToString("TextEvent",["type","bubbles","cancelable","text"])},__class__:Po});var No=function(t,e,i,n,a){null==a&&(a=0),null==n&&(n=""),null==i&&(i=!1),null==e&&(e=!1),Po.call(this,t,e,i,n),this.errorID=a};s["openfl.events.ErrorEvent"]=No,No.__name__=["openfl","events","ErrorEvent"],No.__super__=Po,No.prototype=n(Po.prototype,{clone:function(){var t=new No(this.type,this.bubbles,this.cancelable,this.text,this.errorID);return t.target=this.target,t.currentTarget=this.currentTarget,t.eventPhase=this.eventPhase,t},toString:function(){return this.__formatToString("ErrorEvent",["type","bubbles","cancelable","text","errorID"])},__class__:No});var Fo=function(t,e,i){this.callback=t,this.useCapture=e,this.priority=i};s["openfl.events._EventDispatcher.Listener"]=Fo,Fo.__name__=["openfl","events","_EventDispatcher","Listener"],Fo.prototype={match:function(t,e){return U.compareMethods(this.callback,t)&&this.useCapture==e},__class__:Fo};var ko=function(t,e,i,n,a,s){null==s&&(s=0),null==a&&(a=!1),null==i&&(i=!1),null==e&&(e=!1),Ro.call(this,t,e,i),this.keyCode=s,this.shiftKey=a,this.relatedObject=n};s["openfl.events.FocusEvent"]=ko,ko.__name__=["openfl","events","FocusEvent"],ko.__super__=Ro,ko.prototype=n(Ro.prototype,{clone:function(){var t=new ko(this.type,this.bubbles,this.cancelable,this.relatedObject,this.shiftKey,this.keyCode);return t.target=this.target,t.currentTarget=this.currentTarget,t.eventPhase=this.eventPhase,t},toString:function(){return this.__formatToString("FocusEvent",["type","bubbles","cancelable","relatedObject","shiftKey","keyCode"])},__class__:ko});var Oo=function(t,e,i,n,a){null==a&&(a=!1),null==n&&(n=!1),null==i&&(i=!1),null==e&&(e=!1),Do.call(this,t,e,i),this.fullScreen=n,this.interactive=a};s["openfl.events.FullScreenEvent"]=Oo,Oo.__name__=["openfl","events","FullScreenEvent"],Oo.__super__=Do,Oo.prototype=n(Do.prototype,{clone:function(){var t=new Oo(this.type,this.bubbles,this.cancelable,this.fullScreen,this.interactive);return t.target=this.target,t.currentTarget=this.currentTarget,t.eventPhase=this.eventPhase,t},toString:function(){return this.__formatToString("FullscreenEvent",["type","bubbles","cancelable","fullscreen","interactive"])},__class__:Oo});var Uo=function(t,e,i,n){null==i&&(i=!1),null==e&&(e=!0),Ro.call(this,t,e,i),this.device=n};s["openfl.events.GameInputEvent"]=Uo,Uo.__name__=["openfl","events","GameInputEvent"],Uo.__super__=Ro,Uo.prototype=n(Ro.prototype,{clone:function(){var t=new Uo(this.type,this.bubbles,this.cancelable,this.device);return t.target=this.target,t.currentTarget=this.currentTarget,t.eventPhase=this.eventPhase,t},toString:function(){return this.__formatToString("GameInputEvent",["type","bubbles","cancelable","device"])},__class__:Uo});var Vo=function(t,e,i,n,a){null==a&&(a=!1),null==n&&(n=0),null==i&&(i=!1),null==e&&(e=!1),this.status=n,this.redirected=a,Ro.call(this,t,e,i)};s["openfl.events.HTTPStatusEvent"]=Vo,Vo.__name__=["openfl","events","HTTPStatusEvent"],Vo.__super__=Ro,Vo.prototype=n(Ro.prototype,{clone:function(){var t=new Vo(this.type,this.bubbles,null,this.status,this.redirected);return t.target=this.target,t.currentTarget=this.currentTarget,t.eventPhase=this.eventPhase,t},toString:function(){return this.__formatToString("HTTPStatusEvent",["type","bubbles","cancelable","status","redirected"])},__class__:Vo});var Go=function(t,e,i,n,a){null==a&&(a=0),null==n&&(n=""),null==i&&(i=!1),null==e&&(e=!0),No.call(this,t,e,i,n,a)};s["openfl.events.IOErrorEvent"]=Go,Go.__name__=["openfl","events","IOErrorEvent"],Go.__super__=No,Go.prototype=n(No.prototype,{clone:function(){var t=new Go(this.type,this.bubbles,this.cancelable,this.text,this.errorID);return t.target=this.target,t.currentTarget=this.currentTarget,t.eventPhase=this.eventPhase,t},toString:function(){return this.__formatToString("IOErrorEvent",["type","bubbles","cancelable","text","errorID"])},__class__:Go});var Wo=function(t,e,i,n,a,s,r,o,l,_,h){null==h&&(h=!1),null==_&&(_=!1),null==l&&(l=!1),null==o&&(o=!1),null==r&&(r=!1),null==a&&(a=0),null==n&&(n=0),null==i&&(i=!1),null==e&&(e=!1),Ro.call(this,t,e,i),this.charCode=n,this.keyCode=a,null!=s?this.keyLocation=s:this.keyLocation=0,this.ctrlKey=r,this.altKey=o,this.shiftKey=l,this.controlKey=_,this.commandKey=h};s["openfl.events.KeyboardEvent"]=Wo,Wo.__name__=["openfl","events","KeyboardEvent"],Wo.__super__=Ro,Wo.prototype=n(Ro.prototype,{clone:function(){var t=new Wo(this.type,this.bubbles,this.cancelable,this.charCode,this.keyCode,this.keyLocation,this.ctrlKey,this.altKey,this.shiftKey,this.controlKey,this.commandKey);return t.target=this.target,t.currentTarget=this.currentTarget,t.eventPhase=this.eventPhase,t},toString:function(){
return this.__formatToString("KeyboardEvent",["type","bubbles","cancelable","charCode","keyCode","keyLocation","ctrlKey","altKey","shiftKey"])},__class__:Wo});var Xo=function(t,e,i,n,a,s,r,o,l,_,h,c,u){null==u&&(u=0),null==c&&(c=!1),null==h&&(h=0),null==_&&(_=!1),null==l&&(l=!1),null==o&&(o=!1),null==r&&(r=!1),null==a&&(a=0),null==n&&(n=0),null==i&&(i=!1),null==e&&(e=!0),Ro.call(this,t,e,i),this.shiftKey=l,this.altKey=o,this.ctrlKey=r,this.bubbles=e,this.relatedObject=s,this.delta=h,this.localX=n,this.localY=a,this.buttonDown=_,this.commandKey=c,this.clickCount=u};s["openfl.events.MouseEvent"]=Xo,Xo.__name__=["openfl","events","MouseEvent"],Xo.__altKey=null,Xo.__buttonDown=null,Xo.__commandKey=null,Xo.__ctrlKey=null,Xo.__shiftKey=null,Xo.__create=function(t,e,i,n,a,s,r){switch(null==r&&(r=0),t){case"mouseDown":Xo.__buttonDown=!0;break;case"mouseUp":Xo.__buttonDown=!1}var o=new Xo(t,(!0),(!1),a.x,a.y,null,Xo.__ctrlKey,Xo.__altKey,Xo.__shiftKey,Xo.__buttonDown,r,Xo.__commandKey);return o.stageX=i,o.stageY=n,o.target=s,o},Xo.__super__=Ro,Xo.prototype=n(Ro.prototype,{clone:function(){var t=new Xo(this.type,this.bubbles,this.cancelable,this.localX,this.localY,this.relatedObject,this.ctrlKey,this.altKey,this.shiftKey,this.buttonDown,this.delta,this.commandKey,this.clickCount);return t.target=this.target,t.currentTarget=this.currentTarget,t.eventPhase=this.eventPhase,t},toString:function(){return this.__formatToString("MouseEvent",["type","bubbles","cancelable","localX","localY","relatedObject","ctrlKey","altKey","shiftKey","buttonDown","delta"])},updateAfterEvent:function(){},__class__:Xo});var zo=function(t,e,i,n){null==i&&(i=!1),null==e&&(e=!1),this.info=n,Ro.call(this,t,e,i)};s["openfl.events.NetStatusEvent"]=zo,zo.__name__=["openfl","events","NetStatusEvent"],zo.__super__=Ro,zo.prototype=n(Ro.prototype,{clone:function(){var t=new zo(this.type,this.bubbles,this.cancelable,this.info);return t.target=this.target,t.currentTarget=this.currentTarget,t.eventPhase=this.eventPhase,t},toString:function(){return this.__formatToString("NetStatusEvent",["type","bubbles","cancelable","info"])},__class__:zo});var Ho=function(t,e,i,n,a){null==a&&(a=0),null==n&&(n=0),null==i&&(i=!1),null==e&&(e=!1),Ro.call(this,t,e,i),this.bytesLoaded=n,this.bytesTotal=a};s["openfl.events.ProgressEvent"]=Ho,Ho.__name__=["openfl","events","ProgressEvent"],Ho.__super__=Ro,Ho.prototype=n(Ro.prototype,{clone:function(){var t=new Ho(this.type,this.bubbles,this.cancelable,this.bytesLoaded,this.bytesTotal);return t.target=this.target,t.currentTarget=this.currentTarget,t.eventPhase=this.eventPhase,t},toString:function(){return this.__formatToString("ProgressEvent",["type","bubbles","cancelable","bytesLoaded","bytesTotal"])},__class__:Ho});var Yo=function(t,e,i,n,a){null==a&&(a=0),null==n&&(n=""),null==i&&(i=!1),null==e&&(e=!1),No.call(this,t,e,i,n,a)};s["openfl.events.SecurityErrorEvent"]=Yo,Yo.__name__=["openfl","events","SecurityErrorEvent"],Yo.__super__=No,Yo.prototype=n(No.prototype,{clone:function(){var t=new Yo(this.type,this.bubbles,this.cancelable,this.text,this.errorID);return t.target=this.target,t.currentTarget=this.currentTarget,t.eventPhase=this.eventPhase,t},toString:function(){return this.__formatToString("SecurityErrorEvent",["type","bubbles","cancelable","text","errorID"])},__class__:Yo});var Ko=function(t,e,i,n,a,s,r,o,l,_,h,c,u,d,m,f,p,g,v,y){null==y&&(y=!1),null==p&&(p=0),null==f&&(f=!1),null==m&&(m=!1),null==d&&(d=!1),null==u&&(u=!1),null==c&&(c=!1),null==_&&(_=0),null==l&&(l=0),null==o&&(o=0),null==r&&(r=0),null==s&&(s=0),null==a&&(a=!1),null==n&&(n=0),null==i&&(i=!1),null==e&&(e=!0),Ro.call(this,t,e,i),this.touchPointID=n,this.isPrimaryTouchPoint=a,this.localX=s,this.localY=r,this.sizeX=o,this.sizeY=l,this.pressure=_,this.relatedObject=h,this.ctrlKey=c,this.altKey=u,this.shiftKey=d,this.commandKey=m,this.controlKey=f};s["openfl.events.TouchEvent"]=Ko,Ko.__name__=["openfl","events","TouchEvent"],Ko.__create=function(t,e,i,n,a,s){var r=new Ko(t,(!0),(!1),0,(!0),a.x,a.y,1,1,1);return r.stageX=i,r.stageY=n,r.target=s,r},Ko.__super__=Ro,Ko.prototype=n(Ro.prototype,{clone:function(){var t=new Ko(this.type,this.bubbles,this.cancelable,this.touchPointID,this.isPrimaryTouchPoint,this.localX,this.localY,this.sizeX,this.sizeY,this.pressure,this.relatedObject,this.ctrlKey,this.altKey,this.shiftKey,this.commandKey,this.controlKey);return t.target=this.target,t.currentTarget=this.currentTarget,t.eventPhase=this.eventPhase,t},toString:function(){return this.__formatToString("TouchEvent",["type","bubbles","cancelable","touchPointID","isPrimaryTouchPoint","localX","localY","sizeX","sizeY","pressure","relatedObject","ctrlKey","altKey","shiftKey","commandKey","controlKey"])},updateAfterEvent:function(){},__class__:Ko});var jo=function(){this.__saveLastFilter=!1,this.__passes=0,this.__dirty=!0};s["openfl.filters.BitmapFilter"]=jo,jo.__name__=["openfl","filters","BitmapFilter"],jo.__tmpRenderTexture=null,jo.__applyFilters=function(t,e,i,n,a,s){var r=n==i&&n.__usingPingPongTexture;r&&(n.__pingPongTexture.useOldTexture=!0),null==a&&(a=i.rect);for(var o=null,l=!1,_=i.__shader,h=0;h<t.length;){var c=t[h];++h,l=!1,c.__saveLastFilter&&(n.__pingPongTexture.swap(),n.__drawGL(e,i,null,null,null,a,!0,!n.__usingPingPongTexture,!0),o=n.__pingPongTexture.get_oldRenderTexture(),n.__pingPongTexture.set_oldRenderTexture(jo.__tmpRenderTexture));for(var u=0,d=c.__passes;u<d;){var m=u++;l=c.__saveLastFilter&&c.__useLastFilter(m),r&&!l&&n.__pingPongTexture.swap(),l&&(jo.__tmpRenderTexture=n.__pingPongTexture.get_oldRenderTexture(),n.__pingPongTexture.set_oldRenderTexture(o)),i.__shader=c.__preparePass(m),n.__drawGL(e,i,null,null,null,a,!0,!n.__usingPingPongTexture,!l)}}i.__shader=_,r&&(n.__pingPongTexture.useOldTexture=!1)},jo.__expandBounds=function(t,e,i){var n=Zs.__temp;n.setEmpty();for(var a=0;a<t.length;){var s=t[a];++a,s.__growBounds(n)}n.__transform(n,i),e.__expand(n.x,n.y,n.width,n.height)},jo.prototype={clone:function(){return new jo},__applyFilter:function(t,e,i,n){},__growBounds:function(t){},__preparePass:function(t){return null},__useLastFilter:function(t){return!1},__class__:jo};var qo=function(t){if(null!=t&&16==t.length)this.rawData=t;else{var e=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],i=new Wa;i.length=e.length,i.fixed=!0;var n,a;a=new Array(e.length),n=a;for(var s=0,r=e.length;s<r;){var o=s++;n[o]=e[o]}i.data=n,this.rawData=i}};s["openfl.geom.Matrix3D"]=qo,qo.__name__=["openfl","geom","Matrix3D"],qo.create2D=function(t,e,i,n){null==n&&(n=0),null==i&&(i=1);var a=n*Math.PI/180,s=Math.cos(a),r=Math.sin(a);return new qo(function(n){var a,o=[s*i,-r*i,0,0,r*i,s*i,0,0,0,0,1,0,t,e,0,1],l=new Wa;l.length=o.length,l.fixed=!0;var _,h;h=new Array(o.length),_=h;for(var c=0,u=o.length;c<u;){var d=c++;_[d]=o[d]}return l.data=_,a=l}(this))},qo.createABCD=function(t,e,i,n,a,s){return new qo(function(r){var o,l=[t,e,0,0,i,n,0,0,0,0,1,0,a,s,0,1],_=new Wa;_.length=l.length,_.fixed=!0;var h,c;c=new Array(l.length),h=c;for(var u=0,d=l.length;u<d;){var m=u++;h[m]=l[m]}return _.data=h,o=_}(this))},qo.createOrtho=function(t,e,i,n,a,s){var r=1/(e-t),o=1/(n-i),l=1/(s-a);return new qo(function(_){var h,c=[2*r,0,0,0,0,2*o,0,0,0,0,-2*l,0,-(t+e)*r,-(i+n)*o,-(a+s)*l,1],u=new Wa;u.length=c.length,u.fixed=!0;var d,m;m=new Array(c.length),d=m;for(var f=0,p=c.length;f<p;){var g=f++;d[g]=c[g]}return u.data=d,h=u}(this))},qo.interpolate=function(t,e,i){for(var n=new qo,a=0;a<16;){var s=a++,r=n.rawData;if(!r.fixed&&(s>=r.length&&(r.length=s+1),r.data.length<r.length)){var o,l;l=new Array(r.data.length+10),o=l,$e.blit(r.data,0,o,0,r.data.length),r.data=o}r.data[s]=t.rawData.data[s]+(e.rawData.data[s]-t.rawData.data[s])*i}return n},qo.__getAxisRotation=function(t,e,i,n){var a=new qo,s=new Qo(t,e,i),r=-n*(Math.PI/180),o=Math.cos(r),l=Math.sin(r),_=1-o,h=a.rawData;if(!h.fixed&&(0>=h.length&&(h.length=1),h.data.length<h.length)){var c,u;u=new Array(h.data.length+10),c=u,$e.blit(h.data,0,c,0,h.data.length),h.data=c}h.data[0]=o+s.x*s.x*_;var d=a.rawData;if(!d.fixed&&(5>=d.length&&(d.length=6),d.data.length<d.length)){var m,f;f=new Array(d.data.length+10),m=f,$e.blit(d.data,0,m,0,d.data.length),d.data=m}d.data[5]=o+s.y*s.y*_;var p=a.rawData;if(!p.fixed&&(10>=p.length&&(p.length=11),p.data.length<p.length)){var g,v;v=new Array(p.data.length+10),g=v,$e.blit(p.data,0,g,0,p.data.length),p.data=g}p.data[10]=o+s.z*s.z*_;var y=s.x*s.y*_,x=s.z*l,b=a.rawData;if(!b.fixed&&(4>=b.length&&(b.length=5),b.data.length<b.length)){var w,T;T=new Array(b.data.length+10),w=T,$e.blit(b.data,0,w,0,b.data.length),b.data=w}b.data[4]=y+x;var A=a.rawData;if(!A.fixed&&(1>=A.length&&(A.length=2),A.data.length<A.length)){var E,S;S=new Array(A.data.length+10),E=S,$e.blit(A.data,0,E,0,A.data.length),A.data=E}A.data[1]=y-x,y=s.x*s.z*_,x=s.y*l;var C=a.rawData;if(!C.fixed&&(8>=C.length&&(C.length=9),C.data.length<C.length)){var I,L;L=new Array(C.data.length+10),I=L,$e.blit(C.data,0,I,0,C.data.length),C.data=I}C.data[8]=y-x;var M=a.rawData;if(!M.fixed&&(2>=M.length&&(M.length=3),M.data.length<M.length)){var B,R;R=new Array(M.data.length+10),B=R,$e.blit(M.data,0,B,0,M.data.length),M.data=B}M.data[2]=y+x,y=s.y*s.z*_,x=s.x*l;var D=a.rawData;if(!D.fixed&&(9>=D.length&&(D.length=10),D.data.length<D.length)){var P,N;N=new Array(D.data.length+10),P=N,$e.blit(D.data,0,P,0,D.data.length),D.data=P}D.data[9]=y+x;var F=a.rawData;if(!F.fixed&&(6>=F.length&&(F.length=7),F.data.length<F.length)){var k,O;O=new Array(F.data.length+10),k=O,$e.blit(F.data,0,k,0,F.data.length),F.data=k}return F.data[6]=y-x,a},qo.prototype={append:function(t){var e=this.rawData.data[0],i=this.rawData.data[4],n=this.rawData.data[8],a=this.rawData.data[12],s=this.rawData.data[1],r=this.rawData.data[5],o=this.rawData.data[9],l=this.rawData.data[13],_=this.rawData.data[2],h=this.rawData.data[6],c=this.rawData.data[10],u=this.rawData.data[14],d=this.rawData.data[3],m=this.rawData.data[7],f=this.rawData.data[11],p=this.rawData.data[15],g=t.rawData.data[0],v=t.rawData.data[4],y=t.rawData.data[8],x=t.rawData.data[12],b=t.rawData.data[1],w=t.rawData.data[5],T=t.rawData.data[9],A=t.rawData.data[13],E=t.rawData.data[2],S=t.rawData.data[6],C=t.rawData.data[10],I=t.rawData.data[14],L=t.rawData.data[3],M=t.rawData.data[7],B=t.rawData.data[11],R=t.rawData.data[15],D=this.rawData;if(!D.fixed&&(0>=D.length&&(D.length=1),D.data.length<D.length)){var P,N;N=new Array(D.data.length+10),P=N,$e.blit(D.data,0,P,0,D.data.length),D.data=P}D.data[0]=e*g+s*v+_*y+d*x;var F=this.rawData;if(!F.fixed&&(1>=F.length&&(F.length=2),F.data.length<F.length)){var k,O;O=new Array(F.data.length+10),k=O,$e.blit(F.data,0,k,0,F.data.length),F.data=k}F.data[1]=e*b+s*w+_*T+d*A;var U=this.rawData;if(!U.fixed&&(2>=U.length&&(U.length=3),U.data.length<U.length)){var V,G;G=new Array(U.data.length+10),V=G,$e.blit(U.data,0,V,0,U.data.length),U.data=V}U.data[2]=e*E+s*S+_*C+d*I;var W=this.rawData;if(!W.fixed&&(3>=W.length&&(W.length=4),W.data.length<W.length)){var X,z;z=new Array(W.data.length+10),X=z,$e.blit(W.data,0,X,0,W.data.length),W.data=X}W.data[3]=e*L+s*M+_*B+d*R;var H=this.rawData;if(!H.fixed&&(4>=H.length&&(H.length=5),H.data.length<H.length)){var Y,K;K=new Array(H.data.length+10),Y=K,$e.blit(H.data,0,Y,0,H.data.length),H.data=Y}H.data[4]=i*g+r*v+h*y+m*x;var j=this.rawData;if(!j.fixed&&(5>=j.length&&(j.length=6),j.data.length<j.length)){var q,J;J=new Array(j.data.length+10),q=J,$e.blit(j.data,0,q,0,j.data.length),j.data=q}j.data[5]=i*b+r*w+h*T+m*A;var Z=this.rawData;if(!Z.fixed&&(6>=Z.length&&(Z.length=7),Z.data.length<Z.length)){var Q,$;$=new Array(Z.data.length+10),Q=$,$e.blit(Z.data,0,Q,0,Z.data.length),Z.data=Q}Z.data[6]=i*E+r*S+h*C+m*I;var tt=this.rawData;if(!tt.fixed&&(7>=tt.length&&(tt.length=8),tt.data.length<tt.length)){var et,it;it=new Array(tt.data.length+10),et=it,$e.blit(tt.data,0,et,0,tt.data.length),tt.data=et}tt.data[7]=i*L+r*M+h*B+m*R;var nt=this.rawData;if(!nt.fixed&&(8>=nt.length&&(nt.length=9),nt.data.length<nt.length)){var at,st;st=new Array(nt.data.length+10),at=st,$e.blit(nt.data,0,at,0,nt.data.length),nt.data=at}nt.data[8]=n*g+o*v+c*y+f*x;var rt=this.rawData;if(!rt.fixed&&(9>=rt.length&&(rt.length=10),rt.data.length<rt.length)){var ot,lt;lt=new Array(rt.data.length+10),ot=lt,$e.blit(rt.data,0,ot,0,rt.data.length),rt.data=ot}rt.data[9]=n*b+o*w+c*T+f*A;var _t=this.rawData;if(!_t.fixed&&(10>=_t.length&&(_t.length=11),_t.data.length<_t.length)){var ht,ct;ct=new Array(_t.data.length+10),ht=ct,$e.blit(_t.data,0,ht,0,_t.data.length),_t.data=ht}_t.data[10]=n*E+o*S+c*C+f*I;var ut=this.rawData;if(!ut.fixed&&(11>=ut.length&&(ut.length=12),ut.data.length<ut.length)){var dt,mt;mt=new Array(ut.data.length+10),dt=mt,$e.blit(ut.data,0,dt,0,ut.data.length),ut.data=dt}ut.data[11]=n*L+o*M+c*B+f*R;var ft=this.rawData;if(!ft.fixed&&(12>=ft.length&&(ft.length=13),ft.data.length<ft.length)){var pt,gt;gt=new Array(ft.data.length+10),pt=gt,$e.blit(ft.data,0,pt,0,ft.data.length),ft.data=pt}ft.data[12]=a*g+l*v+u*y+p*x;var vt=this.rawData;if(!vt.fixed&&(13>=vt.length&&(vt.length=14),vt.data.length<vt.length)){var yt,xt;xt=new Array(vt.data.length+10),yt=xt,$e.blit(vt.data,0,yt,0,vt.data.length),vt.data=yt}vt.data[13]=a*b+l*w+u*T+p*A;var bt=this.rawData;if(!bt.fixed&&(14>=bt.length&&(bt.length=15),bt.data.length<bt.length)){var wt,Tt;Tt=new Array(bt.data.length+10),wt=Tt,$e.blit(bt.data,0,wt,0,bt.data.length),bt.data=wt}bt.data[14]=a*E+l*S+u*C+p*I;var At=this.rawData;if(!At.fixed&&(15>=At.length&&(At.length=16),At.data.length<At.length)){var Et,St;St=new Array(At.data.length+10),Et=St,$e.blit(At.data,0,Et,0,At.data.length),At.data=Et}At.data[15]=a*L+l*M+u*B+p*R},appendRotation:function(t,e,i){var n=qo.__getAxisRotation(e.x,e.y,e.z,t);if(null!=i){var a=i;n.appendTranslation(a.x,a.y,a.z)}this.append(n)},appendScale:function(t,e,i){this.append(new qo(function(n){var a,s=[t,0,0,0,0,e,0,0,0,0,i,0,0,0,0,1],r=new Wa;r.length=s.length,r.fixed=!0;var o,l;l=new Array(s.length),o=l;for(var _=0,h=s.length;_<h;){var c=_++;o[c]=s[c]}return r.data=o,a=r}(this)))},appendTranslation:function(t,e,i){var n=this.rawData;if(!n.fixed&&(12>=n.length&&(n.length=13),n.data.length<n.length)){var a,s;s=new Array(n.data.length+10),a=s,$e.blit(n.data,0,a,0,n.data.length),n.data=a}n.data[12]=this.rawData.data[12]+t;var r=this.rawData;if(!r.fixed&&(13>=r.length&&(r.length=14),r.data.length<r.length)){var o,l;l=new Array(r.data.length+10),o=l,$e.blit(r.data,0,o,0,r.data.length),r.data=o}r.data[13]=this.rawData.data[13]+e;var _=this.rawData;if(!_.fixed&&(14>=_.length&&(_.length=15),_.data.length<_.length)){var h,c;c=new Array(_.data.length+10),h=c,$e.blit(_.data,0,h,0,_.data.length),_.data=h}_.data[14]=this.rawData.data[14]+i},clone:function(){return new qo(function(t){var e,i=t.rawData,n=new Wa;n.length=i.length,n.fixed=i.fixed;var a;return a=new Array(i.length),n.data=a,$e.blit(i.data,0,n.data,0,i.length),e=n}(this))},copyColumnFrom:function(t,e){switch(t){case 0:var i=this.rawData;if(!i.fixed&&(0>=i.length&&(i.length=1),i.data.length<i.length)){var n,a;a=new Array(i.data.length+10),n=a,$e.blit(i.data,0,n,0,i.data.length),i.data=n}i.data[0]=e.x;var s=this.rawData;if(!s.fixed&&(1>=s.length&&(s.length=2),s.data.length<s.length)){var r,o;o=new Array(s.data.length+10),r=o,$e.blit(s.data,0,r,0,s.data.length),s.data=r}s.data[1]=e.y;var l=this.rawData;if(!l.fixed&&(2>=l.length&&(l.length=3),l.data.length<l.length)){var _,h;h=new Array(l.data.length+10),_=h,$e.blit(l.data,0,_,0,l.data.length),l.data=_}l.data[2]=e.z;var c=this.rawData;if(!c.fixed&&(3>=c.length&&(c.length=4),c.data.length<c.length)){var u,d;d=new Array(c.data.length+10),u=d,$e.blit(c.data,0,u,0,c.data.length),c.data=u}c.data[3]=e.w;break;case 1:var m=this.rawData;if(!m.fixed&&(4>=m.length&&(m.length=5),m.data.length<m.length)){var f,p;p=new Array(m.data.length+10),f=p,$e.blit(m.data,0,f,0,m.data.length),m.data=f}m.data[4]=e.x;var g=this.rawData;if(!g.fixed&&(5>=g.length&&(g.length=6),g.data.length<g.length)){var v,y;y=new Array(g.data.length+10),v=y,$e.blit(g.data,0,v,0,g.data.length),g.data=v}g.data[5]=e.y;var x=this.rawData;if(!x.fixed&&(6>=x.length&&(x.length=7),x.data.length<x.length)){var b,w;w=new Array(x.data.length+10),b=w,$e.blit(x.data,0,b,0,x.data.length),x.data=b}x.data[6]=e.z;var T=this.rawData;if(!T.fixed&&(7>=T.length&&(T.length=8),T.data.length<T.length)){var A,E;E=new Array(T.data.length+10),A=E,$e.blit(T.data,0,A,0,T.data.length),T.data=A}T.data[7]=e.w;break;case 2:var S=this.rawData;if(!S.fixed&&(8>=S.length&&(S.length=9),S.data.length<S.length)){var C,I;I=new Array(S.data.length+10),C=I,$e.blit(S.data,0,C,0,S.data.length),S.data=C}S.data[8]=e.x;var L=this.rawData;if(!L.fixed&&(9>=L.length&&(L.length=10),L.data.length<L.length)){var M,B;B=new Array(L.data.length+10),M=B,$e.blit(L.data,0,M,0,L.data.length),L.data=M}L.data[9]=e.y;var R=this.rawData;if(!R.fixed&&(10>=R.length&&(R.length=11),R.data.length<R.length)){var D,P;P=new Array(R.data.length+10),D=P,$e.blit(R.data,0,D,0,R.data.length),R.data=D}R.data[10]=e.z;var N=this.rawData;if(!N.fixed&&(11>=N.length&&(N.length=12),N.data.length<N.length)){var F,k;k=new Array(N.data.length+10),F=k,$e.blit(N.data,0,F,0,N.data.length),N.data=F}N.data[11]=e.w;break;case 3:var O=this.rawData;if(!O.fixed&&(12>=O.length&&(O.length=13),O.data.length<O.length)){var U,V;V=new Array(O.data.length+10),U=V,$e.blit(O.data,0,U,0,O.data.length),O.data=U}O.data[12]=e.x;var G=this.rawData;if(!G.fixed&&(13>=G.length&&(G.length=14),G.data.length<G.length)){var W,X;X=new Array(G.data.length+10),W=X,$e.blit(G.data,0,W,0,G.data.length),G.data=W}G.data[13]=e.y;var z=this.rawData;if(!z.fixed&&(14>=z.length&&(z.length=15),z.data.length<z.length)){var H,Y;Y=new Array(z.data.length+10),H=Y,$e.blit(z.data,0,H,0,z.data.length),z.data=H}z.data[14]=e.z;var K=this.rawData;if(!K.fixed&&(15>=K.length&&(K.length=16),K.data.length<K.length)){var j,q;q=new Array(K.data.length+10),j=q,$e.blit(K.data,0,j,0,K.data.length),K.data=j}K.data[15]=e.w}},copyColumnTo:function(t,e){switch(t){case 0:e.x=this.rawData.data[0],e.y=this.rawData.data[1],e.z=this.rawData.data[2],e.w=this.rawData.data[3];break;case 1:e.x=this.rawData.data[4],e.y=this.rawData.data[5],e.z=this.rawData.data[6],e.w=this.rawData.data[7];break;case 2:e.x=this.rawData.data[8],e.y=this.rawData.data[9],e.z=this.rawData.data[10],e.w=this.rawData.data[11];break;case 3:e.x=this.rawData.data[12],e.y=this.rawData.data[13],e.z=this.rawData.data[14],e.w=this.rawData.data[15]}},copyFrom:function(t){var e=t.rawData,i=new Wa;i.length=e.length,i.fixed=e.fixed;var n;n=new Array(e.length),i.data=n,$e.blit(e.data,0,i.data,0,e.length),this.rawData=i},copyRawDataFrom:function(t,e,i){null==i&&(i=!1),null==e&&(e=0),i&&this.transpose();for(var n=t.length-e,a=0;a<n;){var s=a++,r=this.rawData;if(!r.fixed&&(s>=r.length&&(r.length=s+1),r.data.length<r.length)){var o,l;l=new Array(r.data.length+10),o=l,$e.blit(r.data,0,o,0,r.data.length),r.data=o}r.data[s]=t.data[s+e]}i&&this.transpose()},copyRawDataTo:function(t,e,i){null==i&&(i=!1),null==e&&(e=0),i&&this.transpose();for(var n=0,a=this.rawData.length;n<a;){var s=n++,r=s+e;if(!t.fixed&&(r>=t.length&&(t.length=r+1),t.data.length<t.length)){var o,l;l=new Array(t.data.length+10),o=l,$e.blit(t.data,0,o,0,t.data.length),t.data=o}t.data[r]=this.rawData.data[s]}i&&this.transpose()},copyRowFrom:function(t,e){switch(t){case 0:var i=this.rawData;if(!i.fixed&&(0>=i.length&&(i.length=1),i.data.length<i.length)){var n,a;a=new Array(i.data.length+10),n=a,$e.blit(i.data,0,n,0,i.data.length),i.data=n}i.data[0]=e.x;var s=this.rawData;if(!s.fixed&&(4>=s.length&&(s.length=5),s.data.length<s.length)){var r,o;o=new Array(s.data.length+10),r=o,$e.blit(s.data,0,r,0,s.data.length),s.data=r}s.data[4]=e.y;var l=this.rawData;if(!l.fixed&&(8>=l.length&&(l.length=9),l.data.length<l.length)){var _,h;h=new Array(l.data.length+10),_=h,$e.blit(l.data,0,_,0,l.data.length),l.data=_}l.data[8]=e.z;var c=this.rawData;if(!c.fixed&&(12>=c.length&&(c.length=13),c.data.length<c.length)){var u,d;d=new Array(c.data.length+10),u=d,$e.blit(c.data,0,u,0,c.data.length),c.data=u}c.data[12]=e.w;break;case 1:var m=this.rawData;if(!m.fixed&&(1>=m.length&&(m.length=2),m.data.length<m.length)){var f,p;p=new Array(m.data.length+10),f=p,$e.blit(m.data,0,f,0,m.data.length),m.data=f}m.data[1]=e.x;var g=this.rawData;if(!g.fixed&&(5>=g.length&&(g.length=6),g.data.length<g.length)){var v,y;y=new Array(g.data.length+10),v=y,$e.blit(g.data,0,v,0,g.data.length),g.data=v}g.data[5]=e.y;var x=this.rawData;if(!x.fixed&&(9>=x.length&&(x.length=10),x.data.length<x.length)){var b,w;w=new Array(x.data.length+10),b=w,$e.blit(x.data,0,b,0,x.data.length),x.data=b}x.data[9]=e.z;var T=this.rawData;if(!T.fixed&&(13>=T.length&&(T.length=14),T.data.length<T.length)){var A,E;E=new Array(T.data.length+10),A=E,$e.blit(T.data,0,A,0,T.data.length),T.data=A}T.data[13]=e.w;break;case 2:var S=this.rawData;if(!S.fixed&&(2>=S.length&&(S.length=3),S.data.length<S.length)){var C,I;I=new Array(S.data.length+10),C=I,$e.blit(S.data,0,C,0,S.data.length),S.data=C}S.data[2]=e.x;var L=this.rawData;if(!L.fixed&&(6>=L.length&&(L.length=7),L.data.length<L.length)){var M,B;B=new Array(L.data.length+10),M=B,$e.blit(L.data,0,M,0,L.data.length),L.data=M}L.data[6]=e.y;var R=this.rawData;if(!R.fixed&&(10>=R.length&&(R.length=11),R.data.length<R.length)){var D,P;P=new Array(R.data.length+10),D=P,$e.blit(R.data,0,D,0,R.data.length),R.data=D}R.data[10]=e.z;var N=this.rawData;if(!N.fixed&&(14>=N.length&&(N.length=15),N.data.length<N.length)){var F,k;k=new Array(N.data.length+10),F=k,$e.blit(N.data,0,F,0,N.data.length),N.data=F}N.data[14]=e.w;break;case 3:var O=this.rawData;if(!O.fixed&&(3>=O.length&&(O.length=4),O.data.length<O.length)){var U,V;V=new Array(O.data.length+10),U=V,$e.blit(O.data,0,U,0,O.data.length),O.data=U}O.data[3]=e.x;var G=this.rawData;if(!G.fixed&&(7>=G.length&&(G.length=8),G.data.length<G.length)){var W,X;X=new Array(G.data.length+10),W=X,$e.blit(G.data,0,W,0,G.data.length),G.data=W}G.data[7]=e.y;var z=this.rawData;if(!z.fixed&&(11>=z.length&&(z.length=12),z.data.length<z.length)){var H,Y;Y=new Array(z.data.length+10),H=Y,$e.blit(z.data,0,H,0,z.data.length),z.data=H}z.data[11]=e.z;var K=this.rawData;if(!K.fixed&&(15>=K.length&&(K.length=16),K.data.length<K.length)){var j,q;q=new Array(K.data.length+10),j=q,$e.blit(K.data,0,j,0,K.data.length),K.data=j}K.data[15]=e.w}},copyRowTo:function(t,e){switch(t){case 0:e.x=this.rawData.data[0],e.y=this.rawData.data[4],e.z=this.rawData.data[8],e.w=this.rawData.data[12];break;case 1:e.x=this.rawData.data[1],e.y=this.rawData.data[5],e.z=this.rawData.data[9],e.w=this.rawData.data[13];break;case 2:e.x=this.rawData.data[2],e.y=this.rawData.data[6],e.z=this.rawData.data[10],e.w=this.rawData.data[14];break;case 3:e.x=this.rawData.data[3],e.y=this.rawData.data[7],e.z=this.rawData.data[11],e.w=this.rawData.data[15]}},copyToMatrix3D:function(t){var e=this.rawData,i=new Wa;i.length=e.length,i.fixed=e.fixed;var n;n=new Array(e.length),i.data=n,$e.blit(e.data,0,i.data,0,e.length),t.rawData=i},decompose:function(t){null==t&&(t=1);var e,i;i=new Wa;var n;n=new Array(0),i.data=n,i.length=0,i.fixed=!1,e=i;var a,s=this.clone(),r=s.rawData,o=new Wa;o.length=r.length,o.fixed=r.fixed;var l;l=new Array(r.length),o.data=l,$e.blit(r.data,0,o.data,0,r.length),a=o;var _=new Qo(a.data[12],a.data[13],a.data[14]);if(!a.fixed&&(12>=a.length&&(a.length=13),a.data.length<a.length)){var h,c;c=new Array(a.data.length+10),h=c,$e.blit(a.data,0,h,0,a.data.length),a.data=h}if(a.data[12]=0,!a.fixed&&(13>=a.length&&(a.length=14),a.data.length<a.length)){var u,d;d=new Array(a.data.length+10),u=d,$e.blit(a.data,0,u,0,a.data.length),a.data=u}if(a.data[13]=0,!a.fixed&&(14>=a.length&&(a.length=15),a.data.length<a.length)){var m,f;f=new Array(a.data.length+10),m=f,$e.blit(a.data,0,m,0,a.data.length),a.data=m}a.data[14]=0;var p=new Qo;if(p.x=Math.sqrt(a.data[0]*a.data[0]+a.data[1]*a.data[1]+a.data[2]*a.data[2]),p.y=Math.sqrt(a.data[4]*a.data[4]+a.data[5]*a.data[5]+a.data[6]*a.data[6]),p.z=Math.sqrt(a.data[8]*a.data[8]+a.data[9]*a.data[9]+a.data[10]*a.data[10]),a.data[0]*(a.data[5]*a.data[10]-a.data[6]*a.data[9])-a.data[1]*(a.data[4]*a.data[10]-a.data[6]*a.data[8])+a.data[2]*(a.data[4]*a.data[9]-a.data[5]*a.data[8])<0&&(p.z=-p.z),!a.fixed&&(0>=a.length&&(a.length=1),a.data.length<a.length)){var g,v;v=new Array(a.data.length+10),g=v,$e.blit(a.data,0,g,0,a.data.length),a.data=g}if(a.data[0]=a.data[0]/p.x,!a.fixed&&(1>=a.length&&(a.length=2),a.data.length<a.length)){var y,x;x=new Array(a.data.length+10),y=x,$e.blit(a.data,0,y,0,a.data.length),a.data=y}if(a.data[1]=a.data[1]/p.x,!a.fixed&&(2>=a.length&&(a.length=3),a.data.length<a.length)){var b,w;w=new Array(a.data.length+10),b=w,$e.blit(a.data,0,b,0,a.data.length),a.data=b}if(a.data[2]=a.data[2]/p.x,!a.fixed&&(4>=a.length&&(a.length=5),a.data.length<a.length)){var T,A;A=new Array(a.data.length+10),T=A,$e.blit(a.data,0,T,0,a.data.length),a.data=T}if(a.data[4]=a.data[4]/p.y,!a.fixed&&(5>=a.length&&(a.length=6),a.data.length<a.length)){var E,S;S=new Array(a.data.length+10),E=S,$e.blit(a.data,0,E,0,a.data.length),a.data=E}if(a.data[5]=a.data[5]/p.y,!a.fixed&&(6>=a.length&&(a.length=7),a.data.length<a.length)){var C,I;I=new Array(a.data.length+10),C=I,$e.blit(a.data,0,C,0,a.data.length),a.data=C}if(a.data[6]=a.data[6]/p.y,!a.fixed&&(8>=a.length&&(a.length=9),a.data.length<a.length)){var L,M;M=new Array(a.data.length+10),L=M,$e.blit(a.data,0,L,0,a.data.length),a.data=L}if(a.data[8]=a.data[8]/p.z,!a.fixed&&(9>=a.length&&(a.length=10),a.data.length<a.length)){var B,R;R=new Array(a.data.length+10),B=R,$e.blit(a.data,0,B,0,a.data.length),a.data=B}if(a.data[9]=a.data[9]/p.z,!a.fixed&&(10>=a.length&&(a.length=11),a.data.length<a.length)){var D,P;P=new Array(a.data.length+10),D=P,$e.blit(a.data,0,D,0,a.data.length),a.data=D}a.data[10]=a.data[10]/p.z;var N=new Qo;if(null!=t)switch(t){case 0:N.w=Math.acos((a.data[0]+a.data[5]+a.data[10]-1)/2);var F=Math.sqrt((a.data[6]-a.data[9])*(a.data[6]-a.data[9])+(a.data[8]-a.data[2])*(a.data[8]-a.data[2])+(a.data[1]-a.data[4])*(a.data[1]-a.data[4]));0!=F?(N.x=(a.data[6]-a.data[9])/F,N.y=(a.data[8]-a.data[2])/F,N.z=(a.data[1]-a.data[4])/F):N.x=N.y=N.z=0;break;case 2:var k=a.data[0]+a.data[5]+a.data[10];k>0?(N.w=Math.sqrt(1+k)/2,N.x=(a.data[6]-a.data[9])/(4*N.w),N.y=(a.data[8]-a.data[2])/(4*N.w),N.z=(a.data[1]-a.data[4])/(4*N.w)):a.data[0]>a.data[5]&&a.data[0]>a.data[10]?(N.x=Math.sqrt(1+a.data[0]-a.data[5]-a.data[10])/2,N.w=(a.data[6]-a.data[9])/(4*N.x),N.y=(a.data[1]+a.data[4])/(4*N.x),N.z=(a.data[8]+a.data[2])/(4*N.x)):a.data[5]>a.data[10]?(N.y=Math.sqrt(1+a.data[5]-a.data[0]-a.data[10])/2,N.x=(a.data[1]+a.data[4])/(4*N.y),N.w=(a.data[8]-a.data[2])/(4*N.y),N.z=(a.data[6]+a.data[9])/(4*N.y)):(N.z=Math.sqrt(1+a.data[10]-a.data[0]-a.data[5])/2,N.x=(a.data[8]+a.data[2])/(4*N.z),N.y=(a.data[6]+a.data[9])/(4*N.z),N.w=(a.data[1]-a.data[4])/(4*N.z));break;case 1:N.y=Math.asin(-a.data[2]),1!=a.data[2]&&a.data[2]!=-1?(N.x=Math.atan2(a.data[6],a.data[10]),N.z=Math.atan2(a.data[1],a.data[0])):(N.z=0,N.x=Math.atan2(a.data[4],a.data[5]))}if(!e.fixed){if(e.length++,e.data.length<e.length){var O,U;U=new Array(e.data.length+10),O=U,$e.blit(e.data,0,O,0,e.data.length),e.data=O}e.data[e.length-1]=_}if(e.length,!e.fixed){if(e.length++,e.data.length<e.length){var V,G;G=new Array(e.data.length+10),V=G,$e.blit(e.data,0,V,0,e.data.length),e.data=V}e.data[e.length-1]=N}if(e.length,!e.fixed){if(e.length++,e.data.length<e.length){var W,X;X=new Array(e.data.length+10),W=X,$e.blit(e.data,0,W,0,e.data.length),e.data=W}e.data[e.length-1]=p}return e.length,e},deltaTransformVector:function(t){var e=t.x,i=t.y,n=t.z;return new Qo(e*this.rawData.data[0]+i*this.rawData.data[4]+n*this.rawData.data[8]+this.rawData.data[3],e*this.rawData.data[1]+i*this.rawData.data[5]+n*this.rawData.data[9]+this.rawData.data[7],e*this.rawData.data[2]+i*this.rawData.data[6]+n*this.rawData.data[10]+this.rawData.data[11],0)},identity:function(){var t=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],e=new Wa;e.length=t.length,e.fixed=!0;var i,n;n=new Array(t.length),i=n;for(var a=0,s=t.length;a<s;){var r=a++;i[r]=t[r]}e.data=i,this.rawData=e},interpolateTo:function(t,e){for(var i=0;i<16;){var n=i++,a=this.rawData;if(!a.fixed&&(n>=a.length&&(a.length=n+1),a.data.length<a.length)){var s,r;r=new Array(a.data.length+10),s=r,$e.blit(a.data,0,s,0,a.data.length),a.data=s}a.data[n]=this.rawData.data[n]+(t.rawData.data[n]-this.rawData.data[n])*e}},invert:function(){var t=this.get_determinant(),e=Math.abs(t)>1e-11;if(e){t=1/t;var i=this.rawData.data[0],n=this.rawData.data[4],a=this.rawData.data[8],s=this.rawData.data[12],r=this.rawData.data[1],o=this.rawData.data[5],l=this.rawData.data[9],_=this.rawData.data[13],h=this.rawData.data[2],c=this.rawData.data[6],u=this.rawData.data[10],d=this.rawData.data[14],m=this.rawData.data[3],f=this.rawData.data[7],p=this.rawData.data[11],g=this.rawData.data[15],v=this.rawData;if(!v.fixed&&(0>=v.length&&(v.length=1),v.data.length<v.length)){var y,x;x=new Array(v.data.length+10),y=x,$e.blit(v.data,0,y,0,v.data.length),v.data=y}v.data[0]=t*(o*(u*g-d*p)-l*(c*g-d*f)+_*(c*p-u*f));var b=this.rawData;if(!b.fixed&&(1>=b.length&&(b.length=2),b.data.length<b.length)){var w,T;T=new Array(b.data.length+10),w=T,$e.blit(b.data,0,w,0,b.data.length),b.data=w}b.data[1]=-t*(r*(u*g-d*p)-l*(h*g-d*m)+_*(h*p-u*m));var A=this.rawData;if(!A.fixed&&(2>=A.length&&(A.length=3),A.data.length<A.length)){var E,S;S=new Array(A.data.length+10),E=S,$e.blit(A.data,0,E,0,A.data.length),A.data=E}A.data[2]=t*(r*(c*g-d*f)-o*(h*g-d*m)+_*(h*f-c*m));var C=this.rawData;if(!C.fixed&&(3>=C.length&&(C.length=4),C.data.length<C.length)){var I,L;L=new Array(C.data.length+10),I=L,$e.blit(C.data,0,I,0,C.data.length),C.data=I}C.data[3]=-t*(r*(c*p-u*f)-o*(h*p-u*m)+l*(h*f-c*m));var M=this.rawData;if(!M.fixed&&(4>=M.length&&(M.length=5),M.data.length<M.length)){var B,R;R=new Array(M.data.length+10),B=R,$e.blit(M.data,0,B,0,M.data.length),M.data=B}M.data[4]=-t*(n*(u*g-d*p)-a*(c*g-d*f)+s*(c*p-u*f));var D=this.rawData;if(!D.fixed&&(5>=D.length&&(D.length=6),D.data.length<D.length)){var P,N;N=new Array(D.data.length+10),P=N,$e.blit(D.data,0,P,0,D.data.length),D.data=P}D.data[5]=t*(i*(u*g-d*p)-a*(h*g-d*m)+s*(h*p-u*m));var F=this.rawData;if(!F.fixed&&(6>=F.length&&(F.length=7),F.data.length<F.length)){var k,O;O=new Array(F.data.length+10),k=O,$e.blit(F.data,0,k,0,F.data.length),F.data=k}F.data[6]=-t*(i*(c*g-d*f)-n*(h*g-d*m)+s*(h*f-c*m));var U=this.rawData;if(!U.fixed&&(7>=U.length&&(U.length=8),U.data.length<U.length)){var V,G;G=new Array(U.data.length+10),V=G,$e.blit(U.data,0,V,0,U.data.length),U.data=V}U.data[7]=t*(i*(c*p-u*f)-n*(h*p-u*m)+a*(h*f-c*m));var W=this.rawData;if(!W.fixed&&(8>=W.length&&(W.length=9),W.data.length<W.length)){var X,z;z=new Array(W.data.length+10),X=z,$e.blit(W.data,0,X,0,W.data.length),W.data=X}W.data[8]=t*(n*(l*g-_*p)-a*(o*g-_*f)+s*(o*p-l*f));var H=this.rawData;if(!H.fixed&&(9>=H.length&&(H.length=10),H.data.length<H.length)){var Y,K;K=new Array(H.data.length+10),Y=K,$e.blit(H.data,0,Y,0,H.data.length),H.data=Y}H.data[9]=-t*(i*(l*g-_*p)-a*(r*g-_*m)+s*(r*p-l*m));var j=this.rawData;if(!j.fixed&&(10>=j.length&&(j.length=11),j.data.length<j.length)){var q,J;J=new Array(j.data.length+10),q=J,$e.blit(j.data,0,q,0,j.data.length),j.data=q}j.data[10]=t*(i*(o*g-_*f)-n*(r*g-_*m)+s*(r*f-o*m));var Z=this.rawData;if(!Z.fixed&&(11>=Z.length&&(Z.length=12),Z.data.length<Z.length)){var Q,$;$=new Array(Z.data.length+10),Q=$,$e.blit(Z.data,0,Q,0,Z.data.length),Z.data=Q}Z.data[11]=-t*(i*(o*p-l*f)-n*(r*p-l*m)+a*(r*f-o*m));var tt=this.rawData;if(!tt.fixed&&(12>=tt.length&&(tt.length=13),tt.data.length<tt.length)){var et,it;it=new Array(tt.data.length+10),et=it,$e.blit(tt.data,0,et,0,tt.data.length),tt.data=et}tt.data[12]=-t*(n*(l*d-_*u)-a*(o*d-_*c)+s*(o*u-l*c));var nt=this.rawData;if(!nt.fixed&&(13>=nt.length&&(nt.length=14),nt.data.length<nt.length)){var at,st;st=new Array(nt.data.length+10),at=st,$e.blit(nt.data,0,at,0,nt.data.length),nt.data=at}nt.data[13]=t*(i*(l*d-_*u)-a*(r*d-_*h)+s*(r*u-l*h));
var rt=this.rawData;if(!rt.fixed&&(14>=rt.length&&(rt.length=15),rt.data.length<rt.length)){var ot,lt;lt=new Array(rt.data.length+10),ot=lt,$e.blit(rt.data,0,ot,0,rt.data.length),rt.data=ot}rt.data[14]=-t*(i*(o*d-_*c)-n*(r*d-_*h)+s*(r*c-o*h));var _t=this.rawData;if(!_t.fixed&&(15>=_t.length&&(_t.length=16),_t.data.length<_t.length)){var ht,ct;ct=new Array(_t.data.length+10),ht=ct,$e.blit(_t.data,0,ht,0,_t.data.length),_t.data=ht}_t.data[15]=t*(i*(o*u-l*c)-n*(r*u-l*h)+a*(r*c-o*h))}return e},pointAt:function(t,e,i){null==e&&(e=new Qo(0,0,(-1))),null==i&&(i=new Qo(0,(-1),0));var n,a=e.subtract(t),s=i.clone();a.normalize(),s.normalize();var r=a.clone();r.scaleBy(s.dotProduct(a)),s=s.subtract(r),s.get_length()>0?s.normalize():s=0!=a.x?new Qo((-a.y),a.x,0):new Qo(1,0,0),n=s.crossProduct(a),n.normalize();var o=this.rawData;if(!o.fixed&&(0>=o.length&&(o.length=1),o.data.length<o.length)){var l,_;_=new Array(o.data.length+10),l=_,$e.blit(o.data,0,l,0,o.data.length),o.data=l}o.data[0]=n.x;var h=this.rawData;if(!h.fixed&&(4>=h.length&&(h.length=5),h.data.length<h.length)){var c,u;u=new Array(h.data.length+10),c=u,$e.blit(h.data,0,c,0,h.data.length),h.data=c}h.data[4]=n.y;var d=this.rawData;if(!d.fixed&&(8>=d.length&&(d.length=9),d.data.length<d.length)){var m,f;f=new Array(d.data.length+10),m=f,$e.blit(d.data,0,m,0,d.data.length),d.data=m}d.data[8]=n.z;var p=this.rawData;if(!p.fixed&&(12>=p.length&&(p.length=13),p.data.length<p.length)){var g,v;v=new Array(p.data.length+10),g=v,$e.blit(p.data,0,g,0,p.data.length),p.data=g}p.data[12]=0;var y=this.rawData;if(!y.fixed&&(1>=y.length&&(y.length=2),y.data.length<y.length)){var x,b;b=new Array(y.data.length+10),x=b,$e.blit(y.data,0,x,0,y.data.length),y.data=x}y.data[1]=s.x;var w=this.rawData;if(!w.fixed&&(5>=w.length&&(w.length=6),w.data.length<w.length)){var T,A;A=new Array(w.data.length+10),T=A,$e.blit(w.data,0,T,0,w.data.length),w.data=T}w.data[5]=s.y;var E=this.rawData;if(!E.fixed&&(9>=E.length&&(E.length=10),E.data.length<E.length)){var S,C;C=new Array(E.data.length+10),S=C,$e.blit(E.data,0,S,0,E.data.length),E.data=S}E.data[9]=s.z;var I=this.rawData;if(!I.fixed&&(13>=I.length&&(I.length=14),I.data.length<I.length)){var L,M;M=new Array(I.data.length+10),L=M,$e.blit(I.data,0,L,0,I.data.length),I.data=L}I.data[13]=0;var B=this.rawData;if(!B.fixed&&(2>=B.length&&(B.length=3),B.data.length<B.length)){var R,D;D=new Array(B.data.length+10),R=D,$e.blit(B.data,0,R,0,B.data.length),B.data=R}B.data[2]=a.x;var P=this.rawData;if(!P.fixed&&(6>=P.length&&(P.length=7),P.data.length<P.length)){var N,F;F=new Array(P.data.length+10),N=F,$e.blit(P.data,0,N,0,P.data.length),P.data=N}P.data[6]=a.y;var k=this.rawData;if(!k.fixed&&(10>=k.length&&(k.length=11),k.data.length<k.length)){var O,U;U=new Array(k.data.length+10),O=U,$e.blit(k.data,0,O,0,k.data.length),k.data=O}k.data[10]=a.z;var V=this.rawData;if(!V.fixed&&(14>=V.length&&(V.length=15),V.data.length<V.length)){var G,W;W=new Array(V.data.length+10),G=W,$e.blit(V.data,0,G,0,V.data.length),V.data=G}V.data[14]=0;var X=this.rawData;if(!X.fixed&&(3>=X.length&&(X.length=4),X.data.length<X.length)){var z,H;H=new Array(X.data.length+10),z=H,$e.blit(X.data,0,z,0,X.data.length),X.data=z}X.data[3]=t.x;var Y=this.rawData;if(!Y.fixed&&(7>=Y.length&&(Y.length=8),Y.data.length<Y.length)){var K,j;j=new Array(Y.data.length+10),K=j,$e.blit(Y.data,0,K,0,Y.data.length),Y.data=K}Y.data[7]=t.y;var q=this.rawData;if(!q.fixed&&(11>=q.length&&(q.length=12),q.data.length<q.length)){var J,Z;Z=new Array(q.data.length+10),J=Z,$e.blit(q.data,0,J,0,q.data.length),q.data=J}q.data[11]=t.z;var Q=this.rawData;if(!Q.fixed&&(15>=Q.length&&(Q.length=16),Q.data.length<Q.length)){var $,tt;tt=new Array(Q.data.length+10),$=tt,$e.blit(Q.data,0,$,0,Q.data.length),Q.data=$}Q.data[15]=1},prepend:function(t){var e=t.rawData.data[0],i=t.rawData.data[4],n=t.rawData.data[8],a=t.rawData.data[12],s=t.rawData.data[1],r=t.rawData.data[5],o=t.rawData.data[9],l=t.rawData.data[13],_=t.rawData.data[2],h=t.rawData.data[6],c=t.rawData.data[10],u=t.rawData.data[14],d=t.rawData.data[3],m=t.rawData.data[7],f=t.rawData.data[11],p=t.rawData.data[15],g=this.rawData.data[0],v=this.rawData.data[4],y=this.rawData.data[8],x=this.rawData.data[12],b=this.rawData.data[1],w=this.rawData.data[5],T=this.rawData.data[9],A=this.rawData.data[13],E=this.rawData.data[2],S=this.rawData.data[6],C=this.rawData.data[10],I=this.rawData.data[14],L=this.rawData.data[3],M=this.rawData.data[7],B=this.rawData.data[11],R=this.rawData.data[15],D=this.rawData;if(!D.fixed&&(0>=D.length&&(D.length=1),D.data.length<D.length)){var P,N;N=new Array(D.data.length+10),P=N,$e.blit(D.data,0,P,0,D.data.length),D.data=P}D.data[0]=e*g+s*v+_*y+d*x;var F=this.rawData;if(!F.fixed&&(1>=F.length&&(F.length=2),F.data.length<F.length)){var k,O;O=new Array(F.data.length+10),k=O,$e.blit(F.data,0,k,0,F.data.length),F.data=k}F.data[1]=e*b+s*w+_*T+d*A;var U=this.rawData;if(!U.fixed&&(2>=U.length&&(U.length=3),U.data.length<U.length)){var V,G;G=new Array(U.data.length+10),V=G,$e.blit(U.data,0,V,0,U.data.length),U.data=V}U.data[2]=e*E+s*S+_*C+d*I;var W=this.rawData;if(!W.fixed&&(3>=W.length&&(W.length=4),W.data.length<W.length)){var X,z;z=new Array(W.data.length+10),X=z,$e.blit(W.data,0,X,0,W.data.length),W.data=X}W.data[3]=e*L+s*M+_*B+d*R;var H=this.rawData;if(!H.fixed&&(4>=H.length&&(H.length=5),H.data.length<H.length)){var Y,K;K=new Array(H.data.length+10),Y=K,$e.blit(H.data,0,Y,0,H.data.length),H.data=Y}H.data[4]=i*g+r*v+h*y+m*x;var j=this.rawData;if(!j.fixed&&(5>=j.length&&(j.length=6),j.data.length<j.length)){var q,J;J=new Array(j.data.length+10),q=J,$e.blit(j.data,0,q,0,j.data.length),j.data=q}j.data[5]=i*b+r*w+h*T+m*A;var Z=this.rawData;if(!Z.fixed&&(6>=Z.length&&(Z.length=7),Z.data.length<Z.length)){var Q,$;$=new Array(Z.data.length+10),Q=$,$e.blit(Z.data,0,Q,0,Z.data.length),Z.data=Q}Z.data[6]=i*E+r*S+h*C+m*I;var tt=this.rawData;if(!tt.fixed&&(7>=tt.length&&(tt.length=8),tt.data.length<tt.length)){var et,it;it=new Array(tt.data.length+10),et=it,$e.blit(tt.data,0,et,0,tt.data.length),tt.data=et}tt.data[7]=i*L+r*M+h*B+m*R;var nt=this.rawData;if(!nt.fixed&&(8>=nt.length&&(nt.length=9),nt.data.length<nt.length)){var at,st;st=new Array(nt.data.length+10),at=st,$e.blit(nt.data,0,at,0,nt.data.length),nt.data=at}nt.data[8]=n*g+o*v+c*y+f*x;var rt=this.rawData;if(!rt.fixed&&(9>=rt.length&&(rt.length=10),rt.data.length<rt.length)){var ot,lt;lt=new Array(rt.data.length+10),ot=lt,$e.blit(rt.data,0,ot,0,rt.data.length),rt.data=ot}rt.data[9]=n*b+o*w+c*T+f*A;var _t=this.rawData;if(!_t.fixed&&(10>=_t.length&&(_t.length=11),_t.data.length<_t.length)){var ht,ct;ct=new Array(_t.data.length+10),ht=ct,$e.blit(_t.data,0,ht,0,_t.data.length),_t.data=ht}_t.data[10]=n*E+o*S+c*C+f*I;var ut=this.rawData;if(!ut.fixed&&(11>=ut.length&&(ut.length=12),ut.data.length<ut.length)){var dt,mt;mt=new Array(ut.data.length+10),dt=mt,$e.blit(ut.data,0,dt,0,ut.data.length),ut.data=dt}ut.data[11]=n*L+o*M+c*B+f*R;var ft=this.rawData;if(!ft.fixed&&(12>=ft.length&&(ft.length=13),ft.data.length<ft.length)){var pt,gt;gt=new Array(ft.data.length+10),pt=gt,$e.blit(ft.data,0,pt,0,ft.data.length),ft.data=pt}ft.data[12]=a*g+l*v+u*y+p*x;var vt=this.rawData;if(!vt.fixed&&(13>=vt.length&&(vt.length=14),vt.data.length<vt.length)){var yt,xt;xt=new Array(vt.data.length+10),yt=xt,$e.blit(vt.data,0,yt,0,vt.data.length),vt.data=yt}vt.data[13]=a*b+l*w+u*T+p*A;var bt=this.rawData;if(!bt.fixed&&(14>=bt.length&&(bt.length=15),bt.data.length<bt.length)){var wt,Tt;Tt=new Array(bt.data.length+10),wt=Tt,$e.blit(bt.data,0,wt,0,bt.data.length),bt.data=wt}bt.data[14]=a*E+l*S+u*C+p*I;var At=this.rawData;if(!At.fixed&&(15>=At.length&&(At.length=16),At.data.length<At.length)){var Et,St;St=new Array(At.data.length+10),Et=St,$e.blit(At.data,0,Et,0,At.data.length),At.data=Et}At.data[15]=a*L+l*M+u*B+p*R},prependRotation:function(t,e,i){var n=qo.__getAxisRotation(e.x,e.y,e.z,t);if(null!=i){var a=i;n.appendTranslation(a.x,a.y,a.z)}this.prepend(n)},prependScale:function(t,e,i){this.prepend(new qo(function(n){var a,s=[t,0,0,0,0,e,0,0,0,0,i,0,0,0,0,1],r=new Wa;r.length=s.length,r.fixed=!0;var o,l;l=new Array(s.length),o=l;for(var _=0,h=s.length;_<h;){var c=_++;o[c]=s[c]}return r.data=o,a=r}(this)))},prependTranslation:function(t,e,i){var n=new qo;n.set_position(new Qo(t,e,i)),this.prepend(n)},recompose:function(t,e){if(t.length<3||0==t.data[2].x||0==t.data[2].y||0==t.data[2].z)return!1;null==e&&(e=1),this.identity();var i=[];if(i[0]=i[1]=i[2]=t.data[2].x,i[4]=i[5]=i[6]=t.data[2].y,i[8]=i[9]=i[10]=t.data[2].z,null!=e)switch(e){case 1:var n=Math.cos(t.data[1].x),a=Math.cos(t.data[1].y),s=Math.cos(t.data[1].z),r=Math.sin(t.data[1].x),o=Math.sin(t.data[1].y),l=Math.sin(t.data[1].z),_=this.rawData;if(!_.fixed&&(0>=_.length&&(_.length=1),_.data.length<_.length)){var h,c;c=new Array(_.data.length+10),h=c,$e.blit(_.data,0,h,0,_.data.length),_.data=h}_.data[0]=a*s*i[0];var u=this.rawData;if(!u.fixed&&(1>=u.length&&(u.length=2),u.data.length<u.length)){var d,m;m=new Array(u.data.length+10),d=m,$e.blit(u.data,0,d,0,u.data.length),u.data=d}u.data[1]=a*l*i[1];var f=this.rawData;if(!f.fixed&&(2>=f.length&&(f.length=3),f.data.length<f.length)){var p,g;g=new Array(f.data.length+10),p=g,$e.blit(f.data,0,p,0,f.data.length),f.data=p}f.data[2]=-o*i[2];var v=this.rawData;if(!v.fixed&&(3>=v.length&&(v.length=4),v.data.length<v.length)){var y,x;x=new Array(v.data.length+10),y=x,$e.blit(v.data,0,y,0,v.data.length),v.data=y}v.data[3]=0;var b=this.rawData;if(!b.fixed&&(4>=b.length&&(b.length=5),b.data.length<b.length)){var w,T;T=new Array(b.data.length+10),w=T,$e.blit(b.data,0,w,0,b.data.length),b.data=w}b.data[4]=(r*o*s-n*l)*i[4];var A=this.rawData;if(!A.fixed&&(5>=A.length&&(A.length=6),A.data.length<A.length)){var E,S;S=new Array(A.data.length+10),E=S,$e.blit(A.data,0,E,0,A.data.length),A.data=E}A.data[5]=(r*o*l+n*s)*i[5];var C=this.rawData;if(!C.fixed&&(6>=C.length&&(C.length=7),C.data.length<C.length)){var I,L;L=new Array(C.data.length+10),I=L,$e.blit(C.data,0,I,0,C.data.length),C.data=I}C.data[6]=r*a*i[6];var M=this.rawData;if(!M.fixed&&(7>=M.length&&(M.length=8),M.data.length<M.length)){var B,R;R=new Array(M.data.length+10),B=R,$e.blit(M.data,0,B,0,M.data.length),M.data=B}M.data[7]=0;var D=this.rawData;if(!D.fixed&&(8>=D.length&&(D.length=9),D.data.length<D.length)){var P,N;N=new Array(D.data.length+10),P=N,$e.blit(D.data,0,P,0,D.data.length),D.data=P}D.data[8]=(n*o*s+r*l)*i[8];var F=this.rawData;if(!F.fixed&&(9>=F.length&&(F.length=10),F.data.length<F.length)){var k,O;O=new Array(F.data.length+10),k=O,$e.blit(F.data,0,k,0,F.data.length),F.data=k}F.data[9]=(n*o*l-r*s)*i[9];var U=this.rawData;if(!U.fixed&&(10>=U.length&&(U.length=11),U.data.length<U.length)){var V,G;G=new Array(U.data.length+10),V=G,$e.blit(U.data,0,V,0,U.data.length),U.data=V}U.data[10]=n*a*i[10];var W=this.rawData;if(!W.fixed&&(11>=W.length&&(W.length=12),W.data.length<W.length)){var X,z;z=new Array(W.data.length+10),X=z,$e.blit(W.data,0,X,0,W.data.length),W.data=X}W.data[11]=0;var H=this.rawData;if(!H.fixed&&(12>=H.length&&(H.length=13),H.data.length<H.length)){var Y,K;K=new Array(H.data.length+10),Y=K,$e.blit(H.data,0,Y,0,H.data.length),H.data=Y}H.data[12]=t.data[0].x;var j=this.rawData;if(!j.fixed&&(13>=j.length&&(j.length=14),j.data.length<j.length)){var q,Z;Z=new Array(j.data.length+10),q=Z,$e.blit(j.data,0,q,0,j.data.length),j.data=q}j.data[13]=t.data[0].y;var Q=this.rawData;if(!Q.fixed&&(14>=Q.length&&(Q.length=15),Q.data.length<Q.length)){var $,tt;tt=new Array(Q.data.length+10),$=tt,$e.blit(Q.data,0,$,0,Q.data.length),Q.data=$}Q.data[14]=t.data[0].z;var et=this.rawData;if(!et.fixed&&(15>=et.length&&(et.length=16),et.data.length<et.length)){var it,nt;nt=new Array(et.data.length+10),it=nt,$e.blit(et.data,0,it,0,et.data.length),et.data=it}et.data[15]=1;break;default:var at=t.data[1].x,st=t.data[1].y,rt=t.data[1].z,ot=t.data[1].w;J.enumEq(e,0)&&(at*=Math.sin(ot/2),st*=Math.sin(ot/2),rt*=Math.sin(ot/2),ot=Math.cos(ot/2));var lt=this.rawData;if(!lt.fixed&&(0>=lt.length&&(lt.length=1),lt.data.length<lt.length)){var _t,ht;ht=new Array(lt.data.length+10),_t=ht,$e.blit(lt.data,0,_t,0,lt.data.length),lt.data=_t}lt.data[0]=(1-2*st*st-2*rt*rt)*i[0];var ct=this.rawData;if(!ct.fixed&&(1>=ct.length&&(ct.length=2),ct.data.length<ct.length)){var ut,dt;dt=new Array(ct.data.length+10),ut=dt,$e.blit(ct.data,0,ut,0,ct.data.length),ct.data=ut}ct.data[1]=(2*at*st+2*ot*rt)*i[1];var mt=this.rawData;if(!mt.fixed&&(2>=mt.length&&(mt.length=3),mt.data.length<mt.length)){var ft,pt;pt=new Array(mt.data.length+10),ft=pt,$e.blit(mt.data,0,ft,0,mt.data.length),mt.data=ft}mt.data[2]=(2*at*rt-2*ot*st)*i[2];var gt=this.rawData;if(!gt.fixed&&(3>=gt.length&&(gt.length=4),gt.data.length<gt.length)){var vt,yt;yt=new Array(gt.data.length+10),vt=yt,$e.blit(gt.data,0,vt,0,gt.data.length),gt.data=vt}gt.data[3]=0;var xt=this.rawData;if(!xt.fixed&&(4>=xt.length&&(xt.length=5),xt.data.length<xt.length)){var bt,wt;wt=new Array(xt.data.length+10),bt=wt,$e.blit(xt.data,0,bt,0,xt.data.length),xt.data=bt}xt.data[4]=(2*at*st-2*ot*rt)*i[4];var Tt=this.rawData;if(!Tt.fixed&&(5>=Tt.length&&(Tt.length=6),Tt.data.length<Tt.length)){var At,Et;Et=new Array(Tt.data.length+10),At=Et,$e.blit(Tt.data,0,At,0,Tt.data.length),Tt.data=At}Tt.data[5]=(1-2*at*at-2*rt*rt)*i[5];var St=this.rawData;if(!St.fixed&&(6>=St.length&&(St.length=7),St.data.length<St.length)){var Ct,It;It=new Array(St.data.length+10),Ct=It,$e.blit(St.data,0,Ct,0,St.data.length),St.data=Ct}St.data[6]=(2*st*rt+2*ot*at)*i[6];var Lt=this.rawData;if(!Lt.fixed&&(7>=Lt.length&&(Lt.length=8),Lt.data.length<Lt.length)){var Mt,Bt;Bt=new Array(Lt.data.length+10),Mt=Bt,$e.blit(Lt.data,0,Mt,0,Lt.data.length),Lt.data=Mt}Lt.data[7]=0;var Rt=this.rawData;if(!Rt.fixed&&(8>=Rt.length&&(Rt.length=9),Rt.data.length<Rt.length)){var Dt,Pt;Pt=new Array(Rt.data.length+10),Dt=Pt,$e.blit(Rt.data,0,Dt,0,Rt.data.length),Rt.data=Dt}Rt.data[8]=(2*at*rt+2*ot*st)*i[8];var Nt=this.rawData;if(!Nt.fixed&&(9>=Nt.length&&(Nt.length=10),Nt.data.length<Nt.length)){var Ft,kt;kt=new Array(Nt.data.length+10),Ft=kt,$e.blit(Nt.data,0,Ft,0,Nt.data.length),Nt.data=Ft}Nt.data[9]=(2*st*rt-2*ot*at)*i[9];var Ot=this.rawData;if(!Ot.fixed&&(10>=Ot.length&&(Ot.length=11),Ot.data.length<Ot.length)){var Ut,Vt;Vt=new Array(Ot.data.length+10),Ut=Vt,$e.blit(Ot.data,0,Ut,0,Ot.data.length),Ot.data=Ut}Ot.data[10]=(1-2*at*at-2*st*st)*i[10];var Gt=this.rawData;if(!Gt.fixed&&(11>=Gt.length&&(Gt.length=12),Gt.data.length<Gt.length)){var Wt,Xt;Xt=new Array(Gt.data.length+10),Wt=Xt,$e.blit(Gt.data,0,Wt,0,Gt.data.length),Gt.data=Wt}Gt.data[11]=0;var zt=this.rawData;if(!zt.fixed&&(12>=zt.length&&(zt.length=13),zt.data.length<zt.length)){var Ht,Yt;Yt=new Array(zt.data.length+10),Ht=Yt,$e.blit(zt.data,0,Ht,0,zt.data.length),zt.data=Ht}zt.data[12]=t.data[0].x;var Kt=this.rawData;if(!Kt.fixed&&(13>=Kt.length&&(Kt.length=14),Kt.data.length<Kt.length)){var jt,qt;qt=new Array(Kt.data.length+10),jt=qt,$e.blit(Kt.data,0,jt,0,Kt.data.length),Kt.data=jt}Kt.data[13]=t.data[0].y;var Jt=this.rawData;if(!Jt.fixed&&(14>=Jt.length&&(Jt.length=15),Jt.data.length<Jt.length)){var Zt,Qt;Qt=new Array(Jt.data.length+10),Zt=Qt,$e.blit(Jt.data,0,Zt,0,Jt.data.length),Jt.data=Zt}Jt.data[14]=t.data[0].z;var $t=this.rawData;if(!$t.fixed&&(15>=$t.length&&($t.length=16),$t.data.length<$t.length)){var te,ee;ee=new Array($t.data.length+10),te=ee,$e.blit($t.data,0,te,0,$t.data.length),$t.data=te}$t.data[15]=1}else{var at=t.data[1].x,st=t.data[1].y,rt=t.data[1].z,ot=t.data[1].w;J.enumEq(e,0)&&(at*=Math.sin(ot/2),st*=Math.sin(ot/2),rt*=Math.sin(ot/2),ot=Math.cos(ot/2));var lt=this.rawData;if(!lt.fixed&&(0>=lt.length&&(lt.length=1),lt.data.length<lt.length)){var _t,ht;ht=new Array(lt.data.length+10),_t=ht,$e.blit(lt.data,0,_t,0,lt.data.length),lt.data=_t}lt.data[0]=(1-2*st*st-2*rt*rt)*i[0];var ct=this.rawData;if(!ct.fixed&&(1>=ct.length&&(ct.length=2),ct.data.length<ct.length)){var ut,dt;dt=new Array(ct.data.length+10),ut=dt,$e.blit(ct.data,0,ut,0,ct.data.length),ct.data=ut}ct.data[1]=(2*at*st+2*ot*rt)*i[1];var mt=this.rawData;if(!mt.fixed&&(2>=mt.length&&(mt.length=3),mt.data.length<mt.length)){var ft,pt;pt=new Array(mt.data.length+10),ft=pt,$e.blit(mt.data,0,ft,0,mt.data.length),mt.data=ft}mt.data[2]=(2*at*rt-2*ot*st)*i[2];var gt=this.rawData;if(!gt.fixed&&(3>=gt.length&&(gt.length=4),gt.data.length<gt.length)){var vt,yt;yt=new Array(gt.data.length+10),vt=yt,$e.blit(gt.data,0,vt,0,gt.data.length),gt.data=vt}gt.data[3]=0;var xt=this.rawData;if(!xt.fixed&&(4>=xt.length&&(xt.length=5),xt.data.length<xt.length)){var bt,wt;wt=new Array(xt.data.length+10),bt=wt,$e.blit(xt.data,0,bt,0,xt.data.length),xt.data=bt}xt.data[4]=(2*at*st-2*ot*rt)*i[4];var Tt=this.rawData;if(!Tt.fixed&&(5>=Tt.length&&(Tt.length=6),Tt.data.length<Tt.length)){var At,Et;Et=new Array(Tt.data.length+10),At=Et,$e.blit(Tt.data,0,At,0,Tt.data.length),Tt.data=At}Tt.data[5]=(1-2*at*at-2*rt*rt)*i[5];var St=this.rawData;if(!St.fixed&&(6>=St.length&&(St.length=7),St.data.length<St.length)){var Ct,It;It=new Array(St.data.length+10),Ct=It,$e.blit(St.data,0,Ct,0,St.data.length),St.data=Ct}St.data[6]=(2*st*rt+2*ot*at)*i[6];var Lt=this.rawData;if(!Lt.fixed&&(7>=Lt.length&&(Lt.length=8),Lt.data.length<Lt.length)){var Mt,Bt;Bt=new Array(Lt.data.length+10),Mt=Bt,$e.blit(Lt.data,0,Mt,0,Lt.data.length),Lt.data=Mt}Lt.data[7]=0;var Rt=this.rawData;if(!Rt.fixed&&(8>=Rt.length&&(Rt.length=9),Rt.data.length<Rt.length)){var Dt,Pt;Pt=new Array(Rt.data.length+10),Dt=Pt,$e.blit(Rt.data,0,Dt,0,Rt.data.length),Rt.data=Dt}Rt.data[8]=(2*at*rt+2*ot*st)*i[8];var Nt=this.rawData;if(!Nt.fixed&&(9>=Nt.length&&(Nt.length=10),Nt.data.length<Nt.length)){var Ft,kt;kt=new Array(Nt.data.length+10),Ft=kt,$e.blit(Nt.data,0,Ft,0,Nt.data.length),Nt.data=Ft}Nt.data[9]=(2*st*rt-2*ot*at)*i[9];var Ot=this.rawData;if(!Ot.fixed&&(10>=Ot.length&&(Ot.length=11),Ot.data.length<Ot.length)){var Ut,Vt;Vt=new Array(Ot.data.length+10),Ut=Vt,$e.blit(Ot.data,0,Ut,0,Ot.data.length),Ot.data=Ut}Ot.data[10]=(1-2*at*at-2*st*st)*i[10];var Gt=this.rawData;if(!Gt.fixed&&(11>=Gt.length&&(Gt.length=12),Gt.data.length<Gt.length)){var Wt,Xt;Xt=new Array(Gt.data.length+10),Wt=Xt,$e.blit(Gt.data,0,Wt,0,Gt.data.length),Gt.data=Wt}Gt.data[11]=0;var zt=this.rawData;if(!zt.fixed&&(12>=zt.length&&(zt.length=13),zt.data.length<zt.length)){var Ht,Yt;Yt=new Array(zt.data.length+10),Ht=Yt,$e.blit(zt.data,0,Ht,0,zt.data.length),zt.data=Ht}zt.data[12]=t.data[0].x;var Kt=this.rawData;if(!Kt.fixed&&(13>=Kt.length&&(Kt.length=14),Kt.data.length<Kt.length)){var jt,qt;qt=new Array(Kt.data.length+10),jt=qt,$e.blit(Kt.data,0,jt,0,Kt.data.length),Kt.data=jt}Kt.data[13]=t.data[0].y;var Jt=this.rawData;if(!Jt.fixed&&(14>=Jt.length&&(Jt.length=15),Jt.data.length<Jt.length)){var Zt,Qt;Qt=new Array(Jt.data.length+10),Zt=Qt,$e.blit(Jt.data,0,Zt,0,Jt.data.length),Jt.data=Zt}Jt.data[14]=t.data[0].z;var $t=this.rawData;if(!$t.fixed&&(15>=$t.length&&($t.length=16),$t.data.length<$t.length)){var te,ee;ee=new Array($t.data.length+10),te=ee,$e.blit($t.data,0,te,0,$t.data.length),$t.data=te}$t.data[15]=1}if(0==t.data[2].x){var ie=this.rawData;if(!ie.fixed&&(0>=ie.length&&(ie.length=1),ie.data.length<ie.length)){var ne,ae;ae=new Array(ie.data.length+10),ne=ae,$e.blit(ie.data,0,ne,0,ie.data.length),ie.data=ne}ie.data[0]=1e-15}if(0==t.data[2].y){var se=this.rawData;if(!se.fixed&&(5>=se.length&&(se.length=6),se.data.length<se.length)){var re,oe;oe=new Array(se.data.length+10),re=oe,$e.blit(se.data,0,re,0,se.data.length),se.data=re}se.data[5]=1e-15}if(0==t.data[2].z){var le=this.rawData;if(!le.fixed&&(10>=le.length&&(le.length=11),le.data.length<le.length)){var _e,he;he=new Array(le.data.length+10),_e=he,$e.blit(le.data,0,_e,0,le.data.length),le.data=_e}le.data[10]=1e-15}return!(0==t.data[2].x||0==t.data[2].y||0==t.data[2].y)},transformVector:function(t){var e=t.x,i=t.y,n=t.z;return new Qo(e*this.rawData.data[0]+i*this.rawData.data[4]+n*this.rawData.data[8]+this.rawData.data[12],e*this.rawData.data[1]+i*this.rawData.data[5]+n*this.rawData.data[9]+this.rawData.data[13],e*this.rawData.data[2]+i*this.rawData.data[6]+n*this.rawData.data[10]+this.rawData.data[14],e*this.rawData.data[3]+i*this.rawData.data[7]+n*this.rawData.data[11]+this.rawData.data[15])},transformVectors:function(t,e){for(var i,n,a,s=0;s+3<=t.length;){if(i=t.data[s],n=t.data[s+1],a=t.data[s+2],!e.fixed&&(s>=e.length&&(e.length=s+1),e.data.length<e.length)){var r,o;o=new Array(e.data.length+10),r=o,$e.blit(e.data,0,r,0,e.data.length),e.data=r}e.data[s]=i*this.rawData.data[0]+n*this.rawData.data[4]+a*this.rawData.data[8]+this.rawData.data[12];var l=s+1;if(!e.fixed&&(l>=e.length&&(e.length=l+1),e.data.length<e.length)){var _,h;h=new Array(e.data.length+10),_=h,$e.blit(e.data,0,_,0,e.data.length),e.data=_}e.data[l]=i*this.rawData.data[1]+n*this.rawData.data[5]+a*this.rawData.data[9]+this.rawData.data[13];var c=s+2;if(!e.fixed&&(c>=e.length&&(e.length=c+1),e.data.length<e.length)){var u,d;d=new Array(e.data.length+10),u=d,$e.blit(e.data,0,u,0,e.data.length),e.data=u}e.data[c]=i*this.rawData.data[2]+n*this.rawData.data[6]+a*this.rawData.data[10]+this.rawData.data[14],s+=3}},transpose:function(){var t,e=this.rawData,i=new Wa;i.length=e.length,i.fixed=e.fixed;var n;n=new Array(e.length),i.data=n,$e.blit(e.data,0,i.data,0,e.length),t=i;var a=this.rawData;if(!a.fixed&&(1>=a.length&&(a.length=2),a.data.length<a.length)){var s,r;r=new Array(a.data.length+10),s=r,$e.blit(a.data,0,s,0,a.data.length),a.data=s}a.data[1]=t.data[4];var o=this.rawData;if(!o.fixed&&(2>=o.length&&(o.length=3),o.data.length<o.length)){var l,_;_=new Array(o.data.length+10),l=_,$e.blit(o.data,0,l,0,o.data.length),o.data=l}o.data[2]=t.data[8];var h=this.rawData;if(!h.fixed&&(3>=h.length&&(h.length=4),h.data.length<h.length)){var c,u;u=new Array(h.data.length+10),c=u,$e.blit(h.data,0,c,0,h.data.length),h.data=c}h.data[3]=t.data[12];var d=this.rawData;if(!d.fixed&&(4>=d.length&&(d.length=5),d.data.length<d.length)){var m,f;f=new Array(d.data.length+10),m=f,$e.blit(d.data,0,m,0,d.data.length),d.data=m}d.data[4]=t.data[1];var p=this.rawData;if(!p.fixed&&(6>=p.length&&(p.length=7),p.data.length<p.length)){var g,v;v=new Array(p.data.length+10),g=v,$e.blit(p.data,0,g,0,p.data.length),p.data=g}p.data[6]=t.data[9];var y=this.rawData;if(!y.fixed&&(7>=y.length&&(y.length=8),y.data.length<y.length)){var x,b;b=new Array(y.data.length+10),x=b,$e.blit(y.data,0,x,0,y.data.length),y.data=x}y.data[7]=t.data[13];var w=this.rawData;if(!w.fixed&&(8>=w.length&&(w.length=9),w.data.length<w.length)){var T,A;A=new Array(w.data.length+10),T=A,$e.blit(w.data,0,T,0,w.data.length),w.data=T}w.data[8]=t.data[2];var E=this.rawData;if(!E.fixed&&(9>=E.length&&(E.length=10),E.data.length<E.length)){var S,C;C=new Array(E.data.length+10),S=C,$e.blit(E.data,0,S,0,E.data.length),E.data=S}E.data[9]=t.data[6];var I=this.rawData;if(!I.fixed&&(11>=I.length&&(I.length=12),I.data.length<I.length)){var L,M;M=new Array(I.data.length+10),L=M,$e.blit(I.data,0,L,0,I.data.length),I.data=L}I.data[11]=t.data[14];var B=this.rawData;if(!B.fixed&&(12>=B.length&&(B.length=13),B.data.length<B.length)){var R,D;D=new Array(B.data.length+10),R=D,$e.blit(B.data,0,R,0,B.data.length),B.data=R}B.data[12]=t.data[3];var P=this.rawData;if(!P.fixed&&(13>=P.length&&(P.length=14),P.data.length<P.length)){var N,F;F=new Array(P.data.length+10),N=F,$e.blit(P.data,0,N,0,P.data.length),P.data=N}P.data[13]=t.data[7];var k=this.rawData;if(!k.fixed&&(14>=k.length&&(k.length=15),k.data.length<k.length)){var O,U;U=new Array(k.data.length+10),O=U,$e.blit(k.data,0,O,0,k.data.length),k.data=O}k.data[14]=t.data[11]},get_determinant:function(){return(this.rawData.data[0]*this.rawData.data[5]-this.rawData.data[4]*this.rawData.data[1])*(this.rawData.data[10]*this.rawData.data[15]-this.rawData.data[14]*this.rawData.data[11])-(this.rawData.data[0]*this.rawData.data[9]-this.rawData.data[8]*this.rawData.data[1])*(this.rawData.data[6]*this.rawData.data[15]-this.rawData.data[14]*this.rawData.data[7])+(this.rawData.data[0]*this.rawData.data[13]-this.rawData.data[12]*this.rawData.data[1])*(this.rawData.data[6]*this.rawData.data[11]-this.rawData.data[10]*this.rawData.data[7])+(this.rawData.data[4]*this.rawData.data[9]-this.rawData.data[8]*this.rawData.data[5])*(this.rawData.data[2]*this.rawData.data[15]-this.rawData.data[14]*this.rawData.data[3])-(this.rawData.data[4]*this.rawData.data[13]-this.rawData.data[12]*this.rawData.data[5])*(this.rawData.data[2]*this.rawData.data[11]-this.rawData.data[10]*this.rawData.data[3])+(this.rawData.data[8]*this.rawData.data[13]-this.rawData.data[12]*this.rawData.data[9])*(this.rawData.data[2]*this.rawData.data[7]-this.rawData.data[6]*this.rawData.data[3])},get_position:function(){return new Qo(this.rawData.data[12],this.rawData.data[13],this.rawData.data[14])},set_position:function(t){var e=this.rawData;if(!e.fixed&&(12>=e.length&&(e.length=13),e.data.length<e.length)){var i,n;n=new Array(e.data.length+10),i=n,$e.blit(e.data,0,i,0,e.data.length),e.data=i}e.data[12]=t.x;var a=this.rawData;if(!a.fixed&&(13>=a.length&&(a.length=14),a.data.length<a.length)){var s,r;r=new Array(a.data.length+10),s=r,$e.blit(a.data,0,s,0,a.data.length),a.data=s}a.data[13]=t.y;var o=this.rawData;if(!o.fixed&&(14>=o.length&&(o.length=15),o.data.length<o.length)){var l,_;_=new Array(o.data.length+10),l=_,$e.blit(o.data,0,l,0,o.data.length),o.data=l}return o.data[14]=t.z,t},__class__:qo,__properties__:{set_position:"set_position",get_position:"get_position",get_determinant:"get_determinant"}};var Jo={};s["openfl.geom._Orientation3D.Orientation3D_Impl_"]=Jo,Jo.__name__=["openfl","geom","_Orientation3D","Orientation3D_Impl_"],Jo.fromString=function(t){switch(t){case"axisAngle":return 0;case"eulerAngles":return 1;case"quaternion":return 2;default:return null}},Jo.toString=function(t){switch(t){case 0:return"axisAngle";case 1:return"eulerAngles";case 2:return"quaternion";default:return null}};var Zo=function(t){this.__colorTransform=new Ua,this.concatenatedColorTransform=new Ua,this.pixelBounds=new Zs,this.__displayObject=t,this.__hasMatrix=!0};s["openfl.geom.Transform"]=Zo,Zo.__name__=["openfl","geom","Transform"],Zo.prototype={get_colorTransform:function(){return this.__colorTransform},set_colorTransform:function(t){return this.__colorTransform.__equals(t)||(this.__colorTransform=t,null!=t&&this.__displayObject.set_alpha(t.alphaMultiplier),this.__displayObject.__setRenderDirty()),this.__colorTransform},get_matrix:function(){return this.__hasMatrix?this.__displayObject.__transform.clone():null},get_concatenatedMatrix:function(){return this.__hasMatrix?this.__displayObject.__getWorldTransform().clone():null},set_matrix:function(t){if(null==t)return this.__hasMatrix=!1,null;if(this.__hasMatrix=!0,this.__hasMatrix3D=!1,null!=this.__displayObject){var e=180/Math.PI*Math.atan2(t.d,t.c)-90;if(e!=this.__displayObject.__rotation){this.__displayObject.__rotation=e;var i=e*(Math.PI/180);this.__displayObject.__rotationSine=Math.sin(i),this.__displayObject.__rotationCosine=Math.cos(i)}this.__displayObject.__transform.copyFrom(t),this.__displayObject.__setTransformDirty()}return t},get_matrix3D:function(){if(this.__hasMatrix3D){var t=this.__displayObject.__transform;return new qo(function(e){var i,n=[t.a,t.b,0,0,t.c,t.d,0,0,0,0,1,0,t.tx,t.ty,0,1],a=new Wa;a.length=n.length,a.fixed=!0;var s,r;r=new Array(n.length),s=r;for(var o=0,l=n.length;o<l;){var _=o++;s[_]=n[_]}return a.data=s,i=a}(this))}return null},set_matrix3D:function(t){if(null==t)return this.__hasMatrix3D=!1,null;if(this.__hasMatrix=!1,this.__hasMatrix3D=!0,null!=this.__displayObject){var e=180/Math.PI*Math.atan2(t.rawData.data[5],t.rawData.data[4])-90;if(e!=this.__displayObject.__rotation){this.__displayObject.__rotation=e;var i=e*(Math.PI/180);this.__displayObject.__rotationSine=Math.sin(i),this.__displayObject.__rotationCosine=Math.cos(i)}this.__displayObject.__transform.a=t.rawData.data[0],this.__displayObject.__transform.b=t.rawData.data[1],this.__displayObject.__transform.c=t.rawData.data[5],this.__displayObject.__transform.d=t.rawData.data[6],this.__displayObject.__transform.tx=t.rawData.data[12],this.__displayObject.__transform.ty=t.rawData.data[13],this.__displayObject.__setTransformDirty()}return t},__class__:Zo,__properties__:{set_matrix3D:"set_matrix3D",get_matrix3D:"get_matrix3D",set_matrix:"set_matrix",get_matrix:"get_matrix",get_concatenatedMatrix:"get_concatenatedMatrix",set_colorTransform:"set_colorTransform",get_colorTransform:"get_colorTransform"}};var Qo=function(t,e,i,n){null==n&&(n=0),null==i&&(i=0),null==e&&(e=0),null==t&&(t=0),this.w=n,this.x=t,this.y=e,this.z=i};s["openfl.geom.Vector3D"]=Qo,Qo.__name__=["openfl","geom","Vector3D"],Qo.__properties__={get_Z_AXIS:"get_Z_AXIS",get_Y_AXIS:"get_Y_AXIS",get_X_AXIS:"get_X_AXIS"},Qo.X_AXIS=null,Qo.Y_AXIS=null,Qo.Z_AXIS=null,Qo.angleBetween=function(t,e){var i=t.get_length(),n=e.get_length(),a=t.dotProduct(e);return 0!=i&&(a/=i),0!=n&&(a/=n),Math.acos(a)},Qo.distance=function(t,e){var i=e.x-t.x,n=e.y-t.y,a=e.z-t.z;return Math.sqrt(i*i+n*n+a*a)},Qo.get_X_AXIS=function(){return new Qo(1,0,0)},Qo.get_Y_AXIS=function(){return new Qo(0,1,0)},Qo.get_Z_AXIS=function(){return new Qo(0,0,1)},Qo.prototype={add:function(t){return new Qo(this.x+t.x,this.y+t.y,this.z+t.z)},clone:function(){return new Qo(this.x,this.y,this.z,this.w)},copyFrom:function(t){this.x=t.x,this.y=t.y,this.z=t.z},crossProduct:function(t){return new Qo(this.y*t.z-this.z*t.y,this.z*t.x-this.x*t.z,this.x*t.y-this.y*t.x,1)},decrementBy:function(t){this.x-=t.x,this.y-=t.y,this.z-=t.z},dotProduct:function(t){return this.x*t.x+this.y*t.y+this.z*t.z},equals:function(t,e){return null==e&&(e=!1),this.x==t.x&&this.y==t.y&&this.z==t.z&&(!e||this.w==t.w)},incrementBy:function(t){this.x+=t.x,this.y+=t.y,this.z+=t.z},nearEquals:function(t,e,i){return null==i&&(i=!1),Math.abs(this.x-t.x)<e&&Math.abs(this.y-t.y)<e&&Math.abs(this.z-t.z)<e&&(!i||Math.abs(this.w-t.w)<e)},negate:function(){this.x*=-1,this.y*=-1,this.z*=-1},normalize:function(){var t=this.get_length();return 0!=t&&(this.x/=t,this.y/=t,this.z/=t),t},project:function(){this.x/=this.w,this.y/=this.w,this.z/=this.w},scaleBy:function(t){this.x*=t,this.y*=t,this.z*=t},setTo:function(t,e,i){this.x=t,this.y=e,this.z=i},subtract:function(t){return new Qo(this.x-t.x,this.y-t.y,this.z-t.z)},toString:function(){return"Vector3D("+this.x+", "+this.y+", "+this.z+")"},get_length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)},get_lengthSquared:function(){return this.x*this.x+this.y*this.y+this.z*this.z},__class__:Qo,__properties__:{get_lengthSquared:"get_lengthSquared",get_length:"get_length"}};var $o=function(){};s["openfl.media.ID3Info"]=$o,$o.__name__=["openfl","media","ID3Info"],$o.prototype={__class__:$o};var tl=function(t,e){_.call(this,this),this.bytesLoaded=0,this.bytesTotal=0,this.id3=null,this.isBuffering=!1,this.url=null,null!=t&&this.load(t,e)};s["openfl.media.Sound"]=tl,tl.__name__=["openfl","media","Sound"],tl.fromAudioBuffer=function(t){var e=new tl;return e.__buffer=t,e},tl.fromFile=function(t){return tl.fromAudioBuffer(Yi.fromFile(t))},tl.__super__=_,tl.prototype=n(_.prototype,{close:function(){tl.__registeredSounds.exists(this.__soundID)&&createjs.Sound.removeSound(this.__soundID)},load:function(t,e){this.url=t.url,this.__soundID=ai.withoutExtension(t.url),tl.__registeredSounds.exists(this.__soundID)?this.dispatchEvent(new Ro("complete")):(tl.__registeredSounds.set(this.__soundID,!0),createjs.Sound.addEventListener("fileload",a(this,this.SoundJS_onFileLoad)),createjs.Sound.addEventListener("fileerror",a(this,this.SoundJS_onFileError)),createjs.Sound.registerSound(this.url,this.__soundID))},loadCompressedDataFromByteArray:function(t,e,i){null==i&&(i=!1),Va.notImplemented("Sound.loadCompressedDataFromByteArray")},loadPCMFromByteArray:function(t,e,i,n,a){null==a&&(a=44100),null==n&&(n=!0),Va.notImplemented("Sound.loadPCMFromByteArray")},play:function(t,e,i){null==e&&(e=0),null==t&&(t=0),null==i&&(i=new nl(1,0));var n=i.pan;
0==n&&(n=-1e-7);var a;return a=e>1?createjs.Sound.play(this.__soundID,"any",0,0|t,e-1,i.volume,n):createjs.Sound.play(this.__soundID,"any",0,0|t,0,i.volume,n),new el(a)},get_id3:function(){return new $o},get_length:function(){return null!=this.__buffer,0},AudioBuffer_onURLLoad:function(t){null==t?this.dispatchEvent(new Go("ioError")):(this.__buffer=t,this.dispatchEvent(new Ro("complete")))},SoundJS_onFileLoad:function(t){t.id==this.__soundID&&(createjs.Sound.removeEventListener("fileload",a(this,this.SoundJS_onFileLoad)),createjs.Sound.removeEventListener("fileerror",a(this,this.SoundJS_onFileError)),this.dispatchEvent(new Ro("complete")))},SoundJS_onFileError:function(t){t.id==this.__soundID&&(createjs.Sound.removeEventListener("fileload",a(this,this.SoundJS_onFileLoad)),createjs.Sound.removeEventListener("fileerror",a(this,this.SoundJS_onFileError)),this.dispatchEvent(new Go("ioError")))},__class__:tl,__properties__:{get_length:"get_length",get_id3:"get_id3"}});var el=function(t){_.call(this,this),this.leftPeak=1,this.rightPeak=1,null!=t&&(this.__soundInstance=t,this.__soundInstance.addEventListener("complete",a(this,this.source_onComplete)),this.__isValid=!0)};s["openfl.media.SoundChannel"]=el,el.__name__=["openfl","media","SoundChannel"],el.__super__=_,el.prototype=n(_.prototype,{stop:function(){this.__isValid&&this.__soundInstance.stop()},__dispose:function(){this.__isValid&&(this.__soundInstance.stop(),this.__soundInstance=null,this.__isValid=!1)},get_position:function(){return this.__isValid?this.__soundInstance.getPosition():0},set_position:function(t){return this.__isValid?(this.__soundInstance.setPosition(0|t),this.__soundInstance.getPosition()):0},get_soundTransform:function(){return this.__isValid?new nl(this.__soundInstance.getVolume(),this.__soundInstance.getPan()):new nl},set_soundTransform:function(t){return this.__isValid?(this.__soundInstance.setVolume(t.volume),this.__soundInstance.setPan(t.pan),t):t},soundInstance_onComplete:function(t){this.dispatchEvent(new Ro("soundComplete"))},source_onComplete:function(){this.__dispose(),this.dispatchEvent(new Ro("soundComplete"))},__class__:el,__properties__:{set_soundTransform:"set_soundTransform",get_soundTransform:"get_soundTransform",set_position:"set_position",get_position:"get_position"}});var il=function(t,e){null==e&&(e=!1),null==t&&(t=1e3),this.bufferTime=t,this.checkPolicyFile=e};s["openfl.media.SoundLoaderContext"]=il,il.__name__=["openfl","media","SoundLoaderContext"],il.prototype={__class__:il};var nl=function(t,e){null==e&&(e=0),null==t&&(t=1),this.volume=t,this.pan=e,this.leftToLeft=0,this.leftToRight=0,this.rightToLeft=0,this.rightToRight=0};s["openfl.media.SoundTransform"]=nl,nl.__name__=["openfl","media","SoundTransform"],nl.prototype={clone:function(){return new nl(this.volume,this.pan)},__class__:nl};var al=function(){_.call(this)};s["openfl.net.NetConnection"]=al,al.__name__=["openfl","net","NetConnection"],al.__super__=_,al.prototype=n(_.prototype,{connect:function(t,e,i,n,a,s){if(null!=t)throw new ri('Error: Can only connect in "HTTP streaming" mode');this.dispatchEvent(new zo("netStatus",(!1),(!0),{code:"connectSuccess"}))},__class__:al});var sl=function(){_.call(this),this.client=this,this.objectEncoding=3};s["openfl.net.SharedObject"]=sl,sl.__name__=["openfl","net","SharedObject"],sl.__sharedObjects=null,sl.getLocal=function(t,e,i){null==i&&(i=!1),null==e&&(e=window.location.href),null==sl.__sharedObjects&&(sl.__sharedObjects=new Qe,Va.application.onExit.add(sl.application_onExit));var n=e+"/"+t;if(!sl.__sharedObjects.exists(n)){var a=new sl;a.data={},a.__localPath=e,a.__name=t;var s=null;try{var r=li.getLocalStorage();null!=r&&(s=r.getItem(e+":"+t))}catch(o){Ue.lastException=o,o instanceof ri&&(o=o.val)}if(null!=s&&""!=s)try{var l=new He(s);l.setResolver({resolveEnum:J.resolveEnum,resolveClass:sl.__resolveClass}),a.data=l.unserialize()}catch(_){Ue.lastException=_,_ instanceof ri&&(_=_.val)}sl.__sharedObjects.set(n,a)}return sl.__sharedObjects.get(n)},sl.getRemote=function(t,e,i,n){return null==n&&(n=!1),null==i&&(i=!1),Va.notImplemented("SharedObject.getRemote"),null},sl.__mkdir=function(t){},sl.__resolveClass=function(t){return null!=t?(X.startsWith(t,"neash.")&&(t=X.replace(t,"neash.","openfl.")),X.startsWith(t,"native.")&&(t=X.replace(t,"native.","openfl.")),X.startsWith(t,"flash.")&&(t=X.replace(t,"flash.","openfl.")),X.startsWith(t,"openfl._v2.")&&(t=X.replace(t,"openfl._v2.","openfl.")),X.startsWith(t,"openfl._legacy.")&&(t=X.replace(t,"openfl._legacy.","openfl.")),J.resolveClass(t)):null},sl.application_onExit=function(t){for(var e=sl.__sharedObjects.iterator();e.hasNext();){var i=e.next();i.flush()}},sl.__super__=_,sl.prototype=n(_.prototype,{clear:function(){this.data={};try{var t=li.getLocalStorage();null!=t&&t.removeItem(this.__localPath+":"+this.__name)}catch(e){Ue.lastException=e,e instanceof ri&&(e=e.val)}},close:function(){},connect:function(t,e){Va.notImplemented("SharedObject.connect")},flush:function(t){if(null==t&&(t=0),0==U.fields(this.data).length)return 0;var e=Xe.run(this.data);try{var i=li.getLocalStorage();null!=i&&(i.removeItem(this.__localPath+":"+this.__name),i.setItem(this.__localPath+":"+this.__name,e))}catch(n){return Ue.lastException=n,n instanceof ri&&(n=n.val),1}return 0},send:function(t){Va.notImplemented("SharedObject.send")},setDirty:function(t){},setProperty:function(t,e){null!=this.data&&(this.data[t]=e)},get_size:function(){try{var t=Xe.run(this.data);return ti.ofString(t).length}catch(e){return Ue.lastException=e,e instanceof ri&&(e=e.val),0}},__class__:sl,__properties__:{get_size:"get_size"}});var rl={};s["openfl.net._SharedObjectFlushStatus.SharedObjectFlushStatus_Impl_"]=rl,rl.__name__=["openfl","net","_SharedObjectFlushStatus","SharedObjectFlushStatus_Impl_"],rl.fromString=function(t){switch(t){case"flushed":return 0;case"pending":return 1;default:return null}},rl.toString=function(t){switch(t){case 0:return"flushed";case 1:return"pending";default:return null}};var ol=function(t){_.call(this),this.bytesLoaded=0,this.bytesTotal=0,this.set_dataFormat(1),null!=t&&this.load(t)};s["openfl.net.URLLoader"]=ol,ol.__name__=["openfl","net","URLLoader"],ol.__super__=_,ol.prototype=n(_.prototype,{close:function(){},getData:function(){return null},load:function(t){this.requestUrl(t.url,t.method,t.data,t.formatRequestHeaders())},registerEvents:function(t){var e=this;"undefined"!=typeof XMLHttpRequestProgressEvent&&t.addEventListener("progress",a(this,this.onProgress),!1),t.onreadystatechange=function(){if(4==t.readyState){var i;try{i=t.status}catch(n){Ue.lastException=n,n instanceof ri&&(n=n.val),i=null}void 0==i&&(i=null),null!=i&&e.onStatus(i),null!=i&&i>=200&&i<400?e.onData(t.response):null==i?e.onError("Failed to connect or resolve host"):12029==i?e.onError("Failed to connect to host"):12007==i?e.onError("Unknown host"):0==i?(e.onError("Unable to make request (may be blocked due to cross-domain permissions)"),e.onSecurityError("Unable to make request (may be blocked due to cross-domain permissions)")):e.onError("Http Error #"+t.status)}}},requestUrl:function(t,e,i,n){var a=new XMLHttpRequest;this.registerEvents(a);var s="";if(oi.__instanceof(i,Nl)){var r=i,o=this.dataFormat;switch(o){case 0:s=oi.__cast(r,Jl);break;default:s=r.readUTFBytes(r.length)}}else if(oi.__instanceof(i,ul))for(var l=i,_=0,h=U.fields(l);_<h.length;){var c=h[_];++_,0!=s.length&&(s+="&"),s+=encodeURIComponent(c)+"="+X.urlEncode(U.field(l,c))}else null!=i&&(s=i.toString());try{if("GET"==e&&null!=s&&""!=s){var u=t.split("?").length<=1;a.open(e,t+(u?"?":"&")+G.string(s),!0),s=""}else a.open(e,t,!0)}catch(d){return Ue.lastException=d,d instanceof ri&&(d=d.val),void this.onError(d.toString())}var m=this.dataFormat;switch(m){case 0:a.responseType="arraybuffer"}for(var f=0;f<n.length;){var p=n[f];++f,a.setRequestHeader(p.name,p.value)}a.send(s),this.onOpen(),this.getData=function(){return null!=a.response?a.response:a.responseText}},onData:function(t){var e=this.getData(),i=this.dataFormat;switch(i){case 0:this.data=Rl.fromArrayBuffer(e);break;default:this.data=G.string(e)}var n=new Ro("complete");n.currentTarget=this,this.dispatchEvent(n)},onError:function(t){var e=new Go("ioError");e.text=t,e.currentTarget=this,this.dispatchEvent(e)},onOpen:function(){var t=new Ro("open");t.currentTarget=this,this.dispatchEvent(t)},onProgress:function(t){var e=new Ho("progress");e.currentTarget=this,e.bytesLoaded=t.loaded,e.bytesTotal=t.total,this.dispatchEvent(e)},onSecurityError:function(t){var e=new Yo("securityError");e.text=t,e.currentTarget=this,this.dispatchEvent(e)},onStatus:function(t){var e=new Vo("httpStatus",(!1),(!1),t);e.currentTarget=this,this.dispatchEvent(e)},set_dataFormat:function(t){return 0!=t||U.hasField(window,"ArrayBuffer")?this.dataFormat=t:this.dataFormat=1,this.dataFormat},__class__:ol,__properties__:{set_dataFormat:"set_dataFormat"}});var ll={};s["openfl.net._URLLoaderDataFormat.URLLoaderDataFormat_Impl_"]=ll,ll.__name__=["openfl","net","_URLLoaderDataFormat","URLLoaderDataFormat_Impl_"],ll.fromString=function(t){switch(t){case"binary":return 0;case"text":return 1;case"variables":return 2;default:return null}},ll.toString=function(t){switch(t){case 0:return"binary";case 1:return"text";case 2:return"variables";default:return null}};var _l=function(t){null!=t&&(this.url=t),this.requestHeaders=[],this.method=cl.toString(1),this.contentType=null};s["openfl.net.URLRequest"]=_l,_l.__name__=["openfl","net","URLRequest"],_l.prototype={formatRequestHeaders:function(){var t=this.requestHeaders;return null==t&&(t=[]),1==cl.fromString(this.method)||null==this.data?t:(("string"==typeof this.data||oi.__instanceof(this.data,Nl))&&(t=t.slice(),t.push(new hl("Content-Type",null!=this.contentType?this.contentType:"application/x-www-form-urlencoded"))),t)},__class__:_l};var hl=function(t,e){null==e&&(e=""),null==t&&(t=""),this.name=t,this.value=e};s["openfl.net.URLRequestHeader"]=hl,hl.__name__=["openfl","net","URLRequestHeader"],hl.prototype={__class__:hl};var cl={};s["openfl.net._URLRequestMethod.URLRequestMethod_Impl_"]=cl,cl.__name__=["openfl","net","_URLRequestMethod","URLRequestMethod_Impl_"],cl.fromString=function(t){switch(t){case"DELETE":return 0;case"GET":return 1;case"HEAD":return 2;case"OPTIONS":return 3;case"POST":return 4;case"PUT":return 5;default:return null}},cl.toString=function(t){switch(t){case 0:return"DELETE";case 1:return"GET";case 2:return"HEAD";case 3:return"OPTIONS";case 4:return"POST";case 5:return"PUT";default:return null}};var ul=function(t){null!=t&&this.decode(t)};s["openfl.net.URLVariables"]=ul,ul.__name__=["openfl","net","URLVariables"],ul.prototype={decode:function(t){for(var e=U.fields(this),i=0;i<e.length;){var n=e[i];++i,U.deleteField(this,n)}for(var a=t.split(";").join("&").split("&"),s=0;s<a.length;){var r=a[s];++s;var o=r.indexOf("=");o>0?U.setField(this,X.urlDecode(T.substr(r,0,o)),X.urlDecode(T.substr(r,o+1,null))):0!=o&&U.setField(this,decodeURIComponent(r.split("+").join(" ")),"")}},toString:function(){for(var t=[],e=U.fields(this),i=0;i<e.length;){var n=e[i];++i,t.push(encodeURIComponent(n)+"="+X.urlEncode(U.field(this,n)))}return t.join("&")},__class__:ul};var dl=function(t,e,i){null==t&&(t=!1),this.checkPolicyFile=t,this.securityDomain=i,this.applicationDomain=e,this.allowCodeImport=!0,this.allowLoadBytesCodeExecution=!0};s["openfl.system.LoaderContext"]=dl,dl.__name__=["openfl","system","LoaderContext"],dl.prototype={__class__:dl};var ml=function(){};s["openfl.system.SecurityDomain"]=ml,ml.__name__=["openfl","system","SecurityDomain"],ml.prototype={__class__:ml};var fl={};s["openfl.text._AntiAliasType.AntiAliasType_Impl_"]=fl,fl.__name__=["openfl","text","_AntiAliasType","AntiAliasType_Impl_"],fl.fromString=function(t){switch(t){case"advanced":return 0;case"normal":return 1;default:return null}},fl.toString=function(t){switch(t){case 0:return"advanced";case 1:return"normal";default:return null}};var pl=function(t){ea.call(this,t)};s["openfl.text.Font"]=pl,pl.__name__=["openfl","text","Font"],pl.enumerateFonts=function(t){return null==t&&(t=!1),pl.__registeredFonts},pl.fromBytes=function(t){var e=new pl;return e.__fromBytes(Rl.toBytes(t)),e},pl.fromFile=function(t){var e=new pl;return e.__fromFile(t),e},pl.registerFont=function(t){var e;e=oi.__cast(J.createInstance(t,[]),pl),null!=e&&pl.__registeredFonts.push(e)},pl.__fromLimeFont=function(t){var e=new pl;return e.name=t.name,e.src=t.src,e},pl.__super__=ea,pl.prototype=n(ea.prototype,{get_fontName:function(){return this.name},set_fontName:function(t){return this.name=t},__class__:pl,__properties__:n(ea.prototype.__properties__,{set_fontName:"set_fontName",get_fontName:"get_fontName"})});var gl={};s["openfl.text._FontStyle.FontStyle_Impl_"]=gl,gl.__name__=["openfl","text","_FontStyle","FontStyle_Impl_"],gl.fromString=function(t){switch(t){case"bold":return 0;case"boldItalic":return 1;case"italic":return 2;case"regular":return 3;default:return null}},gl.toString=function(t){switch(t){case 0:return"bold";case 1:return"boldItalic";case 2:return"italic";case 3:return"regular";default:return null}};var vl={};s["openfl.text._FontType.FontType_Impl_"]=vl,vl.__name__=["openfl","text","_FontType","FontType_Impl_"],vl.fromString=function(t){switch(t){case"device":return 0;case"embedded":return 1;case"embeddedCFF":return 2;default:return null}},vl.toString=function(t){switch(t){case 0:return"device";case 1:return"embedded";case 2:return"embeddedCFF";default:return null}};var yl={};s["openfl.text._GridFitType.GridFitType_Impl_"]=yl,yl.__name__=["openfl","text","_GridFitType","GridFitType_Impl_"],yl.fromString=function(t){switch(t){case"none":return 0;case"pixel":return 1;case"subpixel":return 2;default:return null}},yl.toString=function(t){switch(t){case 0:return"none";case 1:return"pixel";case 2:return"subpixel";default:return null}};var xl=function(){u.call(this),this.__caretIndex=-1,this.__graphics=new Er,this.__textEngine=new dr(this),this.__layoutDirty=!0,this.__tabEnabled=!0,null==xl.__defaultTextFormat&&(xl.__defaultTextFormat=new Tl("Times New Roman",12,0,(!1),(!1),(!1),"","",3,0,0,0,0),xl.__defaultTextFormat.blockIndent=0,xl.__defaultTextFormat.bullet=!1,xl.__defaultTextFormat.letterSpacing=0,xl.__defaultTextFormat.kerning=!1),this.__textFormat=xl.__defaultTextFormat.clone(),this.__textEngine.textFormatRanges.push(new mr(this.__textFormat,0,0)),this.addEventListener("mouseDown",a(this,this.this_onMouseDown))};s["openfl.text.TextField"]=xl,xl.__name__=["openfl","text","TextField"],xl.__defaultTextFormat=null,xl.__super__=u,xl.prototype=n(u.prototype,{appendText:function(t){this.__textEngine.text+=t,this.__textEngine.textFormatRanges[this.__textEngine.textFormatRanges.length-1].end=this.__textEngine.text.length,this.__dirty=!0,this.__layoutDirty=!0},getCharBoundaries:function(t){if(t<0||t>this.__textEngine.text.length-1)return null;this.__updateLayout();for(var e=0,i=this.__textEngine.layoutGroups;e<i.length;){var n=i[e];if(++e,t>=n.startIndex&&t<=n.endIndex){for(var a=n.offsetX,s=0,r=t-n.startIndex;s<r;){var o=s++;a+=n.advances[o]}return new Zs(a,n.offsetY,n.advances[t-n.startIndex],n.ascent+n.descent)}}return null},getCharIndexAtPoint:function(t,e){if(t<=2||t>this.get_width()+4||e<=0||e>this.get_height()+4)return-1;this.__updateLayout(),t+=this.get_scrollH();for(var i=0,n=this.get_scrollV()-1;i<n;){var a=i++;e+=this.__textEngine.lineHeights[a]}for(var s=0,r=this.__textEngine.layoutGroups;s<r.length;){var o=r[s];if(++s,e>=o.offsetY&&e<=o.offsetY+o.height&&t>=o.offsetX&&t<=o.offsetX+o.width){for(var l=0,_=0,h=o.advances.length;_<h;){var c=_++;if(l+=o.advances[c],t<=o.offsetX+l)return o.startIndex+c}return o.endIndex}}return-1},getFirstCharInParagraph:function(t){if(t<0||t>this.__textEngine.text.length-1)return 0;for(var e=this.__textEngine.text.indexOf("\n"),i=0;e>-1;){if(e<=t)i=e+1;else if(e>t)break;e=this.__textEngine.text.indexOf("\n",e+1)}return i},getLineIndexAtPoint:function(t,e){if(this.__updateLayout(),t<=2||t>this.get_width()+4||e<=0||e>this.get_height()+4)return-1;for(var i=0,n=this.get_scrollV()-1;i<n;){var a=i++;e+=this.__textEngine.lineHeights[a]}for(var s=0,r=this.__textEngine.layoutGroups;s<r.length;){var o=r[s];if(++s,e>=o.offsetY&&e<=o.offsetY+o.height)return o.lineIndex}return-1},getLineIndexOfChar:function(t){if(t<0||t>this.__textEngine.text.length-1)return-1;this.__updateLayout();for(var e=0,i=this.__textEngine.layoutGroups;e<i.length;){var n=i[e];if(++e,n.startIndex<=t&&n.endIndex>=t)return n.lineIndex}return-1},getLineLength:function(t){if(this.__updateLayout(),t<0||t>this.__textEngine.numLines-1)return 0;for(var e=-1,i=-1,n=0,a=this.__textEngine.layoutGroups;n<a.length;){var s=a[n];if(++n,s.lineIndex==t)e==-1&&(e=s.startIndex);else if(s.lineIndex==t+1){i=s.startIndex;break}}return i==-1&&(i=this.__textEngine.text.length),i-e},getLineMetrics:function(t){this.__updateLayout();var e,i=this.__textEngine.lineAscents[t],n=this.__textEngine.lineDescents[t],a=this.__textEngine.lineLeadings[t],s=this.__textEngine.lineHeights[t],r=this.__textEngine.lineWidths[t],o=this.__textFormat.align;switch(o){case 3:case 2:case 5:e=2;break;case 4:case 1:e=this.__textEngine.width-r-2;break;case 0:e=(this.__textEngine.width-r)/2}return new El(e,r,s,i,n,a)},getLineOffset:function(t){if(this.__updateLayout(),t<0||t>this.__textEngine.numLines-1)return-1;for(var e=0,i=this.__textEngine.layoutGroups;e<i.length;){var n=i[e];if(++e,n.lineIndex==t)return n.startIndex}return 0},getLineText:function(t){if(this.__updateLayout(),t<0||t>this.__textEngine.numLines-1)return null;for(var e=-1,i=-1,n=0,a=this.__textEngine.layoutGroups;n<a.length;){var s=a[n];if(++n,s.lineIndex==t)e==-1&&(e=s.startIndex);else if(s.lineIndex==t+1){i=s.startIndex;break}}return i==-1&&(i=this.__textEngine.text.length),this.__textEngine.text.substring(e,i)},getParagraphLength:function(t){if(t<0||t>this.__textEngine.text.length-1)return 0;var e=this.getFirstCharInParagraph(t),i=this.__textEngine.text.indexOf("\n",t)+1;return 0==i&&(i=this.__textEngine.text.length),i-e},getTextFormat:function(t,e){null==e&&(e=0),null==t&&(t=0);for(var i=null,n=0,a=this.__textEngine.textFormatRanges;n<a.length;){var s=a[n];++n,(s.start<=t&&s.end>=t||s.start<=e&&s.end>=e)&&(null==i?i=s.format.clone():(s.format.font!=i.font&&(i.font=null),s.format.size!=i.size&&(i.size=null),s.format.color!=i.color&&(i.color=null),s.format.bold!=i.bold&&(i.bold=null),s.format.italic!=i.italic&&(i.italic=null),s.format.underline!=i.underline&&(i.underline=null),s.format.url!=i.url&&(i.url=null),s.format.target!=i.target&&(i.target=null),s.format.align!=i.align&&(i.align=null),s.format.leftMargin!=i.leftMargin&&(i.leftMargin=null),s.format.rightMargin!=i.rightMargin&&(i.rightMargin=null),s.format.indent!=i.indent&&(i.indent=null),s.format.leading!=i.leading&&(i.leading=null),s.format.blockIndent!=i.blockIndent&&(i.blockIndent=null),s.format.bullet!=i.bullet&&(i.bullet=null),s.format.kerning!=i.kerning&&(i.kerning=null),s.format.letterSpacing!=i.letterSpacing&&(i.letterSpacing=null),s.format.tabStops!=i.tabStops&&(i.tabStops=null)))}return i},replaceSelectedText:function(t){if(""!=t||this.__selectionIndex!=this.__caretIndex){var e;e=this.__caretIndex<this.__selectionIndex?this.__caretIndex:this.__selectionIndex;var i;i=this.__caretIndex>this.__selectionIndex?this.__caretIndex:this.__selectionIndex,this.replaceText(e,i,t),this.__caretIndex=e+t.length,this.__selectionIndex=this.__caretIndex}},replaceText:function(t,e,i){if(!(e<t||t<0||e>this.__textEngine.text.length||null==i)){this.__textEngine.text=this.__textEngine.text.substring(0,t)+i+this.__textEngine.text.substring(e);for(var n,a=i.length-(e-t),s=0;s<this.__textEngine.textFormatRanges.length;)n=this.__textEngine.textFormatRanges[s],n.start<=t&&n.end>=e?(n.end+=a,s++):n.start>=t&&n.end<=e?(this.__textEngine.textFormatRanges.splice(s,1),a-=n.end-n.start):n.start>t&&n.start<=e?(n.start+=a,s++):s++;this.__dirty=!0,this.__layoutDirty=!0}},setSelection:function(t,e){this.__selectionIndex=t,this.__caretIndex=e},setTextFormat:function(t,e,i){null==i&&(i=0),null==e&&(e=0),null!=t.font&&(this.__textFormat.font=t.font),null!=t.size&&(this.__textFormat.size=t.size),null!=t.color&&(this.__textFormat.color=t.color),null!=t.bold&&(this.__textFormat.bold=t.bold),null!=t.italic&&(this.__textFormat.italic=t.italic),null!=t.underline&&(this.__textFormat.underline=t.underline),null!=t.url&&(this.__textFormat.url=t.url),null!=t.target&&(this.__textFormat.target=t.target),null!=t.align&&(this.__textFormat.align=t.align),null!=t.leftMargin&&(this.__textFormat.leftMargin=t.leftMargin),null!=t.rightMargin&&(this.__textFormat.rightMargin=t.rightMargin),null!=t.indent&&(this.__textFormat.indent=t.indent),null!=t.leading&&(this.__textFormat.leading=t.leading),null!=t.blockIndent&&(this.__textFormat.blockIndent=t.blockIndent),null!=t.bullet&&(this.__textFormat.bullet=t.bullet),null!=t.kerning&&(this.__textFormat.kerning=t.kerning),null!=t.letterSpacing&&(this.__textFormat.letterSpacing=t.letterSpacing),null!=t.tabStops&&(this.__textFormat.tabStops=t.tabStops),this.__dirty=!0,this.__layoutDirty=!0},__getBounds:function(t,e){this.__updateLayout();var i=Zs.__temp;this.__textEngine.bounds.__transform(i,e),t.__expand(i.x,i.y,i.width,i.height)},__getCursor:function(){return this.__textEngine.selectable?pa.TEXT:null},__getPosition:function(t,e){this.__updateLayout(),t+=this.get_scrollH();for(var i=0,n=this.get_scrollV()-1;i<n;){var a=i++;e+=this.__textEngine.lineHeights[a]}e>this.__textEngine.textHeight&&(e=this.__textEngine.textHeight);for(var s,r,o=!0,l=0,_=this.__textEngine.layoutGroups.length;l<_;){var h=l++;if(s=this.__textEngine.layoutGroups[h],r=h<this.__textEngine.layoutGroups.length-1?this.__textEngine.layoutGroups[h+1]:null,o&&(e<s.offsetY&&(e=s.offsetY),t<s.offsetX&&(t=s.offsetX),o=!1),(e>=s.offsetY&&e<=s.offsetY+s.height||null==r)&&(t>=s.offsetX&&t<=s.offsetX+s.width||null==r||r.lineIndex!=s.lineIndex)){for(var c=0,u=0,d=s.advances.length;u<d;){var m=u++;if(c+=s.advances[m],t<=s.offsetX+c)return t<=s.offsetX+(c-s.advances[m])+s.advances[m]/2?s.startIndex+m:s.startIndex+m<s.endIndex?s.startIndex+m+1:s.endIndex}return s.endIndex}}return this.__textEngine.text.length},__hitTest:function(t,e,i,n,a,s){if(!s.get_visible()||this.__isMask||a&&!this.mouseEnabled)return!1;if(null!=this.get_mask()&&!this.get_mask().__hitTestMask(t,e))return!1;this.__getWorldTransform(),this.__updateLayout();var r=this.__worldTransform.__transformInverseX(t,e),o=this.__worldTransform.__transformInverseY(t,e);return!!this.__textEngine.bounds.contains(r,o)&&(null!=n&&n.push(s),!0)},__hitTestMask:function(t,e){this.__getWorldTransform(),this.__updateLayout();var i=this.__worldTransform.__transformInverseX(t,e),n=this.__worldTransform.__transformInverseY(t,e);return!!this.__textEngine.bounds.contains(i,n)},__renderCairo:function(t){ws.render(this,t),u.prototype.__renderCairo.call(this,t)},__renderCanvas:function(t){if(Is.render(this,t),0==this.__textEngine.antiAliasType&&1==this.__textEngine.gridFitType){var e=t.context.imageSmoothingEnabled;e&&(t.context.mozImageSmoothingEnabled=!1,t.context.msImageSmoothingEnabled=!1,t.context.imageSmoothingEnabled=!1),u.prototype.__renderCanvas.call(this,t),e&&(t.context.mozImageSmoothingEnabled=!0,t.context.msImageSmoothingEnabled=!0,t.context.imageSmoothingEnabled=!0)}else u.prototype.__renderCanvas.call(this,t)},__renderDOM:function(t){Ps.render(this,t)},__renderGL:function(t){return this.__cacheAsBitmap?void this.__cacheGL(t):(null!=this.__scrollRect&&t.maskManager.pushRect(this.__scrollRect,this.__renderTransform),null!=this.__mask&&null!=this.__maskGraphics&&this.__maskGraphics.__commands.get_length()>0&&t.maskManager.pushMask(this),Is.render(this,t),Fs.renderBitmap(this,t,0!=this.__textEngine.antiAliasType||1!=this.__textEngine.gridFitType),null!=this.__mask&&null!=this.__maskGraphics&&this.__maskGraphics.__commands.get_length()>0&&t.maskManager.popMask(),void(null!=this.__scrollRect&&t.maskManager.popRect()))},__startCursorTimer:function(){this.__cursorTimer=ze.delay(a(this,this.__startCursorTimer),600),this.__showCursor=!this.__showCursor,this.__dirty=!0},__startTextInput:function(){this.__caretIndex<0&&(this.__caretIndex=this.__textEngine.text.length,this.__selectionIndex=this.__caretIndex),null!=this.stage&&(this.stage.window.backend.setEnableTextEvents(!0),this.__inputEnabled||(this.stage.window.backend.setEnableTextEvents(!0),this.stage.window.onTextInput.has(a(this,this.window_onTextInput))||(this.stage.window.onTextInput.add(a(this,this.window_onTextInput)),this.stage.window.onKeyDown.add(a(this,this.window_onKeyDown))),this.__inputEnabled=!0,this.__startCursorTimer()))},__stopCursorTimer:function(){null!=this.__cursorTimer&&(this.__cursorTimer.stop(),this.__cursorTimer=null),this.__showCursor&&(this.__showCursor=!1,this.__dirty=!0)},__stopTextInput:function(){this.__inputEnabled&&null!=this.stage&&(this.stage.window.backend.setEnableTextEvents(!1),this.stage.window.onTextInput.remove(a(this,this.window_onTextInput)),this.stage.window.onKeyDown.remove(a(this,this.window_onKeyDown)),this.__inputEnabled=!1,this.__stopCursorTimer())},__updateLayout:function(){if(this.__layoutDirty){if(this.__textEngine.update(),2!=this.__textEngine.autoSize){var t=this.__textEngine.width,e=(this.__textEngine.height,this.__textEngine.autoSize);switch(e){case 1:case 3:case 0:this.__textEngine.wordWrap||(this.__textEngine.width=this.__textEngine.textWidth+4),this.__textEngine.height=this.__textEngine.textHeight+4}if(this.__textEngine.width!=t){var i=this.__textEngine.autoSize;switch(i){case 3:var n=this;n.set_x(n.get_x()+(t-this.__textEngine.width));break;case 0:var a=this;a.set_x(a.get_x()+(t-this.__textEngine.width)/2)}}this.__textEngine.getBounds()}this.__layoutDirty=!1}},get_antiAliasType:function(){return this.__textEngine.antiAliasType},set_antiAliasType:function(t){return t!=this.__textEngine.antiAliasType,this.__textEngine.antiAliasType=t},get_autoSize:function(){return this.__textEngine.autoSize},set_autoSize:function(t){return t!=this.__textEngine.autoSize&&(this.__dirty=!0,this.__layoutDirty=!0),this.__textEngine.autoSize=t},get_background:function(){return this.__textEngine.background},set_background:function(t){return t!=this.__textEngine.background&&(this.__dirty=!0),this.__textEngine.background=t},get_backgroundColor:function(){return this.__textEngine.backgroundColor},set_backgroundColor:function(t){return t!=this.__textEngine.backgroundColor&&(this.__dirty=!0),this.__textEngine.backgroundColor=t},get_border:function(){return this.__textEngine.border},set_border:function(t){return t!=this.__textEngine.border&&(this.__dirty=!0),this.__textEngine.border=t},get_borderColor:function(){return this.__textEngine.borderColor},set_borderColor:function(t){return t!=this.__textEngine.borderColor&&(this.__dirty=!0),this.__textEngine.borderColor=t},get_bottomScrollV:function(){return this.__updateLayout(),this.__textEngine.bottomScrollV},get_caretIndex:function(){return this.__caretIndex},get_defaultTextFormat:function(){return this.__textFormat.clone()},set_defaultTextFormat:function(t){return this.__textFormat.__merge(t),this.__layoutDirty=!0,this.__dirty=!0,t},get_displayAsPassword:function(){return this.__textEngine.displayAsPassword},set_displayAsPassword:function(t){return t!=this.__textEngine.displayAsPassword&&(this.__dirty=!0,this.__layoutDirty=!0),this.__textEngine.displayAsPassword=t},get_embedFonts:function(){return this.__textEngine.embedFonts},set_embedFonts:function(t){return this.__textEngine.embedFonts=t},get_gridFitType:function(){return this.__textEngine.gridFitType},set_gridFitType:function(t){return this.__textEngine.gridFitType=t},get_height:function(){return this.__updateLayout(),this.__textEngine.height},set_height:function(t){return 1==this.get_scaleY()&&t==this.__textEngine.height||(this.__transformDirty||(this.__transformDirty=!0,c.__worldTransformDirty++),this.__dirty=!0,this.__layoutDirty=!0),this.set_scaleY(1),this.__textEngine.height=t},get_htmlText:function(){return this.__textEngine.text},set_htmlText:function(t){if(this.__isHTML&&this.__textEngine.text==t||(this.__dirty=!0,this.__layoutDirty=!0),this.__isHTML=!0,null==this.__div){t=new I("<br>","g").replace(t,"\n"),t=new I("<br/>","g").replace(t,"\n");var e=t.split("<font");if(1==e.length){t=new I("<.*?>","g").replace(t,""),this.__textEngine.textFormatRanges.length>1&&this.__textEngine.textFormatRanges.splice(1,this.__textEngine.textFormatRanges.length-1);var i=this.__textEngine.textFormatRanges[0];return i.format=this.__textFormat,i.start=0,i.end=t.length,this.__textEngine.text=t}this.__textEngine.textFormatRanges.splice(0,this.__textEngine.textFormatRanges.length),t="";for(var n=0;n<e.length;){var a=e[n];if(++n,""!=a){var s=a.indexOf("</font>");if(s>-1){var r=a.indexOf(">")+1,o=s,l=this.__textFormat.clone(),_=a.indexOf("face="),h=a.indexOf("color="),c=a.indexOf("size=");if(_>-1&&_<r){var u=a.indexOf('"',_);l.font=T.substr(a,_+6,u)}h>-1&&h<r&&(l.color=G.parseInt("0x"+T.substr(a,h+8,6))),c>-1&&c<r&&(l.size=G.parseInt(function(t){var e,i=a.indexOf('"',c);return e=T.substr(a,c+6,i)}(this)));var d=a.substring(r,o);d=new I("<.*?>","g").replace(d,""),this.__textEngine.textFormatRanges.push(new mr(l,t.length,t.length+d.length)),t+=d,s+7<a.length&&(d=T.substr(a,s+7,null),this.__textEngine.textFormatRanges.push(new mr(this.__textFormat,t.length,t.length+d.length)),t+=d)}else this.__textEngine.textFormatRanges.push(new mr(this.__textFormat,t.length,t.length+a.length)),t+=a}}}return this.__textEngine.text=t},get_length:function(){return null!=this.__textEngine.text?this.__textEngine.text.length:0},get_maxChars:function(){return this.__textEngine.maxChars},set_maxChars:function(t){return t!=this.__textEngine.maxChars&&(this.__dirty=!0,this.__layoutDirty=!0),this.__textEngine.maxChars=t},get_maxScrollH:function(){return this.__updateLayout(),this.__textEngine.maxScrollH},get_maxScrollV:function(){return this.__updateLayout(),this.__textEngine.maxScrollV},get_multiline:function(){return this.__textEngine.multiline},set_multiline:function(t){return t!=this.__textEngine.multiline&&(this.__dirty=!0,this.__layoutDirty=!0),this.__textEngine.multiline=t},get_numLines:function(){return this.__updateLayout(),this.__textEngine.numLines},get_restrict:function(){return this.__textEngine.restrict},set_restrict:function(t){return this.__textEngine.restrict=t},get_scrollH:function(){return this.__textEngine.scrollH},set_scrollH:function(t){return t>this.__textEngine.maxScrollH&&(t=this.__textEngine.maxScrollH),t<0&&(t=0),t!=this.__textEngine.scrollH&&(this.__dirty=!0),this.__textEngine.scrollH=t},get_scrollV:function(){return this.__textEngine.scrollV},set_scrollV:function(t){return t>this.__textEngine.maxScrollV&&(t=this.__textEngine.maxScrollV),t<1&&(t=1),t!=this.__textEngine.scrollV&&(this.__dirty=!0),this.__textEngine.scrollV=t},get_selectable:function(){return this.__textEngine.selectable},set_selectable:function(t){return t!=this.__textEngine.selectable&&1==this.get_type()&&(null!=this.stage&&this.stage.get_focus()==this?this.__startTextInput():t||this.__stopTextInput()),this.__textEngine.selectable=t},get_selectionBeginIndex:function(){return G["int"](Math.min(this.__caretIndex,this.__selectionIndex))},get_selectionEndIndex:function(){return G["int"](Math.max(this.__caretIndex,this.__selectionIndex))},get_sharpness:function(){return this.__textEngine.sharpness},set_sharpness:function(t){return t!=this.__textEngine.sharpness&&(this.__dirty=!0),this.__textEngine.sharpness=t},get_text:function(){return this.__textEngine.text},set_text:function(t){if(!this.__isHTML&&this.__textEngine.text==t)return t;this.__dirty=!0,this.__layoutDirty=!0,this.__textEngine.textFormatRanges.length>1&&this.__textEngine.textFormatRanges.splice(1,this.__textEngine.textFormatRanges.length-1);var e=this.__textEngine.textFormatRanges[0];return e.format=this.__textFormat,e.start=0,e.end=t.length,this.__isHTML=!1,this.__textEngine.text=t;
},get_textColor:function(){return this.__textFormat.color},set_textColor:function(t){t!=this.__textFormat.color&&(this.__dirty=!0);for(var e=0,i=this.__textEngine.textFormatRanges;e<i.length;){var n=i[e];++e,n.format.color=t}return this.__textFormat.color=t},get_textWidth:function(){return this.__updateLayout(),this.__textEngine.textWidth},get_textHeight:function(){return this.__updateLayout(),this.__textEngine.textHeight},get_type:function(){return this.__textEngine.type},set_type:function(t){return t!=this.__textEngine.type&&(1==t?(this.addEventListener("focusIn",a(this,this.this_onFocusIn)),this.addEventListener("focusOut",a(this,this.this_onFocusOut)),this.addEventListener("addedToStage",a(this,this.this_onAddedToStage)),this.this_onFocusIn(null)):(this.removeEventListener("focusIn",a(this,this.this_onFocusIn)),this.removeEventListener("focusOut",a(this,this.this_onFocusOut)),this.removeEventListener("addedToStage",a(this,this.this_onAddedToStage)),this.__stopTextInput()),this.__dirty=!0),this.__textEngine.type=t},get_width:function(){return this.__updateLayout(),this.__textEngine.width},set_width:function(t){return 1==this.get_scaleX()&&this.__textEngine.width==t||(this.__transformDirty||(this.__transformDirty=!0,c.__worldTransformDirty++),this.__dirty=!0,this.__layoutDirty=!0),this.set_scaleX(1),this.__textEngine.width=t},get_wordWrap:function(){return this.__textEngine.wordWrap},set_wordWrap:function(t){return t!=this.__textEngine.wordWrap&&(this.__dirty=!0,this.__layoutDirty=!0),this.__textEngine.wordWrap=t},stage_onMouseMove:function(t){if(null!=this.stage&&this.__textEngine.selectable&&this.__selectionIndex>=0){this.__updateLayout();var e=this.__getPosition(this.get_mouseX(),this.get_mouseY());e!=this.__caretIndex&&(this.__caretIndex=e,this.__dirty=!0)}},stage_onMouseUp:function(t){if(null!=this.stage&&(this.stage.removeEventListener("mouseMove",a(this,this.stage_onMouseMove)),this.stage.removeEventListener("mouseUp",a(this,this.stage_onMouseUp)),this.stage.get_focus()==this)){this.__getWorldTransform(),this.__updateLayout();var e,i,n=(this.__worldTransform.__transformInverseX(this.get_x(),this.get_y()),this.__worldTransform.__transformInverseY(this.get_x(),this.get_y()),this.__getPosition(this.get_mouseX(),this.get_mouseY()));e=G["int"](Math.min(this.__selectionIndex,n)),i=G["int"](Math.max(this.__selectionIndex,n)),this.__selectionIndex=e,this.__caretIndex=i,this.__inputEnabled&&(this.this_onFocusIn(null),this.__stopCursorTimer(),this.__startCursorTimer())}},this_onAddedToStage:function(t){this.this_onFocusIn(null)},this_onFocusIn:function(t){this.get_selectable()&&1==this.get_type()&&null!=this.stage&&this.stage.get_focus()==this&&this.__startTextInput()},this_onFocusOut:function(t){this.__stopTextInput()},this_onMouseDown:function(t){this.get_selectable()&&(this.__updateLayout(),this.__caretIndex=this.__getPosition(this.get_mouseX(),this.get_mouseY()),this.__selectionIndex=this.__caretIndex,this.__dirty=!0,this.stage.addEventListener("mouseMove",a(this,this.stage_onMouseMove)),this.stage.addEventListener("mouseUp",a(this,this.stage_onMouseUp)))},window_onKeyDown:function(t,e){switch(t){case 8:this.__selectionIndex==this.__caretIndex&&this.__caretIndex>0&&(this.__selectionIndex=this.__caretIndex-1),this.__selectionIndex!=this.__caretIndex&&(this.replaceSelectedText(""),this.__selectionIndex=this.__caretIndex,this.dispatchEvent(new Ro("change",(!0))));break;case 127:this.__selectionIndex==this.__caretIndex&&this.__caretIndex<this.__textEngine.text.length&&(this.__selectionIndex=this.__caretIndex+1),this.__selectionIndex!=this.__caretIndex&&(this.replaceSelectedText(""),this.__selectionIndex=this.__caretIndex,this.dispatchEvent(new Ro("change",(!0))));break;case 1073741904:ma.get_shiftKey(e)?this.__caretIndex>0&&this.__caretIndex--:(this.__selectionIndex==this.__caretIndex?this.__caretIndex>0&&this.__caretIndex--:this.__caretIndex=G["int"](Math.min(this.__caretIndex,this.__selectionIndex)),this.__selectionIndex=this.__caretIndex),this.__stopCursorTimer(),this.__startCursorTimer();break;case 1073741903:ma.get_shiftKey(e)?this.__caretIndex<this.__textEngine.text.length&&this.__caretIndex++:(this.__selectionIndex==this.__caretIndex?this.__caretIndex<this.__textEngine.text.length&&this.__caretIndex++:this.__caretIndex=G["int"](Math.max(this.__caretIndex,this.__selectionIndex)),this.__selectionIndex=this.__caretIndex),this.__stopCursorTimer(),this.__startCursorTimer();break;case 99:64!=e&&128!=e||Kn.set_text(this.__textEngine.text.substring(this.__caretIndex,this.__selectionIndex));break;case 120:64!=e&&128!=e||(Kn.set_text(this.__textEngine.text.substring(this.__caretIndex,this.__selectionIndex)),this.__caretIndex!=this.__selectionIndex&&(this.replaceSelectedText(""),this.dispatchEvent(new Ro("change",(!0)))));break;case 118:if(64==e||128==e){var i=Kn.get_text();null!=i?this.replaceSelectedText(i):this.replaceSelectedText(""),this.dispatchEvent(new Ro("change",(!0)))}else this.__textEngine.textFormatRanges[this.__textEngine.textFormatRanges.length-1].end=this.__textEngine.text.length}},window_onTextInput:function(t){this.replaceSelectedText(t),this.dispatchEvent(new Ro("change",(!0)))},__class__:xl,__properties__:n(u.prototype.__properties__,{set_wordWrap:"set_wordWrap",get_wordWrap:"get_wordWrap",set_type:"set_type",get_type:"get_type",get_textWidth:"get_textWidth",get_textHeight:"get_textHeight",set_textColor:"set_textColor",get_textColor:"get_textColor",set_text:"set_text",get_text:"get_text",set_sharpness:"set_sharpness",get_sharpness:"get_sharpness",get_selectionEndIndex:"get_selectionEndIndex",get_selectionBeginIndex:"get_selectionBeginIndex",set_selectable:"set_selectable",get_selectable:"get_selectable",set_scrollV:"set_scrollV",get_scrollV:"get_scrollV",set_scrollH:"set_scrollH",get_scrollH:"get_scrollH",set_restrict:"set_restrict",get_restrict:"get_restrict",get_numLines:"get_numLines",set_multiline:"set_multiline",get_multiline:"get_multiline",get_maxScrollV:"get_maxScrollV",get_maxScrollH:"get_maxScrollH",set_maxChars:"set_maxChars",get_maxChars:"get_maxChars",get_length:"get_length",set_htmlText:"set_htmlText",get_htmlText:"get_htmlText",set_gridFitType:"set_gridFitType",get_gridFitType:"get_gridFitType",set_embedFonts:"set_embedFonts",get_embedFonts:"get_embedFonts",set_displayAsPassword:"set_displayAsPassword",get_displayAsPassword:"get_displayAsPassword",set_defaultTextFormat:"set_defaultTextFormat",get_defaultTextFormat:"get_defaultTextFormat",get_caretIndex:"get_caretIndex",get_bottomScrollV:"get_bottomScrollV",set_borderColor:"set_borderColor",get_borderColor:"get_borderColor",set_border:"set_border",get_border:"get_border",set_backgroundColor:"set_backgroundColor",get_backgroundColor:"get_backgroundColor",set_background:"set_background",get_background:"get_background",set_autoSize:"set_autoSize",get_autoSize:"get_autoSize",set_antiAliasType:"set_antiAliasType",get_antiAliasType:"get_antiAliasType"})});var bl={};s["openfl.text._TextFieldAutoSize.TextFieldAutoSize_Impl_"]=bl,bl.__name__=["openfl","text","_TextFieldAutoSize","TextFieldAutoSize_Impl_"],bl.fromString=function(t){switch(t){case"center":return 0;case"left":return 1;case"none":return 2;case"right":return 3;default:return null}},bl.toString=function(t){switch(t){case 0:return"center";case 1:return"left";case 2:return"none";case 3:return"right";default:return null}};var wl={};s["openfl.text._TextFieldType.TextFieldType_Impl_"]=wl,wl.__name__=["openfl","text","_TextFieldType","TextFieldType_Impl_"],wl.fromString=function(t){switch(t){case"dynamic":return 0;case"input":return 1;default:return null}},wl.toString=function(t){switch(t){case 0:return"dynamic";case 1:return"input";default:return null}};var Tl=function(t,e,i,n,a,s,r,o,l,_,h,c,u){this.font=t,this.size=e,this.color=i,this.bold=n,this.italic=a,this.underline=s,this.url=r,this.target=o,this.align=l,this.leftMargin=_,this.rightMargin=h,this.indent=c,this.leading=u};s["openfl.text.TextFormat"]=Tl,Tl.__name__=["openfl","text","TextFormat"],Tl.prototype={clone:function(){var t=new Tl(this.font,this.size,this.color,this.bold,this.italic,this.underline,this.url,this.target);return t.align=this.align,t.leftMargin=this.leftMargin,t.rightMargin=this.rightMargin,t.indent=this.indent,t.leading=this.leading,t.blockIndent=this.blockIndent,t.bullet=this.bullet,t.kerning=this.kerning,t.letterSpacing=this.letterSpacing,t.tabStops=this.tabStops,t},__merge:function(t){null!=t.font&&(this.font=t.font),null!=t.size&&(this.size=t.size),null!=t.color&&(this.color=t.color),null!=t.bold&&(this.bold=t.bold),null!=t.italic&&(this.italic=t.italic),null!=t.underline&&(this.underline=t.underline),null!=t.url&&(this.url=t.url),null!=t.target&&(this.target=t.target),null!=t.align&&(this.align=t.align),null!=t.leftMargin&&(this.leftMargin=t.leftMargin),null!=t.rightMargin&&(this.rightMargin=t.rightMargin),null!=t.indent&&(this.indent=t.indent),null!=t.leading&&(this.leading=t.leading),null!=t.blockIndent&&(this.blockIndent=t.blockIndent),null!=t.bullet&&(this.bullet=t.bullet),null!=t.kerning&&(this.kerning=t.kerning),null!=t.letterSpacing&&(this.letterSpacing=t.letterSpacing),null!=t.tabStops&&(this.tabStops=t.tabStops)},__class__:Tl};var Al={};s["openfl.text._TextFormatAlign.TextFormatAlign_Impl_"]=Al,Al.__name__=["openfl","text","_TextFormatAlign","TextFormatAlign_Impl_"],Al.fromString=function(t){switch(t){case"center":return 0;case"end":return 1;case"justify":return 2;case"left":return 3;case"right":return 4;case"start":return 5;default:return null}},Al.toString=function(t){switch(t){case 0:return"center";case 1:return"end";case 2:return"justify";case 3:return"left";case 4:return"right";case 5:return"start";default:return null}};var El=function(t,e,i,n,a,s){this.x=t,this.width=e,this.height=i,this.ascent=n,this.descent=a,this.leading=s};s["openfl.text.TextLineMetrics"]=El,El.__name__=["openfl","text","TextLineMetrics"],El.prototype={__class__:El};var Sl=function(){_.call(this),Sl.__instances.push(this)};s["openfl.ui.GameInput"]=Sl,Sl.__name__=["openfl","ui","GameInput"],Sl.getDeviceAt=function(t){return t>=0&&t<Sl.__deviceList.length?Sl.__deviceList[t]:null},Sl.__getDevice=function(t){if(null==t)return null;if(null==Sl.__devices.h.__keys__[t.__id__]){var e=new Il(t.get_guid(),t.get_name());Sl.__deviceList.push(e),Sl.__devices.set(t,e),Sl.numDevices=Sl.__deviceList.length}return Sl.__devices.h[t.__id__]},Sl.__onGamepadAxisMove=function(t,e,i){var n=Sl.__getDevice(t);if(null!=n&&n.enabled){if(!n.__axis.h.hasOwnProperty(e)){var a=new Cl(n,"AXIS_"+function(t){var i;switch(e){case 0:i="LEFT_X";break;case 1:i="LEFT_Y";break;case 2:i="RIGHT_X";break;case 3:i="RIGHT_Y";break;case 4:i="TRIGGER_LEFT";break;case 5:i="TRIGGER_RIGHT";break;default:i="UNKNOWN ("+e+")"}return i}(this),(-1),1);n.__axis.h[e]=a,n.__controls.push(a)}var s=n.__axis.h[e];s.value=i,s.dispatchEvent(new Ro("change"))}},Sl.__onGamepadButtonDown=function(t,e){var i=Sl.__getDevice(t);if(null!=i&&i.enabled){if(!i.__button.h.hasOwnProperty(e)){var n=new Cl(i,"BUTTON_"+function(t){var i;switch(e){case 0:i="A";break;case 1:i="B";break;case 2:i="X";break;case 3:i="Y";break;case 4:i="BACK";break;case 5:i="GUIDE";break;case 6:i="START";break;case 7:i="LEFT_STICK";break;case 8:i="RIGHT_STICK";break;case 9:i="LEFT_SHOULDER";break;case 10:i="RIGHT_SHOULDER";break;case 11:i="DPAD_UP";break;case 12:i="DPAD_DOWN";break;case 13:i="DPAD_LEFT";break;case 14:i="DPAD_RIGHT";break;default:i="UNKNOWN ("+e+")"}return i}(this),0,1);i.__button.h[e]=n,i.__controls.push(n)}var a=i.__button.h[e];a.value=1,a.dispatchEvent(new Ro("change"))}},Sl.__onGamepadButtonUp=function(t,e){var i=Sl.__getDevice(t);if(null!=i&&i.enabled){if(!i.__button.h.hasOwnProperty(e)){var n=new Cl(i,"BUTTON_"+function(t){var i;switch(e){case 0:i="A";break;case 1:i="B";break;case 2:i="X";break;case 3:i="Y";break;case 4:i="BACK";break;case 5:i="GUIDE";break;case 6:i="START";break;case 7:i="LEFT_STICK";break;case 8:i="RIGHT_STICK";break;case 9:i="LEFT_SHOULDER";break;case 10:i="RIGHT_SHOULDER";break;case 11:i="DPAD_UP";break;case 12:i="DPAD_DOWN";break;case 13:i="DPAD_LEFT";break;case 14:i="DPAD_RIGHT";break;default:i="UNKNOWN ("+e+")"}return i}(this),0,1);i.__button.h[e]=n,i.__controls.push(n)}var a=i.__button.h[e];a.value=0,a.dispatchEvent(new Ro("change"))}},Sl.__onGamepadConnect=function(t){var e=Sl.__getDevice(t);if(null!=e)for(var i=0,n=Sl.__instances;i<n.length;){var a=n[i];++i,a.dispatchEvent(new Uo("deviceAdded",null,null,e))}},Sl.__onGamepadDisconnect=function(t){var e=Sl.__devices.h[t.__id__];if(null!=e){if(null!=Sl.__devices.h.__keys__[t.__id__]){var i=Sl.__devices.h[t.__id__];T.remove(Sl.__deviceList,i),Sl.__devices.remove(t)}Sl.numDevices=Sl.__deviceList.length;for(var n=0,a=Sl.__instances;n<a.length;){var s=a[n];++n,s.dispatchEvent(new Uo("deviceRemoved",null,null,e))}}},Sl.__super__=_,Sl.prototype=n(_.prototype,{__class__:Sl});var Cl=function(t,e,i,n,a){null==a&&(a=0),_.call(this),this.device=t,this.id=e,this.minValue=i,this.maxValue=n,this.value=a};s["openfl.ui.GameInputControl"]=Cl,Cl.__name__=["openfl","ui","GameInputControl"],Cl.__super__=_,Cl.prototype=n(_.prototype,{__class__:Cl});var Il=function(t,e){this.__controls=[],this.__button=new qe,this.__axis=new qe,this.id=t,this.name=e;for(var i,n=0;n<6;){var a=n++;i=new Cl(this,"AXIS_"+a,(-1),1),this.__axis.h[a]=i,this.__controls.push(i)}for(var s=0;s<15;){var r=s++;i=new Cl(this,"BUTTON_"+r,0,1),this.__button.h[r]=i,this.__controls.push(i)}};s["openfl.ui.GameInputDevice"]=Il,Il.__name__=["openfl","ui","GameInputDevice"],Il.prototype={getCachedSamples:function(t,e){return null==e&&(e=!1),0},getControlAt:function(t){return t>=0&&t<this.__controls.length?this.__controls[t]:null},startCachingSamples:function(t,e){},stopCachingSamples:function(){},get_numControls:function(){return this.__controls.length},__class__:Il,__properties__:{get_numControls:"get_numControls"}};var Ll=function(){};s["openfl.ui.Keyboard"]=Ll,Ll.__name__=["openfl","ui","Keyboard"],Ll.capsLock=null,Ll.numLock=null,Ll.isAccessible=function(){return!1},Ll.__convertKeyCode=function(t){switch(t){case 8:return 8;case 9:return 9;case 13:return 13;case 27:return 27;case 32:return 32;case 33:return 49;case 34:return 222;case 35:return 51;case 36:return 52;case 37:return 53;case 38:return 55;case 39:return 222;case 40:return 57;case 41:return 48;case 42:return 56;case 44:return 188;case 45:return 189;case 46:return 190;case 47:return 191;case 48:return 48;case 49:return 49;case 50:return 50;case 51:return 51;case 52:return 52;case 53:return 53;case 54:return 54;case 55:return 55;case 56:return 56;case 57:return 57;case 58:return 186;case 59:return 186;case 60:return 60;case 61:return 187;case 62:return 190;case 63:return 191;case 64:return 50;case 91:return 219;case 92:return 220;case 93:return 221;case 94:return 54;case 95:return 189;case 96:return 192;case 97:return 65;case 98:return 66;case 99:return 67;case 100:return 68;case 101:return 69;case 102:return 70;case 103:return 71;case 104:return 72;case 105:return 73;case 106:return 74;case 107:return 75;case 108:return 76;case 109:return 77;case 110:return 78;case 111:return 79;case 112:return 80;case 113:return 81;case 114:return 82;case 115:return 83;case 116:return 84;case 117:return 85;case 118:return 86;case 119:return 87;case 120:return 88;case 121:return 89;case 122:return 90;case 127:return 46;case 1073741881:return 20;case 1073741882:return 112;case 1073741883:return 113;case 1073741884:return 114;case 1073741885:return 115;case 1073741886:return 116;case 1073741887:return 117;case 1073741888:return 118;case 1073741889:return 119;case 1073741890:return 120;case 1073741891:return 121;case 1073741892:return 122;case 1073741893:return 123;case 1073741894:return 301;case 1073741895:return 145;case 1073741896:return 19;case 1073741897:return 45;case 1073741898:return 36;case 1073741899:return 33;case 1073741901:return 35;case 1073741902:return 34;case 1073741903:return 39;case 1073741904:return 37;case 1073741905:return 40;case 1073741906:return 38;case 1073741907:return 144;case 1073741908:return 111;case 1073741909:return 106;case 1073741910:return 109;case 1073741911:return 107;case 1073741912:return 108;case 1073741913:return 97;case 1073741914:return 98;case 1073741915:return 99;case 1073741916:return 100;case 1073741917:return 101;case 1073741918:return 102;case 1073741919:return 103;case 1073741920:return 104;case 1073741921:return 105;case 1073741922:return 96;case 1073741923:return 110;case 1073741925:return 302;case 1073741928:return 124;case 1073741929:return 125;case 1073741930:return 126;case 1073741982:return 13;case 1073742044:return 110;case 1073742048:return 17;case 1073742049:return 16;case 1073742050:return 18;case 1073742051:return 15;case 1073742052:return 17;case 1073742053:return 16;case 1073742054:return 18;case 1073742055:return 15;default:return t}},Ll.__getCharCode=function(t,e){if(null==e&&(e=!1),e){switch(t){case 48:return 41;case 49:return 33;case 50:return 64;case 51:return 35;case 52:return 36;case 53:return 37;case 54:return 94;case 55:return 38;case 56:return 42;case 57:return 40;case 186:return 58;case 187:return 43;case 188:return 60;case 189:return 95;case 190:return 62;case 191:return 63;case 192:return 126;case 219:return 123;case 220:return 124;case 221:return 125;case 222:return 34}if(t>=65&&t<=90)return t-65+65}else{switch(t){case 8:return 8;case 9:return 9;case 13:return 13;case 27:return 27;case 32:return 32;case 186:return 59;case 187:return 61;case 188:return 44;case 189:return 45;case 190:return 46;case 191:return 47;case 192:return 96;case 219:return 91;case 220:return 92;case 221:return 93;case 222:return 39}if(t>=48&&t<=57)return t-48+48;if(t>=65&&t<=90)return t-65+97}if(t>=96&&t<=105)return t-96+48;switch(t){case 106:return 42;case 107:return 43;case 108:return 44;case 110:return 45;case 111:return 46;case 46:return 127;case 13:return 13;case 8:return 8}return 0},Ll.__getKeyLocation=function(t){switch(t){case 1073742048:case 1073742049:case 1073742050:case 1073742051:return 1;case 1073742052:case 1073742053:case 1073742054:case 1073742055:return 2;case 1073741908:case 1073741909:case 1073741910:case 1073741911:case 1073741912:case 1073741913:case 1073741914:case 1073741915:case 1073741916:case 1073741917:case 1073741918:case 1073741919:case 1073741920:case 1073741921:case 1073741922:case 1073741923:case 1073742044:return 3;default:return 0}};var Ml=function(){};s["openfl.ui.Multitouch"]=Ml,Ml.__name__=["openfl","ui","Multitouch"],Ml.__properties__={get_supportsTouchEvents:"get_supportsTouchEvents",set_inputMode:"set_inputMode",get_inputMode:"get_inputMode"},Ml.maxTouchPoints=null,Ml.supportedGestures=null,Ml.supportsGestureEvents=null,Ml.supportsTouchEvents=null,Ml.get_inputMode=function(){return 2},Ml.set_inputMode=function(t){return 0==t?Ml.get_inputMode():t},Ml.get_supportsTouchEvents=function(){return!!("ontouchstart"in document.documentElement||window.DocumentTouch&&document instanceof DocumentTouch)};var Bl={};s["openfl.ui._MultitouchInputMode.MultitouchInputMode_Impl_"]=Bl,Bl.__name__=["openfl","ui","_MultitouchInputMode","MultitouchInputMode_Impl_"],Bl.fromString=function(t){switch(t){case"gesture":return 0;case"none":return 1;case"touchPoint":return 2;default:return null}},Bl.toString=function(t){switch(t){case 0:return"gesture";case 1:return"none";case 2:return"touchPoint";default:return null}};var Rl={};s["openfl.utils._ByteArray.ByteArray_Impl_"]=Rl,Rl.__name__=["openfl","utils","_ByteArray","ByteArray_Impl_"],Rl.__properties__={set_length:"set_length",get_length:"get_length"},Rl.defaultObjectEncoding=null,Rl._new=function(t){return null==t&&(t=0),new Nl(t)},Rl.get=function(t,e){return t.b[e]},Rl.set=function(t,e,i){return t.b[e]=255&i,i},Rl.fromArrayBuffer=function(t){return Nl.fromBytes(ti.ofData(t))},Rl.fromBytes=function(t){return oi.__instanceof(t,Nl)?t:Nl.fromBytes(t)},Rl.fromBytesData=function(t){return Nl.fromBytes(ti.ofData(t))},Rl.toArrayBuffer=function(t){return t.b.bufferValue},Rl.toBytes=function(t){return t},Rl.toBytesData=function(t){return t.b.bufferValue},Rl.toLimeBytes=function(t){return new xa(Rl.get_length(t),t.b.bufferValue)},Rl.get_length=function(t){return t.__length},Rl.set_length=function(t,e){return e>0&&t.__resize(e),t.__length=e,e};var Dl=function(){};s["openfl.utils.IDataOutput"]=Dl,Dl.__name__=["openfl","utils","IDataOutput"],Dl.prototype={__class__:Dl,__properties__:{set_endian:"set_endian",get_endian:"get_endian"}};var Pl=function(){};s["openfl.utils.IDataInput"]=Pl,Pl.__name__=["openfl","utils","IDataInput"],Pl.prototype={__class__:Pl,__properties__:{set_endian:"set_endian",get_endian:"get_endian",get_bytesAvailable:"get_bytesAvailable"}};var Nl=function(t){null==t&&(t=0);var e=ti.alloc(t);ti.call(this,e.b.buffer),this.__length=t,this.__endian=0,this.position=0};s["openfl.utils.ByteArrayData"]=Nl,Nl.__name__=["openfl","utils","ByteArrayData"],Nl.__interfaces__=[Dl,Pl],Nl.fromBytes=function(t){var e=new Nl;return e.__fromBytes(t),e},Nl.__super__=ti,Nl.prototype=n(ti.prototype,{clear:function(){this.__length=0,this.position=0},compress:function(t){this.__length=this.length,this.position=this.__length},deflate:function(){this.compress(0)},inflate:function(){this.uncompress(0)},readBoolean:function(){if(this.position<this.length)return 0!=this.get(this.position++);throw new ri(new Lo)},readByte:function(){var t=this.readUnsignedByte();return 0!=(128&t)?t-256:t},readBytes:function(t,e,i){if(null==i&&(i=0),null==e&&(e=0),0==i&&(i=this.__length-this.position),this.position+i>this.__length)throw new ri(new Lo);t.__length<e+i&&t.__resize(e+i),t.blit(e,this,this.position,i),this.position+=i},readDouble:function(){if(this.position+8>this.__length)throw new ri(new Lo);return this.position+=8,this.getDouble(this.position-8)},readFloat:function(){if(this.position+4>this.__length)throw new ri(new Lo);return this.position+=4,this.getFloat(this.position-4)},readInt:function(){var t=this.readUnsignedByte(),e=this.readUnsignedByte(),i=this.readUnsignedByte(),n=this.readUnsignedByte();return 1==this.__endian?n<<24|i<<16|e<<8|t:t<<24|e<<16|i<<8|n},readMultiByte:function(t,e){return this.readUTFBytes(t)},readShort:function(){var t,e=this.readUnsignedByte(),i=this.readUnsignedByte();return t=1==this.__endian?i<<8|e:e<<8|i,0!=(32768&t)?t-65536:t},readUnsignedByte:function(){if(this.position<this.__length)return this.get(this.position++);throw new ri(new Lo)},readUnsignedInt:function(){var t=this.readUnsignedByte(),e=this.readUnsignedByte(),i=this.readUnsignedByte(),n=this.readUnsignedByte();return 1==this.__endian?n<<24|i<<16|e<<8|t:t<<24|e<<16|i<<8|n},readUnsignedShort:function(){var t=this.readUnsignedByte(),e=this.readUnsignedByte();return 1==this.__endian?(e<<8)+t:t<<8|e},readUTF:function(){var t=this.readUnsignedShort();return this.readUTFBytes(t)},readUTFBytes:function(t){if(this.position+t>this.__length)throw new ri(new Lo);return this.position+=t,this.getString(this.position-t,t)},uncompress:function(t){this.__length=this.length,this.position=0},writeBoolean:function(t){this.writeByte(t?1:0)},writeByte:function(t){this.__resize(this.position+1),this.set(this.position++,255&t)},writeBytes:function(t,e,i){if(null==i&&(i=0),null==e&&(e=0),0!=Rl.get_length(t)){if(0==i){var n=Rl.get_length(t);i=n-e}this.__resize(this.position+i),this.blit(this.position,t,e,i),this.position=this.position+i}},writeDouble:function(t){this.__resize(this.position+8),this.setDouble(this.position,t),this.position+=8},writeFloat:function(t){this.__resize(this.position+4),this.setFloat(this.position,t),this.position+=4},writeInt:function(t){this.__resize(this.position+4),1==this.__endian?(this.set(this.position++,t),this.set(this.position++,t>>8),this.set(this.position++,t>>16),this.set(this.position++,t>>24)):(this.set(this.position++,t>>24),this.set(this.position++,t>>16),this.set(this.position++,t>>8),this.set(this.position++,t))},writeMultiByte:function(t,e){this.writeUTFBytes(t)},writeShort:function(t){this.__resize(this.position+2),1==this.__endian?(this.set(this.position++,t),this.set(this.position++,t>>8)):(this.set(this.position++,t>>8),this.set(this.position++,t))},writeUnsignedInt:function(t){this.writeInt(t)},writeUTF:function(t){var e=ti.ofString(t);this.writeShort(e.length),this.writeBytes(Rl.fromBytes(e))},writeUTFBytes:function(t){ti.ofString(t);this.writeBytes(Rl.fromBytes(ti.ofString(t)))},__fromBytes:function(t){this.b=t.b,this.length=t.length,this.data=t.data,this.__length=t.length},__resize:function(t){if(t>this.length){var e=ti.alloc(3*(t+1)>>1);e.blit(0,this,0,this.length),this.b=e.b,this.length=e.length,this.data=e.data}this.__length<t&&(this.__length=t)},__setData:function(t){this.b=t.b,this.length=t.length,this.data=t.data},get_bytesAvailable:function(){return this.__length-this.position},get_endian:function(){return this.__endian},set_endian:function(t){return this.__endian=t},__class__:Nl,__properties__:{set_endian:"set_endian",get_endian:"get_endian",get_bytesAvailable:"get_bytesAvailable"}});var Fl={};s["openfl.utils._CompressionAlgorithm.CompressionAlgorithm_Impl_"]=Fl,Fl.__name__=["openfl","utils","_CompressionAlgorithm","CompressionAlgorithm_Impl_"],Fl.fromString=function(t){switch(t){case"deflate":return 0;case"lzma":return 1;case"zlib":return 2;default:return null}},Fl.toString=function(t){switch(t){case 0:return"deflate";case 1:return"lzma";case 2:return"zlib";default:return null}};var kl={};s["openfl.utils._Endian.Endian_Impl_"]=kl,kl.__name__=["openfl","utils","_Endian","Endian_Impl_"],kl.fromString=function(t){switch(t){case"bigEndian":return 0;case"littleEndian":return 1;default:return null}},kl.toString=function(t){switch(t){case 0:return"bigEndian";case 1:return"littleEndian";default:return null}};var Ol={};s["openfl.utils._Object.Object_Impl_"]=Ol,Ol.__name__=["openfl","utils","_Object","Object_Impl_"],Ol._new=function(){return{}},Ol.hasOwnProperty=function(t,e){return null!=t&&Object.prototype.hasOwnProperty.call(t,e)},Ol.isPrototypeOf=function(t,e){var i;for(i=null==t?null:oi.getClass(t);null!=i;){if(i==e)return!0;i=J.getSuperClass(i)}return!1},Ol.iterator=function(t){var e=U.fields(t);return null==e&&(e=[]),T.iter(e)},Ol.propertyIsEnumerable=function(t,e){return null!=t&&Object.prototype.hasOwnProperty.call(t,e)&&G.is(U.field(t,e),Vl)},Ol.toLocaleString=function(t){return G.string(t)},Ol.toString=function(t){return G.string(t)},Ol.valueOf=function(t){return t},Ol.__get=function(t,e){return U.field(t,e)},Ol.__set=function(t,e,i){return t[e]=i,i};var Ul=function(){};s["haxe.lang.Iterator"]=Ul,Ul.__name__=["haxe","lang","Iterator"],Ul.prototype={__class__:Ul};var Vl=function(){};s["haxe.lang.Iterable"]=Vl,Vl.__name__=["haxe","lang","Iterable"],Vl.prototype={__class__:Vl};var Gl,Wl=0;Array.prototype.indexOf&&(T.indexOf=function(t,e,i){return Array.prototype.indexOf.call(t,e,i)}),s.Math=Math,String.prototype.__class__=s.String=String,String.__name__=["String"],s.Array=Array,Array.__name__=["Array"],Date.prototype.__class__=s.Date=Date,Date.__name__=["Date"];var Xl=s.Int={__name__:["Int"]},zl=s.Dynamic={__name__:["Dynamic"]},Hl=s.Float=Number;Hl.__name__=["Float"];var Yl=s.Bool=Boolean;Yl.__ename__=["Bool"];var Kl=s.Class={__name__:["Class"]},jl={},ql={},Jl=i.ArrayBuffer||hi;null==Jl.prototype.slice&&(Jl.prototype.slice=hi.sliceImpl);var Zl,Ql=i.DataView||ci,$l=i.Uint8Array||ui._new;Zl=new Uint32Array(256),Vn.__alpha16=Zl;for(var t_=0;t_<256;){var e_=t_++,i_=Math.ceil(257.00392156862745*e_);Vn.__alpha16[e_]=i_}var n_;n_=new $l(510),Vn.__clamp=n_;for(var a_=0;a_<255;){var s_=a_++;Vn.__clamp[s_]=s_}for(var r_=255,o_=511;r_<o_;){var l_=r_++;Vn.__clamp[l_]=255}Hn.available=!1,Hn.enabled=!1,null!=window.createjs&&(createjs.Sound.alternateExtensions=["ogg","mp3","wav"]),Ml.maxTouchPoints=2,Ml.supportedGestures=null,Ml.supportsGestureEvents=!1,c.__instanceCount=0,c.__worldRenderDirty=0,c.__worldTransformDirty=0,c.__cacheAsBitmapMode=!1,g.T_GRASS=0,g.T_PLAYER=1,g.T_MONSTER=2,g.T_WALL1=3,g.T_WALL2=4,g.T_WALLDOOR=5,g.T_MUD1=6,g.T_MUD2=7,g.T_PICKUP1=8,g.T_PICKUP_KEY=9,g.T_LOCK=10,g.T_DAMAGEABLE1=11,g.T_DAMAGEABLE2=12,g.T_DAMAGEABLE3=13,g.T_VOID=14,g.T_LAVA=15,g.T_SPIKES1=16,g.T_SPIKES2=17,g.monsterAnimDATA=[[!0,3,0,1,2,3],[!0,3,4,5,6,7],[!1,5,8,8,8,8],[!0,2,12,13,14,15],[!0,3,16,17,18,19],[!0,2,20,21,22,23],[!0,1,24,25,26,27],[!0,1,28,29,30,31],[!0,5,32,33,34,33],[!0,5,36,37,38,39]],g.P_ANIM_KICK=0,g.P_ANIM_STILL=1,g.P_ANIM_WIN=2,g.P_ANIM_RIGHT=3,g.P_ANIM_HIT=4,g.P_ANIM_DEAD=5,g.P_ANIM_TELEPORT_IN=6,g.P_ANIM_TELEPORT_OUT=7,g.playerAnimDATA=[[!1,0,1,2,3,4,5,6,7,8,9,10],[!0,3,0],[!0,6,11,12,13,12],[!0,3,8,9,10,11,10,9],[!1,5,16,17,16,17,16,17,16,17,3],[!1,5,16,17,16,17,16,17,18,19],[!1,1,2,14,6,10,2,14,6,10,2,14,6,10,2,14,6,10],[!1,1,2,14,6,10,2,14,6,10,2,14,6,10,2,14,6,50]],g.K_ANIM_AMB=0,g.K_ANIM_STILL=1,g.K_ANIM_DEAD=2,g.K_ANIM_DROP=3,g.keeperAnimDATA=[[!0,5,0,5,6,5],[!0,3,0],[!0,3,7],[!0,3,6]],g.partAnimDATA=[[!0,1,0],[!1,3,0,1,2,3,4,5,6],[!0,3,12,13,14,15,14,13],[!1,2,0,1,2,3,4,5,6,7,8,9,10,11],[!1,5,16,17,16,17,16,17,16,17,3],[!1,5,16,17,16,17,16,17,18,19],[!1,1,2,14,6,10,2,14,6,10,2,14,6,10,2,14,6,10],[!1,1,2,14,6,10,2,14,6,10,2,14,6,10,2,14,6,50]],g.PART_ANIM_STILL=0,g.PART_ANIM_EXPLODE=1,g.PART_ANIM_FLESH=1,g.PART_ANIM_SMOKE=3,g.TWEEN_POP_APPEAR=0,g.TWEEN_PULSE=1,g.TWEEN_LONG_POP_APPEAR=2,g.tweenDATA=[[.1,.2,.4,.7,.9,1.1,1.3,1.25,1.15,1.05,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1.05,1.07,.8,.2,0],[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1.1,1.3,1.25,1.15,1.05,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1.05,1.07,1],[.1,.2,.4,.7,.9,1.1,1.3,1.25,1.15,1.05,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1.1,1.3,1.25,1.15,1.05,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1.05,1.07,.8,.2,0]],g.pitchDATA=[[[410,133.95,49,25,90],[410,99,19.5,0],[410,165,19.5,0]],[[400,140,40,0]],[[590,200,40,0],[230,200,40,0]],[[400,30,41,101,0],[400,95,25,0]],[[669,120,15,0],[206,160,153,29,30],[533.6,198,15,0],[600,160,153,29,150],[276,200,15,0],[137,120,15,0]],[[400,80,25,0],[580,200,25,0],[220,200,25,0]],[],[[400,120,15,0],[469.3,160,133,24,30],[538.6,200,15,0],[330.75,160,133,24,150],[261.45,200,15,0]],[],[[400,5,150,0]],[],[[400,120,15,0],[400,190,133,24,30],[538.6,200,15,0],[260,110,133,24,150],[261.45,200,15,0]],[[550,179.95,133,25,90],[255.85,171.9,133,25,90]],[[400,120,15,0],[643.7,214.9,93,24,20],[530,140,15,0],[169.85,213.9,93,24,160],[280,140,15,0]],[[390,60,15,0],[653.7,214.9,133,24,30],[610,270,15,0],[159.85,213.9,133,24,150],[200,270,15,0]],[[450,214,15,0],[510,290,15,0],[390,132,15,0],[330,214,15,0],[280,290,15,0]],[[390,60,15,0],[510,140,133,24,30],[390,180,15,0],[267.8,137.85,133,24,150],[390,120,15,0]],[[390,110,133,24,150]],[[394.6,111,133,24,32]],[[110,70,70,0],[710,80,70,0]],[[400,120,15,0],[530,140,15,0],[280,140,15,0]],[[267,119,15,0],[718.25,409.25,108,24,104],[134.95,184,15,0],[85.5,416.5,110,24,73],[661.05,192,15,0],[555.95,118,15,0],[760.55,238.5,162,21,104],[38.25,242.5,162,21,76]]],g.keepDATA=[[0,0,4,-2,-31.95,-64,63,118,-31.95,-64,63,118],[0,0,4,-2,-31.95,-64,63,118,-31.95,-64,63,118],[0,0,4,-2,-31.95,-64,63,118,-31.95,-64,63,118],[0,0,4,-2,-31.95,-64,63,118,-31.95,-64,63,118],[0,0,4,-2,-31.95,-64,63,118,-31.95,-64,63,118],[0,0,4,-2,-31.95,-64,63,118,-31.95,-64,63,118],[0,0,4,-2,-31.95,-64,63,118,-31.95,-64,63,118],[0,0,4,-2,-31.95,-64,63,118,-31.95,-64,63,118],[0,0,4,-2,-31.95,-64,63,118,-31.95,-64,63,118],[0,0,4,-2,-31.95,-64,63,118,-31.95,-64,63,118],[0,0,4,-2,-31.95,-64,63,118,-31.95,-64,63,118],[0,0,4,-2,-31.95,-64,63,118,-31.95,-64,63,118],[0,0,4,-2,-31.95,-64,63,118,-31.95,-64,63,118],[0,0,4,-2,-31.95,-64,63,118,-31.95,-64,63,118],[0,0,4,-2,-31.95,-64,63,118,-31.95,-64,63,118],[0,0,4,-2,-31.95,-64,63,118,-31.95,-64,63,118],[0,0,4,-2,-31.95,-64,63,118,-31.95,-64,63,118],[0,0,4,-2,-31.95,-64,63,118,-31.95,-64,63,118],[0,0,4,-2,-31.95,-64,63,118,-31.95,-64,63,118],[0,0,4,-2,-31.95,-64,63,118,-31.95,-64,63,118],[0,0,4,-2,-31.95,-64,63,118,-31.95,-64,63,118],[0,0,4,-2,-31.95,-64,63,118,-31.95,-64,63,118],[0,0,4,-2,-31.95,-64,63,118,-31.95,-64,63,118],[3,0,-39,-24,-123.9,-91.9,109,36,-63.9,-55.9,97,60],[3,0,-46,-26,-131.4,-93.25,111,36,-73.9,-58.4,97,56],[3,0,-53,-27,-138.9,-94.55,113,36,-83.9,-60.95,97,53],[3,0,-60,-29,-146.4,-95.9,115,36,-93.9,-63.35,97,50],[3,0,-67,-30,-153.9,-97.25,117,36,-103.9,-65.85,97,46],[3,0,-73,-32,-161.45,-98.55,119,36,-113.9,-68.4,97,43],[3,0,-80,-34,-168.9,-99.9,121,36,-123.85,-70.9,97,39],[3,-1,-88,-36,-176.15,-101.9,121,37,-131.55,-72.9,97,39],[3,-1,-95,-38,-183.35,-103.9,121,39,-139.3,-74.9,97,39],[3,-1,-103,-41,-190.6,-105.9,121,41,-147.05,-76.9,97,39],[3,-1,-110,-43,-197.9,-107.9,121,43,-154.85,-78.9,97,39],[3,-6,-117,-33,-206.8,-91.2,131,40,-164.6,-69.75,100,39],[3,-11,-123,-24,-215.7,-74.45,140,38,-174.25,-60.6,103,39],[3,-16,-129,-14,-224.6,-57.75,149,36,-184,-51.45,106,39],[3,-21,-136,-4,-233.5,-41.1,158,34,-193.7,-42.35,109,39],[3,-26,-142,5,-242.4,-24.35,167,32,-203.45,-33.2,112,39],[3,-31,-148,15,-251.3,-7.65,176,30,-213.05,-24.05,114,39],[3,-36,-154,25,-259.95,9.1,185,28,-222.75,-14.9,117,39],[3,-36,-154,42,-264.95,22.1,185,30,-222.75,2.1,117,39],[3,-36,-164,45,-264.95,21.1,185,31,-234.75,9.1,117,39],[3,-36,-164,45,-267.45,21.15,185,31,-237.1,9.15,117,39],[3,-36,-164,45,-269.95,21.2,185,31,-239.4,9.2,117,39],[3,-36,-164,45,-272.45,21.25,185,31,-241.75,9.25,117,39],[3,-36,-164,45,-274.95,21.3,185,31,-244.1,9.3,117,39],[3,-36,-164,45,-277.45,21.4,185,31,-246.4,9.4,117,39],[3,-36,-164,45,-279.95,21.45,185,31,-248.75,9.45,117,39],[3,-36,-164,45,-282.45,21.5,185,31,-251.1,9.5,117,39],[3,-36,-164,45,-284.95,21.55,185,31,-253.4,9.55,117,39],[3,-36,-164,45,-287.45,21.6,185,31,-255.75,9.6,117,39],[3,-36,-164,45,-289.95,21.65,185,31,-258.1,9.65,117,39],[3,-36,-164,45,-292.45,21.7,185,31,-260.4,9.7,117,39],[3,-36,-164,45,-294.95,21.75,185,31,-262.75,9.75,117,39],[3,-36,-164,45,-297.45,21.8,185,31,-265.1,9.8,117,39],[3,-36,-164,45,-299.95,21.9,185,31,-267.4,9.9,117,39],[3,-36,-164,45,-302.45,21.95,185,31,-269.75,9.95,117,39],[3,-36,-164,45,-304.95,22,185,31,-272.1,10,117,39],[3,-36,-164,45,-307.45,22.05,185,31,-274.4,10.05,117,39],[0,0,4,-2,-31.95,-64,63,118,-31.95,-64,63,118],[3,-36,-204,45,-276.25,12.4,178,32,-248.8,4.1,115,39],[3,-36,-204,45,-242.6,2.7,171,34,-220.8,-1.9,113,39],[3,-36,-204,45,-208.95,-7,163,35,-192.8,-7.9,110,39],[3,-36,-204,45,-175.3,-16.7,156,37,-164.8,-13.9,108,39],[3,-36,-204,45,-141.6,-26.4,148,38,-136.9,-19.9,105,39],[3,-36,-204,45,-107.95,-36.1,141,40,-108.9,-25.9,103,39],[3,-36,-204,45,-74.25,-45.8,134,41,-80.85,-31.9,101,39],[3,-36,-204,45,-40.65,-55.55,126,43,-52.9,-37.9,98,39],[3,-36,-204,45,-7,-65.2,119,44,-24.9,-43.9,96,39],[3,180,46,-6,26.8,-74.9,112,46,3.1,-49.9,93,39],[3,-178,56,-14,35.6,-79.15,114,46,8.15,-54.4,93,39],[3,-175,66,-21,44.4,-83.4,117,47,13.15,-58.9,93,39],[3,-172,76,-29,53.1,-87.65,119,47,18.15,-63.4,93,39],[3,-169,85,-36,61.85,-91.9,122,48,23.1,-67.9,93,39],[3,-170,91,-39,65.35,-94.7,123,48,27.25,-69.9,93,39],[3,-170,96,-41,68.85,-97.55,125,49,31.45,-71.9,93,39],[3,-170,102,-44,72.35,-100.4,127,50,35.6,-73.9,93,39],[3,-171,107,-46,75.8,-103.25,128,50,39.75,-75.9,93,39],[3,-171,113,-49,79.35,-106.05,130,51,43.95,-77.9,93,39],[3,-172,119,-51,82.85,-108.9,132,52,48.1,-79.9,93,39],[3,-167,128,-35,89.05,-87.75,136,49,63.1,-65.9,96,39],[3,-163,138,-19,95.2,-66.6,141,46,78.1,-51.9,98,39],[3,-159,147,-3,101.35,-45.45,146,43,93.1,-37.9,100,39],[3,-154,156,13,107.55,-24.35,150,40,108.1,-23.9,103,39],[3,-150,166,29,113.65,-3.15,155,37,123.1,-9.9,105,39],[3,-145,175,45,119.9,18,160,34,138.05,4.1,107,39],[3,-145,175,41,115.9,13,160,33,129.05,-1.9,107,39],[3,-145,185,45,131.9,18,160,33,135.9,4.1,117,39],[3,-145,185,45,131.7,18,160,33,135.9,4.1,117,39],[3,-145,185,45,131.5,18,160,33,135.9,4.1,117,39],[3,-145,185,45,131.25,18,160,33,135.9,4.1,117,39],[3,-145,185,45,131,18,160,33,135.9,4.1,117,39],[3,-145,185,45,130.75,18,160,33,135.9,4.1,117,39],[3,-145,185,45,130.55,18,160,33,135.9,4.1,117,39],[3,-145,185,45,130.3,18,160,33,135.9,4.1,117,39],[3,-145,185,45,130.05,18,160,33,135.9,4.1,117,39],[3,-145,185,45,129.85,18,160,33,135.9,4.1,117,39],[3,-145,185,45,129.6,18,160,33,135.9,4.1,117,39],[3,-145,185,45,129.35,18,160,33,135.9,4.1,117,39],[3,-145,185,45,129.15,18,160,33,135.9,4.1,117,39],[3,-145,185,45,128.9,18,160,33,135.9,4.1,117,39],[3,-145,185,45,128.65,18,160,33,135.9,4.1,117,39],[3,-145,185,45,128.4,18,160,33,135.9,4.1,117,39],[3,-145,185,45,128.2,18,160,33,135.9,4.1,117,39],[3,-145,185,45,127.9,18,160,33,135.9,4.1,117,39],[0,0,4,-2,-31.95,-64,63,118,-31.95,-64,63,118],[0,0,4,-2,-37.45,-65.35,80,114,-33.15,-65.35,66,121],[0,0,4,-2,-36.55,-73.5,80,121,-31.9,-68.7,66,121],[0,0,4,-2,-35.7,-81.6,80,127,-30.65,-72.1,66,121],[0,0,4,-2,-34.8,-89.75,80,134,-29.4,-75.45,66,121],[0,0,4,-2,-33.95,-97.85,80,140,-28.15,-78.85,66,121],[0,0,4,-2,-33.05,-106,80,147,-26.9,-82.2,66,121],[0,0,4,-2,-32.2,-114.2,80,153,-25.65,-85.6,66,121],[0,0,4,-2,-31.3,-122.35,80,160,-24.4,-88.95,66,121],[3,49,-8,-23,-30.45,-130.4,80,166,-23.15,-92.35,66,121],[3,49,-8,-26,-30.35,-133.75,80,166,-22.5,-96.7,66,121],[3,49,-8,-29,-30.15,-137.05,80,166,-21.8,-101,66,121],[3,49,-8,-32,-30,-140.4,80,166,-21.15,-105.35,66,121],[3,49,-8,-34,-29.85,-143.75,80,166,-20.5,-109.7,66,121],[3,49,-8,-37,-29.65,-147.05,80,166,-19.8,-114,66,121],[3,49,-8,-40,-29.45,-150.4,80,166,-19.15,-118.35,66,121],[3,49,-8,-34,-31.4,-129.15,80,156,-21.8,-107,66,121],[3,49,-8,-29,-33.4,-107.85,80,145,-24.5,-95.7,66,121],[3,49,-8,-23,-35.4,-86.6,80,135,-27.15,-84.35,66,121],[0,0,4,-2,-31.95,-64,63,118,-31.95,-64,63,118],[0,0,4,-2,-37.45,-65.35,80,124,-30.6,-60.35,67,117],[0,0,4,-2,-37.45,-65.35,80,124,-28,-57.3,69,112],[0,0,4,-2,-37.45,-65.35,80,124,-25.45,-54.3,71,107],[0,0,4,-2,-37.45,-65.35,80,124,-22.9,-51.2,73,102],[0,0,4,-2,-37.45,-65.35,80,124,-20.25,-48.15,75,97],[0,0,4,-2,-37.45,-65.35,80,124,-17.7,-45.15,77,92],[0,0,4,-2,-37.45,-65.35,80,124,-15.15,-42.05,79,87],[0,0,4,-2,-37.45,-65.35,80,124,-12.55,-39.05,81,83],[0,0,4,-2,-37.45,-65.35,80,124,-10,-36,82,78],[0,0,4,-2,-37.45,-65.35,80,124,-7.4,-33,84,73],[0,0,4,-2,-37.45,-65.35,80,124,-4.85,-29.9,86,68],[0,0,4,-2,-37.45,-65.35,80,124,-2.3,-26.9,88,63],[0,0,4,-2,-37.45,-65.35,80,124,.3,-23.85,90,58],[3,-163,65,18,43.3,-33.4,122,43,2.9,-20.8,92,53],[3,-160,73,19,45.95,-30.25,127,44,11.35,-20.6,92,53],[3,-158,81,20,48.65,-27.05,132,44,19.8,-20.4,92,53],[3,-156,88,20,51.35,-23.95,137,44,28.25,-20.2,92,53],[3,-153,96,21,54.05,-20.8,142,45,36.65,-20,92,53],[3,-151,103,22,56.7,-17.65,148,45,45.1,-19.8,92,53],[3,-148,111,23,59.35,-14.45,153,45,53.55,-19.6,92,53],[3,-146,119,24,62,-11.35,158,45,62,-19.4,92,53],[3,-145,123,27,66.6,-8.1,158,45,66.25,-17.3,92,53],[3,-145,127,30,71.2,-4.85,158,45,70.5,-15.2,92,53],[3,-144,131,33,75.85,-1.6,158,45,74.7,-13.05,92,53],[3,-143,135,35,80.45,1.65,158,44,78.95,-10.95,92,53],[3,-143,139,38,85.05,5,158,44,83.15,-8.85,92,53],[3,-142,143,41,89.65,8.25,158,44,87.4,-6.75,92,53],[3,-142,147,44,94.3,11.5,158,44,91.6,-4.6,92,53],[3,-141,151,47,98.9,14.75,158,44,95.85,-2.5,92,53],[3,-141,155,50,103.5,18,158,43,100,-.4,92,53],[3,-141,155,50,103.55,18,158,43,100,-.4,92,53],[3,-141,155,50,103.55,18,158,43,100,-.4,92,53],[3,-141,155,50,103.55,18,158,43,100,-.4,92,53],[3,-141,155,50,103.55,18,158,43,100,-.4,92,53],[3,-141,155,50,103.55,18,158,43,100,-.4,92,53],[3,-141,155,50,103.55,18,158,43,100,-.4,92,53],[3,-141,155,50,103.55,18,158,43,100,-.4,92,53],[3,-141,155,50,103.55,18,158,43,100,-.4,92,53],[3,-141,155,50,103.55,18,158,43,100,-.4,92,53],[3,-141,155,50,103.55,18,158,43,100,-.4,92,53],[3,-141,155,50,103.55,18,158,43,100,-.4,92,53],[3,-141,155,50,103.55,18,158,43,100,-.4,92,53],[3,-141,155,50,103.55,18,158,43,100,-.4,92,53],[3,-141,155,50,103.55,18,158,43,100,-.4,92,53],[3,-141,155,50,103.55,18,158,43,100,-.4,92,53],[3,-141,155,50,103.55,18,158,43,100,-.4,92,53],[3,-141,155,50,103.55,18,158,43,100,-.4,92,53],[3,-141,155,50,103.55,18,158,43,100,-.4,92,53],[3,-141,155,50,103.5,18,158,43,100,-.4,92,53],[0,0,4,-2,-31.95,-64,63,118,-31.95,-64,63,118],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[3,-19,-39,16,-142.5,-37.35,110,43,-75.95,-26.4,92,53],[3,-21,-48,16,-150.7,-34.7,115,43,-83.45,-25.95,92,53],[3,-22,-56,17,-158.95,-32,121,42,-90.9,-25.5,92,53],[3,-24,-64,18,-167.15,-29.4,126,42,-98.35,-25.05,92,53],[3,-25,-71,18,-175.35,-26.65,131,41,-105.8,-24.6,92,53],[3,-26,-80,19,-183.6,-24,137,41,-113.2,-24.2,92,53],[3,-28,-88,19,-191.85,-21.3,142,40,-120.65,-23.75,92,53],[3,-29,-95,20,-200,-18.7,147,39,-128.1,-23.3,92,53],[3,-31,-104,20,-208.2,-16,152,39,-135.55,-22.85,92,53],[3,-32,-111,21,-216.4,-13.35,158,38,-142.95,-22.4,92,53],[3,-33,-119,25,-222.5,-9.35,159,39,-149.05,-19.25,92,53],[3,-33,-126,29,-228.65,-5.35,160,40,-155.1,-16.05,92,53],[3,-34,-133,33,-234.85,-1.35,162,40,-161.15,-12.9,92,53],[3,-34,-140,37,-241,2.7,163,41,-167.25,-9.75,92,53],[3,-35,-147,41,-247.15,6.65,164,42,-173.3,-6.55,92,53],[3,-36,-154,45,-253.35,10.65,166,42,-179.3,-3.4,92,53],[3,-36,-154,45,-255.35,10.65,170,40,-179.3,-3.4,92,53],[3,-36,-154,45,-255.3,10.65,170,40,-182.4,-3.3,92,53],[3,-36,-154,45,-255.3,10.65,170,40,-185.45,-3.2,92,53],[3,-36,-154,45,-255.3,10.65,170,40,-188.55,-3.05,92,53],[3,-36,-154,45,-255.3,10.65,170,40,-191.65,-2.95,92,53],[3,-36,-154,45,-255.3,10.65,170,40,-194.7,-2.85,92,53],[3,-36,-154,45,-255.3,10.65,170,40,-197.8,-2.75,92,53],[3,-36,-154,45,-255.3,10.65,170,40,-200.9,-2.6,92,53],[3,-36,-154,45,-255.3,10.65,170,40,-203.95,-2.5,92,53],[3,-36,-154,45,-255.3,10.65,170,40,-207.05,-2.4,92,53],[3,-36,-154,45,-255.3,10.65,170,40,-210.15,-2.3,92,53],[3,-36,-154,45,-255.3,10.65,170,40,-213.2,-2.2,92,53],[3,-36,-154,45,-255.3,10.65,170,40,-216.3,-2.05,92,53],[3,-36,-154,45,-255.3,10.65,170,40,-219.4,-1.95,92,53],[3,-36,-154,45,-255.3,10.65,170,40,-222.45,-1.85,92,53],[3,-36,-154,45,-255.3,10.65,170,40,-225.55,-1.75,92,53],[3,-36,-154,45,-255.3,10.65,170,40,-228.65,-1.6,92,53],[3,-36,-154,45,-255.35,10.65,170,40,-231.7,-1.5,92,53],[0,0,4,-2,-31.95,-64,63,118,-31.95,-64,63,118],[3,-36,-204,45,-300.95,7.65,158,44,-234.85,-1.4,92,53],[3,-36,-204,45,-300.95,7.65,158,44,-234.85,-1.4,92,53],[0,0,0,0],[3,149,53,-14,35.85,-107.3,59,98,-.9,-43.45,62,89],[3,151,58,-19,42.85,-110.65,59,97,4.1,-48.55,62,89],[3,152,63,-23,49.85,-114.1,60,95,9.1,-53.7,62,89],[3,153,69,-27,56.85,-117.45,60,93,14.1,-58.8,62,89],[3,155,74,-32,63.8,-120.8,60,91,19.1,-63.95,62,89],[3,156,79,-36,70.85,-124.2,61,90,24.1,-69.05,62,89],[3,158,84,-41,77.8,-127.6,61,88,29.1,-74.2,62,89],[3,159,89,-45,84.85,-130.95,62,86,34.1,-79.3,62,89],[3,161,94,-49,91.85,-134.3,62,84,39.1,-84.45,62,89],[3,166,99,-39,92.15,-117.4,70,79,43.6,-75.85,63,86],[3,172,103,-29,92.35,-100.45,77,73,48.05,-67.25,64,83],[3,178,107,-19,92.7,-83.55,85,68,52.6,-58.65,65,80],[3,-176,111,-9,92.95,-66.65,92,62,57.05,-50.05,66,77],[3,-170,115,1,93.25,-49.75,100,56,61.6,-41.35,67,73],[3,-165,119,11,93.45,-32.8,107,51,66.05,-32.75,68,70],[3,-159,123,21,93.75,-15.9,115,45,70.6,-24.15,69,67],[3,-153,127,31,94.05,.95,123,40,75.1,-15.55,70,64],[3,-147,131,41,94.35,17.95,130,34,79.6,-7,71,61],[3,-142,135,51,94.65,34.85,138,28,84.1,1.6,72,57],[3,-142,135,51,95.05,27.65,138,37,84.1,1.6,72,57],[3,-142,135,51,95.5,20.45,138,46,84.1,1.6,72,57],[3,-142,135,51,95.9,13.25,138,55,84.1,1.6,72,57],[3,-142,135,51,96.35,6.05,138,64,84.1,1.6,72,57],[0,0,0,0],[0,0,4,-2,-31.95,-64,63,118,-31.95,-64,63,118],[0,0,1,2,-47.55,-61.6,72,109,-27.35,-38.95,48,86],[0,0,1,2,-56.7,-68.4,70,104,-30.05,-42.35,48,84],[0,0,1,2,-65.85,-75.25,68,99,-32.7,-45.9,48,82],[0,0,1,2,-75.05,-82.05,66,93,-35.35,-49.4,48,81],[0,0,1,2,-84.25,-88.9,64,88,-38.05,-52.9,48,79],[3,16,-33,-15,-93.4,-95.75,62,82,-40.7,-56.4,48,77],[3,17,-39,-20,-98.5,-100.75,62,82,-45.2,-61.5,48,77],[3,17,-44,-24,-103.6,-105.75,62,82,-49.7,-66.65,48,77],[3,17,-50,-29,-108.75,-110.8,62,82,-54.2,-71.75,48,77],[3,17,-55,-34,-113.85,-115.75,63,81,-58.7,-76.9,48,77],[3,18,-60,-38,-118.95,-120.8,63,81,-63.2,-82,48,77],[3,18,-66,-43,-124.1,-125.8,63,81,-67.7,-87.15,48,77],[3,18,-71,-47,-129.2,-130.75,63,81,-72.2,-92.25,48,77],[3,18,-77,-52,-134.4,-135.8,63,81,-76.7,-97.4,48,77],[3,11,-82,-39,-143.85,-116.3,73,75,-84.6,-85.15,51,74],[3,4,-87,-27,-153.3,-96.75,83,69,-92.5,-72.9,54,71],[3,-3,-92,-14,-162.8,-77.3,93,64,-100.4,-60.65,58,68],[3,-10,-98,-2,-172.25,-57.8,104,58,-108.3,-48.4,61,65],[3,-17,-103,11,-181.7,-38.25,114,53,-116.25,-36.1,64,62],[3,-25,-108,24,-191.2,-18.75,124,47,-124.1,-23.85,67,59],[3,-32,-113,36,-200.65,.75,134,42,-132.05,-11.6,71,56],[3,-39,-119,49,-210.2,20.3,144,36,-140,.65,74,53],[3,-39,-119,49,-208.2,22,144,36,-140,.65,74,53],[3,-39,-119,49,-179.05,10,132,48,-121.25,-1.2,71,53],[3,-39,-119,49,-149.85,-1.95,120,59,-102.55,-3,68,53],[3,-39,-119,49,-120.75,-13.95,108,70,-83.8,-4.85,66,53],[3,-39,-119,49,-91.65,-25.85,96,82,-65.1,-6.7,63,53],[3,-39,-119,49,-62.45,-37.8,84,93,-46.4,-8.5,60,53],[0,0,4,-2,-31.95,-64,63,118,-31.95,-64,63,118],[0,0,4,4,-33.8,-43.9,74,103,-27.65,-10.35,58,53],[0,0,4,4,-34.35,-37.85,76,101,-27.65,-10.35,58,53],[0,0,4,4,-35,-31.9,78,100,-27.65,-10.35,58,53],[2,0,12,37,-35.45,-25.85,80,98,-27.65,-10.35,58,53],[2,0,12,37,-35.5,-28.05,80,100,-27.8,-12.1,58,55],[2,0,12,37,-35.65,-30.25,80,101,-27.95,-13.85,58,57],[2,0,12,37,-35.75,-32.5,80,102,-28.05,-15.55,58,59],[2,0,12,37,-35.9,-34.7,80,104,-28.25,-17.3,58,62],[2,0,12,37,-36,-36.9,80,105,-28.4,-19.05,59,64],[2,0,12,37,-36.15,-39.1,80,107,-28.55,-20.8,59,66],[2,0,12,37,-36.25,-41.35,80,108,-28.65,-22.55,59,68],[2,0,12,37,-36.35,-43.5,80,109,-28.75,-24.2,59,70],[2,0,12,37,-36.5,-45.8,80,111,-28.9,-25.95,59,72],[2,0,12,37,-36.6,-47.95,80,112,-29.05,-27.7,60,74],[2,0,12,37,-36.75,-50.2,80,113,-29.15,-29.45,60,76],[2,0,12,37,-36.85,-52.35,80,115,-29.3,-31.2,60,78],[2,0,12,37,-36.95,-54.6,80,116,-29.45,-32.9,60,80],[2,0,12,37,-37.1,-56.75,80,118,-29.6,-34.65,60,82],[2,0,12,37,-37.2,-59.05,80,119,-29.75,-36.4,61,84],[2,0,12,37,-37.35,-61.2,80,120,-29.9,-38.15,61,86],[2,0,12,37,-37.45,-63.45,80,122,-30.05,-39.9,61,89],[0,0,4,-2,-31.95,-64,63,118,-31.95,-64,63,118],[1,0,6,-1,-37.75,-67.9,80,124,-30.3,-43.35,61,93],[1,0,6,-1,-37.75,-67.9,80,124,-30.45,-45.1,61,95],[1,0,6,-1,-37.75,-67.9,80,124,-30.6,-46.85,62,97],[1,0,6,-1,-37.75,-67.9,80,124,-30.75,-48.6,62,99],[1,0,6,-1,-37.75,-67.9,80,124,-30.85,-50.35,62,101],[1,0,6,-1,-37.75,-67.9,80,124,-30.95,-52,62,103],[1,0,6,-1,-37.75,-67.9,80,124,-31.1,-53.75,62,105],[1,0,6,-1,-37.75,-67.9,80,124,-31.3,-55.5,63,107],[1,0,6,-1,-37.75,-67.9,80,124,-31.4,-57.25,63,109],[1,0,6,-1,-37.75,-67.9,80,124,-31.55,-59,63,111],[1,0,6,-1,-37.75,-67.9,80,124,-31.7,-60.7,63,113],[1,0,6,-1,-37.75,-67.9,80,124,-31.85,-62.45,63,115],[1,0,6,-1,-37.75,-67.9,80,124,-31.95,-64,63,118]],
g.MAPS_DATA=[[[[79,78,79,79,78,77,79,77,78,21,79,21,21,77,21,78,21,77,78,77,50,79,77,77,21,78,78,21,77,21,21,77,21,77,21,79,79,21,21,21],[78,77,21,21,21,21,21,77,77,77,78,77,77,21,79,78,21,79,77,78,50,77,77,77,79,21,77,77,77,78,77,78,78,77,78,79,21,78,77,78],[21,78,78,77,79,21,78,77,78,21,78,78,77,21,79,77,77,77,77,21,50,78,79,79,77,77,77,21,77,78,79,21,77,21,77,78,78,77,79,78],[79,79,21,77,77,50,21,50,21,78,21,21,50,78,50,78,78,79,78,21,50,21,78,21,79,21,77,79,78,79,77,21,78,77,77,77,21,77,78,77],[78,21,72,77,72,51,53,51,53,70,70,53,51,53,51,72,78,72,79,77,50,77,21,79,79,21,77,21,78,21,79,77,77,21,77,77,78,77,79,79],[77,79,79,21,54,76,75,76,74,0,0,74,76,74,74,74,77,21,78,77,50,78,21,79,21,79,21,21,21,79,21,79,21,79,79,78,78,77,77,21],[77,72,78,79,54,71,70,70,70,70,70,70,70,70,71,54,21,78,72,21,50,79,77,79,79,21,79,77,78,79,77,21,77,21,79,79,21,79,79,77],[77,77,77,79,54,71,77,21,21,77,78,79,78,78,71,54,21,77,78,79,50,21,21,21,21,21,77,79,21,21,21,79,21,79,79,21,77,79,79,77],[79,77,72,77,54,71,77,77,77,77,21,77,78,79,71,54,21,72,78,21,50,21,78,21,79,79,78,21,77,77,21,77,78,78,77,77,77,77,79,79],[79,79,78,79,54,71,79,79,79,79,77,77,78,21,71,54,77,79,21,78,50,77,77,79,77,78,77,79,77,21,21,78,21,79,77,77,79,78,79,78],[21,72,79,77,54,70,70,70,70,70,70,70,70,70,70,54,79,78,72,79,50,77,77,79,78,78,77,21,21,77,21,21,77,77,78,21,77,21,21,77],[77,79,21,21,54,76,0,75,74,74,0,75,76,74,0,76,77,79,77,21,50,78,77,78,79,79,21,79,77,77,78,21,78,77,21,77,77,21,21,21],[21,21,77,79,21,21,21,77,21,77,77,78,78,79,78,77,77,77,21,77,50,21,78,79,78,79,79,78,77,78,21,77,78,78,77,21,77,21,79,79],[78,77,77,21,21,79,78,79,21,21,21,79,21,77,77,21,79,77,21,78,50,78,77,21,79,78,77,21,21,77,21,21,79,79,79,21,21,78,77,77],[78,77,79,21,21,79,78,78,21,77,79,78,21,77,21,21,79,21,21,78,50,21,77,77,77,77,77,77,78,78,77,77,21,77,79,77,21,79,79,77],[50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,77,78,78,21,21,78,21,21,78,79,21,21,79,78,79,78,77,77,79],[21,78,79,78,21,21,78,77,77,78,77,79,21,77,77,77,21,78,78,21,79,79,78,21,77,21,78,78,21,78,21,78,79,21,78,78,21,78,78,21],[79,77,77,77,79,78,21,79,78,21,79,78,77,77,21,79,77,78,79,79,77,78,21,77,78,77,77,79,78,21,21,79,79,77,79,77,79,21,78,77],[21,79,79,78,21,79,21,79,77,21,79,78,79,79,77,78,77,78,79,79,79,77,77,21,77,21,77,77,21,77,77,77,79,78,78,77,21,78,21,78],[79,21,78,79,79,79,77,77,77,79,21,77,78,78,79,79,21,79,77,77,21,78,79,78,78,77,79,79,21,78,78,21,21,79,21,79,78,21,21,21],[77,77,77,79,21,77,79,21,79,21,21,79,79,78,79,21,79,77,78,79,21,77,77,78,77,21,21,77,78,79,79,77,78,77,77,78,78,78,21,77],[21,78,79,79,79,79,77,78,21,21,78,77,21,78,21,77,21,21,77,21,78,78,77,21,21,79,77,78,21,21,79,77,78,79,21,77,21,78,21,78],[21,78,79,77,78,78,77,77,79,21,77,21,78,21,78,77,77,77,77,78,78,77,77,77,78,78,78,21,79,79,79,79,78,77,77,78,79,79,79,78],[77,79,78,21,21,21,21,78,78,77,79,78,79,77,21,77,77,21,21,79,21,78,77,77,79,77,78,21,79,79,78,77,78,78,79,79,79,79,21,78],[77,78,79,77,79,79,77,77,77,79,21,79,79,77,21,78,77,77,79,77,79,77,79,21,79,77,79,78,78,78,21,78,79,79,78,78,21,79,21,21],[21,77,77,21,79,77,79,77,77,78,79,79,79,21,21,77,79,77,78,77,79,79,77,79,77,21,79,79,21,77,77,78,77,21,77,79,77,77,77,77],[21,21,21,21,77,77,77,79,78,21,79,21,21,77,21,78,77,77,21,77,79,77,78,79,79,78,21,78,79,78,79,77,79,79,77,77,79,78,77,79],[77,77,21,21,78,79,77,77,21,79,78,79,21,79,79,77,21,77,21,21,79,78,78,77,78,79,79,77,77,77,79,21,21,21,79,79,21,79,79,77],[79,21,79,21,77,78,21,79,77,77,77,77,21,79,79,21,79,79,78,78,21,78,78,77,77,77,77,78,79,21,77,77,21,21,78,77,21,77,79,79],[77,77,79,21,78,79,77,21,21,79,21,77,79,21,78,21,78,78,77,79,77,79,77,79,79,21,79,77,79,79,78,79,21,21,21,79,21,77,21,78]],[[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,8,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,8,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,8,8,0,0,1,0,0,0,0,8,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]]]],x.particle_explode=1,x.particle_flesh=2,x.particle_pointnum=3,x.particle_flashtrail=4,x.particle_smoke=5,x.particle_coin=6,x.particle_flash=7,x.PARTICLE_BLOOD=3,b.b2_defaultListener=new b,A.LEFT=0,A.RIGHT=1,A.CENTER=2,A.DEFAULT_CHAR=T.cca("?",0),A.NEW_LINE=T.cca("\n",0),L.newTeamList=[["Arsenal",9,1],["Bournemouth",4,1],["Burnley",5,0],["Chelsea",10,1],["Crystal Palace",6,1],["Everton",7,1],["Hull City",5,0],["Leicester",4,1],["Liverpool",8,0],["Man City",9,0],["Man Utd",9,1],["Middlesborough",6,1],["Southampton",7,1],["Stoke",6,1],["Sunderland",6,0],["Swansea",7,1],["Tottenham",7,0],["Watford",6,1],["West Brom",6,1],["West Ham",7,0]],L.fixture_list=[],M.numData=["0","1","2","3","4","5","6","7","8","9"],F.BASE_FRAME_GAME_BG=0,F.BASE_FRAME_PLAYER=0,F.BASE_FRAME_FIELD_NUM=0,F.BASE_FRAME_GUI_TITLE_LOGO=0,F.BASE_FRAME_GUI_BUT_NEXT=0,F.BASE_FRAME_GUI_BUT_START=0,F.BASE_FRAME_GUI_BUT_AGAIN=0,F.BASE_FRAME_GUI_BUT_SUBMIT=0,F.BASE_FRAME_GUI_GAME_OVER=0,F.BASE_FRAME_GUI_BEST_CLIP=0,F.BASE_FRAME_GUI_TEXT_NUMS=0,F.BASE_FRAME_GUI_TEXT_NUMS_SMALL=0,F.BASE_FRAME_PARTICLE_EXPLODE=0,F.BASE_FRAME_PARTICLE_FLESH=0,F.BASE_FRAME_PARTICLE_SMOKE=0,F.BASE_FRAME_PLAYER_AI=0,F.BASE_FRAME_BALL=0,F.BASE_FRAME_SHADOW=0,F.BASE_FRAME_PARTICLE_POINT_NUM=0,F.BASE_FRAME_TEST_RECT=0,F.BASE_FRAME_PORTRAITS=0,F.BASE_FRAME_TESTFONT=0,F.BASE_FRAME_NET=0,F.sheetList=[],F.dataList=[],Y.PHYSICS_SCALE=.03333333333333333,Q.Element=0,Q.PCData=1,Q.CData=2,Q.Comment=3,Q.DocType=4,Q.ProcessingInstruction=5,Q.Document=6,at.b2_nullFeature=255,at.s_incidentEdge=at.makeClipPointVector(),at.s_clipPoints1=at.makeClipPointVector(),at.s_clipPoints2=at.makeClipPointVector(),at.s_edgeAO=[],at.s_edgeBO=[],at.s_localTangent=new tt,at.s_localNormal=new tt,at.s_planePoint=new tt,at.s_normal=new tt,at.s_tangent=new tt,at.s_tangent2=new tt,at.s_v11=new tt,at.s_v12=new tt,at.b2CollidePolyTempVec=new tt,lt.b2_gjkCalls=0,lt.b2_gjkIters=0,lt.b2_gjkMaxIters=0,lt.s_simplex=new rt,lt.s_saveA=[],lt.s_saveB=[],ft.currentID=0,Lt.b2_toiCalls=0,Lt.b2_toiIters=0,Lt.b2_toiMaxIters=0,Lt.b2_toiRootIters=0,Lt.b2_toiMaxRootIters=0,Lt.s_cache=new Et,Lt.s_distanceInput=new _t,Lt.s_xfA=new Ct,Lt.s_xfB=new Ct,Lt.s_fcn=new Tt,Lt.s_distanceOutput=new ht,Bt.e_hitCollide=1,Bt.e_missCollide=0,Bt.e_startsInsideCollide=-1,Nt.s_mat=new It,kt.VERSION="2.1alpha",kt.USHRT_MAX=65535,kt.b2_pi=Math.PI,kt.b2_maxManifoldPoints=2,kt.b2_aabbExtension=.1,kt.b2_aabbMultiplier=2,kt.b2_polygonRadius=.01,kt.b2_linearSlop=.005,kt.b2_angularSlop=.011111111111111112*Math.PI,kt.b2_toiSlop=.04,kt.b2_maxTOIContactsPerIsland=32,kt.b2_maxTOIJointsPerIsland=32,kt.b2_velocityThreshold=1,kt.b2_maxLinearCorrection=.2,kt.b2_maxAngularCorrection=.044444444444444446*Math.PI,kt.b2_maxTranslation=2,kt.b2_maxTranslationSquared=4,kt.b2_maxRotation=.5*Math.PI,kt.b2_maxRotationSquared=.5*Math.PI*(.5*Math.PI),kt.b2_contactBaumgarte=.2,kt.b2_timeToSleep=.5,kt.b2_linearSleepTolerance=.01,kt.b2_angularSleepTolerance=.011111111111111112*Math.PI,Ut.b2Vec2_zero=new tt(0,0),Ut.b2Mat22_identity=It.fromVV(new tt(1,0),new tt(0,1)),Ut.b2Transform_identity=new Ct(Ut.b2Vec2_zero,Ut.b2Mat22_identity),Wt.s_xf1=new Ct,Wt.e_islandFlag=1,Wt.e_awakeFlag=2,Wt.e_allowSleepFlag=4,Wt.e_bulletFlag=8,Wt.e_fixedRotationFlag=16,Wt.e_activeFlag=32,Wt.b2_staticBody=0,Wt.b2_kinematicBody=1,Wt.b2_dynamicBody=2,zt.b2_defaultFilter=new zt,Yt.s_evalCP=new st,Kt.e_shapeBit=1,Kt.e_jointBit=2,Kt.e_aabbBit=4,Kt.e_pairBit=8,Kt.e_centerOfMassBit=16,Kt.e_controllerBit=32,Qt.s_impulse=new Ht,te.s_timestep2=new $t,te.s_xf=new Ct,te.s_backupA=new Vt,te.s_backupB=new Vt,te.s_timestep=new $t,te.s_queue=[],te.s_jointColor=new Ft(.5,.8,.8),te.e_newFixture=1,te.e_locked=2,ee.e_sensorFlag=1,ee.e_continuousFlag=2,ee.e_islandFlag=4,ee.e_toiFlag=8,ee.e_touchingFlag=16,ee.e_enabledFlag=32,ee.e_filterFlag=64,ee.s_input=new St,le.circlePointA=new tt,le.circlePointB=new tt,_e.staticFix=kt.b2_maxManifoldPoints,_e.s_worldManifold=new Mt,_e.s_psm=new le,Re.b2_minPulleyLength=2,Pe.tImpulse=new tt,Xe.USE_CACHE=!1,Xe.USE_ENUM_INDEX=!1,Xe.BASE64="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789%:",He.DEFAULT_RESOLVER=J,He.BASE64="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789%:",He.CODES=null,Je.count=0,ni.i64tmp=function(t){var e,i=new Ge(0,0);return e=i}(this),si.escapes=function(t){var e,i=new Qe;return null!=ql.lt?i.setReserved("lt","<"):i.h.lt="<",null!=ql.gt?i.setReserved("gt",">"):i.h.gt=">",null!=ql.amp?i.setReserved("amp","&"):i.h.amp="&",null!=ql.quot?i.setReserved("quot",'"'):i.h.quot='"',null!=ql.apos?i.setReserved("apos","'"):i.h.apos="'",e=i}(this),oi.__toStr={}.toString,ui.BYTES_PER_ELEMENT=1,fi.cache=new di,fi.libraries=new Qe,fi.onChange=new mi,fi.initialized=!1,xi.windowID=0,Wi.images=new Qe,Wi.loaders=new Qe,Qi.NONE=0,Qi.FALSE=0,Qi.TRUE=1,Qi.SOURCE_RELATIVE=514,Qi.CONE_INNER_ANGLE=4097,Qi.CONE_OUTER_ANGLE=4098,Qi.PITCH=4099,Qi.POSITION=4100,Qi.DIRECTION=4101,Qi.VELOCITY=4102,Qi.LOOPING=4103,Qi.BUFFER=4105,Qi.GAIN=4106,Qi.MIN_GAIN=4109,Qi.MAX_GAIN=4110,Qi.ORIENTATION=4111,Qi.SOURCE_STATE=4112,Qi.INITIAL=4113,Qi.PLAYING=4114,Qi.PAUSED=4115,Qi.STOPPED=4116,Qi.BUFFERS_QUEUED=4117,Qi.BUFFERS_PROCESSED=4118,Qi.REFERENCE_DISTANCE=4128,Qi.ROLLOFF_FACTOR=4129,Qi.CONE_OUTER_GAIN=4130,Qi.MAX_DISTANCE=4131,Qi.SEC_OFFSET=4132,Qi.SAMPLE_OFFSET=4133,Qi.BYTE_OFFSET=4134,Qi.SOURCE_TYPE=4135,Qi.STATIC=4136,Qi.STREAMING=4137,Qi.UNDETERMINED=4144,Qi.FORMAT_MONO8=4352,Qi.FORMAT_MONO16=4353,Qi.FORMAT_STEREO8=4354,Qi.FORMAT_STEREO16=4355,Qi.FREQUENCY=8193,Qi.BITS=8194,Qi.CHANNELS=8195,Qi.SIZE=8196,Qi.NO_ERROR=0,Qi.INVALID_NAME=40961,Qi.INVALID_ENUM=40962,Qi.INVALID_VALUE=40963,Qi.INVALID_OPERATION=40964,Qi.OUT_OF_MEMORY=40965,Qi.VENDOR=45057,Qi.VERSION=45058,Qi.RENDERER=45059,Qi.EXTENSIONS=45060,Qi.DOPPLER_FACTOR=49152,Qi.SPEED_OF_SOUND=49155,Qi.DOPPLER_VELOCITY=49153,Qi.DISTANCE_MODEL=53248,Qi.INVERSE_DISTANCE=53249,Qi.INVERSE_DISTANCE_CLAMPED=53250,Qi.LINEAR_DISTANCE=53251,Qi.LINEAR_DISTANCE_CLAMPED=53252,Qi.EXPONENT_DISTANCE=53253,Qi.EXPONENT_DISTANCE_CLAMPED=53254,$i.FALSE=0,$i.TRUE=1,$i.FREQUENCY=4103,$i.REFRESH=4104,$i.SYNC=4105,$i.MONO_SOURCES=4112,$i.STEREO_SOURCES=4113,$i.NO_ERROR=0,$i.INVALID_DEVICE=40961,$i.INVALID_CONTEXT=40962,$i.INVALID_ENUM=40963,$i.INVALID_VALUE=40964,$i.OUT_OF_MEMORY=40965,$i.ATTRIBUTES_SIZE=4098,$i.ALL_ATTRIBUTES=4099,$i.DEFAULT_DEVICE_SPECIFIER=4100,$i.DEVICE_SPECIFIER=4101,$i.EXTENSIONS=4102,$i.ENUMERATE_ALL_EXT=1,$i.DEFAULT_ALL_DEVICES_SPECIFIER=4114,$i.ALL_DEVICES_SPECIFIER=4115,sn.__base64Chars="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",dn.FT_LOAD_FORCE_AUTOHINT=32,In.DEPTH_BUFFER_BIT=256,In.STENCIL_BUFFER_BIT=1024,In.COLOR_BUFFER_BIT=16384,In.POINTS=0,In.LINES=1,In.LINE_LOOP=2,In.LINE_STRIP=3,In.TRIANGLES=4,In.TRIANGLE_STRIP=5,In.TRIANGLE_FAN=6,In.ZERO=0,In.ONE=1,In.SRC_COLOR=768,In.ONE_MINUS_SRC_COLOR=769,In.SRC_ALPHA=770,In.ONE_MINUS_SRC_ALPHA=771,In.DST_ALPHA=772,In.ONE_MINUS_DST_ALPHA=773,In.DST_COLOR=774,In.ONE_MINUS_DST_COLOR=775,In.SRC_ALPHA_SATURATE=776,In.FUNC_ADD=32774,In.BLEND_EQUATION=32777,In.BLEND_EQUATION_RGB=32777,In.BLEND_EQUATION_ALPHA=34877,In.FUNC_SUBTRACT=32778,In.FUNC_REVERSE_SUBTRACT=32779,In.BLEND_DST_RGB=32968,In.BLEND_SRC_RGB=32969,In.BLEND_DST_ALPHA=32970,In.BLEND_SRC_ALPHA=32971,In.CONSTANT_COLOR=32769,In.ONE_MINUS_CONSTANT_COLOR=32770,In.CONSTANT_ALPHA=32771,In.ONE_MINUS_CONSTANT_ALPHA=32772,In.BLEND_COLOR=32773,In.ARRAY_BUFFER=34962,In.ELEMENT_ARRAY_BUFFER=34963,In.ARRAY_BUFFER_BINDING=34964,In.ELEMENT_ARRAY_BUFFER_BINDING=34965,In.STREAM_DRAW=35040,In.STATIC_DRAW=35044,In.DYNAMIC_DRAW=35048,In.BUFFER_SIZE=34660,In.BUFFER_USAGE=34661,In.CURRENT_VERTEX_ATTRIB=34342,In.FRONT=1028,In.BACK=1029,In.FRONT_AND_BACK=1032,In.CULL_FACE=2884,In.BLEND=3042,In.DITHER=3024,In.STENCIL_TEST=2960,In.DEPTH_TEST=2929,In.SCISSOR_TEST=3089,In.POLYGON_OFFSET_FILL=32823,In.SAMPLE_ALPHA_TO_COVERAGE=32926,In.SAMPLE_COVERAGE=32928,In.NO_ERROR=0,In.INVALID_ENUM=1280,In.INVALID_VALUE=1281,In.INVALID_OPERATION=1282,In.OUT_OF_MEMORY=1285,In.CW=2304,In.CCW=2305,In.LINE_WIDTH=2849,In.ALIASED_POINT_SIZE_RANGE=33901,In.ALIASED_LINE_WIDTH_RANGE=33902,In.CULL_FACE_MODE=2885,In.FRONT_FACE=2886,In.DEPTH_RANGE=2928,In.DEPTH_WRITEMASK=2930,In.DEPTH_CLEAR_VALUE=2931,In.DEPTH_FUNC=2932,In.STENCIL_CLEAR_VALUE=2961,In.STENCIL_FUNC=2962,In.STENCIL_FAIL=2964,In.STENCIL_PASS_DEPTH_FAIL=2965,In.STENCIL_PASS_DEPTH_PASS=2966,In.STENCIL_REF=2967,In.STENCIL_VALUE_MASK=2963,In.STENCIL_WRITEMASK=2968,In.STENCIL_BACK_FUNC=34816,In.STENCIL_BACK_FAIL=34817,In.STENCIL_BACK_PASS_DEPTH_FAIL=34818,In.STENCIL_BACK_PASS_DEPTH_PASS=34819,In.STENCIL_BACK_REF=36003,In.STENCIL_BACK_VALUE_MASK=36004,In.STENCIL_BACK_WRITEMASK=36005,In.VIEWPORT=2978,In.SCISSOR_BOX=3088,In.COLOR_CLEAR_VALUE=3106,In.COLOR_WRITEMASK=3107,In.UNPACK_ALIGNMENT=3317,In.PACK_ALIGNMENT=3333,In.MAX_TEXTURE_SIZE=3379,In.MAX_VIEWPORT_DIMS=3386,In.SUBPIXEL_BITS=3408,In.RED_BITS=3410,In.GREEN_BITS=3411,In.BLUE_BITS=3412,In.ALPHA_BITS=3413,In.DEPTH_BITS=3414,In.STENCIL_BITS=3415,In.POLYGON_OFFSET_UNITS=10752,In.POLYGON_OFFSET_FACTOR=32824,In.TEXTURE_BINDING_2D=32873,In.SAMPLE_BUFFERS=32936,In.SAMPLES=32937,In.SAMPLE_COVERAGE_VALUE=32938,In.SAMPLE_COVERAGE_INVERT=32939,In.COMPRESSED_TEXTURE_FORMATS=34467,In.DONT_CARE=4352,In.FASTEST=4353,In.NICEST=4354,In.GENERATE_MIPMAP_HINT=33170,In.BYTE=5120,In.UNSIGNED_BYTE=5121,In.SHORT=5122,In.UNSIGNED_SHORT=5123,In.INT=5124,In.UNSIGNED_INT=5125,In.FLOAT=5126,In.DEPTH_COMPONENT=6402,In.ALPHA=6406,In.RGB=6407,In.RGBA=6408,In.BGR_EXT=32992,In.BGRA_EXT=32993,In.LUMINANCE=6409,In.LUMINANCE_ALPHA=6410,In.UNSIGNED_SHORT_4_4_4_4=32819,In.UNSIGNED_SHORT_5_5_5_1=32820,In.UNSIGNED_SHORT_5_6_5=33635,In.FRAGMENT_SHADER=35632,In.VERTEX_SHADER=35633,In.MAX_VERTEX_ATTRIBS=34921,In.MAX_VERTEX_UNIFORM_VECTORS=36347,In.MAX_VARYING_VECTORS=36348,In.MAX_COMBINED_TEXTURE_IMAGE_UNITS=35661,In.MAX_VERTEX_TEXTURE_IMAGE_UNITS=35660,In.MAX_TEXTURE_IMAGE_UNITS=34930,In.MAX_FRAGMENT_UNIFORM_VECTORS=36349,In.SHADER_TYPE=35663,In.DELETE_STATUS=35712,In.LINK_STATUS=35714,In.VALIDATE_STATUS=35715,In.ATTACHED_SHADERS=35717,In.ACTIVE_UNIFORMS=35718,In.ACTIVE_ATTRIBUTES=35721,In.SHADING_LANGUAGE_VERSION=35724,In.CURRENT_PROGRAM=35725,In.NEVER=512,In.LESS=513,In.EQUAL=514,In.LEQUAL=515,In.GREATER=516,In.NOTEQUAL=517,In.GEQUAL=518,In.ALWAYS=519,In.KEEP=7680,In.REPLACE=7681,In.INCR=7682,In.DECR=7683,In.INVERT=5386,In.INCR_WRAP=34055,In.DECR_WRAP=34056,In.VENDOR=7936,In.RENDERER=7937,In.VERSION=7938,In.NEAREST=9728,In.LINEAR=9729,In.NEAREST_MIPMAP_NEAREST=9984,In.LINEAR_MIPMAP_NEAREST=9985,In.NEAREST_MIPMAP_LINEAR=9986,In.LINEAR_MIPMAP_LINEAR=9987,In.TEXTURE_MAG_FILTER=10240,In.TEXTURE_MIN_FILTER=10241,In.TEXTURE_WRAP_S=10242,In.TEXTURE_WRAP_T=10243,In.TEXTURE_2D=3553,In.TEXTURE=5890,In.TEXTURE_CUBE_MAP=34067,In.TEXTURE_BINDING_CUBE_MAP=34068,In.TEXTURE_CUBE_MAP_POSITIVE_X=34069,In.TEXTURE_CUBE_MAP_NEGATIVE_X=34070,In.TEXTURE_CUBE_MAP_POSITIVE_Y=34071,In.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072,In.TEXTURE_CUBE_MAP_POSITIVE_Z=34073,In.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074,In.MAX_CUBE_MAP_TEXTURE_SIZE=34076,In.TEXTURE0=33984,In.TEXTURE1=33985,In.TEXTURE2=33986,In.TEXTURE3=33987,In.TEXTURE4=33988,In.TEXTURE5=33989,In.TEXTURE6=33990,In.TEXTURE7=33991,In.TEXTURE8=33992,In.TEXTURE9=33993,In.TEXTURE10=33994,In.TEXTURE11=33995,In.TEXTURE12=33996,In.TEXTURE13=33997,In.TEXTURE14=33998,In.TEXTURE15=33999,In.TEXTURE16=34e3,In.TEXTURE17=34001,In.TEXTURE18=34002,In.TEXTURE19=34003,In.TEXTURE20=34004,In.TEXTURE21=34005,In.TEXTURE22=34006,In.TEXTURE23=34007,In.TEXTURE24=34008,In.TEXTURE25=34009,In.TEXTURE26=34010,In.TEXTURE27=34011,In.TEXTURE28=34012,In.TEXTURE29=34013,In.TEXTURE30=34014,In.TEXTURE31=34015,In.ACTIVE_TEXTURE=34016,In.REPEAT=10497,In.CLAMP_TO_EDGE=33071,In.MIRRORED_REPEAT=33648,In.FLOAT_VEC2=35664,In.FLOAT_VEC3=35665,In.FLOAT_VEC4=35666,In.INT_VEC2=35667,In.INT_VEC3=35668,In.INT_VEC4=35669,In.BOOL=35670,In.BOOL_VEC2=35671,In.BOOL_VEC3=35672,In.BOOL_VEC4=35673,In.FLOAT_MAT2=35674,In.FLOAT_MAT3=35675,In.FLOAT_MAT4=35676,In.SAMPLER_2D=35678,In.SAMPLER_CUBE=35680,In.VERTEX_ATTRIB_ARRAY_ENABLED=34338,In.VERTEX_ATTRIB_ARRAY_SIZE=34339,In.VERTEX_ATTRIB_ARRAY_STRIDE=34340,In.VERTEX_ATTRIB_ARRAY_TYPE=34341,In.VERTEX_ATTRIB_ARRAY_NORMALIZED=34922,In.VERTEX_ATTRIB_ARRAY_POINTER=34373,In.VERTEX_ATTRIB_ARRAY_BUFFER_BINDING=34975,In.VERTEX_PROGRAM_POINT_SIZE=34370,In.POINT_SPRITE=34913,In.COMPILE_STATUS=35713,In.LOW_FLOAT=36336,In.MEDIUM_FLOAT=36337,In.HIGH_FLOAT=36338,In.LOW_INT=36339,In.MEDIUM_INT=36340,In.HIGH_INT=36341,In.FRAMEBUFFER=36160,In.RENDERBUFFER=36161,In.RGBA4=32854,In.RGB5_A1=32855,In.RGB565=36194,In.DEPTH_COMPONENT16=33189,In.STENCIL_INDEX=6401,In.STENCIL_INDEX8=36168,In.DEPTH_STENCIL=34041,In.RENDERBUFFER_WIDTH=36162,In.RENDERBUFFER_HEIGHT=36163,In.RENDERBUFFER_INTERNAL_FORMAT=36164,In.RENDERBUFFER_RED_SIZE=36176,In.RENDERBUFFER_GREEN_SIZE=36177,In.RENDERBUFFER_BLUE_SIZE=36178,In.RENDERBUFFER_ALPHA_SIZE=36179,In.RENDERBUFFER_DEPTH_SIZE=36180,In.RENDERBUFFER_STENCIL_SIZE=36181,In.FRAMEBUFFER_ATTACHMENT_OBJECT_TYPE=36048,In.FRAMEBUFFER_ATTACHMENT_OBJECT_NAME=36049,In.FRAMEBUFFER_ATTACHMENT_TEXTURE_LEVEL=36050,In.FRAMEBUFFER_ATTACHMENT_TEXTURE_CUBE_MAP_FACE=36051,In.COLOR_ATTACHMENT0=36064,In.DEPTH_ATTACHMENT=36096,In.STENCIL_ATTACHMENT=36128,In.DEPTH_STENCIL_ATTACHMENT=33306,In.NONE=0,In.FRAMEBUFFER_COMPLETE=36053,In.FRAMEBUFFER_INCOMPLETE_ATTACHMENT=36054,In.FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT=36055,In.FRAMEBUFFER_INCOMPLETE_DIMENSIONS=36057,In.FRAMEBUFFER_UNSUPPORTED=36061,In.FRAMEBUFFER_BINDING=36006,In.RENDERBUFFER_BINDING=36007,In.MAX_RENDERBUFFER_SIZE=34024,In.INVALID_FRAMEBUFFER_OPERATION=1286,In.UNPACK_FLIP_Y_WEBGL=37440,In.UNPACK_PREMULTIPLY_ALPHA_WEBGL=37441,In.CONTEXT_LOST_WEBGL=37442,In.UNPACK_COLORSPACE_CONVERSION_WEBGL=37443,In.BROWSER_DEFAULT_WEBGL=37444,Rn.__identity=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],Dn.__identity=new Dn,Pn.__identity=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],Wn.GLOBAL_SSL=1,Wn.GLOBAL_WIN32=2,Wn.GLOBAL_ALL=3,Wn.GLOBAL_NOTHING=0,Wn.GLOBAL_DEFAULT=3,Wn.GLOBAL_ACK_EINTR=4,zn.MESSAGE_COMPLETE="__COMPLETE__",zn.MESSAGE_ERROR="__ERROR__",Hn.__moduleNames=null,sa.INVALID=0,sa.LEFT_TO_RIGHT=4,sa.RIGHT_TO_LEFT=5,sa.TOP_TO_BOTTOM=6,sa.BOTTOM_TO_TOP=7,oa.COMMON="Zyyy",oa.INHERITED="Zinh",oa.UNKNOWN="Zzzz",oa.ARABIC="Arab",oa.ARMENIAN="Armn",oa.BENGALI="Beng",oa.CYRILLIC="Cyrl",oa.DEVANAGARI="Deva",oa.GEORGIAN="Geor",oa.GREEK="Grek",oa.GUJARATI="Gujr",oa.GURMUKHI="Guru",oa.HANGUL="Hang",oa.HAN="Hani",oa.HEBREW="Hebr",oa.HIRAGANA="Hira",oa.KANNADA="Knda",oa.KATAKANA="Kana",oa.LAO="Laoo",oa.LATIN="Latn",oa.MALAYALAM="Mlym",oa.ORIYA="Orya",oa.TAMIL="Taml",oa.TELUGA="Telu",oa.THAI="Thai",oa.TIBETAN="Tibt",oa.BOPOMOFO="Bopo",oa.BRAILLE="Brai",oa.CANADIAN_SYLLABICS="Cans",oa.CHEROKEE="Cher",oa.ETHIOPIC="Ethi",oa.KHMER="Khmr",oa.MONGOLIAN="Mong",oa.MYANMAR="Mymr",oa.OGHAM="Ogam",oa.RUNIC="Runr",oa.SINHALA="Sinh",oa.SYRIAC="Syrc",oa.THAANA="Thaa",oa.YI="Yiii",oa.DESERET="Dsrt",oa.GOTHIC="Goth",oa.OLD_ITALIC="Ital",oa.BUHID="Buhd",oa.HANUNOO="Hano",oa.TAGALOG="Tglg",oa.TAGBANWA="Tagb",oa.CYPRIOT="Cprt",oa.LIMBU="Limb",oa.LINEAR_B="Linb",oa.OSMANYA="Osma",oa.SHAVIAN="Shaw",oa.TAI_LE="Tale",oa.UGARITIC="Ugar",oa.BUGINESE="Bugi",oa.COPTIC="Copt",oa.GLAGOLITIC="Glag",oa.KHAROSHTHI="Khar",oa.NEW_TAI_LUE="Talu",oa.OLD_PERSIAN="Xpeo",oa.SYLOTI_NAGRI="Sylo",oa.TIFINAGH="Tfng",oa.BALINESE="Bali",oa.CUNEIFORM="Xsux",oa.NKO="Nkoo",oa.PHAGS_PA="Phag",oa.PHOENICIAN="Phnx",oa.CARIAN="Cari",oa.CHAM="Cham",oa.KAYAH_LI="Kali",oa.LEPCHA="Lepc",oa.LYCIAN="Lyci",oa.LYDIAN="Lydi",oa.OL_CHIKI="Olck",oa.REJANG="Rjng",oa.SAURASHTRA="Saur",oa.SUNDANESE="Sund",oa.VAI="Vaii",oa.AVESTAN="Avst",oa.BAMUM="Bamu",oa.EGYPTIAN_HIEROGLYPHS="Egyp",oa.IMPERIAL_ARAMAIC="Armi",oa.INSCRIPTIONAL_PAHLAVI="Phli",oa.INSCRIPTIONAL_PARTHIAN="Prti",oa.JAVANESE="Java",oa.KAITHI="Kthi",oa.LISU="Lisu",oa.MEETEI_MAYEK="Mtei",oa.OLD_SOUTH_ARABIAN="Sarb",oa.OLD_TURKIC="Orkh",oa.SAMARITAN="Samr",oa.TAI_THAM="Lana",oa.TAI_VIET="Tavt",oa.BATAK="Batk",oa.BRAHMI="Brah",oa.MANDAIC="Mand",oa.CHAKMA="Cakm",oa.MEROITIC_CURSIVE="Merc",oa.MEROITIC_HIEROGLYPHS="Mero",oa.MIAO="Plrd",oa.SHARADA="Shrd",oa.SORA_SOMPENG="Sora",oa.TAKRI="Takr",oa.BASSA_VAH="Bass",oa.CAUCASIAN_ALBANIAN="Aghb",oa.DUPLOYAN="Dupl",oa.ELBASAN="Elba",oa.GRANTHA="Gran",oa.KHOJKI="Khoj",oa.KHUDAWADI="Sind",oa.LINEAR_A="Lina",oa.MAHAJANI="Mahj",oa.MANICHAEAN="Mani",oa.MENDE_KIKAKUI="Mend",oa.MODI="Modi",oa.MRO="Mroo",oa.NABATAEAN="Nbat",oa.OLD_NORTH_ARABIAN="Narb",oa.OLD_PERMIC="Perm",oa.PAHAWH_HMONG="Hmng",oa.PALMYRENE="Palm",oa.PAU_CIN_HAU="Pauc",oa.PSALTER_PAHLAVI="Phlp",oa.SIDDHAM="Sidd",oa.TIRHUTA="Tirh",oa.WARANG_CITI="Wara",la.devices=new qe,la.onConnect=new ki,_a.LEFT_X=0,_a.LEFT_Y=1,_a.RIGHT_X=2,_a.RIGHT_Y=3,_a.TRIGGER_LEFT=4,_a.TRIGGER_RIGHT=5,ha.A=0,ha.B=1,ha.X=2,ha.Y=3,ha.BACK=4,ha.GUIDE=5,ha.START=6,ha.LEFT_STICK=7,ha.RIGHT_STICK=8,ha.LEFT_SHOULDER=9,ha.RIGHT_SHOULDER=10,ha.DPAD_UP=11,ha.DPAD_DOWN=12,ha.DPAD_LEFT=13,ha.DPAD_RIGHT=14,ca.devices=new qe,ca.onConnect=new Oi,ua.CENTER=0,ua.DOWN=4,ua.LEFT=8,ua.RIGHT=2,ua.UP=1,ua.DOWN_LEFT=12,ua.DOWN_RIGHT=6,ua.UP_LEFT=9,ua.UP_RIGHT=3,da.UNKNOWN=0,da.BACKSPACE=8,da.TAB=9,da.RETURN=13,da.ESCAPE=27,da.SPACE=32,da.EXCLAMATION=33,da.QUOTE=34,da.HASH=35,da.DOLLAR=36,da.PERCENT=37,da.AMPERSAND=38,da.SINGLE_QUOTE=39,da.LEFT_PARENTHESIS=40,da.RIGHT_PARENTHESIS=41,da.ASTERISK=42,da.PLUS=43,da.COMMA=44,da.MINUS=45,da.PERIOD=46,da.SLASH=47,da.NUMBER_0=48,da.NUMBER_1=49,da.NUMBER_2=50,da.NUMBER_3=51,da.NUMBER_4=52,da.NUMBER_5=53,da.NUMBER_6=54,da.NUMBER_7=55,da.NUMBER_8=56,da.NUMBER_9=57,da.COLON=58,da.SEMICOLON=59,da.LESS_THAN=60,da.EQUALS=61,da.GREATER_THAN=62,da.QUESTION=63,da.AT=64,da.LEFT_BRACKET=91,da.BACKSLASH=92,da.RIGHT_BRACKET=93,da.CARET=94,da.UNDERSCORE=95,da.GRAVE=96,da.A=97,da.B=98,da.C=99,da.D=100,da.E=101,da.F=102,da.G=103,da.H=104,da.I=105,da.J=106,da.K=107,da.L=108,da.M=109,da.N=110,da.O=111,da.P=112,da.Q=113,da.R=114,da.S=115,da.T=116,da.U=117,da.V=118,da.W=119,da.X=120,da.Y=121,da.Z=122,da.DELETE=127,da.CAPS_LOCK=1073741881,da.F1=1073741882,da.F2=1073741883,da.F3=1073741884,da.F4=1073741885,da.F5=1073741886,da.F6=1073741887,da.F7=1073741888,da.F8=1073741889,da.F9=1073741890,da.F10=1073741891,da.F11=1073741892,da.F12=1073741893,da.PRINT_SCREEN=1073741894,da.SCROLL_LOCK=1073741895,da.PAUSE=1073741896,da.INSERT=1073741897,da.HOME=1073741898,da.PAGE_UP=1073741899,da.END=1073741901,da.PAGE_DOWN=1073741902,da.RIGHT=1073741903,da.LEFT=1073741904,da.DOWN=1073741905,da.UP=1073741906,da.NUM_LOCK=1073741907,da.NUMPAD_DIVIDE=1073741908,da.NUMPAD_MULTIPLY=1073741909,da.NUMPAD_MINUS=1073741910,da.NUMPAD_PLUS=1073741911,da.NUMPAD_ENTER=1073741912,da.NUMPAD_1=1073741913,da.NUMPAD_2=1073741914,da.NUMPAD_3=1073741915,da.NUMPAD_4=1073741916,da.NUMPAD_5=1073741917,da.NUMPAD_6=1073741918,da.NUMPAD_7=1073741919,da.NUMPAD_8=1073741920,da.NUMPAD_9=1073741921,da.NUMPAD_0=1073741922,da.NUMPAD_PERIOD=1073741923,da.APPLICATION=1073741925,da.POWER=1073741926,da.NUMPAD_EQUALS=1073741927,da.F13=1073741928,da.F14=1073741929,da.F15=1073741930,da.F16=1073741931,da.F17=1073741932,da.F18=1073741933,da.F19=1073741934,da.F20=1073741935,da.F21=1073741936,da.F22=1073741937,da.F23=1073741938,da.F24=1073741939,da.EXECUTE=1073741940,da.HELP=1073741941,da.MENU=1073741942,da.SELECT=1073741943,da.STOP=1073741944,da.AGAIN=1073741945,da.UNDO=1073741946,da.CUT=1073741947,da.COPY=1073741948,da.PASTE=1073741949,da.FIND=1073741950,da.MUTE=1073741951,da.VOLUME_UP=1073741952,da.VOLUME_DOWN=1073741953,da.NUMPAD_COMMA=1073741957,da.ALT_ERASE=1073741977,da.SYSTEM_REQUEST=1073741978,da.CANCEL=1073741979,da.CLEAR=1073741980,da.PRIOR=1073741981,da.RETURN2=1073741982,da.SEPARATOR=1073741983,da.OUT=1073741984,da.OPER=1073741985,da.CLEAR_AGAIN=1073741986,da.CRSEL=1073741987,da.EXSEL=1073741988,da.NUMPAD_00=1073742e3,da.NUMPAD_000=1073742001,da.THOUSAND_SEPARATOR=1073742002,da.DECIMAL_SEPARATOR=1073742003,da.CURRENCY_UNIT=1073742004,da.CURRENCY_SUBUNIT=1073742005,da.NUMPAD_LEFT_PARENTHESIS=1073742006,da.NUMPAD_RIGHT_PARENTHESIS=1073742007,da.NUMPAD_LEFT_BRACE=1073742008,da.NUMPAD_RIGHT_BRACE=1073742009,da.NUMPAD_TAB=1073742010,da.NUMPAD_BACKSPACE=1073742011,da.NUMPAD_A=1073742012,da.NUMPAD_B=1073742013,da.NUMPAD_C=1073742014,da.NUMPAD_D=1073742015,da.NUMPAD_E=1073742016,da.NUMPAD_F=1073742017,da.NUMPAD_XOR=1073742018,da.NUMPAD_POWER=1073742019,da.NUMPAD_PERCENT=1073742020,da.NUMPAD_LESS_THAN=1073742021,da.NUMPAD_GREATER_THAN=1073742022,da.NUMPAD_AMPERSAND=1073742023,da.NUMPAD_DOUBLE_AMPERSAND=1073742024,da.NUMPAD_VERTICAL_BAR=1073742025,da.NUMPAD_DOUBLE_VERTICAL_BAR=1073742026,da.NUMPAD_COLON=1073742027,da.NUMPAD_HASH=1073742028,da.NUMPAD_SPACE=1073742029,da.NUMPAD_AT=1073742030,da.NUMPAD_EXCLAMATION=1073742031,da.NUMPAD_MEM_STORE=1073742032,da.NUMPAD_MEM_RECALL=1073742033,da.NUMPAD_MEM_CLEAR=1073742034,da.NUMPAD_MEM_ADD=1073742035,da.NUMPAD_MEM_SUBTRACT=1073742036,da.NUMPAD_MEM_MULTIPLY=1073742037,da.NUMPAD_MEM_DIVIDE=1073742038,da.NUMPAD_PLUS_MINUS=1073742039,da.NUMPAD_CLEAR=1073742040,da.NUMPAD_CLEAR_ENTRY=1073742041,da.NUMPAD_BINARY=1073742042,da.NUMPAD_OCTAL=1073742043,da.NUMPAD_DECIMAL=1073742044,da.NUMPAD_HEXADECIMAL=1073742045,da.LEFT_CTRL=1073742048,da.LEFT_SHIFT=1073742049,da.LEFT_ALT=1073742050,da.LEFT_META=1073742051,da.RIGHT_CTRL=1073742052,da.RIGHT_SHIFT=1073742053,da.RIGHT_ALT=1073742054,da.RIGHT_META=1073742055,da.MODE=1073742081,da.AUDIO_NEXT=1073742082,da.AUDIO_PREVIOUS=1073742083,da.AUDIO_STOP=1073742084,da.AUDIO_PLAY=1073742085,da.AUDIO_MUTE=1073742086,da.MEDIA_SELECT=1073742087,da.WWW=1073742088,da.MAIL=1073742089,da.CALCULATOR=1073742090,da.COMPUTER=1073742091,da.APP_CONTROL_SEARCH=1073742092,da.APP_CONTROL_HOME=1073742093,da.APP_CONTROL_BACK=1073742094,da.APP_CONTROL_FORWARD=1073742095,da.APP_CONTROL_STOP=1073742096,da.APP_CONTROL_REFRESH=1073742097,da.APP_CONTROL_BOOKMARKS=1073742098,da.BRIGHTNESS_DOWN=1073742099,da.BRIGHTNESS_UP=1073742100,da.DISPLAY_SWITCH=1073742101,da.BACKLIGHT_TOGGLE=1073742102,da.BACKLIGHT_DOWN=1073742103,da.BACKLIGHT_UP=1073742104,da.EJECT=1073742105,da.SLEEP=1073742106,ma.NONE=0,ma.LEFT_SHIFT=1,ma.RIGHT_SHIFT=2,ma.LEFT_CTRL=64,ma.RIGHT_CTRL=128,ma.LEFT_ALT=256,ma.RIGHT_ALT=512,ma.LEFT_META=1024,ma.RIGHT_META=2048,ma.NUM_LOCK=4096,ma.CAPS_LOCK=8192,ma.MODE=16384,ma.CTRL=192,ma.SHIFT=3,ma.ALT=768,ma.META=3072,ga.onEnd=new Vi,ga.onMove=new Vi,ga.onStart=new Vi,xa.cffi_lime_bytes_from_data_pointer=function(t){var e,i=Hn.load("lime","lime_bytes_from_data_pointer",2,!1);return e=i}(this),xa.cffi_lime_bytes_get_data_pointer=function(t){var e,i=Hn.load("lime","lime_bytes_get_data_pointer",1,!1);return e=i}(this),xa.cffi_lime_bytes_read_file=function(t){var e,i=Hn.load("lime","lime_bytes_read_file",1,!1);return e=i}(this),ba.BYTES_PER_ELEMENT=4,Ta.BYTES_PER_ELEMENT=2,Aa.BYTES_PER_ELEMENT=4,Sa.BYTES_PER_ELEMENT=2,Ca.BYTES_PER_ELEMENT=4,Ia.BYTES_PER_ELEMENT=1,Ba.cache=new Ma,Ba.dispatcher=new _,Pa.__rootURL=window.document.URL,Na.currentDomain=new Na(null),ka.__identity=new ka,ka.__temp=new ka,Va.current=new Da,Va.__sentWarnings=new Qe,ms.SIN45=.7071067811865476,ms.TAN22=.41421356237309503,vs.SIN45=.7071067811865476,vs.TAN22=.41421356237309503,vs.fillCommands=new Ya,vs.strokeCommands=new Ya,As.SIN45=.7071067811865476,As.TAN22=.41421356237309503,As.fillCommands=new Ya,As.strokeCommands=new Ya,Ns.fbData=[],Fs.glContextId=0,Fs.glContexts=[],ks.UID=0,Os.VERTEX_SRC=["attribute vec2 openfl_aPosition;","attribute vec2 openfl_aTexCoord0;","attribute vec4 openfl_aColor;","uniform mat3 openfl_uProjectionMatrix;","uniform bool openfl_uUseColorTransform;","varying vec2 openfl_vTexCoord;","varying vec4 openfl_vColor;","void main(void) {","   gl_Position = vec4((openfl_uProjectionMatrix * vec3(openfl_aPosition, 1.0)).xy, 0.0, 1.0);","   openfl_vTexCoord = openfl_aTexCoord0;","   if(openfl_uUseColorTransform)","   \topenfl_vColor = openfl_aColor;","   else","   \topenfl_vColor = vec4(openfl_aColor.rgb * openfl_aColor.a, openfl_aColor.a);","}"],Hs.__currentWinding=0,Hs.__fillIndex=0,Zs.__temp=new Zs,Qs.fillVertexAttributes=[new Js(2,5126,(!1),"openfl_aPosition")],Qs.drawTrianglesVertexAttributes=[new Js(2,5126,(!1),"openfl_aPosition"),new Js(2,5126,(!1),"openfl_aTexCoord0"),new Js(4,5121,(!0),"openfl_aColor")],Qs.primitiveVertexAttributes=[new Js(2,5126,(!1),"openfl_aPosition"),new Js(4,5126,(!1),"openfl_aColor")],Qs.graphicsDataPool=[],Qs.bucketPool=[],Qs.SIN45=.7071067811865476,Qs.TAN22=.41421356237309503,Qs.objectPosition=new Oa,Qs.objectBounds=new Zs,lr.compiledShadersCache=new Qe,_r.VERTS_PER_SPRITE=4,dr.UTF8_TAB=9,dr.UTF8_ENDLINE=10,dr.UTF8_SPACE=32,dr.UTF8_HYPHEN=45,dr.__defaultFonts=new Qe,vr.__isGLES=null,xr.ADD=0,xr.ALPHA=1,xr.DARKEN=2,xr.DIFFERENCE=3,xr.ERASE=4,xr.HARDLIGHT=5,xr.INVERT=6,xr.LAYER=7,xr.LIGHTEN=8,xr.MULTIPLY=9,xr.NORMAL=10,xr.OVERLAY=11,xr.SCREEN=12,xr.SHADER=13,xr.SUBTRACT=14,br.NONE=0,br.ROUND=1,br.SQUARE=2,Ar.LINEAR=0,Ar.RADIAL=1,Er.TILE_SCALE=1,Er.TILE_ROTATION=2,Er.TILE_RGB=4,Er.TILE_ALPHA=8,Er.TILE_TRANS_2x2=16,Er.TILE_RECT=32,Er.TILE_ORIGIN=64,Er.TILE_BLEND_NORMAL=0,Er.TILE_BLEND_ADD=65536,Er.TILE_BLEND_MULTIPLY=131072,Er.TILE_BLEND_SCREEN=262144,Er.TILE_BLEND_SUBTRACT=524288,Er.TILE_BLEND_DARKEN=1048576,Er.TILE_BLEND_LIGHTEN=2097152,Er.TILE_BLEND_OVERLAY=4194304,Er.TILE_BLEND_HARDLIGHT=8388608,Er.TILE_BLEND_DIFFERENCE=16777216,Er.TILE_BLEND_INVERT=33554432,Or.LINEAR_RGB=0,Or.RGB=1,Vr.BEVEL=0,Vr.MITER=1,Vr.ROUND=2,Gr.HORIZONTAL=0,Gr.NONE=1,Gr.NORMAL=2,Gr.VERTICAL=3,Xr.CONTEXT_LOST="glcontextlost",Xr.CONTEXT_RESTORED="glcontextrestored",Hr.ALWAYS=0,Hr.AUTO=1,Hr.NEVER=2,Kr.uniformRegex=new I("^\\s*uniform\\s+(sampler(?:2D|Cube)|[bi]?vec[234]|float|int|bool|mat[234])\\s+(\\w+)\\s*(?:\\[(\\d+)\\])?\\s*;.*$","gmi"),Kr.aPosition="openfl_aPosition",Kr.aTexCoord="openfl_aTexCoord0",Kr.aColor="openfl_aColor",Kr.uSampler="openfl_uSampler0",Kr.uProjectionMatrix="openfl_uProjectionMatrix",Kr.uColorMultiplier="openfl_uColorMultiplier",Kr.uColorOffset="openfl_uColorOffset",Kr.uObjectSize="openfl_uObjectSize",
Kr.uTextureSize="openfl_uTextureSize",Kr.vTexCoord="openfl_vTexCoord",Kr.vColor="openfl_vColor",Kr.vertexHeader=["attribute vec2 "+Kr.aPosition+";","attribute vec2 "+Kr.aTexCoord+";","attribute vec4 "+Kr.aColor+";","uniform mat3 "+Kr.uProjectionMatrix+";","uniform vec2 "+Kr.uObjectSize+";","uniform vec2 "+Kr.uTextureSize+";","varying vec2 "+Kr.vTexCoord+";","varying vec4 "+Kr.vColor+";"],Kr.fragmentHeader=["uniform sampler2D "+Kr.uSampler+";","uniform vec4 "+Kr.uColorMultiplier+";","uniform vec4 "+Kr.uColorOffset+";","uniform vec2 "+Kr.uObjectSize+";","uniform vec2 "+Kr.uTextureSize+";","varying vec2 "+Kr.vTexCoord+";","varying vec4 "+Kr.vColor+";","vec4 colorTransform(const vec4 color, const vec4 tint, const vec4 multiplier, const vec4 offset) {","   vec4 unmultiply = vec4(color.rgb / color.a, color.a);","   vec4 result = unmultiply * tint * multiplier;","   result = result + offset;","   result = clamp(result, 0., 1.);","   result = vec4(result.rgb * result.a, result.a);","   return result;","}"],Jr.PAD=0,Jr.REFLECT=1,Jr.REPEAT=2,$r.BOTTOM=0,$r.BOTTOM_LEFT=1,$r.BOTTOM_RIGHT=2,$r.LEFT=3,$r.RIGHT=4,$r.TOP=5,$r.TOP_LEFT=6,$r.TOP_RIGHT=7,to.FULL_SCREEN=0,to.FULL_SCREEN_INTERACTIVE=1,to.NORMAL=2,eo.BEST=0,eo.HIGH=1,eo.LOW=2,eo.MEDIUM=3,io.EXACT_FIT=0,io.NO_BORDER=1,io.NO_SCALE=2,io.SHOW_ALL=3,no.TILE_SCALE=1,no.TILE_ROTATION=2,no.TILE_RGB=4,no.TILE_ALPHA=8,no.TILE_TRANS_2x2=16,no.TILE_RECT=32,no.TILE_ORIGIN=64,no.TILE_TRANS_COLOR=128,no.TILE_BLEND_NORMAL=0,no.TILE_BLEND_ADD=65536,no.TILE_BLEND_MULTIPLY=131072,no.TILE_BLEND_SCREEN=262144,no.TILE_BLEND_SUBTRACT=524288,no.TILE_BLEND_DARKEN=1048576,no.TILE_BLEND_LIGHTEN=2097152,no.TILE_BLEND_OVERLAY=4194304,no.TILE_BLEND_HARDLIGHT=8388608,no.TILE_BLEND_DIFFERENCE=16777216,no.TILE_BLEND_INVERT=33554432,no.__defaultPoint=new Oa(0,0),ao.NEGATIVE=0,ao.NONE=1,ao.POSITIVE=2,ro.TEXTURE_MAX_ANISOTROPY_EXT=34046,ro.MAX_SAMPLERS=8,ro.MAX_TEXTURE_MAX_ANISOTROPY_EXT=34047,ro.anisotropySupportTested=!1,ro.supportsAnisotropy=!1,ro.maxSupportedAnisotropy=256,_o.ALL=17664,_o.COLOR=16384,_o.DEPTH=256,_o.STENCIL=1024,ho.ALWAYS=519,ho.EQUAL=514,ho.GREATER=516,ho.GREATER_EQUAL=518,ho.LESS=513,ho.LESS_EQUAL=515,ho.NEVER=512,ho.NOT_EQUAL=517,po.BACK=1028,po.FRONT=1029,po.FRONT_AND_BACK=1032,po.NONE=0,Eo.internalFormat=-1,So.DEFAULT_TO_STRING="Error",Ro.ACTIVATE="activate",Ro.ADDED="added",Ro.ADDED_TO_STAGE="addedToStage",Ro.CANCEL="cancel",Ro.CHANGE="change",Ro.CLOSE="close",Ro.COMPLETE="complete",Ro.CONNECT="connect",Ro.CONTEXT3D_CREATE="context3DCreate",Ro.DEACTIVATE="deactivate",Ro.ENTER_FRAME="enterFrame",Ro.ID3="id3",Ro.INIT="init",Ro.MOUSE_LEAVE="mouseLeave",Ro.OPEN="open",Ro.REMOVED="removed",Ro.REMOVED_FROM_STAGE="removedFromStage",Ro.RENDER="render",Ro.RESIZE="resize",Ro.SCROLL="scroll",Ro.SELECT="select",Ro.SOUND_COMPLETE="soundComplete",Ro.TAB_CHILDREN_CHANGE="tabChildrenChange",Ro.TAB_ENABLED_CHANGE="tabEnabledChange",Ro.TAB_INDEX_CHANGE="tabIndexChange",Ro.UNLOAD="unload",Do.ACTIVITY="activity",Po.LINK="link",Po.TEXT_INPUT="textInput",No.ERROR="error",ko.FOCUS_IN="focusIn",ko.FOCUS_OUT="focusOut",ko.KEY_FOCUS_CHANGE="keyFocusChange",ko.MOUSE_FOCUS_CHANGE="mouseFocusChange",Oo.FULL_SCREEN="fullScreen",Oo.FULL_SCREEN_INTERACTIVE_ACCEPTED="fullScreenInteractiveAccepted",Uo.DEVICE_ADDED="deviceAdded",Uo.DEVICE_REMOVED="deviceRemoved",Uo.DEVICE_UNUSABLE="deviceUnusable",Vo.HTTP_RESPONSE_STATUS="httpResponseStatus",Vo.HTTP_STATUS="httpStatus",Go.IO_ERROR="ioError",Wo.KEY_DOWN="keyDown",Wo.KEY_UP="keyUp",Xo.CLICK="click",Xo.DOUBLE_CLICK="doubleClick",Xo.MIDDLE_CLICK="middleClick",Xo.MIDDLE_MOUSE_DOWN="middleMouseDown",Xo.MIDDLE_MOUSE_UP="middleMouseUp",Xo.MOUSE_DOWN="mouseDown",Xo.MOUSE_MOVE="mouseMove",Xo.MOUSE_OUT="mouseOut",Xo.MOUSE_OVER="mouseOver",Xo.MOUSE_UP="mouseUp",Xo.MOUSE_WHEEL="mouseWheel",Xo.RIGHT_CLICK="rightClick",Xo.RIGHT_MOUSE_DOWN="rightMouseDown",Xo.RIGHT_MOUSE_UP="rightMouseUp",Xo.ROLL_OUT="rollOut",Xo.ROLL_OVER="rollOver",zo.NET_STATUS="netStatus",Ho.PROGRESS="progress",Ho.SOCKET_DATA="socketData",Yo.SECURITY_ERROR="securityError",Ko.TOUCH_BEGIN="touchBegin",Ko.TOUCH_END="touchEnd",Ko.TOUCH_MOVE="touchMove",Ko.TOUCH_OUT="touchOut",Ko.TOUCH_OVER="touchOver",Ko.TOUCH_ROLL_OUT="touchRollOut",Ko.TOUCH_ROLL_OVER="touchRollOver",Ko.TOUCH_TAP="touchTap",Jo.AXIS_ANGLE=0,Jo.EULER_ANGLES=1,Jo.QUATERNION=2,tl.__registeredSounds=new Qe,al.CONNECT_SUCCESS="connectSuccess",sl.defaultObjectEncoding=3,rl.FLUSHED=0,rl.PENDING=1,ll.BINARY=0,ll.TEXT=1,ll.VARIABLES=2,cl.DELETE=0,cl.GET=1,cl.HEAD=2,cl.OPTIONS=3,cl.POST=4,cl.PUT=5,ml.currentDomain=new ml,fl.ADVANCED=0,fl.NORMAL=1,pl.__registeredFonts=[],gl.BOLD=0,gl.BOLD_ITALIC=1,gl.ITALIC=2,gl.REGULAR=3,vl.DEVICE=0,vl.EMBEDDED=1,vl.EMBEDDED_CFF=2,yl.NONE=0,yl.PIXEL=1,yl.SUBPIXEL=2,bl.CENTER=0,bl.LEFT=1,bl.NONE=2,bl.RIGHT=3,wl.DYNAMIC=0,wl.INPUT=1,Al.CENTER=0,Al.END=1,Al.JUSTIFY=2,Al.LEFT=3,Al.RIGHT=4,Al.START=5,Sl.isSupported=!0,Sl.numDevices=0,Sl.__deviceList=[],Sl.__devices=new Je,Sl.__instances=[],Il.MAX_BUFFER_SIZE=32e3,Ll.NUMBER_0=48,Ll.NUMBER_1=49,Ll.NUMBER_2=50,Ll.NUMBER_3=51,Ll.NUMBER_4=52,Ll.NUMBER_5=53,Ll.NUMBER_6=54,Ll.NUMBER_7=55,Ll.NUMBER_8=56,Ll.NUMBER_9=57,Ll.A=65,Ll.B=66,Ll.C=67,Ll.D=68,Ll.E=69,Ll.F=70,Ll.G=71,Ll.H=72,Ll.I=73,Ll.J=74,Ll.K=75,Ll.L=76,Ll.M=77,Ll.N=78,Ll.O=79,Ll.P=80,Ll.Q=81,Ll.R=82,Ll.S=83,Ll.T=84,Ll.U=85,Ll.V=86,Ll.W=87,Ll.X=88,Ll.Y=89,Ll.Z=90,Ll.NUMPAD_0=96,Ll.NUMPAD_1=97,Ll.NUMPAD_2=98,Ll.NUMPAD_3=99,Ll.NUMPAD_4=100,Ll.NUMPAD_5=101,Ll.NUMPAD_6=102,Ll.NUMPAD_7=103,Ll.NUMPAD_8=104,Ll.NUMPAD_9=105,Ll.NUMPAD_MULTIPLY=106,Ll.NUMPAD_ADD=107,Ll.NUMPAD_ENTER=108,Ll.NUMPAD_SUBTRACT=109,Ll.NUMPAD_DECIMAL=110,Ll.NUMPAD_DIVIDE=111,Ll.F1=112,Ll.F2=113,Ll.F3=114,Ll.F4=115,Ll.F5=116,Ll.F6=117,Ll.F7=118,Ll.F8=119,Ll.F9=120,Ll.F10=121,Ll.F11=122,Ll.F12=123,Ll.F13=124,Ll.F14=125,Ll.F15=126,Ll.BACKSPACE=8,Ll.TAB=9,Ll.ALTERNATE=18,Ll.ENTER=13,Ll.COMMAND=15,Ll.SHIFT=16,Ll.CONTROL=17,Ll.BREAK=19,Ll.CAPS_LOCK=20,Ll.NUMPAD=21,Ll.ESCAPE=27,Ll.SPACE=32,Ll.PAGE_UP=33,Ll.PAGE_DOWN=34,Ll.END=35,Ll.HOME=36,Ll.LEFT=37,Ll.RIGHT=39,Ll.UP=38,Ll.DOWN=40,Ll.INSERT=45,Ll.DELETE=46,Ll.NUMLOCK=144,Ll.SEMICOLON=186,Ll.EQUAL=187,Ll.COMMA=188,Ll.MINUS=189,Ll.PERIOD=190,Ll.SLASH=191,Ll.BACKQUOTE=192,Ll.LEFTBRACKET=219,Ll.BACKSLASH=220,Ll.RIGHTBRACKET=221,Ll.QUOTE=222,Bl.GESTURE=0,Bl.NONE=1,Bl.TOUCH_POINT=2,Fl.DEFLATE=0,Fl.LZMA=1,Fl.ZLIB=2,kl.BIG_ENDIAN=0,kl.LITTLE_ENDIAN=1,o.main()}("undefined"!=typeof console?console:{log:function(){}},"undefined"!=typeof window?window:exports,"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this);
!function(){"use strict";function e(){try{"undefined"!=typeof AudioContext?n=new AudioContext:"undefined"!=typeof webkitAudioContext?n=new webkitAudioContext:o=!1}catch(e){o=!1}if(!o)if("undefined"!=typeof Audio)try{new Audio}catch(e){t=!0}else t=!0;try{var r=new Audio;r.muted&&(t=!0)}catch(e){}}var n=null,o=!0,t=!1;if(e(),o){var r="undefined"==typeof n.createGain?n.createGainNode():n.createGain();r.gain.value=1,r.connect(n.destination)}var i=function(){this.init()};i.prototype={init:function(){var e=this||a;return e._codecs={},e._howls=[],e._muted=!1,e._volume=1,e.mobileAutoEnable=!0,e.noAudio=t,e.usingWebAudio=o,e.ctx=n,t||e._setupCodecs(),e},volume:function(e){var n=this||a;if(e=parseFloat(e),"undefined"!=typeof e&&e>=0&&1>=e){n._volume=e,o&&(r.gain.value=e);for(var t=0;t<n._howls.length;t++)if(!n._howls[t]._webAudio)for(var i=n._howls[t]._getSoundIds(),d=0;d<i.length;d++){var u=n._howls[t]._soundById(i[d]);u&&u._node&&(u._node.volume=u._volume*e)}return n}return n._volume},mute:function(e){var n=this||a;n._muted=e,o&&(r.gain.value=e?0:n._volume);for(var t=0;t<n._howls.length;t++)if(!n._howls[t]._webAudio)for(var i=n._howls[t]._getSoundIds(),d=0;d<i.length;d++){var u=n._howls[t]._soundById(i[d]);u&&u._node&&(u._node.muted=!!e||u._muted)}return n},unload:function(){for(var e=this||a,n=e._howls.length-1;n>=0;n--)e._howls[n].unload();return e},codecs:function(e){return(this||a)._codecs[e]},_setupCodecs:function(){var e=this||a,n=new Audio,o=n.canPlayType("audio/mpeg;").replace(/^no$/,""),t=/OPR\//.test(navigator.userAgent);return e._codecs={mp3:!(t||!o&&!n.canPlayType("audio/mp3;").replace(/^no$/,"")),mpeg:!!o,opus:!!n.canPlayType('audio/ogg; codecs="opus"').replace(/^no$/,""),ogg:!!n.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),wav:!!n.canPlayType('audio/wav; codecs="1"').replace(/^no$/,""),aac:!!n.canPlayType("audio/aac;").replace(/^no$/,""),m4a:!!(n.canPlayType("audio/x-m4a;")||n.canPlayType("audio/m4a;")||n.canPlayType("audio/aac;")).replace(/^no$/,""),mp4:!!(n.canPlayType("audio/x-mp4;")||n.canPlayType("audio/mp4;")||n.canPlayType("audio/aac;")).replace(/^no$/,""),weba:!!n.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,""),webm:!!n.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")},e},_enableMobileAudio:function(){var e=this||a,o=/iPhone|iPad|iPod|Android|BlackBerry|BB10|Silk/i.test(navigator.userAgent),t=!!("ontouchend"in window||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0);if(!n||!e._mobileEnabled&&o&&t){e._mobileEnabled=!1;var r=function(){var o=n.createBuffer(1,1,22050),t=n.createBufferSource();t.buffer=o,t.connect(n.destination),"undefined"==typeof t.start?t.noteOn(0):t.start(0),t.onended=function(){e._mobileEnabled=!0,e.mobileAutoEnable=!1,document.removeEventListener("touchend",r,!0)}};return document.addEventListener("touchend",r,!0),e}}};var a=new i,d=function(e){var n=this;return e.src&&0!==e.src.length?void n.init(e):void console.error("An array of source files must be passed with any new Howl.")};d.prototype={init:function(e){var t=this;return t._autoplay=e.autoplay||!1,t._ext=e.ext||null,t._html5=e.html5||!1,t._muted=e.mute||!1,t._loop=e.loop||!1,t._pool=e.pool||5,t._preload="boolean"!=typeof e.preload||e.preload,t._rate=e.rate||1,t._sprite=e.sprite||{},t._src="string"!=typeof e.src?e.src:[e.src],t._volume=void 0!==e.volume?e.volume:1,t._duration=0,t._loaded=!1,t._sounds=[],t._endTimers={},t._onend=e.onend?[{fn:e.onend}]:[],t._onfaded=e.onfaded?[{fn:e.onfaded}]:[],t._onload=e.onload?[{fn:e.onload}]:[],t._onloaderror=e.onloaderror?[{fn:e.onloaderror}]:[],t._onpause=e.onpause?[{fn:e.onpause}]:[],t._onplay=e.onplay?[{fn:e.onplay}]:[],t._onstop=e.onstop?[{fn:e.onstop}]:[],t._webAudio=o&&!t._html5,"undefined"!=typeof n&&n&&a.mobileAutoEnable&&a._enableMobileAudio(),a._howls.push(t),t._preload&&t.load(),t},load:function(){var e=this,n=null;if(t)return void e._emit("loaderror",null,"No audio support.");"string"==typeof e._src&&(e._src=[e._src]);for(var o=0;o<e._src.length;o++){var r,i;if(e._ext&&e._ext[o]?r=e._ext[o]:(i=e._src[o],r=/^data:audio\/([^;,]+);/i.exec(i),r||(r=/\.([^.]+)$/.exec(i.split("?",1)[0])),r&&(r=r[1].toLowerCase())),a.codecs(r)){n=e._src[o];break}}return n?(e._src=n,new u(e),e._webAudio&&l(e),e):void e._emit("loaderror",null,"No codec support for selected audio sources.")},play:function(e){var o=this,t=arguments,r=null;if("number"==typeof e)r=e,e=null;else if("undefined"==typeof e){e="__default";for(var i=0,d=0;d<o._sounds.length;d++)o._sounds[d]._paused&&!o._sounds[d]._ended&&(i++,r=o._sounds[d]._id);1===i?e=null:r=null}var u=r?o._soundById(r):o._inactiveSound();if(!u)return null;if(r&&!e&&(e=u._sprite||"__default"),!o._loaded&&!o._sprite[e])return o.once("load",function(){o.play(o._soundById(u._id)?u._id:void 0)}),u._id;if(r&&!u._paused)return u._id;var _=u._seek>0?u._seek:o._sprite[e][0]/1e3,l=(o._sprite[e][0]+o._sprite[e][1])/1e3-_,s=1e3*l/Math.abs(u._rate);o._endTimers[u._id]=setTimeout(o._ended.bind(o,u),s),u._paused=!1,u._ended=!1,u._sprite=e,u._seek=_,u._start=o._sprite[e][0]/1e3,u._stop=(o._sprite[e][0]+o._sprite[e][1])/1e3,u._loop=!(!u._loop&&!o._sprite[e][2]);var f=u._node;if(o._webAudio){var c=function(){o._refreshBuffer(u);var e=u._muted||o._muted?0:u._volume*a.volume();f.gain.setValueAtTime(e,n.currentTime),u._playStart=n.currentTime,"undefined"==typeof f.bufferSource.start?u._loop?f.bufferSource.noteGrainOn(0,_,86400):f.bufferSource.noteGrainOn(0,_,l):u._loop?f.bufferSource.start(0,_,86400):f.bufferSource.start(0,_,l),o._endTimers[u._id]||(o._endTimers[u._id]=setTimeout(o._ended.bind(o,u),s)),t[1]||setTimeout(function(){o._emit("play",u._id)},0)};o._loaded?c():(o.once("load",c),o._clearTimer(u._id))}else{var p=function(){f.currentTime=_,f.muted=u._muted||o._muted||a._muted||f.muted,f.volume=u._volume*a.volume(),f.playbackRate=u._rate,setTimeout(function(){f.play(),t[1]||o._emit("play",u._id)},0)};if(4===f.readyState||!f.readyState&&navigator.isCocoonJS)p();else{var y=function(){o._endTimers[u._id]=setTimeout(o._ended.bind(o,u),s),p(),f.removeEventListener("canplaythrough",y,!1)};f.addEventListener("canplaythrough",y,!1),o._clearTimer(u._id)}}return u._id},pause:function(e){var n=this;if(!n._loaded)return n.once("play",function(){n.pause(e)}),n;for(var o=n._getSoundIds(e),t=0;t<o.length;t++){n._clearTimer(o[t]);var r=n._soundById(o[t]);if(r&&!r._paused){if(r._seek=n.seek(o[t]),r._paused=!0,n._stopFade(o[t]),n._webAudio){if(!r._node.bufferSource)return n;"undefined"==typeof r._node.bufferSource.stop?r._node.bufferSource.noteOff(0):r._node.bufferSource.stop(0),r._node.bufferSource=null}else isNaN(r._node.duration)||r._node.pause();arguments[1]||n._emit("pause",r._id)}}return n},stop:function(e){var n=this;if(!n._loaded)return"undefined"!=typeof n._sounds[0]._sprite&&n.once("play",function(){n.stop(e)}),n;for(var o=n._getSoundIds(e),t=0;t<o.length;t++){n._clearTimer(o[t]);var r=n._soundById(o[t]);if(r&&!r._paused){if(r._seek=r._start||0,r._paused=!0,r._ended=!0,n._stopFade(o[t]),n._webAudio&&r._node){if(!r._node.bufferSource)return n;"undefined"==typeof r._node.bufferSource.stop?r._node.bufferSource.noteOff(0):r._node.bufferSource.stop(0),r._node.bufferSource=null}else r._node&&!isNaN(r._node.duration)&&(r._node.pause(),r._node.currentTime=r._start||0);n._emit("stop",r._id)}}return n},mute:function(e,o){var t=this;if(!t._loaded)return t.once("play",function(){t.mute(e,o)}),t;if("undefined"==typeof o){if("boolean"!=typeof e)return t._muted;t._muted=e}for(var r=t._getSoundIds(o),i=0;i<r.length;i++){var d=t._soundById(r[i]);d&&(d._muted=e,t._webAudio&&d._node?d._node.gain.setValueAtTime(e?0:d._volume*a.volume(),n.currentTime):d._node&&(d._node.muted=!!a._muted||e))}return t},volume:function(){var e,o,t=this,r=arguments;if(0===r.length)return t._volume;if(1===r.length){var i=t._getSoundIds(),d=i.indexOf(r[0]);d>=0?o=parseInt(r[0],10):e=parseFloat(r[0])}else r.length>=2&&(e=parseFloat(r[0]),o=parseInt(r[1],10));var u;if(!("undefined"!=typeof e&&e>=0&&1>=e))return u=o?t._soundById(o):t._sounds[0],u?u._volume:0;if(!t._loaded)return t.once("play",function(){t.volume.apply(t,r)}),t;"undefined"==typeof o&&(t._volume=e),o=t._getSoundIds(o);for(var _=0;_<o.length;_++)u=t._soundById(o[_]),u&&(u._volume=e,r[2]||t._stopFade(o[_]),t._webAudio&&u._node&&!u._muted?u._node.gain.setValueAtTime(e*a.volume(),n.currentTime):u._node&&!u._muted&&(u._node.volume=e*a.volume()));return t},fade:function(e,o,t,r){var i=this;if(!i._loaded)return i.once("play",function(){i.fade(e,o,t,r)}),i;i.volume(e,r);for(var a=i._getSoundIds(r),d=0;d<a.length;d++){var u=i._soundById(a[d]);if(u)if(i._webAudio&&!u._muted){var _=n.currentTime,l=_+t/1e3;u._volume=e,u._node.gain.setValueAtTime(e,_),u._node.gain.linearRampToValueAtTime(o,l),u._timeout=setTimeout(function(e,t){delete t._timeout,setTimeout(function(){t._volume=o,i._emit("faded",e)},l-n.currentTime>0?Math.ceil(1e3*(l-n.currentTime)):0)}.bind(i,a[d],u),t)}else{var s=Math.abs(e-o),f=e>o?"out":"in",c=s/.01,p=t/c;!function(){var n=e;u._interval=setInterval(function(e,t){n+="in"===f?.01:-.01,n=Math.max(0,n),n=Math.min(1,n),n=Math.round(100*n)/100,i.volume(n,e,!0),n===o&&(clearInterval(t._interval),delete t._interval,i._emit("faded",e))}.bind(i,a[d],u),p)}()}}return i},_stopFade:function(e){var o=this,t=o._soundById(e);return t._interval?(clearInterval(t._interval),delete t._interval,o._emit("faded",e)):t._timeout&&(clearTimeout(t._timeout),delete t._timeout,t._node.gain.cancelScheduledValues(n.currentTime),o._emit("faded",e)),o},loop:function(){var e,n,o,t=this,r=arguments;if(0===r.length)return t._loop;if(1===r.length){if("boolean"!=typeof r[0])return o=t._soundById(parseInt(r[0],10)),!!o&&o._loop;e=r[0],t._loop=e}else 2===r.length&&(e=r[0],n=parseInt(r[1],10));for(var i=t._getSoundIds(n),a=0;a<i.length;a++)o=t._soundById(i[a]),o&&(o._loop=e,t._webAudio&&o._node&&o._node.bufferSource&&(o._node.bufferSource.loop=e));return t},rate:function(){var e,n,o=this,t=arguments;if(0===t.length)n=o._sounds[0]._id;else if(1===t.length){var r=o._getSoundIds(),i=r.indexOf(t[0]);i>=0?n=parseInt(t[0],10):e=parseFloat(t[0])}else 2===t.length&&(e=parseFloat(t[0]),n=parseInt(t[1],10));var a;if("number"!=typeof e)return a=o._soundById(n),a?a._rate:o._rate;if(!o._loaded)return o.once("load",function(){o.rate.apply(o,t)}),o;"undefined"==typeof n&&(o._rate=e),n=o._getSoundIds(n);for(var d=0;d<n.length;d++)if(a=o._soundById(n[d])){a._rate=e,o._webAudio&&a._node&&a._node.bufferSource?a._node.bufferSource.playbackRate.value=e:a._node&&(a._node.playbackRate=e);var u=o.seek(n[d]),_=(o._sprite[a._sprite][0]+o._sprite[a._sprite][1])/1e3-u,l=1e3*_/Math.abs(a._rate);o._clearTimer(n[d]),o._endTimers[n[d]]=setTimeout(o._ended.bind(o,a),l)}return o},seek:function(){var e,o,t=this,r=arguments;if(0===r.length)o=t._sounds[0]._id;else if(1===r.length){var i=t._getSoundIds(),a=i.indexOf(r[0]);a>=0?o=parseInt(r[0],10):(o=t._sounds[0]._id,e=parseFloat(r[0]))}else 2===r.length&&(e=parseFloat(r[0]),o=parseInt(r[1],10));if("undefined"==typeof o)return t;if(!t._loaded)return t.once("load",function(){t.seek.apply(t,r)}),t;var d=t._soundById(o);if(d){if(!(e>=0))return t._webAudio?d._seek+(t.playing(o)?n.currentTime-d._playStart:0):d._node.currentTime;var u=t.playing(o);u&&t.pause(o,!0),d._seek=e,t._clearTimer(o),u&&t.play(o,!0)}return t},playing:function(e){var n=this,o=n._soundById(e)||n._sounds[0];return!!o&&!o._paused},duration:function(){return this._duration},unload:function(){for(var e=this,n=e._sounds,o=0;o<n.length;o++){n[o]._paused||(e.stop(n[o]._id),e._emit("end",n[o]._id)),e._webAudio||(n[o]._node.src="",n[o]._node.removeEventListener("error",n[o]._errorFn,!1),n[o]._node.removeEventListener("canplaythrough",n[o]._loadFn,!1)),delete n[o]._node,e._clearTimer(n[o]._id);var t=a._howls.indexOf(e);t>=0&&a._howls.splice(t,1)}return _&&delete _[e._src],e=null,null},on:function(e,n,o,t){var r=this,i=r["_on"+e];return"function"==typeof n&&i.push(t?{id:o,fn:n,once:t}:{id:o,fn:n}),r},off:function(e,n,o){var t=this,r=t["_on"+e];if(n){for(var i=0;i<r.length;i++)if(n===r[i].fn&&o===r[i].id){r.splice(i,1);break}}else t["on"+e]=[];return t},once:function(e,n,o){var t=this;return t.on(e,n,o,1),t},_emit:function(e,n,o){for(var t=this,r=t["_on"+e],i=0;i<r.length;i++)r[i].id&&r[i].id!==n||(setTimeout(function(e){e.call(this,n,o)}.bind(t,r[i].fn),0),r[i].once&&t.off(e,r[i].fn,r[i].id));return t},_ended:function(e){var o=this,t=e._sprite,r=!(!e._loop&&!o._sprite[t][2]);if(o._emit("end",e._id),!o._webAudio&&r&&o.stop(e._id).play(e._id),o._webAudio&&r){o._emit("play",e._id),e._seek=e._start||0,e._playStart=n.currentTime;var i=1e3*(e._stop-e._start)/Math.abs(e._rate);o._endTimers[e._id]=setTimeout(o._ended.bind(o,e),i)}return o._webAudio&&!r&&(e._paused=!0,e._ended=!0,e._seek=e._start||0,o._clearTimer(e._id),e._node.bufferSource=null),o._webAudio||r||o.stop(e._id),o},_clearTimer:function(e){var n=this;return n._endTimers[e]&&(clearTimeout(n._endTimers[e]),delete n._endTimers[e]),n},_soundById:function(e){for(var n=this,o=0;o<n._sounds.length;o++)if(e===n._sounds[o]._id)return n._sounds[o];return null},_inactiveSound:function(){var e=this;e._drain();for(var n=0;n<e._sounds.length;n++)if(e._sounds[n]._ended)return e._sounds[n].reset();return new u(e)},_drain:function(){var e=this,n=e._pool,o=0,t=0;if(!(e._sounds.length<n)){for(t=0;t<e._sounds.length;t++)e._sounds[t]._ended&&o++;for(t=e._sounds.length-1;t>=0;t--){if(n>=o)return;e._sounds[t]._ended&&(e._webAudio&&e._sounds[t]._node&&e._sounds[t]._node.disconnect(0),e._sounds.splice(t,1),o--)}}},_getSoundIds:function(e){var n=this;if("undefined"==typeof e){for(var o=[],t=0;t<n._sounds.length;t++)o.push(n._sounds[t]._id);return o}return[e]},_refreshBuffer:function(e){var o=this;return e._node.bufferSource=n.createBufferSource(),e._node.bufferSource.buffer=_[o._src],e._node.bufferSource.connect(e._panner?e._panner:e._node),e._node.bufferSource.loop=e._loop,e._loop&&(e._node.bufferSource.loopStart=e._start||0,e._node.bufferSource.loopEnd=e._stop),e._node.bufferSource.playbackRate.value=o._rate,o}};var u=function(e){this._parent=e,this.init()};if(u.prototype={init:function(){var e=this,n=e._parent;return e._muted=n._muted,e._loop=n._loop,e._volume=n._volume,e._muted=n._muted,e._rate=n._rate,e._seek=0,e._paused=!0,e._ended=!0,e._id=Math.round(Date.now()*Math.random()),n._sounds.push(e),e.create(),e},create:function(){var e=this,o=e._parent,t=a._muted||e._muted||e._parent._muted?0:e._volume*a.volume();return o._webAudio?(e._node="undefined"==typeof n.createGain?n.createGainNode():n.createGain(),e._node.gain.setValueAtTime(t,n.currentTime),e._node.paused=!0,e._node.connect(r)):(e._node=new Audio,e._errorFn=e._errorListener.bind(e),e._node.addEventListener("error",e._errorFn,!1),e._loadFn=e._loadListener.bind(e),e._node.addEventListener("canplaythrough",e._loadFn,!1),e._node.src=o._src,e._node.preload="auto",e._node.volume=t,e._node.load()),e},reset:function(){var e=this,n=e._parent;return e._muted=n._muted,e._loop=n._loop,e._volume=n._volume,e._muted=n._muted,e._rate=n._rate,e._seek=0,e._paused=!0,e._ended=!0,e._sprite=null,e._id=Math.round(Date.now()*Math.random()),e},_errorListener:function(){var e=this;e._node.error&&4===e._node.error.code&&(a.noAudio=!0),e._parent._emit("loaderror",e._id,e._node.error?e._node.error.code:0),e._node.removeEventListener("error",e._errorListener,!1)},_loadListener:function(){var e=this,n=e._parent;n._duration=Math.ceil(10*e._node.duration)/10,0===Object.keys(n._sprite).length&&(n._sprite={__default:[0,1e3*n._duration]}),n._loaded||(n._loaded=!0,n._emit("load")),n._autoplay&&n.play(),e._node.removeEventListener("canplaythrough",e._loadFn,!1)}},o)var _={},l=function(e){var n=e._src;if(_[n])return e._duration=_[n].duration,void c(e);if(/^data:[^;]+;base64,/.test(n)){window.atob=window.atob||function(e){for(var n,o,t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",r=String(e).replace(/=+$/,""),i=0,a=0,d="";o=r.charAt(a++);~o&&(n=i%4?64*n+o:o,i++%4)?d+=String.fromCharCode(255&n>>(-2*i&6)):0)o=t.indexOf(o);return d};for(var o=atob(n.split(",")[1]),t=new Uint8Array(o.length),r=0;r<o.length;++r)t[r]=o.charCodeAt(r);f(t.buffer,e)}else{var i=new XMLHttpRequest;i.open("GET",n,!0),i.responseType="arraybuffer",i.onload=function(){f(i.response,e)},i.onerror=function(){e._webAudio&&(e._html5=!0,e._webAudio=!1,e._sounds=[],delete _[n],e.load())},s(i)}},s=function(e){try{e.send()}catch(n){e.onerror()}},f=function(e,o){n.decodeAudioData(e,function(e){e&&(_[o._src]=e,c(o,e))},function(){o._emit("loaderror",null,"Decoding audio data failed.")})},c=function(e,n){n&&!e._duration&&(e._duration=n.duration),0===Object.keys(e._sprite).length&&(e._sprite={__default:[0,1e3*e._duration]}),e._loaded||(e._loaded=!0,e._emit("load")),e._autoplay&&e.play()};"function"==typeof define&&define.amd&&define("howler",function(){return{Howler:a,Howl:d}}),"undefined"!=typeof exports&&(exports.Howler=a,exports.Howl=d),"undefined"!=typeof window&&(window.HowlerGlobal=i,window.Howler=a,window.Howl=d,window.Sound=u)}(),!function(){"use strict";HowlerGlobal.prototype.init=function(e){return function(){var n=this;return n._pos=[0,0,0],n._orientation=[0,0,-1,0,1,0],n._velocity=[0,0,0],n._listenerAttr={dopplerFactor:1,speedOfSound:343.3},e.call(this,o)}}(HowlerGlobal.prototype.init),HowlerGlobal.prototype.pos=function(e,n,o){var t=this;return t.ctx&&t.ctx.listener?(n="number"!=typeof n?t._pos[1]:n,o="number"!=typeof o?t._pos[2]:o,"number"!=typeof e?t._pos:(t._pos=[e,n,o],t.ctx.listener.setPosition(t._pos[0],t._pos[1],t._pos[2]),t)):t},HowlerGlobal.prototype.orientation=function(e,n,o,t,r,i){var a=this;if(!a.ctx||!a.ctx.listener)return a;var d=a._orientation;return n="number"!=typeof n?d[1]:n,o="number"!=typeof o?d[2]:o,t="number"!=typeof t?d[3]:t,r="number"!=typeof r?d[4]:r,i="number"!=typeof i?d[5]:i,"number"!=typeof e?d:(a._orientation=[e,n,o,t,r,i],a.ctx.listener.setOrientation(d[0],d[1],d[2],d[3],d[4],d[5]),a)},HowlerGlobal.prototype.velocity=function(e,n,o){var t=this;return t.ctx&&t.ctx.listener?(n="number"!=typeof n?t._velocity[1]:n,o="number"!=typeof o?t._velocity[2]:o,"number"!=typeof e?t._velocity:(t._velocity=[e,n,o],t.ctx.listener.setVelocity(t._velocity[0],t._velocity[1],t._velocity[2]),t)):t},HowlerGlobal.prototype.listenerAttr=function(e){var n=this;if(!n.ctx||!n.ctx.listener)return n;var o=n._listenerAttr;return e?(n._listenerAttr={dopplerFactor:"undefined"!=typeof e.dopplerFactor?e.dopplerFactor:o.dopplerFactor,speedOfSound:"undefined"!=typeof e.speedOfSound?e.speedOfSound:o.speedOfSound},n.ctx.listener.dopplerFactor=o.dopplerFactor,n.ctx.listener.speedOfSound=o.speedOfSound,n):o},Howl.prototype.init=function(e){return function(n){var o=this;return o._orientation=n.orientation||[1,0,0],o._pos=n.pos||null,o._velocity=n.velocity||[0,0,0],o._pannerAttr={coneInnerAngle:"undefined"!=typeof n.coneInnerAngle?n.coneInnerAngle:360,coneOUterAngle:"undefined"!=typeof n.coneOUterAngle?n.coneOUterAngle:360,coneOuterGain:"undefined"!=typeof n.coneOuterGain?n.coneOuterGain:0,distanceModel:"undefined"!=typeof n.distanceModel?n.distanceModel:"inverse",maxDistance:"undefined"!=typeof n.maxDistance?n.maxDistance:1e4,panningModel:"undefined"!=typeof n.panningModel?n.panningModel:"HRTF",refDistance:"undefined"!=typeof n.refDistance?n.refDistance:1,rolloffFactor:"undefined"!=typeof n.rolloffFactor?n.rolloffFactor:1},e.call(this,n)}}(Howl.prototype.init),Howl.prototype.pos=function(n,o,t,r){var i=this;if(!i._webAudio)return i;if(!i._loaded)return i.once("play",function(){i.pos(n,o,t,r)}),i;if(o="number"!=typeof o?0:o,t="number"!=typeof t?-.5:t,"undefined"==typeof r){if("number"!=typeof n)return i._pos;i._pos=[n,o,t]}for(var a=i._getSoundIds(r),d=0;d<a.length;d++){var u=i._soundById(a[d]);if(u){if("number"!=typeof n)return u._pos;u._pos=[n,o,t],u._node&&(u._panner||e(u),u._panner.setPosition(n,o,t))}}return i},Howl.prototype.orientation=function(n,o,t,r){var i=this;if(!i._webAudio)return i;if(!i._loaded)return i.once("play",function(){i.orientation(n,o,t,r)}),i;if(o="number"!=typeof o?i._orientation[1]:o,t="number"!=typeof t?i._orientation[1]:t,"undefined"==typeof r){if("number"!=typeof n)return i._orientation;i._orientation=[n,o,t]}for(var a=i._getSoundIds(r),d=0;d<a.length;d++){var u=i._soundById(a[d]);if(u){if("number"!=typeof n)return u._orientation;u._orientation=[n,o,t],u._node&&(u._panner||e(u),u._panner.setOrientation(n,o,t))}}return i},Howl.prototype.velocity=function(n,o,t,r){var i=this;if(!i._webAudio)return i;if(!i._loaded)return i.once("play",function(){i.velocity(n,o,t,r)}),i;if(o="number"!=typeof o?i._velocity[1]:o,t="number"!=typeof t?i._velocity[1]:t,"undefined"==typeof r){if("number"!=typeof n)return i._velocity;i._velocity=[n,o,t]}for(var a=i._getSoundIds(r),d=0;d<a.length;d++){var u=i._soundById(a[d]);if(u){if("number"!=typeof n)return u._velocity;u._velocity=[n,o,t],u._node&&(u._panner||e(u),u._panner.setVelocity(n,o,t))}}return i},Howl.prototype.pannerAttr=function(){var n,o,t,r=this,i=arguments;if(!r._webAudio)return r;if(0===i.length)return r._pannerAttr;if(1===i.length){if("object"!=typeof i[0])return t=r._soundById(parseInt(i[0],10)),t?t._pannerAttr:r._pannerAttr;n=i[0],"undefined"==typeof o&&(r._pannerAttr={coneInnerAngle:"undefined"!=typeof n.coneInnerAngle?n.coneInnerAngle:r._coneInnerAngle,coneOUterAngle:"undefined"!=typeof n.coneOUterAngle?n.coneOUterAngle:r._coneOUterAngle,coneOuterGain:"undefined"!=typeof n.coneOuterGain?n.coneOuterGain:r._coneOuterGain,distanceModel:"undefined"!=typeof n.distanceModel?n.distanceModel:r._distanceModel,maxDistance:"undefined"!=typeof n.maxDistance?n.maxDistance:r._maxDistance,panningModel:"undefined"!=typeof n.panningModel?n.panningModel:r._panningModel,refDistance:"undefined"!=typeof n.refDistance?n.refDistance:r._refDistance,rolloffFactor:"undefined"!=typeof n.rolloffFactor?n.rolloffFactor:r._rolloffFactor})}else 2===i.length&&(n=i[0],o=parseInt(i[1],10));for(var a=r._getSoundIds(o),d=0;d<a.length;d++)if(t=r._soundById(a[d])){var u=t._pannerAttr;u={coneInnerAngle:"undefined"!=typeof n.coneInnerAngle?n.coneInnerAngle:u.coneInnerAngle,coneOUterAngle:"undefined"!=typeof n.coneOUterAngle?n.coneOUterAngle:u.coneOUterAngle,coneOuterGain:"undefined"!=typeof n.coneOuterGain?n.coneOuterGain:u.coneOuterGain,distanceModel:"undefined"!=typeof n.distanceModel?n.distanceModel:u.distanceModel,maxDistance:"undefined"!=typeof n.maxDistance?n.maxDistance:u.maxDistance,panningModel:"undefined"!=typeof n.panningModel?n.panningModel:u.panningModel,refDistance:"undefined"!=typeof n.refDistance?n.refDistance:u.refDistance,rolloffFactor:"undefined"!=typeof n.rolloffFactor?n.rolloffFactor:u.rolloffFactor};var _=t._panner;_?(_.coneInnerAngle=u.coneInnerAngle,_.coneOUterAngle=u.coneOUterAngle,_.coneOuterGain=u.coneOuterGain,_.distanceModel=u.distanceModel,_.maxDistance=u.maxDistance,_.panningModel=u.panningModel,_.refDistance=u.refDistance,_.rolloffFactor=u.rolloffFactor):(t._pos||(t._pos=r._pos||[0,0,-.5]),e(t))}return r},Sound.prototype.init=function(e){return function(){var n=this,o=n._parent;n._orientation=o._orientation,n._pos=o._pos,n._velocity=o._velocity,n._pannerAttr=o._pannerAttr,e.call(this),n._pos&&o.pos(n._pos[0],n._pos[1],n._pos[2],n._id)}}(Sound.prototype.init),Sound.prototype.reset=function(e){return function(){var n=this,o=n._parent;return n._orientation=o._orientation,n._pos=o._pos,n._velocity=o._velocity,n._pannerAttr=o._pannerAttr,e.call(this)}}(Sound.prototype.reset);var e=function(e){e._panner=Howler.ctx.createPanner(),e._panner.coneInnerAngle=e._pannerAttr.coneInnerAngle,e._panner.coneOUterAngle=e._pannerAttr.coneOUterAngle,e._panner.coneOuterGain=e._pannerAttr.coneOuterGain,e._panner.distanceModel=e._pannerAttr.distanceModel,e._panner.maxDistance=e._pannerAttr.maxDistance,e._panner.panningModel=e._pannerAttr.panningModel,e._panner.refDistance=e._pannerAttr.refDistance,e._panner.rolloffFactor=e._pannerAttr.rolloffFactor,e._panner.setPosition(e._pos[0],e._pos[1],e._pos[2]),e._panner.setOrientation(e._orientation[0],e._orientation[1],e._orientation[2]),e._panner.setVelocity(e._velocity[0],e._velocity[1],e._velocity[2]),e._panner.connect(e._node),e._paused||e._parent.pause(e._id).play(e._id)}}();